import{toUint8}from"../../../base/common/uint.js";export class CharacterClassifier{constructor(t){const a=toUint8(t);this._defaultValue=a,this._asciiMap=CharacterClassifier._createAsciiMap(a),this._map=new Map}static _createAsciiMap(t){const a=new Uint8Array(256);return a.fill(t),a}set(t,a){const s=toUint8(a);t>=0&&t<256?this._asciiMap[t]=s:this._map.set(t,s)}get(t){return t>=0&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}export class CharacterSet{constructor(){this._actual=new CharacterClassifier(0)}add(t){this._actual.set(t,1)}has(t){return 1===this._actual.get(t)}clear(){return this._actual.clear()}}