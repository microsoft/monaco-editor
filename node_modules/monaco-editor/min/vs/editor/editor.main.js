/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/editor/common/core/position","vs/base/common/async","vs/base/common/errors","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/theme/common/themeService","vs/platform/commands/common/commands","vs/editor/common/languages","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/platform/actions/common/actions","vs/platform/theme/common/colorRegistry","vs/base/common/themables","vs/platform/configuration/common/configuration","vs/platform/registry/common/platform","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/base/common/color","vs/platform/keybinding/common/keybinding","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/editor/common/languages/language","vs/base/common/actions","vs/platform/notification/common/notification","vs/base/common/resources","vs/base/browser/browser","vs/base/browser/keyboardEvent","vs/base/common/objects","vs/base/common/network","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/editor/common/services/model","vs/platform/opener/common/opener","vs/base/common/iterator","vs/base/common/map","vs/platform/contextview/browser/contextView","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/stopwatch","vs/base/browser/touch","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/browser/ui/widget","vs/base/browser/ui/actionbar/actionbar","vs/platform/progress/common/progress","vs/editor/common/languages/modesRegistry","vs/base/common/htmlContent","vs/editor/browser/config/domFontInfo","vs/editor/common/core/cursorColumns","vs/base/browser/ui/scrollbar/scrollableElement","vs/platform/accessibility/common/accessibility","vs/editor/common/services/languageFeatureDebounce","vs/platform/telemetry/common/telemetry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/editor/common/viewModel","vs/base/browser/event","vs/editor/common/standaloneStrings","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/base/common/assert","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/base/common/path","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/common/theme","vs/base/common/functional","vs/base/common/severity","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/lazy","vs/base/common/mime","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/base/browser/ui/list/listWidget","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/services/editorWorker","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/contrib/codeAction/common/types","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/browser/dnd","vs/base/common/numbers","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/editor/browser/services/bulkEditService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/common/diff/linesDiffComputer","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/contrib/folding/browser/foldingRanges","vs/base/common/scrollable","vs/base/browser/ui/tree/abstractTree","vs/editor/common/config/editorZoom","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/platform/workspace/common/workspace","vs/base/common/ternarySearchTree","vs/base/common/uuid","vs/base/common/dataTransfer","vs/editor/common/core/indentation","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/common/keybindingLabels","vs/base/common/extpath","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/marshalling","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/platform/audioCues/browser/audioCueService","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/inlineCompletions/browser/inlineSuggestionHintsWidget","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/snippet/browser/snippetController2","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/cache","vs/base/common/symbols","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/common/ime","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/markdownRenderer","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/browser/widget/diffNavigator","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/dnd","vs/editor/browser/services/editorWorkerService","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/collections","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineSuggestionHintsWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/joinSequenceDiffs","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/smartLinesDiffComputer","vs/editor/common/diff/standardLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/button/button","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/quickinput/browser/quickInputBox","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/codeEditorContributions","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/tokenizationRegistry","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/codeActionUi","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteController","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineSuggestionHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/dnd/browser/dnd","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/copyPaste/browser/copyPasteController","vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],te=function(K){for(var e=[],w=0,N=K.length;w<N;w++)e[w]=ee[K[w]];return e};define(ee[849],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function w(v,C,d,g){if(g=g||{},(g["vs/css"]||{}).disabled){d({});return}const t=C.toUrl(v+".css");N(v,t,()=>{d({})},n=>{typeof d.error=="function"&&d.error("Could not find "+t+".")})}e.load=w;function N(v,C,d,g){if(E(v,C)){d();return}D(v,C,d,g)}function E(v,C){const d=document.getElementsByTagName("link");for(let g=0,i=d.length;g<i;g++){const t=d[g].getAttribute("data-name"),n=d[g].getAttribute("href");if(t===v||n===C)return!0}return!1}function D(v,C,d,g){const i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",v),y(v,i,d,g),i.setAttribute("href",C),(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}function y(v,C,d,g){const i=()=>{C.removeEventListener("load",t),C.removeEventListener("error",n)},t=a=>{i(),d()},n=a=>{i(),g(a)};C.addEventListener("load",t),C.addEventListener("error",n)}});var Le=this&&this.__awaiter||function(K,e,w,N){function E(D){return D instanceof w?D:new w(function(y){y(D)})}return new(w||(w=Promise))(function(D,y){function v(g){try{d(N.next(g))}catch(i){y(i)}}function C(g){try{d(N.throw(g))}catch(i){y(i)}}function d(g){g.done?D(g.value):E(g.value).then(v,C)}d((N=N.apply(K,e||[])).next())})};define(ee[4],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let w=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const N="i-default";function E(a,r){let c;return r.length===0?c=a:c=a.replace(/\{(\d+)\}/g,(u,s)=>{const l=s[0],o=r[l];let h=u;return typeof o=="string"?h=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(h=String(o)),h}),w&&(c="\uFF3B"+c.replace(/[aouei]/g,"$&$&")+"\uFF3D"),c}function D(a,r){let c=a[r];return c||(c=a["*"],c)?c:null}function y(a){return a.charAt(a.length-1)==="/"?a:a+"/"}function v(a,r,c){return Le(this,void 0,void 0,function*(){const u=y(a)+y(r)+"vscode/"+y(c),s=yield fetch(u);if(s.ok)return yield s.json();throw new Error(`${s.status} - ${s.statusText}`)})}function C(a){return function(r,c){const u=Array.prototype.slice.call(arguments,2);return E(a[r],u)}}function d(a,r,...c){return E(r,c)}e.localize=d;function g(a){}e.getConfiguredDefaultLocale=g;function i(a){w=a}e.setPseudoTranslation=i;function t(a,r){var c;return{localize:C(r[a]),getConfiguredDefaultLocale:(c=r.getConfiguredDefaultLocale)!==null&&c!==void 0?c:u=>{}}}e.create=t;function n(a,r,c,u){var s;const l=(s=u["vs/nls"])!==null&&s!==void 0?s:{};if(!a||a.length===0)return c({localize:d,getConfiguredDefaultLocale:()=>{var p;return(p=l.availableLanguages)===null||p===void 0?void 0:p["*"]}});const o=l.availableLanguages?D(l.availableLanguages,a):null,h=o===null||o===N;let f=".nls";h||(f=f+"."+o);const S=p=>{Array.isArray(p)?p.localize=C(p):p.localize=C(p[a]),p.getConfiguredDefaultLocale=()=>{var m;return(m=l.availableLanguages)===null||m===void 0?void 0:m["*"]},c(p)};typeof l.loadBundle=="function"?l.loadBundle(a,o,(p,m)=>{p?r([a+".nls"],S):S(m)}):l.translationServiceUrl&&!h?Le(this,void 0,void 0,function*(){var p;try{const m=yield v(l.translationServiceUrl,o,a);return S(m)}catch(m){if(!o.includes("-"))return console.error(m),r([a+".nls"],S);try{const b=o.split("-")[0],L=yield v(l.translationServiceUrl,b,a);return(p=l.availableLanguages)!==null&&p!==void 0||(l.availableLanguages={}),l.availableLanguages["*"]=b,S(L)}catch(b){return console.error(b),r([a+".nls"],S)}}}):r([a+f],S,p=>{if(f===".nls"){console.error("Failed trying to load default language strings",p);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,p),r([a+".nls"],S)})}e.load=n});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function ln(K){if(Array.isArray(K)){for(var e=0,w=Array(K.length);e<K.length;e++)w[e]=K[e];return w}else return Array.from(K)}var cn=Object.hasOwnProperty,Si=Object.setPrototypeOf,un=Object.isFrozen,hn=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,ft=Object.freeze,St=Object.seal,fn=Object.create,Li=typeof Reflect<"u"&&Reflect,Vt=Li.apply,Jt=Li.construct;Vt||(Vt=function(e,w,N){return e.apply(w,N)}),ft||(ft=function(e){return e}),St||(St=function(e){return e}),Jt||(Jt=function(e,w){return new(Function.prototype.bind.apply(e,[null].concat(ln(w))))});var gn=mt(Array.prototype.forEach),yi=mt(Array.prototype.pop),Ot=mt(Array.prototype.push),It=mt(String.prototype.toLowerCase),Ei=mt(String.prototype.match),kt=mt(String.prototype.replace),mn=mt(String.prototype.indexOf),pn=mt(String.prototype.trim),Lt=mt(RegExp.prototype.test),ki=bn(TypeError);function mt(K){return function(e){for(var w=arguments.length,N=Array(w>1?w-1:0),E=1;E<w;E++)N[E-1]=arguments[E];return Vt(K,e,N)}}function bn(K){return function(){for(var e=arguments.length,w=Array(e),N=0;N<e;N++)w[N]=arguments[N];return Jt(K,w)}}function _e(K,e){Si&&Si(K,null);for(var w=e.length;w--;){var N=e[w];if(typeof N=="string"){var E=It(N);E!==N&&(un(e)||(e[w]=E),N=E)}K[N]=!0}return K}function Dt(K){var e=fn(null),w=void 0;for(w in K)Vt(cn,K,[w])&&(e[w]=K[w]);return e}function Ht(K,e){for(;K!==null;){var w=dn(K,e);if(w){if(w.get)return mt(w.get);if(typeof w.value=="function")return mt(w.value)}K=hn(K)}function N(E){return console.warn("fallback value for",E),null}return N}var Ii=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_t=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ei=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vn=ft(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ti=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Cn=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Di=ft(["#text"]),Ni=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ii=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ti=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qt=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wn=St(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Sn=St(/<%[\s\S]*|[\s\S]*%>/gm),Ln=St(/^data-[\-\w.\u00B7-\uFFFF]/),yn=St(/^aria-[\-\w]+$/),En=St(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kn=St(/^(?:\w+script|data):/i),In=St(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K};function vt(K){if(Array.isArray(K)){for(var e=0,w=Array(K.length);e<K.length;e++)w[e]=K[e];return w}else return Array.from(K)}var Dn=function(){return typeof window>"u"?null:window},Nn=function(e,w){if((typeof e>"u"?"undefined":Rt(e))!=="object"||typeof e.createPolicy!="function")return null;var N=null,E="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(E)&&(N=w.currentScript.getAttribute(E));var D="dompurify"+(N?"#"+N:"");try{return e.createPolicy(D,{createHTML:function(v){return v}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Ai(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dn(),e=function(Ne){return Ai(Ne)};if(e.version="2.3.1",e.removed=[],!K||!K.document||K.document.nodeType!==9)return e.isSupported=!1,e;var w=K.document,N=K.document,E=K.DocumentFragment,D=K.HTMLTemplateElement,y=K.Node,v=K.Element,C=K.NodeFilter,d=K.NamedNodeMap,g=d===void 0?K.NamedNodeMap||K.MozNamedAttrMap:d,i=K.Text,t=K.Comment,n=K.DOMParser,a=K.trustedTypes,r=v.prototype,c=Ht(r,"cloneNode"),u=Ht(r,"nextSibling"),s=Ht(r,"childNodes"),l=Ht(r,"parentNode");if(typeof D=="function"){var o=N.createElement("template");o.content&&o.content.ownerDocument&&(N=o.content.ownerDocument)}var h=Nn(a,w),f=h&&G?h.createHTML(""):"",S=N,p=S.implementation,m=S.createNodeIterator,b=S.createDocumentFragment,L=S.getElementsByTagName,k=w.importNode,I={};try{I=Dt(N).documentMode?N.documentMode:{}}catch{}var M={};e.isSupported=typeof l=="function"&&p&&typeof p.createHTMLDocument<"u"&&I!==9;var B=wn,z=Sn,P=Ln,A=yn,T=kn,O=In,F=En,W=null,V=_e({},[].concat(vt(Ii),vt(_t),vt(ei),vt(ti),vt(Di))),R=null,$=_e({},[].concat(vt(Ni),vt(ii),vt(Ti),vt(qt))),X=null,ne=null,ae=!0,ie=!0,le=!1,J=!1,x=!1,q=!1,Y=!1,Q=!1,re=!1,oe=!0,G=!1,Z=!0,U=!0,j=!1,H={},_=null,ce=_e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,se=_e({},["audio","video","img","source","image","track"]),he=null,me=_e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Se="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml",Te=ke,Pe=!1,Ie=null,ve=N.createElement("form"),ge=function(Ne){Ie&&Ie===Ne||((!Ne||(typeof Ne>"u"?"undefined":Rt(Ne))!=="object")&&(Ne={}),Ne=Dt(Ne),W="ALLOWED_TAGS"in Ne?_e({},Ne.ALLOWED_TAGS):V,R="ALLOWED_ATTR"in Ne?_e({},Ne.ALLOWED_ATTR):$,he="ADD_URI_SAFE_ATTR"in Ne?_e(Dt(me),Ne.ADD_URI_SAFE_ATTR):me,ue="ADD_DATA_URI_TAGS"in Ne?_e(Dt(se),Ne.ADD_DATA_URI_TAGS):se,_="FORBID_CONTENTS"in Ne?_e({},Ne.FORBID_CONTENTS):ce,X="FORBID_TAGS"in Ne?_e({},Ne.FORBID_TAGS):{},ne="FORBID_ATTR"in Ne?_e({},Ne.FORBID_ATTR):{},H="USE_PROFILES"in Ne?Ne.USE_PROFILES:!1,ae=Ne.ALLOW_ARIA_ATTR!==!1,ie=Ne.ALLOW_DATA_ATTR!==!1,le=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,J=Ne.SAFE_FOR_TEMPLATES||!1,x=Ne.WHOLE_DOCUMENT||!1,Q=Ne.RETURN_DOM||!1,re=Ne.RETURN_DOM_FRAGMENT||!1,oe=Ne.RETURN_DOM_IMPORT!==!1,G=Ne.RETURN_TRUSTED_TYPE||!1,Y=Ne.FORCE_BODY||!1,Z=Ne.SANITIZE_DOM!==!1,U=Ne.KEEP_CONTENT!==!1,j=Ne.IN_PLACE||!1,F=Ne.ALLOWED_URI_REGEXP||F,Te=Ne.NAMESPACE||ke,J&&(ie=!1),re&&(Q=!0),H&&(W=_e({},[].concat(vt(Di))),R=[],H.html===!0&&(_e(W,Ii),_e(R,Ni)),H.svg===!0&&(_e(W,_t),_e(R,ii),_e(R,qt)),H.svgFilters===!0&&(_e(W,ei),_e(R,ii),_e(R,qt)),H.mathMl===!0&&(_e(W,ti),_e(R,Ti),_e(R,qt))),Ne.ADD_TAGS&&(W===V&&(W=Dt(W)),_e(W,Ne.ADD_TAGS)),Ne.ADD_ATTR&&(R===$&&(R=Dt(R)),_e(R,Ne.ADD_ATTR)),Ne.ADD_URI_SAFE_ATTR&&_e(he,Ne.ADD_URI_SAFE_ATTR),Ne.FORBID_CONTENTS&&(_===ce&&(_=Dt(_)),_e(_,Ne.FORBID_CONTENTS)),U&&(W["#text"]=!0),x&&_e(W,["html","head","body"]),W.table&&(_e(W,["tbody"]),delete X.tbody),ft&&ft(Ne),Ie=Ne)},we=_e({},["mi","mo","mn","ms","mtext"]),de=_e({},["foreignobject","desc","title","annotation-xml"]),pe=_e({},_t);_e(pe,ei),_e(pe,vn);var be=_e({},ti);_e(be,Cn);var Ce=function(Ne){var Be=l(Ne);(!Be||!Be.tagName)&&(Be={namespaceURI:ke,tagName:"template"});var xe=It(Ne.tagName),Ge=It(Be.tagName);if(Ne.namespaceURI===ye)return Be.namespaceURI===ke?xe==="svg":Be.namespaceURI===Se?xe==="svg"&&(Ge==="annotation-xml"||we[Ge]):Boolean(pe[xe]);if(Ne.namespaceURI===Se)return Be.namespaceURI===ke?xe==="math":Be.namespaceURI===ye?xe==="math"&&de[Ge]:Boolean(be[xe]);if(Ne.namespaceURI===ke){if(Be.namespaceURI===ye&&!de[Ge]||Be.namespaceURI===Se&&!we[Ge])return!1;var je=_e({},["title","style","font","a","script"]);return!be[xe]&&(je[xe]||!pe[xe])}return!1},Ee=function(Ne){Ot(e.removed,{element:Ne});try{Ne.parentNode.removeChild(Ne)}catch{try{Ne.outerHTML=f}catch{Ne.remove()}}},Ae=function(Ne,Be){try{Ot(e.removed,{attribute:Be.getAttributeNode(Ne),from:Be})}catch{Ot(e.removed,{attribute:null,from:Be})}if(Be.removeAttribute(Ne),Ne==="is"&&!R[Ne])if(Q||re)try{Ee(Be)}catch{}else try{Be.setAttribute(Ne,"")}catch{}},Me=function(Ne){var Be=void 0,xe=void 0;if(Y)Ne="<remove></remove>"+Ne;else{var Ge=Ei(Ne,/^[\r\n\t ]+/);xe=Ge&&Ge[0]}var je=h?h.createHTML(Ne):Ne;if(Te===ke)try{Be=new n().parseFromString(je,"text/html")}catch{}if(!Be||!Be.documentElement){Be=p.createDocument(Te,"template",null);try{Be.documentElement.innerHTML=Pe?"":je}catch{}}var et=Be.body||Be.documentElement;return Ne&&xe&&et.insertBefore(N.createTextNode(xe),et.childNodes[0]||null),Te===ke?L.call(Be,x?"html":"body")[0]:x?Be.documentElement:et},Re=function(Ne){return m.call(Ne.ownerDocument||Ne,Ne,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},ze=function(Ne){return Ne instanceof i||Ne instanceof t?!1:typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof g)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function"},Fe=function(Ne){return(typeof y>"u"?"undefined":Rt(y))==="object"?Ne instanceof y:Ne&&(typeof Ne>"u"?"undefined":Rt(Ne))==="object"&&typeof Ne.nodeType=="number"&&typeof Ne.nodeName=="string"},Ve=function(Ne,Be,xe){!M[Ne]||gn(M[Ne],function(Ge){Ge.call(e,Be,xe,Ie)})},Ue=function(Ne){var Be=void 0;if(Ve("beforeSanitizeElements",Ne,null),ze(Ne)||Ei(Ne.nodeName,/[\u0080-\uFFFF]/))return Ee(Ne),!0;var xe=It(Ne.nodeName);if(Ve("uponSanitizeElement",Ne,{tagName:xe,allowedTags:W}),!Fe(Ne.firstElementChild)&&(!Fe(Ne.content)||!Fe(Ne.content.firstElementChild))&&Lt(/<[/\w]/g,Ne.innerHTML)&&Lt(/<[/\w]/g,Ne.textContent)||xe==="select"&&Lt(/<template/i,Ne.innerHTML))return Ee(Ne),!0;if(!W[xe]||X[xe]){if(U&&!_[xe]){var Ge=l(Ne)||Ne.parentNode,je=s(Ne)||Ne.childNodes;if(je&&Ge)for(var et=je.length,Qe=et-1;Qe>=0;--Qe)Ge.insertBefore(c(je[Qe],!0),u(Ne))}return Ee(Ne),!0}return Ne instanceof v&&!Ce(Ne)||(xe==="noscript"||xe==="noembed")&&Lt(/<\/no(script|embed)/i,Ne.innerHTML)?(Ee(Ne),!0):(J&&Ne.nodeType===3&&(Be=Ne.textContent,Be=kt(Be,B," "),Be=kt(Be,z," "),Ne.textContent!==Be&&(Ot(e.removed,{element:Ne.cloneNode()}),Ne.textContent=Be)),Ve("afterSanitizeElements",Ne,null),!1)},Je=function(Ne,Be,xe){if(Z&&(Be==="id"||Be==="name")&&(xe in N||xe in ve))return!1;if(!(ie&&!ne[Be]&&Lt(P,Be))){if(!(ae&&Lt(A,Be))){if(!R[Be]||ne[Be])return!1;if(!he[Be]){if(!Lt(F,kt(xe,O,""))){if(!((Be==="src"||Be==="xlink:href"||Be==="href")&&Ne!=="script"&&mn(xe,"data:")===0&&ue[Ne])){if(!(le&&!Lt(T,kt(xe,O,"")))){if(xe)return!1}}}}}}return!0},it=function(Ne){var Be=void 0,xe=void 0,Ge=void 0,je=void 0;Ve("beforeSanitizeAttributes",Ne,null);var et=Ne.attributes;if(!!et){var Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R};for(je=et.length;je--;){Be=et[je];var nt=Be,st=nt.name,$e=nt.namespaceURI;if(xe=pn(Be.value),Ge=It(st),Qe.attrName=Ge,Qe.attrValue=xe,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,Ve("uponSanitizeAttribute",Ne,Qe),xe=Qe.attrValue,!Qe.forceKeepAttr&&(Ae(st,Ne),!!Qe.keepAttr)){if(Lt(/\/>/i,xe)){Ae(st,Ne);continue}J&&(xe=kt(xe,B," "),xe=kt(xe,z," "));var ot=Ne.nodeName.toLowerCase();if(!!Je(ot,Ge,xe))try{$e?Ne.setAttributeNS($e,st,xe):Ne.setAttribute(st,xe),yi(e.removed)}catch{}}}Ve("afterSanitizeAttributes",Ne,null)}},rt=function He(Ne){var Be=void 0,xe=Re(Ne);for(Ve("beforeSanitizeShadowDOM",Ne,null);Be=xe.nextNode();)Ve("uponSanitizeShadowNode",Be,null),!Ue(Be)&&(Be.content instanceof E&&He(Be.content),it(Be));Ve("afterSanitizeShadowDOM",Ne,null)};return e.sanitize=function(He,Ne){var Be=void 0,xe=void 0,Ge=void 0,je=void 0,et=void 0;if(Pe=!He,Pe&&(He="<!-->"),typeof He!="string"&&!Fe(He)){if(typeof He.toString!="function")throw ki("toString is not a function");if(He=He.toString(),typeof He!="string")throw ki("dirty is not a string, aborting")}if(!e.isSupported){if(Rt(K.toStaticHTML)==="object"||typeof K.toStaticHTML=="function"){if(typeof He=="string")return K.toStaticHTML(He);if(Fe(He))return K.toStaticHTML(He.outerHTML)}return He}if(q||ge(Ne),e.removed=[],typeof He=="string"&&(j=!1),!j)if(He instanceof y)Be=Me("<!---->"),xe=Be.ownerDocument.importNode(He,!0),xe.nodeType===1&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?Be=xe:Be.appendChild(xe);else{if(!Q&&!J&&!x&&He.indexOf("<")===-1)return h&&G?h.createHTML(He):He;if(Be=Me(He),!Be)return Q?null:f}Be&&Y&&Ee(Be.firstChild);for(var Qe=Re(j?He:Be);Ge=Qe.nextNode();)Ge.nodeType===3&&Ge===je||Ue(Ge)||(Ge.content instanceof E&&rt(Ge.content),it(Ge),je=Ge);if(je=null,j)return He;if(Q){if(re)for(et=b.call(Be.ownerDocument);Be.firstChild;)et.appendChild(Be.firstChild);else et=Be;return oe&&(et=k.call(w,et,!0)),et}var nt=x?Be.outerHTML:Be.innerHTML;return J&&(nt=kt(nt,B," "),nt=kt(nt,z," ")),h&&G?h.createHTML(nt):nt},e.setConfig=function(He){ge(He),q=!0},e.clearConfig=function(){Ie=null,q=!1},e.isValidAttribute=function(He,Ne,Be){Ie||ge({});var xe=It(He),Ge=It(Ne);return Je(xe,Ge,Be)},e.addHook=function(He,Ne){typeof Ne=="function"&&(M[He]=M[He]||[],Ot(M[He],Ne))},e.removeHook=function(He){M[He]&&yi(M[He])},e.removeHooks=function(He){M[He]&&(M[He]=[])},e.removeAllHooks=function(){M={}},e}var Tn=Ai();define("vs/base/browser/dompurify/dompurify",function(){return Tn}),define(ee[35],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class w{constructor(y){this.domNode=y,this.a="",this.b="",this.c="",this.d="",this.e="",this.f="",this.g="",this.h="",this.i="",this.j="",this.k="",this.l="",this.m="",this.n="",this.o="",this.p="",this.q="",this.r="",this.s="",this.t="",this.u="",this.v="",this.w="",this.x=!1,this.y="none",this.z=""}setMaxWidth(y){const v=N(y);this.a!==v&&(this.a=v,this.domNode.style.maxWidth=this.a)}setWidth(y){const v=N(y);this.b!==v&&(this.b=v,this.domNode.style.width=this.b)}setHeight(y){const v=N(y);this.c!==v&&(this.c=v,this.domNode.style.height=this.c)}setTop(y){const v=N(y);this.d!==v&&(this.d=v,this.domNode.style.top=this.d)}setLeft(y){const v=N(y);this.e!==v&&(this.e=v,this.domNode.style.left=this.e)}setBottom(y){const v=N(y);this.f!==v&&(this.f=v,this.domNode.style.bottom=this.f)}setRight(y){const v=N(y);this.g!==v&&(this.g=v,this.domNode.style.right=this.g)}setPaddingLeft(y){const v=N(y);this.h!==v&&(this.h=v,this.domNode.style.paddingLeft=this.h)}setFontFamily(y){this.i!==y&&(this.i=y,this.domNode.style.fontFamily=this.i)}setFontWeight(y){this.j!==y&&(this.j=y,this.domNode.style.fontWeight=this.j)}setFontSize(y){const v=N(y);this.k!==v&&(this.k=v,this.domNode.style.fontSize=this.k)}setFontStyle(y){this.l!==y&&(this.l=y,this.domNode.style.fontStyle=this.l)}setFontFeatureSettings(y){this.m!==y&&(this.m=y,this.domNode.style.fontFeatureSettings=this.m)}setFontVariationSettings(y){this.n!==y&&(this.n=y,this.domNode.style.fontVariationSettings=this.n)}setTextDecoration(y){this.o!==y&&(this.o=y,this.domNode.style.textDecoration=this.o)}setLineHeight(y){const v=N(y);this.p!==v&&(this.p=v,this.domNode.style.lineHeight=this.p)}setLetterSpacing(y){const v=N(y);this.q!==v&&(this.q=v,this.domNode.style.letterSpacing=this.q)}setClassName(y){this.r!==y&&(this.r=y,this.domNode.className=this.r)}toggleClassName(y,v){this.domNode.classList.toggle(y,v),this.r=this.domNode.className}setDisplay(y){this.s!==y&&(this.s=y,this.domNode.style.display=this.s)}setPosition(y){this.t!==y&&(this.t=y,this.domNode.style.position=this.t)}setVisibility(y){this.u!==y&&(this.u=y,this.domNode.style.visibility=this.u)}setColor(y){this.v!==y&&(this.v=y,this.domNode.style.color=this.v)}setBackgroundColor(y){this.w!==y&&(this.w=y,this.domNode.style.backgroundColor=this.w)}setLayerHinting(y){this.x!==y&&(this.x=y,this.domNode.style.transform=this.x?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this.z!==y&&(this.z=y,this.domNode.style.boxShadow=y)}setContain(y){this.y!==y&&(this.y=y,this.domNode.style.contain=this.y)}setAttribute(y,v){this.domNode.setAttribute(y,v)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=w;function N(D){return typeof D=="number"?`${D}px`:D}function E(D){return new w(D)}e.createFastDomNode=E}),define(ee[338],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let w=!1,N=null;function E(y){if(!y.parent||y.parent===y)return null;try{const v=y.location,C=y.parent.location;if(v.origin!=="null"&&C.origin!=="null"&&v.origin!==C.origin)return w=!0,null}catch{return w=!0,null}return y.parent}class D{static getSameOriginWindowChain(){if(!N){N=[];let v=window,C;do C=E(v),C?N.push({window:v,iframeElement:v.frameElement||null}):N.push({window:v,iframeElement:null}),v=C;while(v)}return N.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(v,C){if(!C||v===C)return{top:0,left:0};let d=0,g=0;const i=this.getSameOriginWindowChain();for(const t of i){if(d+=t.window.scrollY,g+=t.window.scrollX,t.window===C||!t.iframeElement)break;const n=t.iframeElement.getBoundingClientRect();d+=n.top,g+=n.left}return{top:d,left:g}}}e.IframeUtils=D}),define(ee[234],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var w;(function(N){const E={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},E),y=Object.assign({},E),v=Object.assign({},E);let C=0;const d={keydown:0,input:0,render:0};function g(){o(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),d.keydown=1,queueMicrotask(i)}N.onKeyDown=g;function i(){d.keydown===1&&(performance.mark("keydown/end"),d.keydown=2)}function t(){performance.mark("input/start"),d.input=1,l()}N.onBeforeInput=t;function n(){d.input===0&&t(),queueMicrotask(a)}N.onInput=n;function a(){d.input===1&&(performance.mark("input/end"),d.input=2)}function r(){o()}N.onKeyUp=r;function c(){o()}N.onSelectionChange=c;function u(){d.keydown===2&&d.input===2&&d.render===0&&(performance.mark("render/start"),d.render=1,queueMicrotask(s),l())}N.onRenderStart=u;function s(){d.render===1&&(performance.mark("render/end"),d.render=2)}function l(){setTimeout(o)}function o(){d.keydown===2&&d.input===2&&d.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),h("keydown",E),h("input",D),h("render",y),h("inputlatency",v),C++,f())}function h(b,L){const k=performance.getEntriesByName(b)[0].duration;L.total+=k,L.min=Math.min(L.min,k),L.max=Math.max(L.max,k)}function f(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),d.keydown=0,d.input=0,d.render=0}function S(){if(C===0)return;const b={keydown:p(E),input:p(D),render:p(y),total:p(v),sampleCount:C};return m(E),m(D),m(y),m(v),C=0,b}N.getAndClearMeasurements=S;function p(b){return{average:b.total/C,max:b.max,min:b.min}}function m(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(w=e.inputLatency||(e.inputLatency={}))}),define(ee[339],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class w extends Error{constructor(E,D){super(`ListError [${E}] ${D}`)}}e.ListError=w}),define(ee[340],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class w{constructor(E){this.a=E}splice(E,D,y){this.a.forEach(v=>v.splice(E,D,y))}}e.CombinedSpliceable=w}),define(ee[235],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const w=20;class N{constructor(D,y,v,C,d,g){this.a=Math.round(y),this.b=Math.round(v),this.c=Math.round(D),this.d=C,this.e=d,this.f=g,this.g=0,this.h=!1,this.i=0,this.j=0,this.k=0,this.m()}clone(){return new N(this.c,this.a,this.b,this.d,this.e,this.f)}setVisibleSize(D){const y=Math.round(D);return this.d!==y?(this.d=y,this.m(),!0):!1}setScrollSize(D){const y=Math.round(D);return this.e!==y?(this.e=y,this.m(),!0):!1}setScrollPosition(D){const y=Math.round(D);return this.f!==y?(this.f=y,this.m(),!0):!1}setScrollbarSize(D){this.a=Math.round(D)}setOppositeScrollbarSize(D){this.b=Math.round(D)}static l(D,y,v,C,d){const g=Math.max(0,v-D),i=Math.max(0,g-2*y),t=C>0&&C>v;if(!t)return{computedAvailableSize:Math.round(g),computedIsNeeded:t,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(w,Math.floor(v*i/C))),a=(i-n)/(C-v),r=d*a;return{computedAvailableSize:Math.round(g),computedIsNeeded:t,computedSliderSize:Math.round(n),computedSliderRatio:a,computedSliderPosition:Math.round(r)}}m(){const D=N.l(this.b,this.c,this.d,this.e,this.f);this.g=D.computedAvailableSize,this.h=D.computedIsNeeded,this.i=D.computedSliderSize,this.j=D.computedSliderRatio,this.k=D.computedSliderPosition}getArrowSize(){return this.c}getScrollPosition(){return this.f}getRectangleLargeSize(){return this.g}getRectangleSmallSize(){return this.a}isNeeded(){return this.h}getSliderSize(){return this.i}getSliderPosition(){return this.k}getDesiredScrollPositionFromOffset(D){if(!this.h)return 0;const y=D-this.c-this.i/2;return Math.round(y/this.j)}getDesiredScrollPositionFromOffsetPaged(D){if(!this.h)return 0;const y=D-this.c;let v=this.f;return y<this.k?v-=this.d:v+=this.d,v}getDesiredScrollPositionFromDelta(D){if(!this.h)return 0;const y=this.k+D;return Math.round(y/this.j)}}e.ScrollbarState=N}),define(ee[125],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var w;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element",D[D.Filter=3]="Filter"})(w=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class N extends Error{constructor(y,v){super(`TreeError [${y}] ${v}`)}}e.TreeError=N;class E{constructor(y){this.a=y,this.b=new WeakMap}map(y){let v=this.b.get(y);return v||(v=this.a(y),this.b.set(y,v)),v}}e.WeakMapper=E}),define(ee[17],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function w(O,F=0){return O[O.length-(1+F)]}e.tail=w;function N(O){if(O.length===0)throw new Error("Invalid tail call");return[O.slice(0,O.length-1),O[O.length-1]]}e.tail2=N;function E(O,F,W=(V,R)=>V===R){if(O===F)return!0;if(!O||!F||O.length!==F.length)return!1;for(let V=0,R=O.length;V<R;V++)if(!W(O[V],F[V]))return!1;return!0}e.equals=E;function D(O,F){const W=O.length-1;F<W&&(O[F]=O[W]),O.pop()}e.removeFastWithoutKeepingOrder=D;function y(O,F,W){return v(O.length,V=>W(O[V],F))}e.binarySearch=y;function v(O,F){let W=0,V=O-1;for(;W<=V;){const R=(W+V)/2|0,$=F(R);if($<0)W=R+1;else if($>0)V=R-1;else return R}return-(W+1)}e.binarySearch2=v;function C(O,F){let W=0,V=O.length;if(V===0)return 0;for(;W<V;){const R=Math.floor((W+V)/2);F(O[R])?V=R:W=R+1}return W}e.findFirstInSorted=C;function d(O,F,W){if(O=O|0,O>=F.length)throw new TypeError("invalid index");const V=F[Math.floor(F.length*Math.random())],R=[],$=[],X=[];for(const ne of F){const ae=W(ne,V);ae<0?R.push(ne):ae>0?$.push(ne):X.push(ne)}return O<R.length?d(O,R,W):O<R.length+X.length?X[0]:d(O-(R.length+X.length),$,W)}e.quickSelect=d;function g(O,F){const W=[];let V;for(const R of O.slice(0).sort(F))!V||F(V[0],R)!==0?(V=[R],W.push(V)):V.push(R);return W}e.groupBy=g;function i(O){return O.filter(F=>!!F)}e.coalesce=i;function t(O){let F=0;for(let W=0;W<O.length;W++)O[W]&&(O[F]=O[W],F+=1);O.length=F}e.coalesceInPlace=t;function n(O){return!Array.isArray(O)||O.length===0}e.isFalsyOrEmpty=n;function a(O){return Array.isArray(O)&&O.length>0}e.isNonEmptyArray=a;function r(O,F=W=>W){const W=new Set;return O.filter(V=>{const R=F(V);return W.has(R)?!1:(W.add(R),!0)})}e.distinct=r;function c(O,F){const W=u(O,F);if(W!==-1)return O[W]}e.findLast=c;function u(O,F){for(let W=O.length-1;W>=0;W--){const V=O[W];if(F(V))return W}return-1}e.lastIndex=u;function s(O,F){return O.length>0?O[0]:F}e.firstOrDefault=s;function l(O,F){let W=typeof F=="number"?O:0;typeof F=="number"?W=O:(W=0,F=O);const V=[];if(W<=F)for(let R=W;R<F;R++)V.push(R);else for(let R=W;R>F;R--)V.push(R);return V}e.range=l;function o(O,F,W){const V=O.slice(0,F),R=O.slice(F);return V.concat(W,R)}e.arrayInsert=o;function h(O,F){const W=O.indexOf(F);W>-1&&(O.splice(W,1),O.unshift(F))}e.pushToStart=h;function f(O,F){const W=O.indexOf(F);W>-1&&(O.splice(W,1),O.push(F))}e.pushToEnd=f;function S(O,F){for(const W of F)O.push(W)}e.pushMany=S;function p(O){return Array.isArray(O)?O:[O]}e.asArray=p;function m(O,F,W){const V=L(O,F),R=O.length,$=W.length;O.length=R+$;for(let X=R-1;X>=V;X--)O[X+$]=O[X];for(let X=0;X<$;X++)O[X+V]=W[X]}e.insertInto=m;function b(O,F,W,V){const R=L(O,F),$=O.splice(R,W);return m(O,R,V),$}e.splice=b;function L(O,F){return F<0?Math.max(F+O.length,0):Math.min(F,O.length)}var k;(function(O){function F(R){return R<0}O.isLessThan=F;function W(R){return R>0}O.isGreaterThan=W;function V(R){return R===0}O.isNeitherLessOrGreaterThan=V,O.greaterThan=1,O.lessThan=-1,O.neitherLessOrGreaterThan=0})(k=e.CompareResult||(e.CompareResult={}));function I(O,F){return(W,V)=>F(O(W),O(V))}e.compareBy=I;const M=(O,F)=>O-F;e.numberComparator=M;function B(O,F){if(O.length===0)return;let W=O[0];for(let V=1;V<O.length;V++){const R=O[V];F(R,W)>0&&(W=R)}return W}e.findMaxBy=B;function z(O,F){if(O.length===0)return;let W=O[0];for(let V=1;V<O.length;V++){const R=O[V];F(R,W)>=0&&(W=R)}return W}e.findLastMaxBy=z;function P(O,F){return B(O,(W,V)=>-F(W,V))}e.findMinBy=P;class A{constructor(F){this.f=F,this.c=0,this.d=this.f.length-1}get length(){return this.d-this.c+1}takeWhile(F){let W=this.c;for(;W<this.f.length&&F(this.f[W]);)W++;const V=W===this.c?null:this.f.slice(this.c,W);return this.c=W,V}takeFromEndWhile(F){let W=this.d;for(;W>=0&&F(this.f[W]);)W--;const V=W===this.d?null:this.f.slice(W+1,this.d+1);return this.d=W,V}peek(){if(this.length!==0)return this.f[this.c]}dequeue(){const F=this.f[this.c];return this.c++,F}takeCount(F){const W=this.f.slice(this.c,this.c+F);return this.c+=F,W}}e.ArrayQueue=A;class T{constructor(F){this.iterate=F}toArray(){const F=[];return this.iterate(W=>(F.push(W),!0)),F}filter(F){return new T(W=>this.iterate(V=>F(V)?W(V):!0))}map(F){return new T(W=>this.iterate(V=>W(F(V))))}findLast(F){let W;return this.iterate(V=>(F(V)&&(W=V),!0)),W}findLastMaxBy(F){let W,V=!0;return this.iterate(R=>((V||k.isGreaterThan(F(R,W)))&&(V=!1,W=R),!0)),W}}T.empty=new T(O=>{}),e.CallbackIterable=T}),define(ee[126],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const w=typeof Buffer<"u";let N;class E{static wrap(t){return w&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new E(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return w?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}}e.VSBuffer=E;function D(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}e.readUInt16LE=D;function y(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255}e.writeUInt16LE=y;function v(i,t){return i[t]*Math.pow(2,24)+i[t+1]*Math.pow(2,16)+i[t+2]*Math.pow(2,8)+i[t+3]}e.readUInt32BE=v;function C(i,t,n){i[n+3]=t,t=t>>>8,i[n+2]=t,t=t>>>8,i[n+1]=t,t=t>>>8,i[n]=t}e.writeUInt32BE=C;function d(i,t){return i[t]}e.readUInt8=d;function g(i,t,n){i[n]=t}e.writeUInt8=g}),define(ee[236],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class w{constructor(D){this.c=D,this.a=void 0,this.b=void 0}get(D){const y=JSON.stringify(D);return this.b!==y&&(this.b=y,this.a=this.c(D)),this.a}}e.LRUCachedFunction=w;class N{get cachedValues(){return this.a}constructor(D){this.b=D,this.a=new Map}get(D){if(this.a.has(D))return this.a.get(D);const y=this.b(D);return this.a.set(D,y),y}}e.CachedFunction=N}),define(ee[341],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class w{constructor(){this.a=new Map}add(E,D){let y=this.a.get(E);y||(y=new Set,this.a.set(E,y)),y.add(D)}delete(E,D){const y=this.a.get(E);!y||(y.delete(D),y.size===0&&this.a.delete(E))}forEach(E,D){const y=this.a.get(E);!y||y.forEach(D)}}e.SetMap=w}),define(ee[36],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function w(v,C){const d=Math.pow(10,C);return Math.round(v*d)/d}class N{constructor(C,d,g,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,d))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=w(Math.max(Math.min(1,i),0),3)}static equals(C,d){return C.r===d.r&&C.g===d.g&&C.b===d.b&&C.a===d.a}}e.RGBA=N;class E{constructor(C,d,g,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=w(Math.max(Math.min(1,d),0),3),this.l=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,i),0),3)}static equals(C,d){return C.h===d.h&&C.s===d.s&&C.l===d.l&&C.a===d.a}static fromRGBA(C){const d=C.r/255,g=C.g/255,i=C.b/255,t=C.a,n=Math.max(d,g,i),a=Math.min(d,g,i);let r=0,c=0;const u=(a+n)/2,s=n-a;if(s>0){switch(c=Math.min(u<=.5?s/(2*u):s/(2-2*u),1),n){case d:r=(g-i)/s+(g<i?6:0);break;case g:r=(i-d)/s+2;break;case i:r=(d-g)/s+4;break}r*=60,r=Math.round(r)}return new E(r,c,u,t)}static i(C,d,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?C+(d-C)*6*g:g<1/2?d:g<2/3?C+(d-C)*(2/3-g)*6:C}static toRGBA(C){const d=C.h/360,{s:g,l:i,a:t}=C;let n,a,r;if(g===0)n=a=r=i;else{const c=i<.5?i*(1+g):i+g-i*g,u=2*i-c;n=E.i(u,c,d+1/3),a=E.i(u,c,d),r=E.i(u,c,d-1/3)}return new N(Math.round(n*255),Math.round(a*255),Math.round(r*255),t)}}e.HSLA=E;class D{constructor(C,d,g,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=w(Math.max(Math.min(1,d),0),3),this.v=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,i),0),3)}static equals(C,d){return C.h===d.h&&C.s===d.s&&C.v===d.v&&C.a===d.a}static fromRGBA(C){const d=C.r/255,g=C.g/255,i=C.b/255,t=Math.max(d,g,i),n=Math.min(d,g,i),a=t-n,r=t===0?0:a/t;let c;return a===0?c=0:t===d?c=((g-i)/a%6+6)%6:t===g?c=(i-d)/a+2:c=(d-g)/a+4,new D(Math.round(c*60),r,t,C.a)}static toRGBA(C){const{h:d,s:g,v:i,a:t}=C,n=i*g,a=n*(1-Math.abs(d/60%2-1)),r=i-n;let[c,u,s]=[0,0,0];return d<60?(c=n,u=a):d<120?(c=a,u=n):d<180?(u=n,s=a):d<240?(u=a,s=n):d<300?(c=a,s=n):d<=360&&(c=n,s=a),c=Math.round((c+r)*255),u=Math.round((u+r)*255),s=Math.round((s+r)*255),new N(c,u,s,t)}}e.HSVA=D;class y{static fromHex(C){return y.Format.CSS.parseHex(C)||y.red}static equals(C,d){return!C&&!d?!0:!C||!d?!1:C.equals(d)}get hsla(){return this.i?this.i:E.fromRGBA(this.rgba)}get hsva(){return this.j?this.j:D.fromRGBA(this.rgba)}constructor(C){if(C)if(C instanceof N)this.rgba=C;else if(C instanceof E)this.i=C,this.rgba=E.toRGBA(C);else if(C instanceof D)this.j=C,this.rgba=D.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(C){return!!C&&N.equals(this.rgba,C.rgba)&&E.equals(this.hsla,C.hsla)&&D.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=y.k(this.rgba.r),d=y.k(this.rgba.g),g=y.k(this.rgba.b),i=.2126*C+.7152*d+.0722*g;return w(i,4)}static k(C){const d=C/255;return d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const d=this.getRelativeLuminance(),g=C.getRelativeLuminance();return d>g}isDarkerThan(C){const d=this.getRelativeLuminance(),g=C.getRelativeLuminance();return d<g}lighten(C){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:d,g,b:i,a:t}=this.rgba;return new y(new N(d,g,i,t*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this.o||(this.o=y.Format.CSS.format(this)),this.o}static getLighterColor(C,d,g){if(C.isLighterThan(d))return C;g=g||.5;const i=C.getRelativeLuminance(),t=d.getRelativeLuminance();return g=g*(t-i)/t,C.lighten(g)}static getDarkerColor(C,d,g){if(C.isDarkerThan(d))return C;g=g||.5;const i=C.getRelativeLuminance(),t=d.getRelativeLuminance();return g=g*(i-t)/i,C.darken(g)}}y.white=new y(new N(255,255,255,1)),y.black=new y(new N(0,0,0,1)),y.red=new y(new N(255,0,0,1)),y.blue=new y(new N(0,0,255,1)),y.green=new y(new N(0,255,0,1)),y.cyan=new y(new N(0,255,255,1)),y.lightgrey=new y(new N(211,211,211,1)),y.transparent=new y(new N(0,0,0,0)),e.Color=y,function(v){let C;(function(d){let g;(function(i){function t(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:v.Format.CSS.formatRGBA(f)}i.formatRGB=t;function n(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}i.formatRGBA=n;function a(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:v.Format.CSS.formatHSLA(f)}i.formatHSL=a;function r(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}i.formatHSLA=r;function c(f){const S=f.toString(16);return S.length!==2?"0"+S:S}function u(f){return`#${c(f.rgba.r)}${c(f.rgba.g)}${c(f.rgba.b)}`}i.formatHex=u;function s(f,S=!1){return S&&f.rgba.a===1?v.Format.CSS.formatHex(f):`#${c(f.rgba.r)}${c(f.rgba.g)}${c(f.rgba.b)}${c(Math.round(f.rgba.a*255))}`}i.formatHexA=s;function l(f){return f.isOpaque()?v.Format.CSS.formatHex(f):v.Format.CSS.formatRGBA(f)}i.format=l;function o(f){const S=f.length;if(S===0||f.charCodeAt(0)!==35)return null;if(S===7){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),b=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new v(new N(p,m,b,1))}if(S===9){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),b=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),L=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new v(new N(p,m,b,L/255))}if(S===4){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),b=h(f.charCodeAt(3));return new v(new N(16*p+p,16*m+m,16*b+b))}if(S===5){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),b=h(f.charCodeAt(3)),L=h(f.charCodeAt(4));return new v(new N(16*p+p,16*m+m,16*b+b,(16*L+L)/255))}return null}i.parseHex=o;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=d.CSS||(d.CSS={}))})(C=v.Format||(v.Format={}))}(y=e.Color||(e.Color={})),e.Color=y}),define(ee[109],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function w(N,E,D){let y=null,v=null;if(typeof D.value=="function"?(y="value",v=D.value,v.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(y="get",v=D.get),!v)throw new Error("not supported");const C=`$memoize$${E}`;D[y]=function(...d){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:v.apply(this,d)}),this[C]}}e.memoize=w}),define(ee[342],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class w{constructor(E,D,y,v){this.originalStart=E,this.originalLength=D,this.modifiedStart=y,this.modifiedLength=v}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=w}),define(ee[13],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.b=[],this.a=function(c){setTimeout(()=>{throw c.stack?n.isErrorNoTelemetry(c)?new n(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}c(c){this.b.forEach(u=>{u(c)})}onUnexpectedError(c){this.a(c),this.c(c)}onUnexpectedExternalError(c){this.a(c)}}e.ErrorHandler=w,e.errorHandler=new w;function N(r){v(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=N;function E(r){v(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=E;function D(r){if(r instanceof Error){const{name:c,message:u}=r,s=r.stacktrace||r.stack;return{$isError:!0,name:c,message:u,stack:s,noTelemetry:n.isErrorNoTelemetry(r)}}return r}e.transformErrorForSerialization=D;const y="Canceled";function v(r){return r instanceof C?!0:r instanceof Error&&r.name===y&&r.message===y}e.isCancellationError=v;class C extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=C;function d(){const r=new Error(y);return r.name=r.message,r}e.canceled=d;function g(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=g;function i(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=i;class t extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}e.NotSupportedError=t;class n extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof n)return c;const u=new n;return u.message=c.message,u.stack=c.stack,u}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=n;class a extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,a.prototype);debugger}}e.BugIndicatingError=a}),define(ee[85],te([1,0,13]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function N(v,C){if(!v)throw new Error(C?`Assertion failed (${C})`:"Assertion Failed")}e.ok=N;function E(v,C="Unreachable"){throw new Error(C)}e.assertNever=E;function D(v){if(!v()){debugger;v(),(0,w.onUnexpectedError)(new w.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function y(v,C){let d=0;for(;d<v.length-1;){const g=v[d],i=v[d+1];if(!C(g,i))return!1;d++}return!0}e.checkAdjacentItems=y}),define(ee[92],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(N){const E=this;let D=!1,y;return function(){return D||(D=!0,y=N.apply(E,arguments)),y}}e.once=w}),define(ee[150],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(E){this.a=E,this.b=0}nextId(){return this.a+ ++this.b}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(ee[54],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(N){function E(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}N.is=E;const D=Object.freeze([]);function y(){return D}N.empty=y;function*v(o){yield o}N.single=v;function C(o){return E(o)?o:v(o)}N.wrap=C;function d(o){return o||D}N.from=d;function g(o){return!o||o[Symbol.iterator]().next().done===!0}N.isEmpty=g;function i(o){return o[Symbol.iterator]().next().value}N.first=i;function t(o,h){for(const f of o)if(h(f))return!0;return!1}N.some=t;function n(o,h){for(const f of o)if(h(f))return f}N.find=n;function*a(o,h){for(const f of o)h(f)&&(yield f)}N.filter=a;function*r(o,h){let f=0;for(const S of o)yield h(S,f++)}N.map=r;function*c(...o){for(const h of o)for(const f of h)yield f}N.concat=c;function u(o,h,f){let S=f;for(const p of o)S=h(S,p);return S}N.reduce=u;function*s(o,h,f=o.length){for(h<0&&(h+=o.length),f<0?f+=o.length:f>o.length&&(f=o.length);h<f;h++)yield o[h]}N.slice=s;function l(o,h=Number.POSITIVE_INFINITY){const f=[];if(h===0)return[f,o];const S=o[Symbol.iterator]();for(let p=0;p<h;p++){const m=S.next();if(m.done)return[f,N.empty()];f.push(m.value)}return[f,{[Symbol.iterator](){return S}}]}N.consume=l})(w=e.Iterable||(e.Iterable={}))}),define(ee[57],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,n){this._keyCodeToStr[t]=n,this._strToKeyCode[n.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const N=new w,E=new w,D=new w;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],v=Object.create(null),C=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=127;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],n=[],a=[];for(const r of t){const[c,u,s,l,o,h,f,S,p,m]=r;if(a[s]||(a[s]=!0,y[s]=l,v[l]=s,C[l.toLowerCase()]=s,u&&(e.IMMUTABLE_CODE_TO_KEY_CODE[s]=o,o!==0&&o!==3&&o!==5&&o!==4&&o!==6&&o!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[o]=s))),!n[o]){if(n[o]=!0,!h)throw new Error(`String representation missing for key code ${o} around scan code ${l}`);N.define(o,h),E.define(o,p||h),D.define(o,m||p||h)}f&&(e.EVENT_KEY_CODE_MAP[f]=o),S&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[S]=o)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var d;(function(i){function t(s){return N.keyCodeToStr(s)}i.toString=t;function n(s){return N.strToKeyCode(s)}i.fromString=n;function a(s){return E.keyCodeToStr(s)}i.toUserSettingsUS=a;function r(s){return D.keyCodeToStr(s)}i.toUserSettingsGeneral=r;function c(s){return E.strToKeyCode(s)||D.strToKeyCode(s)}i.fromUserSettings=c;function u(s){if(s>=93&&s<=108)return null;switch(s){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return N.keyCodeToStr(s)}i.toElectronAccelerator=u})(d=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(i,t){const n=(t&65535)<<16>>>0;return(i|n)>>>0}e.KeyChord=g}),define(ee[110],te([1,0,13]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function N(g,i){if(g===0)return null;const t=(g&65535)>>>0,n=(g&4294901760)>>>16;return n!==0?new v([E(t,i),E(n,i)]):new v([E(t,i)])}e.decodeKeybinding=N;function E(g,i){const t=!!(g&2048),n=!!(g&256),a=i===2?n:t,r=!!(g&1024),c=!!(g&512),u=i===2?t:n,s=g&255;return new D(a,r,c,u,s)}e.createSimpleKeybinding=E;class D{constructor(i,t,n,a,r){this.ctrlKey=i,this.shiftKey=t,this.altKey=n,this.metaKey=a,this.keyCode=r}equals(i){return i instanceof D&&this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class y{constructor(i,t,n,a,r){this.ctrlKey=i,this.shiftKey=t,this.altKey=n,this.metaKey=a,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class v{constructor(i){if(i.length===0)throw(0,w.illegalArgument)("chords");this.chords=i}}e.Keybinding=v;class C{constructor(i,t,n,a,r,c){this.ctrlKey=i,this.shiftKey=t,this.altKey=n,this.metaKey=a,this.keyLabel=r,this.keyAriaLabel=c}}e.ResolvedChord=C;class d{}e.ResolvedKeybinding=d}),define(ee[100],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class w{constructor(E){this.d=E,this.a=!1}get value(){if(!this.a)try{this.b=this.d()}catch(E){this.c=E}finally{this.a=!0}if(this.c)throw this.c;return this.b}get rawValue(){return this.b}}e.Lazy=w}),define(ee[343],te([1,0,100]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const N=new w.Lazy(()=>{const d=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:d,collatorIsNumeric:d.resolvedOptions().numeric}}),E=new w.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new w.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(d,g,i=!1){const t=d||"",n=g||"",a=N.value.collator.compare(t,n);return N.value.collatorIsNumeric&&a===0&&t!==n?t<n?-1:1:a}e.compareFileNames=y;function v(d,g,i){const t=d.toLowerCase(),n=g.toLowerCase(),a=C(d,g,i);if(a)return a;const r=t.endsWith(i),c=n.endsWith(i);if(r!==c)return r?-1:1;const u=y(t,n);return u!==0?u:t.localeCompare(n)}e.compareAnything=v;function C(d,g,i){const t=d.toLowerCase(),n=g.toLowerCase(),a=t.startsWith(i),r=n.startsWith(i);if(a!==r)return a?-1:1;if(a&&r){if(t.length<n.length)return-1;if(t.length>n.length)return 1}return 0}e.compareByPrefix=C}),define(ee[2],te([1,0,92,54]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const E=!1;let D=null;function y(S){D=S}if(e.setDisposableTracker=y,E){const S="__is_disposable_tracked__";y(new class{trackDisposable(p){const m=new Error("Potentially leaked disposable").stack;setTimeout(()=>{p[S]||console.log(m)},3e3)}setParent(p,m){if(p&&p!==u.None)try{p[S]=!0}catch{}}markAsDisposed(p){if(p&&p!==u.None)try{p[S]=!0}catch{}}markAsSingleton(p){}})}function v(S){return D?.trackDisposable(S),S}function C(S){D?.markAsDisposed(S)}function d(S,p){D?.setParent(S,p)}function g(S,p){if(!!D)for(const m of S)D.setParent(m,p)}function i(S){return D?.markAsSingleton(S),S}e.markAsSingleton=i;function t(S){return typeof S.dispose=="function"&&S.dispose.length===0}e.isDisposable=t;function n(S){if(N.Iterable.is(S)){const p=[];for(const m of S)if(m)try{m.dispose()}catch(b){p.push(b)}if(p.length===1)throw p[0];if(p.length>1)throw new AggregateError(p,"Encountered errors while disposing of store");return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}e.dispose=n;function a(...S){const p=r(()=>n(S));return g(S,p),p}e.combinedDisposable=a;function r(S){const p=v({dispose:(0,w.once)(()=>{C(p),S()})});return p}e.toDisposable=r;class c{constructor(){this.a=new Set,this.b=!1,v(this)}dispose(){this.b||(C(this),this.b=!0,this.clear())}get isDisposed(){return this.b}clear(){if(this.a.size!==0)try{n(this.a)}finally{this.a.clear()}}add(p){if(!p)return p;if(p===this)throw new Error("Cannot register a disposable on itself!");return d(p,this),this.b?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this.a.add(p),p}}c.DISABLE_DISPOSED_WARNING=!1,e.DisposableStore=c;class u{constructor(){this.f=new c,v(this),d(this.f,this)}dispose(){C(this),this.f.dispose()}q(p){if(p===this)throw new Error("Cannot register a disposable on itself!");return this.f.add(p)}}u.None=Object.freeze({dispose(){}}),e.Disposable=u;class s{constructor(){this.b=!1,v(this)}get value(){return this.b?void 0:this.a}set value(p){var m;this.b||p===this.a||((m=this.a)===null||m===void 0||m.dispose(),p&&d(p,this),this.a=p)}clear(){this.value=void 0}dispose(){var p;this.b=!0,C(this),(p=this.a)===null||p===void 0||p.dispose(),this.a=void 0}clearAndLeak(){const p=this.a;return this.a=void 0,p&&d(p,null),p}}e.MutableDisposable=s;class l{constructor(p){this.b=p,this.a=1}acquire(){return this.a++,this}release(){return--this.a===0&&this.b.dispose(),this}}e.RefCountedDisposable=l;class o{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,v(this)}set(p){let m=p;return this.unset=()=>m=void 0,this.isset=()=>m!==void 0,this.dispose=()=>{m&&(m(),m=void 0,C(this))},this}}e.SafeDisposable=o;class h{constructor(p){this.object=p}dispose(){}}e.ImmortalReference=h;class f{constructor(){this.a=new Map,this.b=!1,v(this)}dispose(){C(this),this.b=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!!this.a.size)try{n(this.a.values())}finally{this.a.clear()}}get(p){return this.a.get(p)}set(p,m,b=!1){var L;this.b&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),b||(L=this.a.get(p))===null||L===void 0||L.dispose(),this.a.set(p,m)}[Symbol.iterator](){return this.a[Symbol.iterator]()}}e.DisposableMap=f}),define(ee[58],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(D){this.element=D,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class N{constructor(){this.a=w.Undefined,this.b=w.Undefined,this.c=0}get size(){return this.c}isEmpty(){return this.a===w.Undefined}clear(){let D=this.a;for(;D!==w.Undefined;){const y=D.next;D.prev=w.Undefined,D.next=w.Undefined,D=y}this.a=w.Undefined,this.b=w.Undefined,this.c=0}unshift(D){return this.d(D,!1)}push(D){return this.d(D,!0)}d(D,y){const v=new w(D);if(this.a===w.Undefined)this.a=v,this.b=v;else if(y){const d=this.b;this.b=v,v.prev=d,d.next=v}else{const d=this.a;this.a=v,v.next=d,d.prev=v}this.c+=1;let C=!1;return()=>{C||(C=!0,this.e(v))}}shift(){if(this.a!==w.Undefined){const D=this.a.element;return this.e(this.a),D}}pop(){if(this.b!==w.Undefined){const D=this.b.element;return this.e(this.b),D}}e(D){if(D.prev!==w.Undefined&&D.next!==w.Undefined){const y=D.prev;y.next=D.next,D.next.prev=y}else D.prev===w.Undefined&&D.next===w.Undefined?(this.a=w.Undefined,this.b=w.Undefined):D.next===w.Undefined?(this.b=this.b.prev,this.b.next=w.Undefined):D.prev===w.Undefined&&(this.a=this.a.next,this.a.prev=w.Undefined);this.c-=1}*[Symbol.iterator](){let D=this.a;for(;D!==w.Undefined;)yield D.element,D=D.next}}e.LinkedList=N}),define(ee[55],te([1,0]),function(K,e){"use strict";var w,N;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class E{constructor(d,g){this.uri=d,this.value=g}}class D{constructor(d,g){this[w]="ResourceMap",d instanceof D?(this.b=new Map(d.b),this.c=g??D.a):(this.b=new Map,this.c=d??D.a)}set(d,g){return this.b.set(this.c(d),new E(d,g)),this}get(d){var g;return(g=this.b.get(this.c(d)))===null||g===void 0?void 0:g.value}has(d){return this.b.has(this.c(d))}get size(){return this.b.size}clear(){this.b.clear()}delete(d){return this.b.delete(this.c(d))}forEach(d,g){typeof g<"u"&&(d=d.bind(g));for(const[i,t]of this.b)d(t.value,t.uri,this)}*values(){for(const d of this.b.values())yield d.value}*keys(){for(const d of this.b.values())yield d.uri}*entries(){for(const d of this.b.values())yield[d.uri,d.value]}*[(w=Symbol.toStringTag,Symbol.iterator)](){for(const[,d]of this.b)yield[d.uri,d.value]}}D.a=C=>C.toString(),e.ResourceMap=D;class y{constructor(){this[N]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){var d;return(d=this.b)===null||d===void 0?void 0:d.value}get last(){var d;return(d=this.c)===null||d===void 0?void 0:d.value}has(d){return this.a.has(d)}get(d,g=0){const i=this.a.get(d);if(!!i)return g!==0&&this.j(i,g),i.value}set(d,g,i=0){let t=this.a.get(d);if(t)t.value=g,i!==0&&this.j(t,i);else{switch(t={key:d,value:g,next:void 0,previous:void 0},i){case 0:this.h(t);break;case 1:this.g(t);break;case 2:this.h(t);break;default:this.h(t);break}this.a.set(d,t),this.d++}return this}delete(d){return!!this.remove(d)}remove(d){const g=this.a.get(d);if(!!g)return this.a.delete(d),this.i(g),this.d--,g.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const d=this.b;return this.a.delete(d.key),this.i(d),this.d--,d.value}forEach(d,g){const i=this.e;let t=this.b;for(;t;){if(g?d.bind(g)(t.value,t.key,this):d(t.value,t.key,this),this.e!==i)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const d=this,g=this.e;let i=this.b;const t={[Symbol.iterator](){return t},next(){if(d.e!==g)throw new Error("LinkedMap got modified during iteration.");if(i){const n={value:i.key,done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return t}values(){const d=this,g=this.e;let i=this.b;const t={[Symbol.iterator](){return t},next(){if(d.e!==g)throw new Error("LinkedMap got modified during iteration.");if(i){const n={value:i.value,done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return t}entries(){const d=this,g=this.e;let i=this.b;const t={[Symbol.iterator](){return t},next(){if(d.e!==g)throw new Error("LinkedMap got modified during iteration.");if(i){const n={value:[i.key,i.value],done:!1};return i=i.next,n}else return{value:void 0,done:!0}}};return t}[(N=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(d){if(d>=this.size)return;if(d===0){this.clear();return}let g=this.b,i=this.size;for(;g&&i>d;)this.a.delete(g.key),g=g.next,i--;this.b=g,this.d=i,g&&(g.previous=void 0),this.e++}g(d){if(!this.b&&!this.c)this.c=d;else if(this.b)d.next=this.b,this.b.previous=d;else throw new Error("Invalid list");this.b=d,this.e++}h(d){if(!this.b&&!this.c)this.b=d;else if(this.c)d.previous=this.c,this.c.next=d;else throw new Error("Invalid list");this.c=d,this.e++}i(d){if(d===this.b&&d===this.c)this.b=void 0,this.c=void 0;else if(d===this.b){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this.b=d.next}else if(d===this.c){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this.c=d.previous}else{const g=d.next,i=d.previous;if(!g||!i)throw new Error("Invalid list");g.previous=i,i.next=g}d.next=void 0,d.previous=void 0,this.e++}j(d,g){if(!this.b||!this.c)throw new Error("Invalid list");if(!(g!==1&&g!==2)){if(g===1){if(d===this.b)return;const i=d.next,t=d.previous;d===this.c?(t.next=void 0,this.c=t):(i.previous=t,t.next=i),d.previous=void 0,d.next=this.b,this.b.previous=d,this.b=d,this.e++}else if(g===2){if(d===this.c)return;const i=d.next,t=d.previous;d===this.b?(i.previous=void 0,this.b=i):(i.previous=t,t.next=i),d.next=void 0,d.previous=this.c,this.c.next=d,this.c=d,this.e++}}}toJSON(){const d=[];return this.forEach((g,i)=>{d.push([i,g])}),d}fromJSON(d){this.clear();for(const[g,i]of d)this.set(g,i)}}e.LinkedMap=y;class v extends y{constructor(d,g=1){super(),this.k=d,this.l=Math.min(Math.max(0,g),1)}get limit(){return this.k}set limit(d){this.k=d,this.m()}get(d,g=2){return super.get(d,g)}peek(d){return super.get(d,0)}set(d,g){return super.set(d,g,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.LRUCache=v}),function(K,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(ee[344],te([0]),e):(K=typeof globalThis<"u"?globalThis:K||self,e(K.marked={}))}(this,function(K){"use strict";function e(Z,U){for(var j=0;j<U.length;j++){var H=U[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Z,H.key,H)}}function w(Z,U,j){return U&&e(Z.prototype,U),j&&e(Z,j),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function N(Z,U){if(!!Z){if(typeof Z=="string")return E(Z,U);var j=Object.prototype.toString.call(Z).slice(8,-1);if(j==="Object"&&Z.constructor&&(j=Z.constructor.name),j==="Map"||j==="Set")return Array.from(Z);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return E(Z,U)}}function E(Z,U){(U==null||U>Z.length)&&(U=Z.length);for(var j=0,H=new Array(U);j<U;j++)H[j]=Z[j];return H}function D(Z,U){var j=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(j)return(j=j.call(Z)).next.bind(j);if(Array.isArray(Z)||(j=N(Z))||U&&Z&&typeof Z.length=="number"){j&&(Z=j);var H=0;return function(){return H>=Z.length?{done:!0}:{done:!1,value:Z[H++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}K.defaults=y();function v(Z){K.defaults=Z}var C=/[&<>"']/,d=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(U){return t[U]};function a(Z,U){if(U){if(C.test(Z))return Z.replace(d,n)}else if(g.test(Z))return Z.replace(i,n);return Z}var r=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(Z){return Z.replace(r,function(U,j){return j=j.toLowerCase(),j==="colon"?":":j.charAt(0)==="#"?j.charAt(1)==="x"?String.fromCharCode(parseInt(j.substring(2),16)):String.fromCharCode(+j.substring(1)):""})}var u=/(^|[^\[])\^/g;function s(Z,U){Z=typeof Z=="string"?Z:Z.source,U=U||"";var j={replace:function(_,ce){return ce=ce.source||ce,ce=ce.replace(u,"$1"),Z=Z.replace(_,ce),j},getRegex:function(){return new RegExp(Z,U)}};return j}var l=/[^\w:]/g,o=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(Z,U,j){if(Z){var H;try{H=decodeURIComponent(c(j)).replace(l,"").toLowerCase()}catch{return null}if(H.indexOf("javascript:")===0||H.indexOf("vbscript:")===0||H.indexOf("data:")===0)return null}U&&!o.test(j)&&(j=b(U,j));try{j=encodeURI(j).replace(/%25/g,"%")}catch{return null}return j}var f={},S=/^[^:]+:\/*[^/]*$/,p=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(Z,U){f[" "+Z]||(S.test(Z)?f[" "+Z]=Z+"/":f[" "+Z]=M(Z,"/",!0)),Z=f[" "+Z];var j=Z.indexOf(":")===-1;return U.substring(0,2)==="//"?j?U:Z.replace(p,"$1")+U:U.charAt(0)==="/"?j?U:Z.replace(m,"$1")+U:Z+U}var L={exec:function(){}};function k(Z){for(var U=1,j,H;U<arguments.length;U++){j=arguments[U];for(H in j)Object.prototype.hasOwnProperty.call(j,H)&&(Z[H]=j[H])}return Z}function I(Z,U){var j=Z.replace(/\|/g,function(ce,ue,se){for(var he=!1,me=ue;--me>=0&&se[me]==="\\";)he=!he;return he?"|":" |"}),H=j.split(/ \|/),_=0;if(H[0].trim()||H.shift(),H.length>0&&!H[H.length-1].trim()&&H.pop(),H.length>U)H.splice(U);else for(;H.length<U;)H.push("");for(;_<H.length;_++)H[_]=H[_].trim().replace(/\\\|/g,"|");return H}function M(Z,U,j){var H=Z.length;if(H===0)return"";for(var _=0;_<H;){var ce=Z.charAt(H-_-1);if(ce===U&&!j)_++;else if(ce!==U&&j)_++;else break}return Z.slice(0,H-_)}function B(Z,U){if(Z.indexOf(U[1])===-1)return-1;for(var j=Z.length,H=0,_=0;_<j;_++)if(Z[_]==="\\")_++;else if(Z[_]===U[0])H++;else if(Z[_]===U[1]&&(H--,H<0))return _;return-1}function z(Z){Z&&Z.sanitize&&!Z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(Z,U){if(U<1)return"";for(var j="";U>1;)U&1&&(j+=Z),U>>=1,Z+=Z;return j+Z}function A(Z,U,j,H){var _=U.href,ce=U.title?a(U.title):null,ue=Z[1].replace(/\\([\[\]])/g,"$1");if(Z[0].charAt(0)!=="!"){H.state.inLink=!0;var se={type:"link",raw:j,href:_,title:ce,text:ue,tokens:H.inlineTokens(ue)};return H.state.inLink=!1,se}return{type:"image",raw:j,href:_,title:ce,text:a(ue)}}function T(Z,U){var j=Z.match(/^(\s+)(?:```)/);if(j===null)return U;var H=j[1];return U.split(`
`).map(function(_){var ce=_.match(/^\s+/);if(ce===null)return _;var ue=ce[0];return ue.length>=H.length?_.slice(H.length):_}).join(`
`)}var O=function(){function Z(j){this.options=j||K.defaults}var U=Z.prototype;return U.space=function(H){var _=this.rules.block.newline.exec(H);if(_&&_[0].length>0)return{type:"space",raw:_[0]}},U.code=function(H){var _=this.rules.block.code.exec(H);if(_){var ce=_[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:_[0],codeBlockStyle:"indented",text:this.options.pedantic?ce:M(ce,`
`)}}},U.fences=function(H){var _=this.rules.block.fences.exec(H);if(_){var ce=_[0],ue=T(ce,_[3]||"");return{type:"code",raw:ce,lang:_[2]?_[2].trim():_[2],text:ue}}},U.heading=function(H){var _=this.rules.block.heading.exec(H);if(_){var ce=_[2].trim();if(/#$/.test(ce)){var ue=M(ce,"#");(this.options.pedantic||!ue||/ $/.test(ue))&&(ce=ue.trim())}return{type:"heading",raw:_[0],depth:_[1].length,text:ce,tokens:this.lexer.inline(ce)}}},U.hr=function(H){var _=this.rules.block.hr.exec(H);if(_)return{type:"hr",raw:_[0]}},U.blockquote=function(H){var _=this.rules.block.blockquote.exec(H);if(_){var ce=_[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:_[0],tokens:this.lexer.blockTokens(ce,[]),text:ce}}},U.list=function(H){var _=this.rules.block.list.exec(H);if(_){var ce,ue,se,he,me,Se,ye,ke,Te,Pe,Ie,ve,ge=_[1].trim(),we=ge.length>1,de={type:"list",raw:"",ordered:we,start:we?+ge.slice(0,-1):"",loose:!1,items:[]};ge=we?"\\d{1,9}\\"+ge.slice(-1):"\\"+ge,this.options.pedantic&&(ge=we?ge:"[*+-]");for(var pe=new RegExp("^( {0,3}"+ge+")((?:[	 ][^\\n]*)?(?:\\n|$))");H&&(ve=!1,!(!(_=pe.exec(H))||this.rules.block.hr.test(H)));){if(ce=_[0],H=H.substring(ce.length),ke=_[2].split(`
`,1)[0],Te=H.split(`
`,1)[0],this.options.pedantic?(he=2,Ie=ke.trimLeft()):(he=_[2].search(/[^ ]/),he=he>4?1:he,Ie=ke.slice(he),he+=_[1].length),Se=!1,!ke&&/^ *$/.test(Te)&&(ce+=Te+`
`,H=H.substring(Te.length+1),ve=!0),!ve)for(var be=new RegExp("^ {0,"+Math.min(3,he-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ce=new RegExp("^ {0,"+Math.min(3,he-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ee=new RegExp("^ {0,"+Math.min(3,he-1)+"}(?:```|~~~)"),Ae=new RegExp("^ {0,"+Math.min(3,he-1)+"}#");H&&(Pe=H.split(`
`,1)[0],ke=Pe,this.options.pedantic&&(ke=ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ee.test(ke)||Ae.test(ke)||be.test(ke)||Ce.test(H)));){if(ke.search(/[^ ]/)>=he||!ke.trim())Ie+=`
`+ke.slice(he);else if(!Se)Ie+=`
`+ke;else break;!Se&&!ke.trim()&&(Se=!0),ce+=Pe+`
`,H=H.substring(Pe.length+1)}de.loose||(ye?de.loose=!0:/\n *\n *$/.test(ce)&&(ye=!0)),this.options.gfm&&(ue=/^\[[ xX]\] /.exec(Ie),ue&&(se=ue[0]!=="[ ] ",Ie=Ie.replace(/^\[[ xX]\] +/,""))),de.items.push({type:"list_item",raw:ce,task:!!ue,checked:se,loose:!1,text:Ie}),de.raw+=ce}de.items[de.items.length-1].raw=ce.trimRight(),de.items[de.items.length-1].text=Ie.trimRight(),de.raw=de.raw.trimRight();var Me=de.items.length;for(me=0;me<Me;me++){this.lexer.state.top=!1,de.items[me].tokens=this.lexer.blockTokens(de.items[me].text,[]);var Re=de.items[me].tokens.filter(function(Fe){return Fe.type==="space"}),ze=Re.every(function(Fe){for(var Ve=Fe.raw.split(""),Ue=0,Je=D(Ve),it;!(it=Je()).done;){var rt=it.value;if(rt===`
`&&(Ue+=1),Ue>1)return!0}return!1});!de.loose&&Re.length&&ze&&(de.loose=!0,de.items[me].loose=!0)}return de}},U.html=function(H){var _=this.rules.block.html.exec(H);if(_){var ce={type:"html",raw:_[0],pre:!this.options.sanitizer&&(_[1]==="pre"||_[1]==="script"||_[1]==="style"),text:_[0]};if(this.options.sanitize){var ue=this.options.sanitizer?this.options.sanitizer(_[0]):a(_[0]);ce.type="paragraph",ce.text=ue,ce.tokens=this.lexer.inline(ue)}return ce}},U.def=function(H){var _=this.rules.block.def.exec(H);if(_){_[3]&&(_[3]=_[3].substring(1,_[3].length-1));var ce=_[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ce,raw:_[0],href:_[2],title:_[3]}}},U.table=function(H){var _=this.rules.block.table.exec(H);if(_){var ce={type:"table",header:I(_[1]).map(function(ye){return{text:ye}}),align:_[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:_[3]&&_[3].trim()?_[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ce.header.length===ce.align.length){ce.raw=_[0];var ue=ce.align.length,se,he,me,Se;for(se=0;se<ue;se++)/^ *-+: *$/.test(ce.align[se])?ce.align[se]="right":/^ *:-+: *$/.test(ce.align[se])?ce.align[se]="center":/^ *:-+ *$/.test(ce.align[se])?ce.align[se]="left":ce.align[se]=null;for(ue=ce.rows.length,se=0;se<ue;se++)ce.rows[se]=I(ce.rows[se],ce.header.length).map(function(ye){return{text:ye}});for(ue=ce.header.length,he=0;he<ue;he++)ce.header[he].tokens=this.lexer.inline(ce.header[he].text);for(ue=ce.rows.length,he=0;he<ue;he++)for(Se=ce.rows[he],me=0;me<Se.length;me++)Se[me].tokens=this.lexer.inline(Se[me].text);return ce}}},U.lheading=function(H){var _=this.rules.block.lheading.exec(H);if(_)return{type:"heading",raw:_[0],depth:_[2].charAt(0)==="="?1:2,text:_[1],tokens:this.lexer.inline(_[1])}},U.paragraph=function(H){var _=this.rules.block.paragraph.exec(H);if(_){var ce=_[1].charAt(_[1].length-1)===`
`?_[1].slice(0,-1):_[1];return{type:"paragraph",raw:_[0],text:ce,tokens:this.lexer.inline(ce)}}},U.text=function(H){var _=this.rules.block.text.exec(H);if(_)return{type:"text",raw:_[0],text:_[0],tokens:this.lexer.inline(_[0])}},U.escape=function(H){var _=this.rules.inline.escape.exec(H);if(_)return{type:"escape",raw:_[0],text:a(_[1])}},U.tag=function(H){var _=this.rules.inline.tag.exec(H);if(_)return!this.lexer.state.inLink&&/^<a /i.test(_[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(_[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(_[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(_[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:_[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(_[0]):a(_[0]):_[0]}},U.link=function(H){var _=this.rules.inline.link.exec(H);if(_){var ce=_[2].trim();if(!this.options.pedantic&&/^</.test(ce)){if(!/>$/.test(ce))return;var ue=M(ce.slice(0,-1),"\\");if((ce.length-ue.length)%2===0)return}else{var se=B(_[2],"()");if(se>-1){var he=_[0].indexOf("!")===0?5:4,me=he+_[1].length+se;_[2]=_[2].substring(0,se),_[0]=_[0].substring(0,me).trim(),_[3]=""}}var Se=_[2],ye="";if(this.options.pedantic){var ke=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Se);ke&&(Se=ke[1],ye=ke[3])}else ye=_[3]?_[3].slice(1,-1):"";return Se=Se.trim(),/^</.test(Se)&&(this.options.pedantic&&!/>$/.test(ce)?Se=Se.slice(1):Se=Se.slice(1,-1)),A(_,{href:Se&&Se.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},_[0],this.lexer)}},U.reflink=function(H,_){var ce;if((ce=this.rules.inline.reflink.exec(H))||(ce=this.rules.inline.nolink.exec(H))){var ue=(ce[2]||ce[1]).replace(/\s+/g," ");if(ue=_[ue.toLowerCase()],!ue||!ue.href){var se=ce[0].charAt(0);return{type:"text",raw:se,text:se}}return A(ce,ue,ce[0],this.lexer)}},U.emStrong=function(H,_,ce){ce===void 0&&(ce="");var ue=this.rules.inline.emStrong.lDelim.exec(H);if(!!ue&&!(ue[3]&&ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var se=ue[1]||ue[2]||"";if(!se||se&&(ce===""||this.rules.inline.punctuation.exec(ce))){var he=ue[0].length-1,me,Se,ye=he,ke=0,Te=ue[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Te.lastIndex=0,_=_.slice(-1*H.length+he);(ue=Te.exec(_))!=null;)if(me=ue[1]||ue[2]||ue[3]||ue[4]||ue[5]||ue[6],!!me){if(Se=me.length,ue[3]||ue[4]){ye+=Se;continue}else if((ue[5]||ue[6])&&he%3&&!((he+Se)%3)){ke+=Se;continue}if(ye-=Se,!(ye>0)){if(Se=Math.min(Se,Se+ye+ke),Math.min(he,Se)%2){var Pe=H.slice(1,he+ue.index+Se);return{type:"em",raw:H.slice(0,he+ue.index+Se+1),text:Pe,tokens:this.lexer.inlineTokens(Pe)}}var Ie=H.slice(2,he+ue.index+Se-1);return{type:"strong",raw:H.slice(0,he+ue.index+Se+1),text:Ie,tokens:this.lexer.inlineTokens(Ie)}}}}}},U.codespan=function(H){var _=this.rules.inline.code.exec(H);if(_){var ce=_[2].replace(/\n/g," "),ue=/[^ ]/.test(ce),se=/^ /.test(ce)&&/ $/.test(ce);return ue&&se&&(ce=ce.substring(1,ce.length-1)),ce=a(ce,!0),{type:"codespan",raw:_[0],text:ce}}},U.br=function(H){var _=this.rules.inline.br.exec(H);if(_)return{type:"br",raw:_[0]}},U.del=function(H){var _=this.rules.inline.del.exec(H);if(_)return{type:"del",raw:_[0],text:_[2],tokens:this.lexer.inlineTokens(_[2])}},U.autolink=function(H,_){var ce=this.rules.inline.autolink.exec(H);if(ce){var ue,se;return ce[2]==="@"?(ue=a(this.options.mangle?_(ce[1]):ce[1]),se="mailto:"+ue):(ue=a(ce[1]),se=ue),{type:"link",raw:ce[0],text:ue,href:se,tokens:[{type:"text",raw:ue,text:ue}]}}},U.url=function(H,_){var ce;if(ce=this.rules.inline.url.exec(H)){var ue,se;if(ce[2]==="@")ue=a(this.options.mangle?_(ce[0]):ce[0]),se="mailto:"+ue;else{var he;do he=ce[0],ce[0]=this.rules.inline._backpedal.exec(ce[0])[0];while(he!==ce[0]);ue=a(ce[0]),ce[1]==="www."?se="http://"+ue:se=ue}return{type:"link",raw:ce[0],text:ue,href:se,tokens:[{type:"text",raw:ue,text:ue}]}}},U.inlineText=function(H,_){var ce=this.rules.inline.text.exec(H);if(ce){var ue;return this.lexer.state.inRawBlock?ue=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ce[0]):a(ce[0]):ce[0]:ue=a(this.options.smartypants?_(ce[0]):ce[0]),{type:"text",raw:ce[0],text:ue}}},Z}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=s(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=s(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=s(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=s(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=s(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=k({},F),F.gfm=k({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=s(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=k({},F.normal,{html:s(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:s(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=s(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=s(F._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=s(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=s(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=s(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=s(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=s(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=s(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=s(W.reflink).replace("label",W._label).replace("ref",F._label).getRegex(),W.nolink=s(W.nolink).replace("ref",F._label).getRegex(),W.reflinkSearch=s(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=k({},W),W.pedantic=k({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=k({},W.normal,{escape:s(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=s(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=k({},W.gfm,{br:s(W.br).replace("{2,}","*").getRegex(),text:s(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function V(Z){return Z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function R(Z){var U="",j,H,_=Z.length;for(j=0;j<_;j++)H=Z.charCodeAt(j),Math.random()>.5&&(H="x"+H.toString(16)),U+="&#"+H+";";return U}var $=function(){function Z(j){this.tokens=[],this.tokens.links=Object.create(null),this.options=j||K.defaults,this.options.tokenizer=this.options.tokenizer||new O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:F.normal,inline:W.normal};this.options.pedantic?(H.block=F.pedantic,H.inline=W.pedantic):this.options.gfm&&(H.block=F.gfm,this.options.breaks?H.inline=W.breaks:H.inline=W.gfm),this.tokenizer.rules=H}Z.lex=function(H,_){var ce=new Z(_);return ce.lex(H)},Z.lexInline=function(H,_){var ce=new Z(_);return ce.inlineTokens(H)};var U=Z.prototype;return U.lex=function(H){H=H.replace(/\r\n|\r/g,`
`),this.blockTokens(H,this.tokens);for(var _;_=this.inlineQueue.shift();)this.inlineTokens(_.src,_.tokens);return this.tokens},U.blockTokens=function(H,_){var ce=this;_===void 0&&(_=[]),this.options.pedantic?H=H.replace(/\t/g,"    ").replace(/^ +$/gm,""):H=H.replace(/^( *)(\t+)/gm,function(ye,ke,Te){return ke+"    ".repeat(Te.length)});for(var ue,se,he,me;H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ye){return(ue=ye.call({lexer:ce},H,_))?(H=H.substring(ue.raw.length),_.push(ue),!0):!1}))){if(ue=this.tokenizer.space(H)){H=H.substring(ue.raw.length),ue.raw.length===1&&_.length>0?_[_.length-1].raw+=`
`:_.push(ue);continue}if(ue=this.tokenizer.code(H)){H=H.substring(ue.raw.length),se=_[_.length-1],se&&(se.type==="paragraph"||se.type==="text")?(se.raw+=`
`+ue.raw,se.text+=`
`+ue.text,this.inlineQueue[this.inlineQueue.length-1].src=se.text):_.push(ue);continue}if(ue=this.tokenizer.fences(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.heading(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.hr(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.blockquote(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.list(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.html(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.def(H)){H=H.substring(ue.raw.length),se=_[_.length-1],se&&(se.type==="paragraph"||se.type==="text")?(se.raw+=`
`+ue.raw,se.text+=`
`+ue.raw,this.inlineQueue[this.inlineQueue.length-1].src=se.text):this.tokens.links[ue.tag]||(this.tokens.links[ue.tag]={href:ue.href,title:ue.title});continue}if(ue=this.tokenizer.table(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.lheading(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(he=H,this.options.extensions&&this.options.extensions.startBlock&&function(){var ye=1/0,ke=H.slice(1),Te=void 0;ce.options.extensions.startBlock.forEach(function(Pe){Te=Pe.call({lexer:this},ke),typeof Te=="number"&&Te>=0&&(ye=Math.min(ye,Te))}),ye<1/0&&ye>=0&&(he=H.substring(0,ye+1))}(),this.state.top&&(ue=this.tokenizer.paragraph(he))){se=_[_.length-1],me&&se.type==="paragraph"?(se.raw+=`
`+ue.raw,se.text+=`
`+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=se.text):_.push(ue),me=he.length!==H.length,H=H.substring(ue.raw.length);continue}if(ue=this.tokenizer.text(H)){H=H.substring(ue.raw.length),se=_[_.length-1],se&&se.type==="text"?(se.raw+=`
`+ue.raw,se.text+=`
`+ue.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=se.text):_.push(ue);continue}if(H){var Se="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return this.state.top=!0,_},U.inline=function(H,_){return _===void 0&&(_=[]),this.inlineQueue.push({src:H,tokens:_}),_},U.inlineTokens=function(H,_){var ce=this;_===void 0&&(_=[]);var ue,se,he,me=H,Se,ye,ke;if(this.tokens.links){var Te=Object.keys(this.tokens.links);if(Te.length>0)for(;(Se=this.tokenizer.rules.inline.reflinkSearch.exec(me))!=null;)Te.includes(Se[0].slice(Se[0].lastIndexOf("[")+1,-1))&&(me=me.slice(0,Se.index)+"["+P("a",Se[0].length-2)+"]"+me.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Se=this.tokenizer.rules.inline.blockSkip.exec(me))!=null;)me=me.slice(0,Se.index)+"["+P("a",Se[0].length-2)+"]"+me.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Se=this.tokenizer.rules.inline.escapedEmSt.exec(me))!=null;)me=me.slice(0,Se.index)+"++"+me.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(ye||(ke=""),ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ie){return(ue=Ie.call({lexer:ce},H,_))?(H=H.substring(ue.raw.length),_.push(ue),!0):!1}))){if(ue=this.tokenizer.escape(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.tag(H)){H=H.substring(ue.raw.length),se=_[_.length-1],se&&ue.type==="text"&&se.type==="text"?(se.raw+=ue.raw,se.text+=ue.text):_.push(ue);continue}if(ue=this.tokenizer.link(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.reflink(H,this.tokens.links)){H=H.substring(ue.raw.length),se=_[_.length-1],se&&ue.type==="text"&&se.type==="text"?(se.raw+=ue.raw,se.text+=ue.text):_.push(ue);continue}if(ue=this.tokenizer.emStrong(H,me,ke)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.codespan(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.br(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.del(H)){H=H.substring(ue.raw.length),_.push(ue);continue}if(ue=this.tokenizer.autolink(H,R)){H=H.substring(ue.raw.length),_.push(ue);continue}if(!this.state.inLink&&(ue=this.tokenizer.url(H,R))){H=H.substring(ue.raw.length),_.push(ue);continue}if(he=H,this.options.extensions&&this.options.extensions.startInline&&function(){var Ie=1/0,ve=H.slice(1),ge=void 0;ce.options.extensions.startInline.forEach(function(we){ge=we.call({lexer:this},ve),typeof ge=="number"&&ge>=0&&(Ie=Math.min(Ie,ge))}),Ie<1/0&&Ie>=0&&(he=H.substring(0,Ie+1))}(),ue=this.tokenizer.inlineText(he,V)){H=H.substring(ue.raw.length),ue.raw.slice(-1)!=="_"&&(ke=ue.raw.slice(-1)),ye=!0,se=_[_.length-1],se&&se.type==="text"?(se.raw+=ue.raw,se.text+=ue.text):_.push(ue);continue}if(H){var Pe="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(Pe);break}else throw new Error(Pe)}}return _},w(Z,null,[{key:"rules",get:function(){return{block:F,inline:W}}}]),Z}(),X=function(){function Z(j){this.options=j||K.defaults}var U=Z.prototype;return U.code=function(H,_,ce){var ue=(_||"").match(/\S*/)[0];if(this.options.highlight){var se=this.options.highlight(H,ue);se!=null&&se!==H&&(ce=!0,H=se)}return H=H.replace(/\n$/,"")+`
`,ue?'<pre><code class="'+this.options.langPrefix+a(ue,!0)+'">'+(ce?H:a(H,!0))+`</code></pre>
`:"<pre><code>"+(ce?H:a(H,!0))+`</code></pre>
`},U.blockquote=function(H){return`<blockquote>
`+H+`</blockquote>
`},U.html=function(H){return H},U.heading=function(H,_,ce,ue){if(this.options.headerIds){var se=this.options.headerPrefix+ue.slug(ce);return"<h"+_+' id="'+se+'">'+H+"</h"+_+`>
`}return"<h"+_+">"+H+"</h"+_+`>
`},U.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},U.list=function(H,_,ce){var ue=_?"ol":"ul",se=_&&ce!==1?' start="'+ce+'"':"";return"<"+ue+se+`>
`+H+"</"+ue+`>
`},U.listitem=function(H){return"<li>"+H+`</li>
`},U.checkbox=function(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},U.paragraph=function(H){return"<p>"+H+`</p>
`},U.table=function(H,_){return _&&(_="<tbody>"+_+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+_+`</table>
`},U.tablerow=function(H){return`<tr>
`+H+`</tr>
`},U.tablecell=function(H,_){var ce=_.header?"th":"td",ue=_.align?"<"+ce+' align="'+_.align+'">':"<"+ce+">";return ue+H+("</"+ce+`>
`)},U.strong=function(H){return"<strong>"+H+"</strong>"},U.em=function(H){return"<em>"+H+"</em>"},U.codespan=function(H){return"<code>"+H+"</code>"},U.br=function(){return this.options.xhtml?"<br/>":"<br>"},U.del=function(H){return"<del>"+H+"</del>"},U.link=function(H,_,ce){if(H=h(this.options.sanitize,this.options.baseUrl,H),H===null)return ce;var ue='<a href="'+a(H)+'"';return _&&(ue+=' title="'+_+'"'),ue+=">"+ce+"</a>",ue},U.image=function(H,_,ce){if(H=h(this.options.sanitize,this.options.baseUrl,H),H===null)return ce;var ue='<img src="'+H+'" alt="'+ce+'"';return _&&(ue+=' title="'+_+'"'),ue+=this.options.xhtml?"/>":">",ue},U.text=function(H){return H},Z}(),ne=function(){function Z(){}var U=Z.prototype;return U.strong=function(H){return H},U.em=function(H){return H},U.codespan=function(H){return H},U.del=function(H){return H},U.html=function(H){return H},U.text=function(H){return H},U.link=function(H,_,ce){return""+ce},U.image=function(H,_,ce){return""+ce},U.br=function(){return""},Z}(),ae=function(){function Z(){this.seen={}}var U=Z.prototype;return U.serialize=function(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},U.getNextSafeSlug=function(H,_){var ce=H,ue=0;if(this.seen.hasOwnProperty(ce)){ue=this.seen[H];do ue++,ce=H+"-"+ue;while(this.seen.hasOwnProperty(ce))}return _||(this.seen[H]=ue,this.seen[ce]=0),ce},U.slug=function(H,_){_===void 0&&(_={});var ce=this.serialize(H);return this.getNextSafeSlug(ce,_.dryrun)},Z}(),ie=function(){function Z(j){this.options=j||K.defaults,this.options.renderer=this.options.renderer||new X,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ne,this.slugger=new ae}Z.parse=function(H,_){var ce=new Z(_);return ce.parse(H)},Z.parseInline=function(H,_){var ce=new Z(_);return ce.parseInline(H)};var U=Z.prototype;return U.parse=function(H,_){_===void 0&&(_=!0);var ce="",ue,se,he,me,Se,ye,ke,Te,Pe,Ie,ve,ge,we,de,pe,be,Ce,Ee,Ae,Me=H.length;for(ue=0;ue<Me;ue++){if(Ie=H[ue],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ie.type]&&(Ae=this.options.extensions.renderers[Ie.type].call({parser:this},Ie),Ae!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ie.type))){ce+=Ae||"";continue}switch(Ie.type){case"space":continue;case"hr":{ce+=this.renderer.hr();continue}case"heading":{ce+=this.renderer.heading(this.parseInline(Ie.tokens),Ie.depth,c(this.parseInline(Ie.tokens,this.textRenderer)),this.slugger);continue}case"code":{ce+=this.renderer.code(Ie.text,Ie.lang,Ie.escaped);continue}case"table":{for(Te="",ke="",me=Ie.header.length,se=0;se<me;se++)ke+=this.renderer.tablecell(this.parseInline(Ie.header[se].tokens),{header:!0,align:Ie.align[se]});for(Te+=this.renderer.tablerow(ke),Pe="",me=Ie.rows.length,se=0;se<me;se++){for(ye=Ie.rows[se],ke="",Se=ye.length,he=0;he<Se;he++)ke+=this.renderer.tablecell(this.parseInline(ye[he].tokens),{header:!1,align:Ie.align[he]});Pe+=this.renderer.tablerow(ke)}ce+=this.renderer.table(Te,Pe);continue}case"blockquote":{Pe=this.parse(Ie.tokens),ce+=this.renderer.blockquote(Pe);continue}case"list":{for(ve=Ie.ordered,ge=Ie.start,we=Ie.loose,me=Ie.items.length,Pe="",se=0;se<me;se++)pe=Ie.items[se],be=pe.checked,Ce=pe.task,de="",pe.task&&(Ee=this.renderer.checkbox(be),we?pe.tokens.length>0&&pe.tokens[0].type==="paragraph"?(pe.tokens[0].text=Ee+" "+pe.tokens[0].text,pe.tokens[0].tokens&&pe.tokens[0].tokens.length>0&&pe.tokens[0].tokens[0].type==="text"&&(pe.tokens[0].tokens[0].text=Ee+" "+pe.tokens[0].tokens[0].text)):pe.tokens.unshift({type:"text",text:Ee}):de+=Ee),de+=this.parse(pe.tokens,we),Pe+=this.renderer.listitem(de,Ce,be);ce+=this.renderer.list(Pe,ve,ge);continue}case"html":{ce+=this.renderer.html(Ie.text);continue}case"paragraph":{ce+=this.renderer.paragraph(this.parseInline(Ie.tokens));continue}case"text":{for(Pe=Ie.tokens?this.parseInline(Ie.tokens):Ie.text;ue+1<Me&&H[ue+1].type==="text";)Ie=H[++ue],Pe+=`
`+(Ie.tokens?this.parseInline(Ie.tokens):Ie.text);ce+=_?this.renderer.paragraph(Pe):Pe;continue}default:{var Re='Token with "'+Ie.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return ce},U.parseInline=function(H,_){_=_||this.renderer;var ce="",ue,se,he,me=H.length;for(ue=0;ue<me;ue++){if(se=H[ue],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[se.type]&&(he=this.options.extensions.renderers[se.type].call({parser:this},se),he!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(se.type))){ce+=he||"";continue}switch(se.type){case"escape":{ce+=_.text(se.text);break}case"html":{ce+=_.html(se.text);break}case"link":{ce+=_.link(se.href,se.title,this.parseInline(se.tokens,_));break}case"image":{ce+=_.image(se.href,se.title,se.text);break}case"strong":{ce+=_.strong(this.parseInline(se.tokens,_));break}case"em":{ce+=_.em(this.parseInline(se.tokens,_));break}case"codespan":{ce+=_.codespan(se.text);break}case"br":{ce+=_.br();break}case"del":{ce+=_.del(this.parseInline(se.tokens,_));break}case"text":{ce+=_.text(se.text);break}default:{var Se='Token with "'+se.type+'" type was not found.';if(this.options.silent){console.error(Se);return}else throw new Error(Se)}}}return ce},Z}();function le(Z,U,j){if(typeof Z>"u"||Z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");if(typeof U=="function"&&(j=U,U=null),U=k({},le.defaults,U||{}),z(U),j){var H=U.highlight,_;try{_=$.lex(Z,U)}catch(me){return j(me)}var ce=function(Se){var ye;if(!Se)try{U.walkTokens&&le.walkTokens(_,U.walkTokens),ye=ie.parse(_,U)}catch(ke){Se=ke}return U.highlight=H,Se?j(Se):j(null,ye)};if(!H||H.length<3||(delete U.highlight,!_.length))return ce();var ue=0;le.walkTokens(_,function(me){me.type==="code"&&(ue++,setTimeout(function(){H(me.text,me.lang,function(Se,ye){if(Se)return ce(Se);ye!=null&&ye!==me.text&&(me.text=ye,me.escaped=!0),ue--,ue===0&&ce()})},0))}),ue===0&&ce();return}function se(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,U.silent)return"<p>An error occurred:</p><pre>"+a(me.message+"",!0)+"</pre>";throw me}try{var he=$.lex(Z,U);if(U.walkTokens){if(U.async)return Promise.all(le.walkTokens(he,U.walkTokens)).then(function(){return ie.parse(he,U)}).catch(se);le.walkTokens(he,U.walkTokens)}return ie.parse(he,U)}catch(me){se(me)}}le.options=le.setOptions=function(Z){return k(le.defaults,Z),v(le.defaults),le},le.getDefaults=y,le.defaults=K.defaults,le.use=function(){for(var Z=arguments.length,U=new Array(Z),j=0;j<Z;j++)U[j]=arguments[j];var H=k.apply(void 0,[{}].concat(U)),_=le.defaults.extensions||{renderers:{},childTokens:{}},ce;U.forEach(function(ue){if(ue.extensions&&(ce=!0,ue.extensions.forEach(function(he){if(!he.name)throw new Error("extension name required");if(he.renderer){var me=_.renderers?_.renderers[he.name]:null;me?_.renderers[he.name]=function(){for(var Se=arguments.length,ye=new Array(Se),ke=0;ke<Se;ke++)ye[ke]=arguments[ke];var Te=he.renderer.apply(this,ye);return Te===!1&&(Te=me.apply(this,ye)),Te}:_.renderers[he.name]=he.renderer}if(he.tokenizer){if(!he.level||he.level!=="block"&&he.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");_[he.level]?_[he.level].unshift(he.tokenizer):_[he.level]=[he.tokenizer],he.start&&(he.level==="block"?_.startBlock?_.startBlock.push(he.start):_.startBlock=[he.start]:he.level==="inline"&&(_.startInline?_.startInline.push(he.start):_.startInline=[he.start]))}he.childTokens&&(_.childTokens[he.name]=he.childTokens)})),ue.renderer&&function(){var he=le.defaults.renderer||new X,me=function(ke){var Te=he[ke];he[ke]=function(){for(var Pe=arguments.length,Ie=new Array(Pe),ve=0;ve<Pe;ve++)Ie[ve]=arguments[ve];var ge=ue.renderer[ke].apply(he,Ie);return ge===!1&&(ge=Te.apply(he,Ie)),ge}};for(var Se in ue.renderer)me(Se);H.renderer=he}(),ue.tokenizer&&function(){var he=le.defaults.tokenizer||new O,me=function(ke){var Te=he[ke];he[ke]=function(){for(var Pe=arguments.length,Ie=new Array(Pe),ve=0;ve<Pe;ve++)Ie[ve]=arguments[ve];var ge=ue.tokenizer[ke].apply(he,Ie);return ge===!1&&(ge=Te.apply(he,Ie)),ge}};for(var Se in ue.tokenizer)me(Se);H.tokenizer=he}(),ue.walkTokens){var se=le.defaults.walkTokens;H.walkTokens=function(he){var me=[];return me.push(ue.walkTokens.call(this,he)),se&&(me=me.concat(se.call(this,he))),me}}ce&&(H.extensions=_),le.setOptions(H)})},le.walkTokens=function(Z,U){for(var j=[],H=function(){var se=ce.value;switch(j=j.concat(U.call(le,se)),se.type){case"table":{for(var he=D(se.header),me;!(me=he()).done;){var Se=me.value;j=j.concat(le.walkTokens(Se.tokens,U))}for(var ye=D(se.rows),ke;!(ke=ye()).done;)for(var Te=ke.value,Pe=D(Te),Ie;!(Ie=Pe()).done;){var ve=Ie.value;j=j.concat(le.walkTokens(ve.tokens,U))}break}case"list":{j=j.concat(le.walkTokens(se.items,U));break}default:le.defaults.extensions&&le.defaults.extensions.childTokens&&le.defaults.extensions.childTokens[se.type]?le.defaults.extensions.childTokens[se.type].forEach(function(ge){j=j.concat(le.walkTokens(se[ge],U))}):se.tokens&&(j=j.concat(le.walkTokens(se.tokens,U)))}},_=D(Z),ce;!(ce=_()).done;)H();return j},le.parseInline=function(Z,U){if(typeof Z>"u"||Z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");U=k({},le.defaults,U||{}),z(U);try{var j=$.lexInline(Z,U);return U.walkTokens&&le.walkTokens(j,U.walkTokens),ie.parseInline(j,U)}catch(H){if(H.message+=`
Please report this to https://github.com/markedjs/marked.`,U.silent)return"<p>An error occurred:</p><pre>"+a(H.message+"",!0)+"</pre>";throw H}},le.Parser=ie,le.parser=ie.parse,le.Renderer=X,le.TextRenderer=ne,le.Lexer=$,le.lexer=$.lex,le.Tokenizer=O,le.Slugger=ae,le.parse=le;var J=le.options,x=le.setOptions,q=le.use,Y=le.walkTokens,Q=le.parseInline,re=le,oe=ie.parse,G=$.lex;K.Lexer=$,K.Parser=ie,K.Renderer=X,K.Slugger=ae,K.TextRenderer=ne,K.Tokenizer=O,K.getDefaults=y,K.lexer=G,K.marked=le,K.options=J,K.parse=re,K.parseInline=Q,K.parser=oe,K.setOptions=x,K.use=q,K.walkTokens=Y,Object.defineProperty(K,"__esModule",{value:!0})}),define(ee[101],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ee[127],te([1,0,101]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.Mimes.text}}),define(ee[345],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class w{constructor(E,D=0,y=E.length,v=D-1){this.a=E,this.b=D,this.c=y,this.d=v}current(){return this.d===this.b-1||this.d===this.c?null:this.a[this.d]}next(){return this.d=Math.min(this.d+1,this.c),this.current()}previous(){return this.d=Math.max(this.d-1,this.b-1),this.current()}first(){return this.d=this.b,this.current()}last(){return this.d=this.c-1,this.current()}}e.ArrayNavigator=w}),define(ee[346],te([1,0,345]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class N{constructor(D=[],y=10){this.h(D),this.b=y,this.d()}getHistory(){return this.i}add(D){this.a.delete(D),this.a.add(D),this.d()}next(){return this.g()!==this.i.length-1?this.c.next():null}previous(){return this.g()!==0?this.c.previous():null}current(){return this.c.current()}first(){return this.c.first()}last(){return this.c.last()}isLast(){return this.g()===this.i.length-1}isNowhere(){return this.c.current()===null}has(D){return this.a.has(D)}d(){this.f();const D=this.i;this.c=new w.ArrayNavigator(D,0,D.length,D.length)}f(){const D=this.i;D.length>this.b&&this.h(D.slice(D.length-this.b))}g(){const D=this.c.current();return D?this.i.indexOf(D):-1}h(D){this.a=new Set;for(const y of D)this.a.add(y)}get i(){const D=[];return this.a.forEach(y=>D.push(y)),D}}e.HistoryNavigator=N}),define(ee[128],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function w(D,y,v){return Math.min(Math.max(D,y),v)}e.clamp=w;class N{constructor(){this.a=1,this.b=0}update(y){return this.b=this.b+(y-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.MovingAverage=N;class E{constructor(y){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(y),this.c.fill(0,0,y)}update(y){const v=this.c[this.d];return this.c[this.d]=y,this.d=(this.d+1)%this.c.length,this.e-=v,this.e+=y,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.SlidingWindowAverage=E}),define(ee[151],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var w;(function(N){function E(C,d){if(C.start>=d.end||d.start>=C.end)return{start:0,end:0};const g=Math.max(C.start,d.start),i=Math.min(C.end,d.end);return i-g<=0?{start:0,end:0}:{start:g,end:i}}N.intersect=E;function D(C){return C.end-C.start<=0}N.isEmpty=D;function y(C,d){return!D(E(C,d))}N.intersects=y;function v(C,d){const g=[],i={start:C.start,end:Math.min(d.start,C.end)},t={start:Math.max(d.end,C.start),end:C.end};return D(i)||g.push(i),D(t)||g.push(t),g}N.relativeComplement=v})(w=e.Range||(e.Range={}))}),define(ee[347],te([1,0,151]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function N(C,d){const g=[];for(const i of d){if(C.start>=i.range.end)continue;if(C.end<i.range.start)break;const t=w.Range.intersect(C,i.range);w.Range.isEmpty(t)||g.push({range:t,size:i.size})}return g}e.groupIntersect=N;function E({start:C,end:d},g){return{start:C+g,end:d+g}}e.shift=E;function D(C){const d=[];let g=null;for(const i of C){const t=i.range.start,n=i.range.end,a=i.size;if(g&&a===g.size){g.range.end=n;continue}g={range:{start:t,end:n},size:a},d.push(g)}return d}e.consolidate=D;function y(...C){return D(C.reduce((d,g)=>d.concat(g),[]))}class v{constructor(){this.a=[],this.b=0}splice(d,g,i=[]){const t=i.length-g,n=N({start:0,end:d},this.a),a=N({start:d+g,end:Number.POSITIVE_INFINITY},this.a).map(c=>({range:E(c.range,t),size:c.size})),r=i.map((c,u)=>({range:{start:d+u,end:d+u+1},size:c.size}));this.a=y(n,r,a),this.b=this.a.reduce((c,u)=>c+u.size*(u.range.end-u.range.start),0)}get count(){const d=this.a.length;return d?this.a[d-1].range.end:0}get size(){return this.b}indexAt(d){if(d<0)return-1;let g=0,i=0;for(const t of this.a){const n=t.range.end-t.range.start,a=i+n*t.size;if(d<a)return g+Math.floor((d-i)/t.size);g+=n,i=a}return g}indexAfter(d){return Math.min(this.indexAt(d)+1,this.count)}positionAt(d){if(d<0)return-1;let g=0,i=0;for(const t of this.a){const n=t.range.end-t.range.start,a=i+n;if(d<a)return g+(d-i)*t.size;g+=n*t.size,i=a}return-1}}e.RangeMap=v}),define(ee[9],te([1,0,236,100]),function(K,e,w,N){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(se){return!se||typeof se!="string"?!0:se.trim().length===0}e.isFalsyOrWhitespace=D;const y=/{(\d+)}/g;function v(se,...he){return he.length===0?se:se.replace(y,function(me,Se){const ye=parseInt(Se,10);return isNaN(ye)||ye<0||ye>=he.length?me:he[ye]})}e.format=v;function C(se){return se.replace(/[<>&]/g,function(he){switch(he){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return he}})}e.escape=C;function d(se){return se.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=d;function g(se,he=" "){const me=i(se,he);return t(me,he)}e.trim=g;function i(se,he){if(!se||!he)return se;const me=he.length;if(me===0||se.length===0)return se;let Se=0;for(;se.indexOf(he,Se)===Se;)Se=Se+me;return se.substring(Se)}e.ltrim=i;function t(se,he){if(!se||!he)return se;const me=he.length,Se=se.length;if(me===0||Se===0)return se;let ye=Se,ke=-1;for(;ke=se.lastIndexOf(he,ye-1),!(ke===-1||ke+me!==ye);){if(ke===0)return"";ye=ke}return se.substring(0,ye)}e.rtrim=t;function n(se){return se.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function a(se){return se.replace(/\*/g,"")}e.stripWildcards=a;function r(se,he,me={}){if(!se)throw new Error("Cannot create regex from empty string");he||(se=d(se)),me.wholeWord&&(/\B/.test(se.charAt(0))||(se="\\b"+se),/\B/.test(se.charAt(se.length-1))||(se=se+"\\b"));let Se="";return me.global&&(Se+="g"),me.matchCase||(Se+="i"),me.multiline&&(Se+="m"),me.unicode&&(Se+="u"),new RegExp(se,Se)}e.createRegExp=r;function c(se){return se.source==="^"||se.source==="^$"||se.source==="$"||se.source==="^\\s*$"?!1:!!(se.exec("")&&se.lastIndex===0)}e.regExpLeadsToEndlessLoop=c;function u(se){return(se.global?"g":"")+(se.ignoreCase?"i":"")+(se.multiline?"m":"")+(se.unicode?"u":"")}e.regExpFlags=u;function s(se){return se.split(/\r\n|\r|\n/)}e.splitLines=s;function l(se){for(let he=0,me=se.length;he<me;he++){const Se=se.charCodeAt(he);if(Se!==32&&Se!==9)return he}return-1}e.firstNonWhitespaceIndex=l;function o(se,he=0,me=se.length){for(let Se=he;Se<me;Se++){const ye=se.charCodeAt(Se);if(ye!==32&&ye!==9)return se.substring(he,Se)}return se.substring(he,me)}e.getLeadingWhitespace=o;function h(se,he=se.length-1){for(let me=he;me>=0;me--){const Se=se.charCodeAt(me);if(Se!==32&&Se!==9)return me}return-1}e.lastNonWhitespaceIndex=h;function f(se,he){return se<he?-1:se>he?1:0}e.compare=f;function S(se,he,me=0,Se=se.length,ye=0,ke=he.length){for(;me<Se&&ye<ke;me++,ye++){const Ie=se.charCodeAt(me),ve=he.charCodeAt(ye);if(Ie<ve)return-1;if(Ie>ve)return 1}const Te=Se-me,Pe=ke-ye;return Te<Pe?-1:Te>Pe?1:0}e.compareSubstring=S;function p(se,he){return m(se,he,0,se.length,0,he.length)}e.compareIgnoreCase=p;function m(se,he,me=0,Se=se.length,ye=0,ke=he.length){for(;me<Se&&ye<ke;me++,ye++){let Ie=se.charCodeAt(me),ve=he.charCodeAt(ye);if(Ie===ve)continue;if(Ie>=128||ve>=128)return S(se.toLowerCase(),he.toLowerCase(),me,Se,ye,ke);L(Ie)&&(Ie-=32),L(ve)&&(ve-=32);const ge=Ie-ve;if(ge!==0)return ge}const Te=Se-me,Pe=ke-ye;return Te<Pe?-1:Te>Pe?1:0}e.compareSubstringIgnoreCase=m;function b(se){return se>=48&&se<=57}e.isAsciiDigit=b;function L(se){return se>=97&&se<=122}e.isLowerAsciiLetter=L;function k(se){return se>=65&&se<=90}e.isUpperAsciiLetter=k;function I(se,he){return se.length===he.length&&m(se,he)===0}e.equalsIgnoreCase=I;function M(se,he){const me=he.length;return he.length>se.length?!1:m(se,he,0,me)===0}e.startsWithIgnoreCase=M;function B(se,he){const me=Math.min(se.length,he.length);let Se;for(Se=0;Se<me;Se++)if(se.charCodeAt(Se)!==he.charCodeAt(Se))return Se;return me}e.commonPrefixLength=B;function z(se,he){const me=Math.min(se.length,he.length);let Se;const ye=se.length-1,ke=he.length-1;for(Se=0;Se<me;Se++)if(se.charCodeAt(ye-Se)!==he.charCodeAt(ke-Se))return Se;return me}e.commonSuffixLength=z;function P(se){return 55296<=se&&se<=56319}e.isHighSurrogate=P;function A(se){return 56320<=se&&se<=57343}e.isLowSurrogate=A;function T(se,he){return(se-55296<<10)+(he-56320)+65536}e.computeCodePoint=T;function O(se,he,me){const Se=se.charCodeAt(me);if(P(Se)&&me+1<he){const ye=se.charCodeAt(me+1);if(A(ye))return T(Se,ye)}return Se}e.getNextCodePoint=O;function F(se,he){const me=se.charCodeAt(he-1);if(A(me)&&he>1){const Se=se.charCodeAt(he-2);if(P(Se))return T(Se,me)}return me}class W{get offset(){return this.e}constructor(he,me=0){this.c=he,this.d=he.length,this.e=me}setOffset(he){this.e=he}prevCodePoint(){const he=F(this.c,this.e);return this.e-=he>=65536?2:1,he}nextCodePoint(){const he=O(this.c,this.d,this.e);return this.e+=he>=65536?2:1,he}eol(){return this.e>=this.d}}e.CodePointIterator=W;class V{get offset(){return this.c.offset}constructor(he,me=0){this.c=new W(he,me)}nextGraphemeLength(){const he=Z.getInstance(),me=this.c,Se=me.offset;let ye=he.getGraphemeBreakType(me.nextCodePoint());for(;!me.eol();){const ke=me.offset,Te=he.getGraphemeBreakType(me.nextCodePoint());if(G(ye,Te)){me.setOffset(ke);break}ye=Te}return me.offset-Se}prevGraphemeLength(){const he=Z.getInstance(),me=this.c,Se=me.offset;let ye=he.getGraphemeBreakType(me.prevCodePoint());for(;me.offset>0;){const ke=me.offset,Te=he.getGraphemeBreakType(me.prevCodePoint());if(G(Te,ye)){me.setOffset(ke);break}ye=Te}return Se-me.offset}eol(){return this.c.eol()}}e.GraphemeIterator=V;function R(se,he){return new V(se,he).nextGraphemeLength()}e.nextCharLength=R;function $(se,he){return new V(se,he).prevGraphemeLength()}e.prevCharLength=$;function X(se,he){he>0&&A(se.charCodeAt(he))&&he--;const me=he+R(se,he);return[me-$(se,me),me]}e.getCharContainingOffset=X;let ne;function ae(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ie(se){return ne||(ne=ae()),ne.test(se)}e.containsRTL=ie;const le=/^[\t\n\r\x20-\x7E]*$/;function J(se){return le.test(se)}e.isBasicASCII=J,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function x(se){return e.UNUSUAL_LINE_TERMINATORS.test(se)}e.containsUnusualLineTerminators=x;function q(se){return se>=11904&&se<=55215||se>=63744&&se<=64255||se>=65281&&se<=65374}e.isFullWidthCharacter=q;function Y(se){return se>=127462&&se<=127487||se===8986||se===8987||se===9200||se===9203||se>=9728&&se<=10175||se===11088||se===11093||se>=127744&&se<=128591||se>=128640&&se<=128764||se>=128992&&se<=129008||se>=129280&&se<=129535||se>=129648&&se<=129782}e.isEmojiImprecise=Y,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Q(se){return!!(se&&se.length>0&&se.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Q;function re(se,he=!1){return se?(he&&(se=se.replace(/\\./g,"")),se.toLowerCase()!==se):!1}e.containsUppercaseCharacter=re;function oe(se){return se=se%(2*26),se<26?String.fromCharCode(97+se):String.fromCharCode(65+se-26)}e.singleLetterHash=oe;function G(se,he){return se===0?he!==5&&he!==7:se===2&&he===3?!1:se===4||se===2||se===3||he===4||he===2||he===3?!0:!(se===8&&(he===8||he===9||he===11||he===12)||(se===11||se===9)&&(he===9||he===10)||(se===12||se===10)&&he===10||he===5||he===13||he===7||se===1||se===13&&he===14||se===6&&he===6)}class Z{static getInstance(){return Z.c||(Z.c=new Z),Z.c}constructor(){this.d=U()}getGraphemeBreakType(he){if(he<32)return he===10?3:he===13?2:4;if(he<127)return 0;const me=this.d,Se=me.length/3;let ye=1;for(;ye<=Se;)if(he<me[3*ye])ye=2*ye;else if(he>me[3*ye+1])ye=2*ye+1;else return me[3*ye+2];return 0}}Z.c=null;function U(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function j(se,he){if(se===0)return 0;const me=H(se,he);if(me!==void 0)return me;const Se=new W(he,se);return Se.prevCodePoint(),Se.offset}e.getLeftDeleteOffset=j;function H(se,he){const me=new W(he,se);let Se=me.prevCodePoint();for(;_(Se)||Se===65039||Se===8419;){if(me.offset===0)return;Se=me.prevCodePoint()}if(!Y(Se))return;let ye=me.offset;return ye>0&&me.prevCodePoint()===8205&&(ye=me.offset),ye}function _(se){return 127995<=se&&se<=127999}e.noBreakWhitespace="\xA0";class ce{static getInstance(he){return ce.d.get(Array.from(he))}static getLocales(){return ce.e.value}constructor(he){this.f=he}isAmbiguous(he){return this.f.has(he)}getPrimaryConfusable(he){return this.f.get(he)}getConfusableCodePoints(){return new Set(this.f.keys())}}E=ce,ce.c=new N.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ce.d=new w.LRUCachedFunction(se=>{function he(ve){const ge=new Map;for(let we=0;we<ve.length;we+=2)ge.set(ve[we],ve[we+1]);return ge}function me(ve,ge){const we=new Map(ve);for(const[de,pe]of ge)we.set(de,pe);return we}function Se(ve,ge){if(!ve)return ge;const we=new Map;for(const[de,pe]of ve)ge.has(de)&&we.set(de,pe);return we}const ye=E.c.value;let ke=se.filter(ve=>!ve.startsWith("_")&&ve in ye);ke.length===0&&(ke=["_default"]);let Te;for(const ve of ke){const ge=he(ye[ve]);Te=Se(Te,ge)}const Pe=he(ye._common),Ie=me(Pe,Te);return new ce(Ie)}),ce.e=new N.Lazy(()=>Object.keys(ce.c.value).filter(se=>!se.startsWith("_"))),e.AmbiguousCharacters=ce;class ue{static c(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static e(){return this.d||(this.d=new Set(ue.c())),this.d}static isInvisibleCharacter(he){return ue.e().has(he)}static get codePoints(){return ue.e()}}ue.d=void 0,e.InvisibleCharacters=ue}),define(ee[63],te([1,0,55,9]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function E(...j){return function(H,_){for(let ce=0,ue=j.length;ce<ue;ce++){const se=j[ce](H,_);if(se)return se}return null}}e.or=E,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(j,H,_){if(!_||_.length<H.length)return null;let ce;return j?ce=N.startsWithIgnoreCase(_,H):ce=_.indexOf(H)===0,ce?H.length>0?[{start:0,end:H.length}]:[]:null}function y(j,H){const _=H.toLowerCase().indexOf(j.toLowerCase());return _===-1?null:[{start:_,end:_+j.length}]}e.matchesContiguousSubString=y;function v(j,H){return C(j.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=v;function C(j,H,_,ce){if(_===j.length)return[];if(ce===H.length)return null;if(j[_]===H[ce]){let ue=null;return(ue=C(j,H,_+1,ce+1))?u({start:ce,end:ce+1},ue):null}return C(j,H,_,ce+1)}function d(j){return 97<=j&&j<=122}function g(j){return 65<=j&&j<=90}e.isUpper=g;function i(j){return 48<=j&&j<=57}function t(j){return j===32||j===9||j===10||j===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(j=>n.add(j.charCodeAt(0)));function a(j){return t(j)||n.has(j)}function r(j,H){return j===H||a(j)&&a(H)}function c(j){return d(j)||g(j)||i(j)}function u(j,H){return H.length===0?H=[j]:j.end===H[0].start?H[0].start=j.start:H.unshift(j),H}function s(j,H){for(let _=H;_<j.length;_++){const ce=j.charCodeAt(_);if(g(ce)||i(ce)||_>0&&!c(j.charCodeAt(_-1)))return _}return j.length}function l(j,H,_,ce){if(_===j.length)return[];if(ce===H.length)return null;if(j[_]!==H[ce].toLowerCase())return null;{let ue=null,se=ce+1;for(ue=l(j,H,_+1,ce+1);!ue&&(se=s(H,se))<H.length;)ue=l(j,H,_+1,se),se++;return ue===null?null:u({start:ce,end:ce+1},ue)}}function o(j){let H=0,_=0,ce=0,ue=0,se=0;for(let ke=0;ke<j.length;ke++)se=j.charCodeAt(ke),g(se)&&H++,d(se)&&_++,c(se)&&ce++,i(se)&&ue++;const he=H/j.length,me=_/j.length,Se=ce/j.length,ye=ue/j.length;return{upperPercent:he,lowerPercent:me,alphaPercent:Se,numericPercent:ye}}function h(j){const{upperPercent:H,lowerPercent:_}=j;return _===0&&H>.6}function f(j){const{upperPercent:H,lowerPercent:_,alphaPercent:ce,numericPercent:ue}=j;return _>.2&&H<.8&&ce>.6&&ue<.2}function S(j){let H=0,_=0,ce=0,ue=0;for(let se=0;se<j.length;se++)ce=j.charCodeAt(se),g(ce)&&H++,d(ce)&&_++,t(ce)&&ue++;return(H===0||_===0)&&ue===0?j.length<=30:H<=5}function p(j,H){if(!H||(H=H.trim(),H.length===0)||!S(j)||H.length>60)return null;const _=o(H);if(!f(_)){if(!h(_))return null;H=H.toLowerCase()}let ce=null,ue=0;for(j=j.toLowerCase();ue<H.length&&(ce=l(j,H,0,ue))===null;)ue=s(H,ue+1);return ce}e.matchesCamelCase=p;function m(j,H,_=!1){if(!H||H.length===0)return null;let ce=null,ue=0;for(j=j.toLowerCase(),H=H.toLowerCase();ue<H.length&&(ce=b(j,H,0,ue,_))===null;)ue=L(H,ue+1);return ce}e.matchesWords=m;function b(j,H,_,ce,ue){if(_===j.length)return[];if(ce===H.length)return null;if(r(j.charCodeAt(_),H.charCodeAt(ce))){let se=null,he=ce+1;if(se=b(j,H,_+1,ce+1,ue),!ue)for(;!se&&(he=L(H,he))<H.length;)se=b(j,H,_+1,he,ue),he++;return se?j.charCodeAt(_)!==H.charCodeAt(ce)?se:u({start:ce,end:ce+1},se):null}else return null}function L(j,H){for(let _=H;_<j.length;_++)if(a(j.charCodeAt(_))||_>0&&a(j.charCodeAt(_-1)))return _;return j.length}const k=E(e.matchesPrefix,p,y),I=E(e.matchesPrefix,p,v),M=new w.LRUCache(1e4);function B(j,H,_=!1){if(typeof j!="string"||typeof H!="string")return null;let ce=M.get(j);ce||(ce=new RegExp(N.convertSimple2RegExpPattern(j),"i"),M.set(j,ce));const ue=ce.exec(H);return ue?[{start:ue.index,end:ue.index+ue[0].length}]:_?I(j,H):k(j,H)}e.matchesFuzzy=B;function z(j,H,_,ce,ue,se){const he=Math.min(13,j.length);for(;_<he;_++){const me=Q(j,H,_,ce,ue,se,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(me)return me}return[0,se]}e.anyScore=z;function P(j){if(typeof j>"u")return[];const H=[],_=j[1];for(let ce=j.length-1;ce>1;ce--){const ue=j[ce]+_,se=H[H.length-1];se&&se.end===ue?se.end=ue+1:H.push({start:ue,end:ue+1})}return H}e.createMatches=P;const A=128;function T(){const j=[],H=[];for(let _=0;_<=A;_++)H[_]=0;for(let _=0;_<=A;_++)j.push(H.slice(0));return j}function O(j){const H=[];for(let _=0;_<=j;_++)H[_]=0;return H}const F=O(2*A),W=O(2*A),V=T(),R=T(),$=T(),X=!1;function ne(j,H,_,ce,ue){function se(me,Se,ye=" "){for(;me.length<Se;)me=ye+me;return me}let he=` |   |${ce.split("").map(me=>se(me,3)).join("|")}
`;for(let me=0;me<=_;me++)me===0?he+=" |":he+=`${H[me-1]}|`,he+=j[me].slice(0,ue+1).map(Se=>se(Se.toString(),3)).join("|")+`
`;return he}function ae(j,H,_,ce){j=j.substr(H),_=_.substr(ce),console.log(ne(R,j,j.length,_,_.length)),console.log(ne($,j,j.length,_,_.length)),console.log(ne(V,j,j.length,_,_.length))}function ie(j,H){if(H<0||H>=j.length)return!1;const _=j.codePointAt(H);switch(_){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!N.isEmojiImprecise(_)}}function le(j,H){if(H<0||H>=j.length)return!1;switch(j.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function J(j,H,_){return H[j]!==_[j]}function x(j,H,_,ce,ue,se,he=!1){for(;H<_&&ue<se;)j[H]===ce[ue]&&(he&&(F[H]=ue),H+=1),ue+=1;return H===_}e.isPatternInWord=x;var q;(function(j){j.Default=[-100,0];function H(_){return!_||_.length===2&&_[0]===-100&&_[1]===0}j.isDefault=H})(q=e.FuzzyScore||(e.FuzzyScore={}));class Y{constructor(H,_){this.firstMatchCanBeWeak=H,this.boostFullMatch=_}}Y.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},e.FuzzyScoreOptions=Y;function Q(j,H,_,ce,ue,se,he=Y.default){const me=j.length>A?A:j.length,Se=ce.length>A?A:ce.length;if(_>=me||se>=Se||me-_>Se-se||!x(H,_,me,ue,se,Se,!0))return;re(me,Se,_,se,H,ue);let ye=1,ke=1,Te=_,Pe=se;const Ie=[!1];for(ye=1,Te=_;Te<me;ye++,Te++){const pe=F[Te],be=W[Te],Ce=Te+1<me?W[Te+1]:Se;for(ke=pe-se+1,Pe=pe;Pe<Ce;ke++,Pe++){let Ee=Number.MIN_SAFE_INTEGER,Ae=!1;Pe<=be&&(Ee=oe(j,H,Te,_,ce,ue,Pe,Se,se,V[ye-1][ke-1]===0,Ie));let Me=0;Ee!==Number.MAX_SAFE_INTEGER&&(Ae=!0,Me=Ee+R[ye-1][ke-1]);const Re=Pe>pe,ze=Re?R[ye][ke-1]+(V[ye][ke-1]>0?-5:0):0,Fe=Pe>pe+1&&V[ye][ke-1]>0,Ve=Fe?R[ye][ke-2]+(V[ye][ke-2]>0?-5:0):0;if(Fe&&(!Re||Ve>=ze)&&(!Ae||Ve>=Me))R[ye][ke]=Ve,$[ye][ke]=3,V[ye][ke]=0;else if(Re&&(!Ae||ze>=Me))R[ye][ke]=ze,$[ye][ke]=2,V[ye][ke]=0;else if(Ae)R[ye][ke]=Me,$[ye][ke]=1,V[ye][ke]=V[ye-1][ke-1]+1;else throw new Error("not possible")}}if(X&&ae(j,_,ce,se),!Ie[0]&&!he.firstMatchCanBeWeak)return;ye--,ke--;const ve=[R[ye][ke],se];let ge=0,we=0;for(;ye>=1;){let pe=ke;do{const be=$[ye][pe];if(be===3)pe=pe-2;else if(be===2)pe=pe-1;else break}while(pe>=1);ge>1&&H[_+ye-1]===ue[se+ke-1]&&!J(pe+se-1,ce,ue)&&ge+1>V[ye][pe]&&(pe=ke),pe===ke?ge++:ge=1,we||(we=pe),ye--,ke=pe-1,ve.push(ke)}Se===me&&he.boostFullMatch&&(ve[0]+=2);const de=we-me;return ve[0]-=de,ve}e.fuzzyScore=Q;function re(j,H,_,ce,ue,se){let he=j-1,me=H-1;for(;he>=_&&me>=ce;)ue[he]===se[me]&&(W[he]=me,he--),me--}function oe(j,H,_,ce,ue,se,he,me,Se,ye,ke){if(H[_]!==se[he])return Number.MIN_SAFE_INTEGER;let Te=1,Pe=!1;return he===_-ce?Te=j[_]===ue[he]?7:5:J(he,ue,se)&&(he===0||!J(he-1,ue,se))?(Te=j[_]===ue[he]?7:5,Pe=!0):ie(se,he)&&(he===0||!ie(se,he-1))?Te=5:(ie(se,he-1)||le(se,he-1))&&(Te=5,Pe=!0),Te>1&&_===ce&&(ke[0]=!0),Pe||(Pe=J(he,ue,se)||ie(se,he-1)||le(se,he-1)),_===ce?he>Se&&(Te-=Pe?3:5):ye?Te+=Pe?2:0:Te+=Pe?0:1,he+1===me&&(Te-=Pe?3:5),Te}function G(j,H,_,ce,ue,se,he){return Z(j,H,_,ce,ue,se,!0,he)}e.fuzzyScoreGracefulAggressive=G;function Z(j,H,_,ce,ue,se,he,me){let Se=Q(j,H,_,ce,ue,se,me);if(Se&&!he)return Se;if(j.length>=3){const ye=Math.min(7,j.length-1);for(let ke=_+1;ke<ye;ke++){const Te=U(j,ke);if(Te){const Pe=Q(Te,Te.toLowerCase(),_,ce,ue,se,me);Pe&&(Pe[0]-=3,(!Se||Pe[0]>Se[0])&&(Se=Pe))}}}return Se}function U(j,H){if(H+1>=j.length)return;const _=j[H],ce=j[H+1];if(_!==ce)return j.slice(0,H)+ce+_+j.slice(H+2)}}),define(ee[129],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function N(r){return E(r,0)}e.hash=N;function E(r,c){switch(typeof r){case"object":return r===null?D(349,c):Array.isArray(r)?C(r,c):d(r,c);case"string":return v(r,c);case"boolean":return y(r,c);case"number":return D(r,c);case"undefined":return D(937,c);default:return D(617,c)}}e.doHash=E;function D(r,c){return(c<<5)-c+r|0}e.numberHash=D;function y(r,c){return D(r?433:863,c)}function v(r,c){c=D(149417,c);for(let u=0,s=r.length;u<s;u++)c=D(r.charCodeAt(u),c);return c}e.stringHash=v;function C(r,c){return c=D(104579,c),r.reduce((u,s)=>E(s,u),c)}function d(r,c){return c=D(181387,c),Object.keys(r).sort().reduce((u,s)=>(u=v(s,u),E(r[s],u)),c)}function g(r,c,u=32){const s=u-c,l=~((1<<s)-1);return(r<<c|(l&r)>>>s)>>>0}function i(r,c=0,u=r.byteLength,s=0){for(let l=0;l<u;l++)r[c+l]=s}function t(r,c,u="0"){for(;r.length<c;)r=u+r;return r}function n(r,c=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(u=>u.toString(16).padStart(2,"0")).join(""):t((r>>>0).toString(16),c/4)}e.toHexString=n;class a{constructor(){this.h=1732584193,this.l=4023233417,this.m=2562383102,this.n=271733878,this.o=3285377520,this.p=new Uint8Array(64+3),this.q=new DataView(this.p.buffer),this.r=0,this.t=0,this.u=0,this.v=!1}update(c){const u=c.length;if(u===0)return;const s=this.p;let l=this.r,o=this.u,h,f;for(o!==0?(h=o,f=-1,o=0):(h=c.charCodeAt(0),f=0);;){let S=h;if(w.isHighSurrogate(h))if(f+1<u){const p=c.charCodeAt(f+1);w.isLowSurrogate(p)?(f++,S=w.computeCodePoint(h,p)):S=65533}else{o=h;break}else w.isLowSurrogate(h)&&(S=65533);if(l=this.w(s,l,S),f++,f<u)h=c.charCodeAt(f);else break}this.r=l,this.u=o}w(c,u,s){return s<128?c[u++]=s:s<2048?(c[u++]=192|(s&1984)>>>6,c[u++]=128|(s&63)>>>0):s<65536?(c[u++]=224|(s&61440)>>>12,c[u++]=128|(s&4032)>>>6,c[u++]=128|(s&63)>>>0):(c[u++]=240|(s&1835008)>>>18,c[u++]=128|(s&258048)>>>12,c[u++]=128|(s&4032)>>>6,c[u++]=128|(s&63)>>>0),u>=64&&(this.y(),u-=64,this.t+=64,c[0]=c[64+0],c[1]=c[64+1],c[2]=c[64+2]),u}digest(){return this.v||(this.v=!0,this.u&&(this.u=0,this.r=this.w(this.p,this.r,65533)),this.t+=this.r,this.x()),n(this.h)+n(this.l)+n(this.m)+n(this.n)+n(this.o)}x(){this.p[this.r++]=128,i(this.p,this.r),this.r>56&&(this.y(),i(this.p));const c=8*this.t;this.q.setUint32(56,Math.floor(c/4294967296),!1),this.q.setUint32(60,c%4294967296,!1),this.y()}y(){const c=a.g,u=this.q;for(let b=0;b<64;b+=4)c.setUint32(b,u.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)c.setUint32(b,g(c.getUint32(b-12,!1)^c.getUint32(b-32,!1)^c.getUint32(b-56,!1)^c.getUint32(b-64,!1),1),!1);let s=this.h,l=this.l,o=this.m,h=this.n,f=this.o,S,p,m;for(let b=0;b<80;b++)b<20?(S=l&o|~l&h,p=1518500249):b<40?(S=l^o^h,p=1859775393):b<60?(S=l&o|l&h|o&h,p=2400959708):(S=l^o^h,p=3395469782),m=g(s,5)+S+f+p+c.getUint32(b*4,!1)&4294967295,f=h,h=o,o=g(l,30),l=s,s=m;this.h=this.h+s&4294967295,this.l=this.l+l&4294967295,this.m=this.m+o&4294967295,this.n=this.n+h&4294967295,this.o=this.o+f&4294967295}}a.g=new DataView(new ArrayBuffer(320)),e.StringSHA1=a}),define(ee[152],te([1,0,342,129]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class E{constructor(i){this.a=i}getElements(){const i=this.a,t=new Int32Array(i.length);for(let n=0,a=i.length;n<a;n++)t[n]=i.charCodeAt(n);return t}}e.StringDiffSequence=E;function D(g,i,t){return new d(new E(g),new E(i)).ComputeDiff(t).changes}e.stringDiff=D;class y{static Assert(i,t){if(!i)throw new Error(t)}}class v{static Copy(i,t,n,a,r){for(let c=0;c<r;c++)n[a+c]=i[t+c]}static Copy2(i,t,n,a,r){for(let c=0;c<r;c++)n[a+c]=i[t+c]}}class C{constructor(){this.a=[],this.b=1073741824,this.c=1073741824,this.d=0,this.e=0}MarkNextChange(){(this.d>0||this.e>0)&&this.a.push(new w.DiffChange(this.b,this.d,this.c,this.e)),this.d=0,this.e=0,this.b=1073741824,this.c=1073741824}AddOriginalElement(i,t){this.b=Math.min(this.b,i),this.c=Math.min(this.c,t),this.d++}AddModifiedElement(i,t){this.b=Math.min(this.b,i),this.c=Math.min(this.c,t),this.e++}getChanges(){return(this.d>0||this.e>0)&&this.MarkNextChange(),this.a}getReverseChanges(){return(this.d>0||this.e>0)&&this.MarkNextChange(),this.a.reverse(),this.a}}class d{constructor(i,t,n=null){this.a=n,this.b=i,this.c=t;const[a,r,c]=d.o(i),[u,s,l]=d.o(t);this.d=c&&l,this.e=a,this.f=r,this.g=u,this.h=s,this.k=[],this.m=[]}static n(i){return i.length>0&&typeof i[0]=="string"}static o(i){const t=i.getElements();if(d.n(t)){const n=new Int32Array(t.length);for(let a=0,r=t.length;a<r;a++)n[a]=(0,N.stringHash)(t[a],0);return[t,n,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}p(i,t){return this.f[i]!==this.h[t]?!1:this.d?this.e[i]===this.g[t]:!0}q(i,t){if(!this.p(i,t))return!1;const n=d.r(this.b,i),a=d.r(this.c,t);return n===a}static r(i,t){return typeof i.getStrictElement=="function"?i.getStrictElement(t):null}s(i,t){return this.f[i]!==this.f[t]?!1:this.d?this.e[i]===this.e[t]:!0}u(i,t){return this.h[i]!==this.h[t]?!1:this.d?this.g[i]===this.g[t]:!0}ComputeDiff(i){return this.v(0,this.f.length-1,0,this.h.length-1,i)}v(i,t,n,a,r){const c=[!1];let u=this.w(i,t,n,a,c);return r&&(u=this.z(u)),{quitEarly:c[0],changes:u}}w(i,t,n,a,r){for(r[0]=!1;i<=t&&n<=a&&this.p(i,n);)i++,n++;for(;t>=i&&a>=n&&this.p(t,a);)t--,a--;if(i>t||n>a){let h;return n<=a?(y.Assert(i===t+1,"originalStart should only be one more than originalEnd"),h=[new w.DiffChange(i,0,n,a-n+1)]):i<=t?(y.Assert(n===a+1,"modifiedStart should only be one more than modifiedEnd"),h=[new w.DiffChange(i,t-i+1,n,0)]):(y.Assert(i===t+1,"originalStart should only be one more than originalEnd"),y.Assert(n===a+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const c=[0],u=[0],s=this.y(i,t,n,a,c,u,r),l=c[0],o=u[0];if(s!==null)return s;if(!r[0]){const h=this.w(i,l,n,o,r);let f=[];return r[0]?f=[new w.DiffChange(l+1,t-(l+1)+1,o+1,a-(o+1)+1)]:f=this.w(l+1,t,o+1,a,r),this.H(h,f)}return[new w.DiffChange(i,t-i+1,n,a-n+1)]}x(i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k){let I=null,M=null,B=new C,z=t,P=n,A=S[0]-b[0]-a,T=-1073741824,O=this.k.length-1;do{const F=A+i;F===z||F<P&&l[F-1]<l[F+1]?(h=l[F+1],p=h-A-a,h<T&&B.MarkNextChange(),T=h,B.AddModifiedElement(h+1,p),A=F+1-i):(h=l[F-1]+1,p=h-A-a,h<T&&B.MarkNextChange(),T=h-1,B.AddOriginalElement(h,p+1),A=F-1-i),O>=0&&(l=this.k[O],i=l[0],z=1,P=l.length-1)}while(--O>=-1);if(I=B.getReverseChanges(),k[0]){let F=S[0]+1,W=b[0]+1;if(I!==null&&I.length>0){const V=I[I.length-1];F=Math.max(F,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}M=[new w.DiffChange(F,f-F+1,W,m-W+1)]}else{B=new C,z=c,P=u,A=S[0]-b[0]-s,T=1073741824,O=L?this.m.length-1:this.m.length-2;do{const F=A+r;F===z||F<P&&o[F-1]>=o[F+1]?(h=o[F+1]-1,p=h-A-s,h>T&&B.MarkNextChange(),T=h+1,B.AddOriginalElement(h+1,p+1),A=F+1-r):(h=o[F-1],p=h-A-s,h>T&&B.MarkNextChange(),T=h,B.AddModifiedElement(h+1,p+1),A=F-1-r),O>=0&&(o=this.m[O],r=o[0],z=1,P=o.length-1)}while(--O>=-1);M=B.getChanges()}return this.H(I,M)}y(i,t,n,a,r,c,u){let s=0,l=0,o=0,h=0,f=0,S=0;i--,n--,r[0]=0,c[0]=0,this.k=[],this.m=[];const p=t-i+(a-n),m=p+1,b=new Int32Array(m),L=new Int32Array(m),k=a-n,I=t-i,M=i-n,B=t-a,P=(I-k)%2===0;b[k]=i,L[I]=t,u[0]=!1;for(let A=1;A<=p/2+1;A++){let T=0,O=0;o=this.J(k-A,A,k,m),h=this.J(k+A,A,k,m);for(let W=o;W<=h;W+=2){W===o||W<h&&b[W-1]<b[W+1]?s=b[W+1]:s=b[W-1]+1,l=s-(W-k)-M;const V=s;for(;s<t&&l<a&&this.p(s+1,l+1);)s++,l++;if(b[W]=s,s+l>T+O&&(T=s,O=l),!P&&Math.abs(W-I)<=A-1&&s>=L[W])return r[0]=s,c[0]=l,V<=L[W]&&1447>0&&A<=1447+1?this.x(k,o,h,M,I,f,S,B,b,L,s,t,r,l,a,c,P,u):null}const F=(T-i+(O-n)-A)/2;if(this.a!==null&&!this.a(T,F))return u[0]=!0,r[0]=T,c[0]=O,F>0&&1447>0&&A<=1447+1?this.x(k,o,h,M,I,f,S,B,b,L,s,t,r,l,a,c,P,u):(i++,n++,[new w.DiffChange(i,t-i+1,n,a-n+1)]);f=this.J(I-A,A,I,m),S=this.J(I+A,A,I,m);for(let W=f;W<=S;W+=2){W===f||W<S&&L[W-1]>=L[W+1]?s=L[W+1]-1:s=L[W-1],l=s-(W-I)-B;const V=s;for(;s>i&&l>n&&this.p(s,l);)s--,l--;if(L[W]=s,P&&Math.abs(W-k)<=A&&s<=b[W])return r[0]=s,c[0]=l,V>=b[W]&&1447>0&&A<=1447+1?this.x(k,o,h,M,I,f,S,B,b,L,s,t,r,l,a,c,P,u):null}if(A<=1447){let W=new Int32Array(h-o+2);W[0]=k-o+1,v.Copy2(b,o,W,1,h-o+1),this.k.push(W),W=new Int32Array(S-f+2),W[0]=I-f+1,v.Copy2(L,f,W,1,S-f+1),this.m.push(W)}}return this.x(k,o,h,M,I,f,S,B,b,L,s,t,r,l,a,c,P,u)}z(i){for(let t=0;t<i.length;t++){const n=i[t],a=t<i.length-1?i[t+1].originalStart:this.f.length,r=t<i.length-1?i[t+1].modifiedStart:this.h.length,c=n.originalLength>0,u=n.modifiedLength>0;for(;n.originalStart+n.originalLength<a&&n.modifiedStart+n.modifiedLength<r&&(!c||this.s(n.originalStart,n.originalStart+n.originalLength))&&(!u||this.u(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const l=this.q(n.originalStart,n.modifiedStart);if(this.q(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!l)break;n.originalStart++,n.modifiedStart++}const s=[null];if(t<i.length-1&&this.I(i[t],i[t+1],s)){i[t]=s[0],i.splice(t+1,1),t--;continue}}for(let t=i.length-1;t>=0;t--){const n=i[t];let a=0,r=0;if(t>0){const h=i[t-1];a=h.originalStart+h.originalLength,r=h.modifiedStart+h.modifiedLength}const c=n.originalLength>0,u=n.modifiedLength>0;let s=0,l=this.G(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let h=1;;h++){const f=n.originalStart-h,S=n.modifiedStart-h;if(f<a||S<r||c&&!this.s(f,f+n.originalLength)||u&&!this.u(S,S+n.modifiedLength))break;const m=(f===a&&S===r?5:0)+this.G(f,n.originalLength,S,n.modifiedLength);m>l&&(l=m,s=h)}n.originalStart-=s,n.modifiedStart-=s;const o=[null];if(t>0&&this.I(i[t-1],i[t],o)){i[t-1]=o[0],i.splice(t,1),t++;continue}}if(this.d)for(let t=1,n=i.length;t<n;t++){const a=i[t-1],r=i[t],c=r.originalStart-a.originalStart-a.originalLength,u=a.originalStart,s=r.originalStart+r.originalLength,l=s-u,o=a.modifiedStart,h=r.modifiedStart+r.modifiedLength,f=h-o;if(c<5&&l<20&&f<20){const S=this.A(u,l,o,f,c);if(S){const[p,m]=S;(p!==a.originalStart+a.originalLength||m!==a.modifiedStart+a.modifiedLength)&&(a.originalLength=p-a.originalStart,a.modifiedLength=m-a.modifiedStart,r.originalStart=p+c,r.modifiedStart=m+c,r.originalLength=s-r.originalStart,r.modifiedLength=h-r.modifiedStart)}}}return i}A(i,t,n,a,r){if(t<r||a<r)return null;const c=i+t-r+1,u=n+a-r+1;let s=0,l=0,o=0;for(let h=i;h<c;h++)for(let f=n;f<u;f++){const S=this.B(h,f,r);S>0&&S>s&&(s=S,l=h,o=f)}return s>0?[l,o]:null}B(i,t,n){let a=0;for(let r=0;r<n;r++){if(!this.p(i+r,t+r))return 0;a+=this.e[i+r].length}return a}C(i){return i<=0||i>=this.f.length-1?!0:this.d&&/^\s*$/.test(this.e[i])}D(i,t){if(this.C(i)||this.C(i-1))return!0;if(t>0){const n=i+t;if(this.C(n-1)||this.C(n))return!0}return!1}E(i){return i<=0||i>=this.h.length-1?!0:this.d&&/^\s*$/.test(this.g[i])}F(i,t){if(this.E(i)||this.E(i-1))return!0;if(t>0){const n=i+t;if(this.E(n-1)||this.E(n))return!0}return!1}G(i,t,n,a){const r=this.D(i,t)?1:0,c=this.F(n,a)?1:0;return r+c}H(i,t){const n=[];if(i.length===0||t.length===0)return t.length>0?t:i;if(this.I(i[i.length-1],t[0],n)){const a=new Array(i.length+t.length-1);return v.Copy(i,0,a,0,i.length-1),a[i.length-1]=n[0],v.Copy(t,1,a,i.length,t.length-1),a}else{const a=new Array(i.length+t.length);return v.Copy(i,0,a,0,i.length),v.Copy(t,0,a,i.length,t.length),a}}I(i,t,n){if(y.Assert(i.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),y.Assert(i.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=t.originalStart||i.modifiedStart+i.modifiedLength>=t.modifiedStart){const a=i.originalStart;let r=i.originalLength;const c=i.modifiedStart;let u=i.modifiedLength;return i.originalStart+i.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=t.modifiedStart&&(u=t.modifiedStart+t.modifiedLength-i.modifiedStart),n[0]=new w.DiffChange(a,r,c,u),!0}else return n[0]=null,!1}J(i,t,n,a){if(i>=0&&i<a)return i;const r=n,c=a-n-1,u=t%2===0;if(i<0){const s=r%2===0;return u===s?0:1}else{const s=c%2===0;return u===s?a-1:a-2}}}e.LcsDiff=d}),define(ee[348],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function N(y,v){if(y&&y[0]!==""){const C=E(y,v,"-"),d=E(y,v,"_");return C&&!d?D(y,v,"-"):!C&&d?D(y,v,"_"):y[0].toUpperCase()===y[0]?v.toUpperCase():y[0].toLowerCase()===y[0]?v.toLowerCase():w.containsUppercaseCharacter(y[0][0])&&v.length>0?v[0].toUpperCase()+v.substr(1):y[0][0].toUpperCase()!==y[0][0]&&v.length>0?v[0].toLowerCase()+v.substr(1):v}else return v}e.buildReplaceStringWithCasePreserved=N;function E(y,v,C){return y[0].indexOf(C)!==-1&&v.indexOf(C)!==-1&&y[0].split(C).length===v.split(C).length}function D(y,v,C){const d=v.split(C),g=y[0].split(C);let i="";return d.forEach((t,n)=>{i+=N([g[n]],t)+C}),i.slice(0,-1)}}),define(ee[93],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(E){E[E.Ignore=0]="Ignore",E[E.Info=1]="Info",E[E.Warning=2]="Warning",E[E.Error=3]="Error"})(N||(N={})),function(E){const D="error",y="warning",v="warn",C="info",d="ignore";function g(t){return t?w.equalsIgnoreCase(D,t)?E.Error:w.equalsIgnoreCase(y,t)||w.equalsIgnoreCase(v,t)?E.Warning:w.equalsIgnoreCase(C,t)?E.Info:E.Ignore:E.Ignore}E.fromValue=g;function i(t){switch(t){case E.Error:return D;case E.Warning:return y;case E.Info:return C;default:return d}}E.toString=i}(N||(N={})),e.default=N}),define(ee[237],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ee[182],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class N{constructor(){this.b="",this.c=0}reset(g){return this.b=g,this.c=0,this}next(){return this.c+=1,this}hasNext(){return this.c<this.b.length-1}cmp(g){const i=g.charCodeAt(0),t=this.b.charCodeAt(this.c);return i-t}value(){return this.b[this.c]}}e.StringIterator=N;class E{constructor(g=!0){this.e=g}reset(g){return this.b=g,this.c=0,this.d=0,this.next()}hasNext(){return this.d<this.b.length}next(){this.c=this.d;let g=!0;for(;this.d<this.b.length;this.d++)if(this.b.charCodeAt(this.d)===46)if(g)this.c++;else break;else g=!1;return this}cmp(g){return this.e?(0,w.compareSubstring)(g,this.b,0,g.length,this.c,this.d):(0,w.compareSubstringIgnoreCase)(g,this.b,0,g.length,this.c,this.d)}value(){return this.b.substring(this.c,this.d)}}e.ConfigKeysIterator=E;class D{constructor(g=!0,i=!0){this.f=g,this.g=i}reset(g){this.d=0,this.e=0,this.b=g,this.c=g.length;for(let i=g.length-1;i>=0;i--,this.c--){const t=this.b.charCodeAt(i);if(!(t===47||this.f&&t===92))break}return this.next()}hasNext(){return this.e<this.c}next(){this.d=this.e;let g=!0;for(;this.e<this.c;this.e++){const i=this.b.charCodeAt(this.e);if(i===47||this.f&&i===92)if(g)this.d++;else break;else g=!1}return this}cmp(g){return this.g?(0,w.compareSubstring)(g,this.b,0,g.length,this.d,this.e):(0,w.compareSubstringIgnoreCase)(g,this.b,0,g.length,this.d,this.e)}value(){return this.b.substring(this.d,this.e)}}e.PathIterator=D;class y{constructor(g,i){this.f=g,this.g=i,this.d=[],this.e=0}reset(g){return this.c=g,this.d=[],this.c.scheme&&this.d.push(1),this.c.authority&&this.d.push(2),this.c.path&&(this.b=new D(!1,!this.f(g)),this.b.reset(g.path),this.b.value()&&this.d.push(3)),this.g(g)||(this.c.query&&this.d.push(4),this.c.fragment&&this.d.push(5)),this.e=0,this}next(){return this.d[this.e]===3&&this.b.hasNext()?this.b.next():this.e+=1,this}hasNext(){return this.d[this.e]===3&&this.b.hasNext()||this.e<this.d.length-1}cmp(g){if(this.d[this.e]===1)return(0,w.compareIgnoreCase)(g,this.c.scheme);if(this.d[this.e]===2)return(0,w.compareIgnoreCase)(g,this.c.authority);if(this.d[this.e]===3)return this.b.cmp(g);if(this.d[this.e]===4)return(0,w.compare)(g,this.c.query);if(this.d[this.e]===5)return(0,w.compare)(g,this.c.fragment);throw new Error}value(){if(this.d[this.e]===1)return this.c.scheme;if(this.d[this.e]===2)return this.c.authority;if(this.d[this.e]===3)return this.b.value();if(this.d[this.e]===4)return this.c.query;if(this.d[this.e]===5)return this.c.fragment;throw new Error}}e.UriIterator=y;class v{constructor(){this.height=1}rotateLeft(){const g=this.right;return this.right=g.left,g.left=this,this.updateHeight(),g.updateHeight(),g}rotateRight(){const g=this.left;return this.left=g.right,g.right=this,this.updateHeight(),g.updateHeight(),g}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var g,i;return(i=(g=this.left)===null||g===void 0?void 0:g.height)!==null&&i!==void 0?i:0}get heightRight(){var g,i;return(i=(g=this.right)===null||g===void 0?void 0:g.height)!==null&&i!==void 0?i:0}}class C{static forUris(g=()=>!1,i=()=>!1){return new C(new y(g,i))}static forStrings(){return new C(new N)}static forConfigKeys(){return new C(new E)}constructor(g){this.b=g}clear(){this.c=void 0}set(g,i){const t=this.b.reset(g);let n;this.c||(this.c=new v,this.c.segment=t.value());const a=[];for(n=this.c;;){const c=t.cmp(n.segment);if(c>0)n.left||(n.left=new v,n.left.segment=t.value()),a.push([-1,n]),n=n.left;else if(c<0)n.right||(n.right=new v,n.right.segment=t.value()),a.push([1,n]),n=n.right;else if(t.hasNext())t.next(),n.mid||(n.mid=new v,n.mid.segment=t.value()),a.push([0,n]),n=n.mid;else break}const r=n.value;n.value=i,n.key=g;for(let c=a.length-1;c>=0;c--){const u=a[c][1];u.updateHeight();const s=u.balanceFactor();if(s<-1||s>1){const l=a[c][0],o=a[c+1][0];if(l===1&&o===1)a[c][1]=u.rotateLeft();else if(l===-1&&o===-1)a[c][1]=u.rotateRight();else if(l===1&&o===-1)u.right=a[c+1][1]=a[c+1][1].rotateRight(),a[c][1]=u.rotateLeft();else if(l===-1&&o===1)u.left=a[c+1][1]=a[c+1][1].rotateLeft(),a[c][1]=u.rotateRight();else throw new Error;if(c>0)switch(a[c-1][0]){case-1:a[c-1][1].left=a[c][1];break;case 1:a[c-1][1].right=a[c][1];break;case 0:a[c-1][1].mid=a[c][1];break}else this.c=a[0][1]}}return r}get(g){var i;return(i=this.d(g))===null||i===void 0?void 0:i.value}d(g){const i=this.b.reset(g);let t=this.c;for(;t;){const n=i.cmp(t.segment);if(n>0)t=t.left;else if(n<0)t=t.right;else if(i.hasNext())i.next(),t=t.mid;else break}return t}has(g){const i=this.d(g);return!(i?.value===void 0&&i?.mid===void 0)}delete(g){return this.e(g,!1)}deleteSuperstr(g){return this.e(g,!0)}e(g,i){var t;const n=this.b.reset(g),a=[];let r=this.c;for(;r;){const c=n.cmp(r.segment);if(c>0)a.push([-1,r]),r=r.left;else if(c<0)a.push([1,r]),r=r.right;else if(n.hasNext())n.next(),a.push([0,r]),r=r.mid;else break}if(!!r){if(i?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const c=this.f(r.right);if(c.key){const{key:u,value:s,segment:l}=c;this.e(c.key,!1),r.key=u,r.value=s,r.segment=l}}else{const c=(t=r.left)!==null&&t!==void 0?t:r.right;if(a.length>0){const[u,s]=a[a.length-1];switch(u){case-1:s.left=c;break;case 0:s.mid=c;break;case 1:s.right=c;break}}else this.c=c}for(let c=a.length-1;c>=0;c--){const u=a[c][1];u.updateHeight();const s=u.balanceFactor();if(s>1?(u.right.balanceFactor()>=0||(u.right=u.right.rotateRight()),a[c][1]=u.rotateLeft()):s<-1&&(u.left.balanceFactor()<=0||(u.left=u.left.rotateLeft()),a[c][1]=u.rotateRight()),c>0)switch(a[c-1][0]){case-1:a[c-1][1].left=a[c][1];break;case 1:a[c-1][1].right=a[c][1];break;case 0:a[c-1][1].mid=a[c][1];break}else this.c=a[0][1]}}}f(g){for(;g.left;)g=g.left;return g}findSubstr(g){const i=this.b.reset(g);let t=this.c,n;for(;t;){const a=i.cmp(t.segment);if(a>0)t=t.left;else if(a<0)t=t.right;else if(i.hasNext())i.next(),n=t.value||n,t=t.mid;else break}return t&&t.value||n}findSuperstr(g){return this.g(g,!1)}g(g,i){const t=this.b.reset(g);let n=this.c;for(;n;){const a=t.cmp(n.segment);if(a>0)n=n.left;else if(a<0)n=n.right;else if(t.hasNext())t.next(),n=n.mid;else return n.mid?this.h(n.mid):i?n.value:void 0}}forEach(g){for(const[i,t]of this)g(t,i)}*[Symbol.iterator](){yield*this.h(this.c)}h(g){const i=[];return this.j(g,i),i[Symbol.iterator]()}j(g,i){!g||(g.left&&this.j(g.left,i),g.value&&i.push([g.key,g.value]),g.mid&&this.j(g.mid,i),g.right&&this.j(g.right,i))}}e.TernarySearchTree=C}),define(ee[18],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function w(u){return typeof u=="string"}e.isString=w;function N(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}e.isObject=N;function E(u){const s=Object.getPrototypeOf(Uint8Array);return typeof u=="object"&&u instanceof s}e.isTypedArray=E;function D(u){return typeof u=="number"&&!isNaN(u)}e.isNumber=D;function y(u){return!!u&&typeof u[Symbol.iterator]=="function"}e.isIterable=y;function v(u){return u===!0||u===!1}e.isBoolean=v;function C(u){return typeof u>"u"}e.isUndefined=C;function d(u){return!g(u)}e.isDefined=d;function g(u){return C(u)||u===null}e.isUndefinedOrNull=g;function i(u,s){if(!u)throw new Error(s?`Unexpected type, expected '${s}'`:"Unexpected type")}e.assertType=i;function t(u){if(g(u))throw new Error("Assertion Failed: argument is undefined or null");return u}e.assertIsDefined=t;function n(u){return typeof u=="function"}e.isFunction=n;function a(u,s){const l=Math.min(u.length,s.length);for(let o=0;o<l;o++)r(u[o],s[o])}e.validateConstraints=a;function r(u,s){if(w(s)){if(typeof u!==s)throw new Error(`argument does not match constraint: typeof ${s}`)}else if(n(s)){try{if(u instanceof s)return}catch{}if(!g(u)&&u.constructor===s||s.length===1&&s.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r;function c(u){return u===null?void 0:u}e.withNullAsUndefined=c}),define(ee[27],te([1,0,18]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const N=Object.create(null);function E(y,v){if((0,w.isString)(v)){const C=N[v];if(C===void 0)throw new Error(`${y} references an unknown codicon: ${v}`);v=C}return N[y]=v,{id:y}}function D(){return N}e.getCodiconFontCharacters=D,e.Codicon={add:E("add",6e4),plus:E("plus",6e4),gistNew:E("gist-new",6e4),repoCreate:E("repo-create",6e4),lightbulb:E("lightbulb",60001),lightBulb:E("light-bulb",60001),repo:E("repo",60002),repoDelete:E("repo-delete",60002),gistFork:E("gist-fork",60003),repoForked:E("repo-forked",60003),gitPullRequest:E("git-pull-request",60004),gitPullRequestAbandoned:E("git-pull-request-abandoned",60004),recordKeys:E("record-keys",60005),keyboard:E("keyboard",60005),tag:E("tag",60006),tagAdd:E("tag-add",60006),tagRemove:E("tag-remove",60006),person:E("person",60007),personFollow:E("person-follow",60007),personOutline:E("person-outline",60007),personFilled:E("person-filled",60007),gitBranch:E("git-branch",60008),gitBranchCreate:E("git-branch-create",60008),gitBranchDelete:E("git-branch-delete",60008),sourceControl:E("source-control",60008),mirror:E("mirror",60009),mirrorPublic:E("mirror-public",60009),star:E("star",60010),starAdd:E("star-add",60010),starDelete:E("star-delete",60010),starEmpty:E("star-empty",60010),comment:E("comment",60011),commentAdd:E("comment-add",60011),alert:E("alert",60012),warning:E("warning",60012),search:E("search",60013),searchSave:E("search-save",60013),logOut:E("log-out",60014),signOut:E("sign-out",60014),logIn:E("log-in",60015),signIn:E("sign-in",60015),eye:E("eye",60016),eyeUnwatch:E("eye-unwatch",60016),eyeWatch:E("eye-watch",60016),circleFilled:E("circle-filled",60017),primitiveDot:E("primitive-dot",60017),closeDirty:E("close-dirty",60017),debugBreakpoint:E("debug-breakpoint",60017),debugBreakpointDisabled:E("debug-breakpoint-disabled",60017),debugHint:E("debug-hint",60017),primitiveSquare:E("primitive-square",60018),edit:E("edit",60019),pencil:E("pencil",60019),info:E("info",60020),issueOpened:E("issue-opened",60020),gistPrivate:E("gist-private",60021),gitForkPrivate:E("git-fork-private",60021),lock:E("lock",60021),mirrorPrivate:E("mirror-private",60021),close:E("close",60022),removeClose:E("remove-close",60022),x:E("x",60022),repoSync:E("repo-sync",60023),sync:E("sync",60023),clone:E("clone",60024),desktopDownload:E("desktop-download",60024),beaker:E("beaker",60025),microscope:E("microscope",60025),vm:E("vm",60026),deviceDesktop:E("device-desktop",60026),file:E("file",60027),fileText:E("file-text",60027),more:E("more",60028),ellipsis:E("ellipsis",60028),kebabHorizontal:E("kebab-horizontal",60028),mailReply:E("mail-reply",60029),reply:E("reply",60029),organization:E("organization",60030),organizationFilled:E("organization-filled",60030),organizationOutline:E("organization-outline",60030),newFile:E("new-file",60031),fileAdd:E("file-add",60031),newFolder:E("new-folder",60032),fileDirectoryCreate:E("file-directory-create",60032),trash:E("trash",60033),trashcan:E("trashcan",60033),history:E("history",60034),clock:E("clock",60034),folder:E("folder",60035),fileDirectory:E("file-directory",60035),symbolFolder:E("symbol-folder",60035),logoGithub:E("logo-github",60036),markGithub:E("mark-github",60036),github:E("github",60036),terminal:E("terminal",60037),console:E("console",60037),repl:E("repl",60037),zap:E("zap",60038),symbolEvent:E("symbol-event",60038),error:E("error",60039),stop:E("stop",60039),variable:E("variable",60040),symbolVariable:E("symbol-variable",60040),array:E("array",60042),symbolArray:E("symbol-array",60042),symbolModule:E("symbol-module",60043),symbolPackage:E("symbol-package",60043),symbolNamespace:E("symbol-namespace",60043),symbolObject:E("symbol-object",60043),symbolMethod:E("symbol-method",60044),symbolFunction:E("symbol-function",60044),symbolConstructor:E("symbol-constructor",60044),symbolBoolean:E("symbol-boolean",60047),symbolNull:E("symbol-null",60047),symbolNumeric:E("symbol-numeric",60048),symbolNumber:E("symbol-number",60048),symbolStructure:E("symbol-structure",60049),symbolStruct:E("symbol-struct",60049),symbolParameter:E("symbol-parameter",60050),symbolTypeParameter:E("symbol-type-parameter",60050),symbolKey:E("symbol-key",60051),symbolText:E("symbol-text",60051),symbolReference:E("symbol-reference",60052),goToFile:E("go-to-file",60052),symbolEnum:E("symbol-enum",60053),symbolValue:E("symbol-value",60053),symbolRuler:E("symbol-ruler",60054),symbolUnit:E("symbol-unit",60054),activateBreakpoints:E("activate-breakpoints",60055),archive:E("archive",60056),arrowBoth:E("arrow-both",60057),arrowDown:E("arrow-down",60058),arrowLeft:E("arrow-left",60059),arrowRight:E("arrow-right",60060),arrowSmallDown:E("arrow-small-down",60061),arrowSmallLeft:E("arrow-small-left",60062),arrowSmallRight:E("arrow-small-right",60063),arrowSmallUp:E("arrow-small-up",60064),arrowUp:E("arrow-up",60065),bell:E("bell",60066),bold:E("bold",60067),book:E("book",60068),bookmark:E("bookmark",60069),debugBreakpointConditionalUnverified:E("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:E("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:E("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:E("debug-breakpoint-data-unverified",60072),debugBreakpointData:E("debug-breakpoint-data",60073),debugBreakpointDataDisabled:E("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:E("debug-breakpoint-log-unverified",60074),debugBreakpointLog:E("debug-breakpoint-log",60075),debugBreakpointLogDisabled:E("debug-breakpoint-log-disabled",60075),briefcase:E("briefcase",60076),broadcast:E("broadcast",60077),browser:E("browser",60078),bug:E("bug",60079),calendar:E("calendar",60080),caseSensitive:E("case-sensitive",60081),check:E("check",60082),checklist:E("checklist",60083),chevronDown:E("chevron-down",60084),dropDownButton:E("drop-down-button",60084),chevronLeft:E("chevron-left",60085),chevronRight:E("chevron-right",60086),chevronUp:E("chevron-up",60087),chromeClose:E("chrome-close",60088),chromeMaximize:E("chrome-maximize",60089),chromeMinimize:E("chrome-minimize",60090),chromeRestore:E("chrome-restore",60091),circle:E("circle",60092),circleOutline:E("circle-outline",60092),debugBreakpointUnverified:E("debug-breakpoint-unverified",60092),circleSlash:E("circle-slash",60093),circuitBoard:E("circuit-board",60094),clearAll:E("clear-all",60095),clippy:E("clippy",60096),closeAll:E("close-all",60097),cloudDownload:E("cloud-download",60098),cloudUpload:E("cloud-upload",60099),code:E("code",60100),collapseAll:E("collapse-all",60101),colorMode:E("color-mode",60102),commentDiscussion:E("comment-discussion",60103),compareChanges:E("compare-changes",60157),creditCard:E("credit-card",60105),dash:E("dash",60108),dashboard:E("dashboard",60109),database:E("database",60110),debugContinue:E("debug-continue",60111),debugDisconnect:E("debug-disconnect",60112),debugPause:E("debug-pause",60113),debugRestart:E("debug-restart",60114),debugStart:E("debug-start",60115),debugStepInto:E("debug-step-into",60116),debugStepOut:E("debug-step-out",60117),debugStepOver:E("debug-step-over",60118),debugStop:E("debug-stop",60119),debug:E("debug",60120),deviceCameraVideo:E("device-camera-video",60121),deviceCamera:E("device-camera",60122),deviceMobile:E("device-mobile",60123),diffAdded:E("diff-added",60124),diffIgnored:E("diff-ignored",60125),diffModified:E("diff-modified",60126),diffRemoved:E("diff-removed",60127),diffRenamed:E("diff-renamed",60128),diff:E("diff",60129),discard:E("discard",60130),editorLayout:E("editor-layout",60131),emptyWindow:E("empty-window",60132),exclude:E("exclude",60133),extensions:E("extensions",60134),eyeClosed:E("eye-closed",60135),fileBinary:E("file-binary",60136),fileCode:E("file-code",60137),fileMedia:E("file-media",60138),filePdf:E("file-pdf",60139),fileSubmodule:E("file-submodule",60140),fileSymlinkDirectory:E("file-symlink-directory",60141),fileSymlinkFile:E("file-symlink-file",60142),fileZip:E("file-zip",60143),files:E("files",60144),filter:E("filter",60145),flame:E("flame",60146),foldDown:E("fold-down",60147),foldUp:E("fold-up",60148),fold:E("fold",60149),folderActive:E("folder-active",60150),folderOpened:E("folder-opened",60151),gear:E("gear",60152),gift:E("gift",60153),gistSecret:E("gist-secret",60154),gist:E("gist",60155),gitCommit:E("git-commit",60156),gitCompare:E("git-compare",60157),gitMerge:E("git-merge",60158),githubAction:E("github-action",60159),githubAlt:E("github-alt",60160),globe:E("globe",60161),grabber:E("grabber",60162),graph:E("graph",60163),gripper:E("gripper",60164),heart:E("heart",60165),home:E("home",60166),horizontalRule:E("horizontal-rule",60167),hubot:E("hubot",60168),inbox:E("inbox",60169),issueClosed:E("issue-closed",60324),issueReopened:E("issue-reopened",60171),issues:E("issues",60172),italic:E("italic",60173),jersey:E("jersey",60174),json:E("json",60175),bracket:E("bracket",60175),kebabVertical:E("kebab-vertical",60176),key:E("key",60177),law:E("law",60178),lightbulbAutofix:E("lightbulb-autofix",60179),linkExternal:E("link-external",60180),link:E("link",60181),listOrdered:E("list-ordered",60182),listUnordered:E("list-unordered",60183),liveShare:E("live-share",60184),loading:E("loading",60185),location:E("location",60186),mailRead:E("mail-read",60187),mail:E("mail",60188),markdown:E("markdown",60189),megaphone:E("megaphone",60190),mention:E("mention",60191),milestone:E("milestone",60192),mortarBoard:E("mortar-board",60193),move:E("move",60194),multipleWindows:E("multiple-windows",60195),mute:E("mute",60196),noNewline:E("no-newline",60197),note:E("note",60198),octoface:E("octoface",60199),openPreview:E("open-preview",60200),package_:E("package",60201),paintcan:E("paintcan",60202),pin:E("pin",60203),play:E("play",60204),run:E("run",60204),plug:E("plug",60205),preserveCase:E("preserve-case",60206),preview:E("preview",60207),project:E("project",60208),pulse:E("pulse",60209),question:E("question",60210),quote:E("quote",60211),radioTower:E("radio-tower",60212),reactions:E("reactions",60213),references:E("references",60214),refresh:E("refresh",60215),regex:E("regex",60216),remoteExplorer:E("remote-explorer",60217),remote:E("remote",60218),remove:E("remove",60219),replaceAll:E("replace-all",60220),replace:E("replace",60221),repoClone:E("repo-clone",60222),repoForcePush:E("repo-force-push",60223),repoPull:E("repo-pull",60224),repoPush:E("repo-push",60225),report:E("report",60226),requestChanges:E("request-changes",60227),rocket:E("rocket",60228),rootFolderOpened:E("root-folder-opened",60229),rootFolder:E("root-folder",60230),rss:E("rss",60231),ruby:E("ruby",60232),saveAll:E("save-all",60233),saveAs:E("save-as",60234),save:E("save",60235),screenFull:E("screen-full",60236),screenNormal:E("screen-normal",60237),searchStop:E("search-stop",60238),server:E("server",60240),settingsGear:E("settings-gear",60241),settings:E("settings",60242),shield:E("shield",60243),smiley:E("smiley",60244),sortPrecedence:E("sort-precedence",60245),splitHorizontal:E("split-horizontal",60246),splitVertical:E("split-vertical",60247),squirrel:E("squirrel",60248),starFull:E("star-full",60249),starHalf:E("star-half",60250),symbolClass:E("symbol-class",60251),symbolColor:E("symbol-color",60252),symbolCustomColor:E("symbol-customcolor",60252),symbolConstant:E("symbol-constant",60253),symbolEnumMember:E("symbol-enum-member",60254),symbolField:E("symbol-field",60255),symbolFile:E("symbol-file",60256),symbolInterface:E("symbol-interface",60257),symbolKeyword:E("symbol-keyword",60258),symbolMisc:E("symbol-misc",60259),symbolOperator:E("symbol-operator",60260),symbolProperty:E("symbol-property",60261),wrench:E("wrench",60261),wrenchSubaction:E("wrench-subaction",60261),symbolSnippet:E("symbol-snippet",60262),tasklist:E("tasklist",60263),telescope:E("telescope",60264),textSize:E("text-size",60265),threeBars:E("three-bars",60266),thumbsdown:E("thumbsdown",60267),thumbsup:E("thumbsup",60268),tools:E("tools",60269),triangleDown:E("triangle-down",60270),triangleLeft:E("triangle-left",60271),triangleRight:E("triangle-right",60272),triangleUp:E("triangle-up",60273),twitter:E("twitter",60274),unfold:E("unfold",60275),unlock:E("unlock",60276),unmute:E("unmute",60277),unverified:E("unverified",60278),verified:E("verified",60279),versions:E("versions",60280),vmActive:E("vm-active",60281),vmOutline:E("vm-outline",60282),vmRunning:E("vm-running",60283),watch:E("watch",60284),whitespace:E("whitespace",60285),wholeWord:E("whole-word",60286),window:E("window",60287),wordWrap:E("word-wrap",60288),zoomIn:E("zoom-in",60289),zoomOut:E("zoom-out",60290),listFilter:E("list-filter",60291),listFlat:E("list-flat",60292),listSelection:E("list-selection",60293),selection:E("selection",60293),listTree:E("list-tree",60294),debugBreakpointFunctionUnverified:E("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:E("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:E("debug-breakpoint-function-disabled",60296),debugStackframeActive:E("debug-stackframe-active",60297),circleSmallFilled:E("circle-small-filled",60298),debugStackframeDot:E("debug-stackframe-dot",60298),debugStackframe:E("debug-stackframe",60299),debugStackframeFocused:E("debug-stackframe-focused",60299),debugBreakpointUnsupported:E("debug-breakpoint-unsupported",60300),symbolString:E("symbol-string",60301),debugReverseContinue:E("debug-reverse-continue",60302),debugStepBack:E("debug-step-back",60303),debugRestartFrame:E("debug-restart-frame",60304),callIncoming:E("call-incoming",60306),callOutgoing:E("call-outgoing",60307),menu:E("menu",60308),expandAll:E("expand-all",60309),feedback:E("feedback",60310),groupByRefType:E("group-by-ref-type",60311),ungroupByRefType:E("ungroup-by-ref-type",60312),account:E("account",60313),bellDot:E("bell-dot",60314),debugConsole:E("debug-console",60315),library:E("library",60316),output:E("output",60317),runAll:E("run-all",60318),syncIgnored:E("sync-ignored",60319),pinned:E("pinned",60320),githubInverted:E("github-inverted",60321),debugAlt:E("debug-alt",60305),serverProcess:E("server-process",60322),serverEnvironment:E("server-environment",60323),pass:E("pass",60324),stopCircle:E("stop-circle",60325),playCircle:E("play-circle",60326),record:E("record",60327),debugAltSmall:E("debug-alt-small",60328),vmConnect:E("vm-connect",60329),cloud:E("cloud",60330),merge:E("merge",60331),exportIcon:E("export",60332),graphLeft:E("graph-left",60333),magnet:E("magnet",60334),notebook:E("notebook",60335),redo:E("redo",60336),checkAll:E("check-all",60337),pinnedDirty:E("pinned-dirty",60338),passFilled:E("pass-filled",60339),circleLargeFilled:E("circle-large-filled",60340),circleLarge:E("circle-large",60341),circleLargeOutline:E("circle-large-outline",60341),combine:E("combine",60342),gather:E("gather",60342),table:E("table",60343),variableGroup:E("variable-group",60344),typeHierarchy:E("type-hierarchy",60345),typeHierarchySub:E("type-hierarchy-sub",60346),typeHierarchySuper:E("type-hierarchy-super",60347),gitPullRequestCreate:E("git-pull-request-create",60348),runAbove:E("run-above",60349),runBelow:E("run-below",60350),notebookTemplate:E("notebook-template",60351),debugRerun:E("debug-rerun",60352),workspaceTrusted:E("workspace-trusted",60353),workspaceUntrusted:E("workspace-untrusted",60354),workspaceUnspecified:E("workspace-unspecified",60355),terminalCmd:E("terminal-cmd",60356),terminalDebian:E("terminal-debian",60357),terminalLinux:E("terminal-linux",60358),terminalPowershell:E("terminal-powershell",60359),terminalTmux:E("terminal-tmux",60360),terminalUbuntu:E("terminal-ubuntu",60361),terminalBash:E("terminal-bash",60362),arrowSwap:E("arrow-swap",60363),copy:E("copy",60364),personAdd:E("person-add",60365),filterFilled:E("filter-filled",60366),wand:E("wand",60367),debugLineByLine:E("debug-line-by-line",60368),inspect:E("inspect",60369),layers:E("layers",60370),layersDot:E("layers-dot",60371),layersActive:E("layers-active",60372),compass:E("compass",60373),compassDot:E("compass-dot",60374),compassActive:E("compass-active",60375),azure:E("azure",60376),issueDraft:E("issue-draft",60377),gitPullRequestClosed:E("git-pull-request-closed",60378),gitPullRequestDraft:E("git-pull-request-draft",60379),debugAll:E("debug-all",60380),debugCoverage:E("debug-coverage",60381),runErrors:E("run-errors",60382),folderLibrary:E("folder-library",60383),debugContinueSmall:E("debug-continue-small",60384),beakerStop:E("beaker-stop",60385),graphLine:E("graph-line",60386),graphScatter:E("graph-scatter",60387),pieChart:E("pie-chart",60388),bracketDot:E("bracket-dot",60389),bracketError:E("bracket-error",60390),lockSmall:E("lock-small",60391),azureDevops:E("azure-devops",60392),verifiedFilled:E("verified-filled",60393),newLine:E("newline",60394),layout:E("layout",60395),layoutActivitybarLeft:E("layout-activitybar-left",60396),layoutActivitybarRight:E("layout-activitybar-right",60397),layoutPanelLeft:E("layout-panel-left",60398),layoutPanelCenter:E("layout-panel-center",60399),layoutPanelJustify:E("layout-panel-justify",60400),layoutPanelRight:E("layout-panel-right",60401),layoutPanel:E("layout-panel",60402),layoutSidebarLeft:E("layout-sidebar-left",60403),layoutSidebarRight:E("layout-sidebar-right",60404),layoutStatusbar:E("layout-statusbar",60405),layoutMenubar:E("layout-menubar",60406),layoutCentered:E("layout-centered",60407),layoutSidebarRightOff:E("layout-sidebar-right-off",60416),layoutPanelOff:E("layout-panel-off",60417),layoutSidebarLeftOff:E("layout-sidebar-left-off",60418),target:E("target",60408),indent:E("indent",60409),recordSmall:E("record-small",60410),errorSmall:E("error-small",60411),arrowCircleDown:E("arrow-circle-down",60412),arrowCircleLeft:E("arrow-circle-left",60413),arrowCircleRight:E("arrow-circle-right",60414),arrowCircleUp:E("arrow-circle-up",60415),heartFilled:E("heart-filled",60420),map:E("map",60421),mapFilled:E("map-filled",60422),circleSmall:E("circle-small",60423),bellSlash:E("bell-slash",60424),bellSlashDot:E("bell-slash-dot",60425),commentUnresolved:E("comment-unresolved",60426),gitPullRequestGoToChanges:E("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:E("git-pull-request-new-changes",60428),searchFuzzy:E("search-fuzzy",60429),commentDraft:E("comment-draft",60430),dialogError:E("dialog-error","error"),dialogWarning:E("dialog-warning","warning"),dialogInfo:E("dialog-info","info"),dialogClose:E("dialog-close","close"),treeItemExpanded:E("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:E("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:E("tree-filter-on-type-off","list-selection"),treeFilterClear:E("tree-filter-clear","close"),treeItemLoading:E("tree-item-loading","loading"),menuSelection:E("menu-selection","check"),menuSubmenu:E("menu-submenu","chevron-right"),menuBarMore:E("menubar-more","more"),scrollbarButtonLeft:E("scrollbar-button-left","triangle-left"),scrollbarButtonRight:E("scrollbar-button-right","triangle-right"),scrollbarButtonUp:E("scrollbar-button-up","triangle-up"),scrollbarButtonDown:E("scrollbar-button-down","triangle-down"),toolBarMore:E("toolbar-more","more"),quickInputBack:E("quick-input-back","arrow-left")}}),define(ee[46],te([1,0,18]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function N(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const a=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([r,c])=>{a[r]=c&&typeof c=="object"?N(c):c}),a}e.deepClone=N;function E(n){if(!n||typeof n!="object")return n;const a=[n];for(;a.length>0;){const r=a.shift();Object.freeze(r);for(const c in r)if(D.call(r,c)){const u=r[c];typeof u=="object"&&!Object.isFrozen(u)&&!(0,w.isTypedArray)(u)&&a.push(u)}}return n}e.deepFreeze=E;const D=Object.prototype.hasOwnProperty;function y(n,a){return v(n,a,new Set)}e.cloneAndChange=y;function v(n,a,r){if((0,w.isUndefinedOrNull)(n))return n;const c=a(n);if(typeof c<"u")return c;if(Array.isArray(n)){const u=[];for(const s of n)u.push(v(s,a,r));return u}if((0,w.isObject)(n)){if(r.has(n))throw new Error("Cannot clone recursive data-structure");r.add(n);const u={};for(const s in n)D.call(n,s)&&(u[s]=v(n[s],a,r));return r.delete(n),u}return n}function C(n,a,r=!0){return(0,w.isObject)(n)?((0,w.isObject)(a)&&Object.keys(a).forEach(c=>{c in n?r&&((0,w.isObject)(n[c])&&(0,w.isObject)(a[c])?C(n[c],a[c],r):n[c]=a[c]):n[c]=a[c]}),n):a}e.mixin=C;function d(n,a){if(n===a)return!0;if(n==null||a===null||a===void 0||typeof n!=typeof a||typeof n!="object"||Array.isArray(n)!==Array.isArray(a))return!1;let r,c;if(Array.isArray(n)){if(n.length!==a.length)return!1;for(r=0;r<n.length;r++)if(!d(n[r],a[r]))return!1}else{const u=[];for(c in n)u.push(c);u.sort();const s=[];for(c in a)s.push(c);if(s.sort(),!d(u,s))return!1;for(r=0;r<u.length;r++)if(!d(n[u[r]],a[u[r]]))return!1}return!0}e.equals=d;function g(n){let a=[],r=Object.getPrototypeOf(n);for(;Object.prototype!==r;)a=a.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r);return a}e.getAllPropertyNames=g;function i(n){const a=[];for(const r of g(n))typeof n[r]=="function"&&a.push(r);return a}e.getAllMethodNames=i;function t(n,a){const r=u=>function(){const s=Array.prototype.slice.call(arguments,0);return a(u,s)},c={};for(const u of n)c[u]=r(u);return c}e.createProxyObject=t}),define(ee[31],te([1,0,27]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var N;(function(D){function y(v){return v&&typeof v=="object"&&typeof v.id=="string"}D.isThemeColor=y})(N=e.ThemeColor||(e.ThemeColor={}));var E;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function v(u){const s=y.exec(u.id);if(!s)return v(w.Codicon.error);const[,l,o]=s,h=["codicon","codicon-"+l];return o&&h.push("codicon-modifier-"+o.substring(1)),h}D.asClassNameArray=v;function C(u){return v(u).join(" ")}D.asClassName=C;function d(u){return"."+v(u).join(".")}D.asCSSSelector=d;function g(u){return u&&typeof u=="object"&&typeof u.id=="string"&&(typeof u.color>"u"||N.isThemeColor(u.color))}D.isThemeIcon=g;const i=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function t(u){const s=i.exec(u);if(!s)return;const[,l]=s;return{id:l}}D.fromString=t;function n(u){return{id:u}}D.fromId=n;function a(u,s){let l=u.id;const o=l.lastIndexOf("~");return o!==-1&&(l=l.substring(0,o)),s&&(l=`${l}~${s}`),{id:l}}D.modify=a;function r(u){const s=u.id.lastIndexOf("~");if(s!==-1)return u.id.substring(s+1)}D.getModifier=r;function c(u,s){var l,o;return u.id===s.id&&((l=u.color)===null||l===void 0?void 0:l.id)===((o=s.color)===null||o===void 0?void 0:o.id)}D.isEqual=c})(E=e.ThemeIcon||(e.ThemeIcon={}))}),define(ee[111],te([1,0,63,9,31]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",y=new RegExp(`\\$\\(${E.ThemeIcon.iconNameExpression}(?:${E.ThemeIcon.iconModifierExpression})?\\)`,"g"),v=new RegExp(`(\\\\)?${y.source}`,"g");function C(u){return u.replace(v,(s,l)=>l?s:`\\${s}`)}e.escapeIcons=C;const d=new RegExp(`\\\\${y.source}`,"g");function g(u){return u.replace(d,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=g;const i=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function t(u){return u.indexOf(D)===-1?u:u.replace(i,(s,l,o,h)=>o?s:l||h||"")}e.stripIcons=t;function n(u){return u?u.replace(/\$\((.*?)\)/g,(s,l)=>` ${l} `).trim():""}e.getCodiconAriaLabel=n;const a=new RegExp(`\\$\\(${E.ThemeIcon.iconNameCharacter}+\\)`,"g");function r(u){a.lastIndex=0;let s="";const l=[];let o=0;for(;;){const h=a.lastIndex,f=a.exec(u),S=u.substring(h,f?.index);if(S.length>0){s+=S;for(let p=0;p<S.length;p++)l.push(o)}if(!f)break;o+=f[0].length}return{text:s,iconOffsets:l}}e.parseLabelWithIcons=r;function c(u,s,l=!1){const{text:o,iconOffsets:h}=s;if(!h||h.length===0)return(0,w.matchesFuzzy)(u,o,l);const f=(0,N.ltrim)(o," "),S=o.length-f.length,p=(0,w.matchesFuzzy)(u,f,l);if(p)for(const m of p){const b=h[m.start+S]+S;m.start+=b,m.end+=b}return p}e.matchesFuzzyIconAware=c}),define(ee[71],te([1,0,13,111,9]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class D{constructor(n="",a=!1){var r,c,u;if(this.value=n,typeof this.value!="string")throw(0,w.illegalArgument)("value");typeof a=="boolean"?(this.isTrusted=a,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=a.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(c=a.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(u=a.supportHtml)!==null&&u!==void 0?u:!1)}appendText(n,a=0){return this.value+=C(this.supportThemeIcons?(0,N.escapeIcons)(n):n).replace(/([ \t]+)/g,(r,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,a===1?`\\
`:`

`),this}appendMarkdown(n){return this.value+=n,this}appendCodeblock(n,a){return this.value+="\n```",this.value+=n,this.value+=`
`,this.value+=a,this.value+="\n```\n",this}appendLink(n,a,r){return this.value+="[",this.value+=this.a(a,"]"),this.value+="](",this.value+=this.a(String(n),")"),r&&(this.value+=` "${this.a(this.a(r,'"'),")")}"`),this.value+=")",this}a(n,a){const r=new RegExp((0,E.escapeRegExpCharacters)(a),"g");return n.replace(r,(c,u)=>n.charAt(u-1)!=="\\"?`\\${c}`:c)}}e.MarkdownString=D;function y(t){return v(t)?!t.value:Array.isArray(t)?t.every(y):!0}e.isEmptyMarkdownString=y;function v(t){return t instanceof D?!0:t&&typeof t=="object"?typeof t.value=="string"&&(typeof t.isTrusted=="boolean"||t.isTrusted===void 0)&&(typeof t.supportThemeIcons=="boolean"||t.supportThemeIcons===void 0):!1}e.isMarkdownString=v;function C(t){return t.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=C;function d(t){return t.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=d;function g(t){return t&&t.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=g;function i(t){const n=[],a=t.split("|").map(c=>c.trim());t=a[0];const r=a[1];if(r){const c=/height=(\d+)/.exec(r),u=/width=(\d+)/.exec(r),s=c?c[1]:"",l=u?u[1]:"",o=isFinite(parseInt(l)),h=isFinite(parseInt(s));o&&n.push(`width="${l}"`),h&&n.push(`height="${s}"`)}return{href:t,dimensions:n}}e.parseHrefAndDimensions=i}),define(ee[153],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function w(E){return E<0?0:E>255?255:E|0}e.toUint8=w;function N(E){return E<0?0:E>4294967295?4294967295:E|0}e.toUint32=N}),define(ee[183],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let w;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?w=crypto.getRandomValues.bind(crypto):w=function(D){for(let y=0;y<D.length;y++)D[y]=Math.floor(Math.random()*256);return D};const N=new Uint8Array(16),E=[];for(let D=0;D<256;D++)E.push(D.toString(16).padStart(2,"0"));return function(){w(N),N[6]=N[6]&15|64,N[8]=N[8]&63|128;let y=0,v="";return v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v+="-",v+=E[N[y++]],v+=E[N[y++]],v+="-",v+=E[N[y++]],v+=E[N[y++]],v+="-",v+=E[N[y++]],v+=E[N[y++]],v+="-",v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v+=E[N[y++]],v}}()}),define(ee[184],te([1,0,17,183]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function E(v){return{id:(0,N.generateUuid)(),asString:()=>Le(this,void 0,void 0,function*(){return v}),asFile:()=>{},value:typeof v=="string"?v:void 0}}e.createStringDataTransferItem=E;function D(v,C,d){return{id:(0,N.generateUuid)(),asString:()=>Le(this,void 0,void 0,function*(){return""}),asFile:()=>({name:v,uri:C,data:d}),value:void 0}}e.createFileDataTransferItem=D;class y{constructor(){this.a=new Map}get size(){return this.a.size}has(C){return this.a.has(this.b(C))}get(C){var d;return(d=this.a.get(this.b(C)))===null||d===void 0?void 0:d[0]}append(C,d){const g=this.a.get(C);g?g.push(d):this.a.set(this.b(C),[d])}replace(C,d){this.a.set(this.b(C),[d])}delete(C){this.a.delete(this.b(C))}*entries(){for(const[C,d]of this.a.entries())for(const g of d)yield[C,g]}values(){return Array.from(this.a.values()).flat()}forEach(C){for(const[d,g]of this.entries())C(g,d)}b(C){return C.toLowerCase()}}e.VSDataTransfer=y,e.UriList=Object.freeze({create:v=>(0,w.distinct)(v.map(C=>C.toString())).join(`\r
`),split:v=>v.split(`\r
`),parse:v=>e.UriList.split(v).filter(C=>!C.startsWith("#"))})}),define(ee[238],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var w;(function(D){D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other"})(w=e.QuickInputHideReason||(e.QuickInputHideReason={}));var N;(function(D){D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST"})(N=e.ItemActivation||(e.ItemActivation={}));class E{constructor(y){this.a=y}}e.QuickPickItemScorerAccessor=E,e.quickPickItemScorerAccessor=new E}),define(ee[239],te([10]),{}),define(ee[349],te([10]),{}),define(ee[350],te([10]),{}),define(ee[351],te([10]),{}),define(ee[352],te([10]),{}),define(ee[154],te([1,0,351,352]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ee[353],te([10]),{}),define(ee[354],te([10]),{}),define(ee[240],te([10]),{}),define(ee[241],te([10]),{}),define(ee[355],te([10]),{}),define(ee[356],te([10]),{}),define(ee[357],te([10]),{}),define(ee[358],te([10]),{}),define(ee[242],te([10]),{}),define(ee[359],te([10]),{}),define(ee[155],te([1,0,359]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[360],te([10]),{}),define(ee[361],te([10]),{}),define(ee[362],te([10]),{}),define(ee[363],te([10]),{}),define(ee[364],te([10]),{}),define(ee[365],te([10]),{}),define(ee[366],te([10]),{}),define(ee[367],te([10]),{}),define(ee[368],te([10]),{}),define(ee[369],te([10]),{}),define(ee[156],te([10]),{}),define(ee[370],te([10]),{}),define(ee[371],te([10]),{}),define(ee[372],te([10]),{}),define(ee[373],te([10]),{}),define(ee[374],te([10]),{}),define(ee[375],te([10]),{}),define(ee[376],te([10]),{}),define(ee[377],te([10]),{}),define(ee[378],te([10]),{}),define(ee[379],te([10]),{}),define(ee[380],te([10]),{}),define(ee[381],te([10]),{}),define(ee[382],te([10]),{}),define(ee[383],te([10]),{}),define(ee[384],te([10]),{}),define(ee[385],te([10]),{}),define(ee[386],te([10]),{}),define(ee[387],te([10]),{}),define(ee[388],te([10]),{}),define(ee[389],te([10]),{}),define(ee[390],te([10]),{}),define(ee[391],te([10]),{}),define(ee[392],te([10]),{}),define(ee[393],te([10]),{}),define(ee[394],te([10]),{}),define(ee[395],te([10]),{}),define(ee[396],te([10]),{}),define(ee[397],te([10]),{}),define(ee[398],te([10]),{}),define(ee[399],te([10]),{}),define(ee[400],te([10]),{}),define(ee[401],te([10]),{}),define(ee[402],te([10]),{}),define(ee[403],te([10]),{}),define(ee[404],te([10]),{}),define(ee[405],te([10]),{}),define(ee[406],te([10]),{}),define(ee[407],te([10]),{}),define(ee[408],te([10]),{}),define(ee[409],te([10]),{}),define(ee[410],te([10]),{}),define(ee[411],te([10]),{}),define(ee[412],te([10]),{}),define(ee[413],te([10]),{}),define(ee[414],te([10]),{}),define(ee[415],te([10]),{}),define(ee[416],te([10]),{}),define(ee[417],te([10]),{}),define(ee[418],te([10]),{}),define(ee[419],te([10]),{}),define(ee[420],te([10]),{}),define(ee[421],te([10]),{}),define(ee[422],te([10]),{}),define(ee[423],te([10]),{}),define(ee[424],te([10]),{}),define(ee[425],te([10]),{}),define(ee[243],te([10]),{}),define(ee[426],te([10]),{}),define(ee[427],te([10]),{}),define(ee[428],te([10]),{}),define(ee[72],te([1,0,35]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function N(E,D){E instanceof w.FastDomNode?(E.setFontFamily(D.getMassagedFontFamily()),E.setFontWeight(D.fontWeight),E.setFontSize(D.fontSize),E.setFontFeatureSettings(D.fontFeatureSettings),E.setFontVariationSettings(D.fontVariationSettings),E.setLineHeight(D.lineHeight),E.setLetterSpacing(D.letterSpacing)):(E.style.fontFamily=D.getMassagedFontFamily(),E.style.fontWeight=D.fontWeight,E.style.fontSize=D.fontSize+"px",E.style.fontFeatureSettings=D.fontFeatureSettings,E.style.fontVariationSettings=D.fontVariationSettings,E.style.lineHeight=D.lineHeight+"px",E.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=N}),define(ee[429],te([1,0,72]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class N{constructor(v,C){this.chr=v,this.type=C,this.width=0}fulfill(v){this.width=v}}e.CharWidthRequest=N;class E{constructor(v,C){this.a=v,this.b=C,this.c=null,this.d=null}read(){this.e(),document.body.appendChild(this.c),this.g(),document.body.removeChild(this.c),this.c=null,this.d=null}e(){const v=document.createElement("div");v.style.position="absolute",v.style.top="-50000px",v.style.width="50000px";const C=document.createElement("div");(0,w.applyFontInfo)(C,this.a),v.appendChild(C);const d=document.createElement("div");(0,w.applyFontInfo)(d,this.a),d.style.fontWeight="bold",v.appendChild(d);const g=document.createElement("div");(0,w.applyFontInfo)(g,this.a),g.style.fontStyle="italic",v.appendChild(g);const i=[];for(const t of this.b){let n;t.type===0&&(n=C),t.type===2&&(n=d),t.type===1&&(n=g),n.appendChild(document.createElement("br"));const a=document.createElement("span");E.f(a,t),n.appendChild(a),i.push(a)}this.c=v,this.d=i}static f(v,C){if(C.chr===" "){let d="\xA0";for(let g=0;g<8;g++)d+=d;v.innerText=d}else{let d=C.chr;for(let g=0;g<8;g++)d+=d;v.textContent=d}}g(){for(let v=0,C=this.b.length;v<C;v++){const d=this.b[v],g=this.d[v];d.fulfill(g.offsetWidth/256)}}}function D(y,v){new E(y,v).read()}e.readCharWidths=D}),define(ee[430],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class w{constructor(C,d){this.key=C,this.migrate=d}apply(C){const d=w.a(C,this.key),g=t=>w.a(C,t),i=(t,n)=>w.b(C,t,n);this.migrate(d,g,i)}static a(C,d){if(typeof C>"u")return;const g=d.indexOf(".");if(g>=0){const i=d.substring(0,g);return this.a(C[i],d.substring(g+1))}return C[d]}static b(C,d,g){const i=d.indexOf(".");if(i>=0){const t=d.substring(0,i);C[t]=C[t]||{},this.b(C[t],d.substring(i+1),g);return}C[d]=g}}w.items=[],e.EditorSettingMigration=w;function N(v,C){w.items.push(new w(v,C))}function E(v,C){N(v,(d,g,i)=>{if(typeof d<"u"){for(const[t,n]of C)if(d===t){i(v,n);return}}})}function D(v){w.items.forEach(C=>C.apply(v))}e.migrateOptions=D,E("wordWrap",[[!0,"on"],[!1,"off"]]),E("lineNumbers",[[!0,"on"],[!1,"off"]]),E("cursorBlinking",[["visible","solid"]]),E("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),E("renderLineHighlight",[[!0,"line"],[!1,"none"]]),E("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),E("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),E("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("autoIndent",[[!1,"advanced"],[!0,"full"]]),E("matchBrackets",[[!0,"always"],[!1,"never"]]),E("renderFinalNewline",[[!0,"on"],[!1,"off"]]),E("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),N("autoClosingBrackets",(v,C,d)=>{v===!1&&(d("autoClosingBrackets","never"),typeof C("autoClosingQuotes")>"u"&&d("autoClosingQuotes","never"),typeof C("autoSurround")>"u"&&d("autoSurround","never"))}),N("renderIndentGuides",(v,C,d)=>{typeof v<"u"&&(d("renderIndentGuides",void 0),typeof C("guides.indentation")>"u"&&d("guides.indentation",!!v))}),N("highlightActiveIndentGuide",(v,C,d)=>{typeof v<"u"&&(d("highlightActiveIndentGuide",void 0),typeof C("guides.highlightActiveIndentation")>"u"&&d("guides.highlightActiveIndentation",!!v))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};N("suggest.filteredTypes",(v,C,d)=>{if(v&&typeof v=="object"){for(const g of Object.entries(y))v[g[0]]===!1&&typeof C(`suggest.${g[1]}`)>"u"&&d(`suggest.${g[1]}`,!1);d("suggest.filteredTypes",void 0)}}),N("quickSuggestions",(v,C,d)=>{if(typeof v=="boolean"){const g=v?"on":"off";d("quickSuggestions",{comments:g,strings:g,other:g})}}),N("experimental.stickyScroll.enabled",(v,C,d)=>{typeof v=="boolean"&&(d("experimental.stickyScroll.enabled",void 0),typeof C("stickyScroll.enabled")>"u"&&d("stickyScroll.enabled",v))}),N("experimental.stickyScroll.maxLineCount",(v,C,d)=>{typeof v=="number"&&(d("experimental.stickyScroll.maxLineCount",void 0),typeof C("stickyScroll.maxLineCount")>"u"&&d("stickyScroll.maxLineCount",v))})}),define(ee[112],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class w{static capture(E){let D=null,y=0;if(E.getScrollTop()!==0){const v=E.getVisibleRanges();if(v.length>0){D=v[0].getStartPosition();const C=E.getTopForPosition(D.lineNumber,D.column);y=E.getScrollTop()-C}}return new w(D,y,E.getPosition())}constructor(E,D,y){this.a=E,this.b=D,this.c=y}restore(E){if(this.a){const D=E.getTopForPosition(this.a.lineNumber,this.a.column);E.setScrollTop(D+this.b)}}restoreRelativeVerticalPositionOfCursor(E){const D=E.getPosition();if(!this.c||!D)return;const y=E.getTopForLineNumber(D.lineNumber)-E.getTopForLineNumber(this.c.lineNumber);E.setScrollTop(E.getScrollTop()+y)}}e.StableEditorScrollState=w}),define(ee[130],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class w{constructor(g,i){this._restrictedRenderingContextBrand=void 0,this.c=g,this.viewportData=i,this.scrollWidth=this.c.getScrollWidth(),this.scrollHeight=this.c.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const t=this.c.getCurrentViewport();this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g,i){return this.c.getVerticalOffsetForLineNumber(g,i)}getVerticalOffsetAfterLineNumber(g,i){return this.c.getVerticalOffsetAfterLineNumber(g,i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=w;class N extends w{constructor(g,i,t){super(g,i),this._renderingContextBrand=void 0,this.d=t}linesVisibleRangesForRange(g,i){return this.d.linesVisibleRangesForRange(g,i)}visibleRangeForPosition(g){return this.d.visibleRangeForPosition(g)}}e.RenderingContext=N;class E{constructor(g,i,t){this.outsideRenderedLine=g,this.lineNumber=i,this.ranges=t}}e.LineVisibleRanges=E;class D{static from(g){const i=new Array(g.length);for(let t=0,n=g.length;t<n;t++){const a=g[t];i[t]=new D(a.left,a.width)}return i}constructor(g,i){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(i)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class y{constructor(g,i){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(g,i){return g.left-i.left}}e.FloatHorizontalRange=y;class v{constructor(g,i){this.outsideRenderedLine=g,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=v;class C{constructor(g,i){this.outsideRenderedLine=g,this.ranges=i}}e.VisibleRanges=C}),define(ee[244],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class w{constructor(E){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this.a=E}emitKeyDown(E){var D;(D=this.onKeyDown)===null||D===void 0||D.call(this,E)}emitKeyUp(E){var D;(D=this.onKeyUp)===null||D===void 0||D.call(this,E)}emitContextMenu(E){var D;(D=this.onContextMenu)===null||D===void 0||D.call(this,this.b(E))}emitMouseMove(E){var D;(D=this.onMouseMove)===null||D===void 0||D.call(this,this.b(E))}emitMouseLeave(E){var D;(D=this.onMouseLeave)===null||D===void 0||D.call(this,this.b(E))}emitMouseDown(E){var D;(D=this.onMouseDown)===null||D===void 0||D.call(this,this.b(E))}emitMouseUp(E){var D;(D=this.onMouseUp)===null||D===void 0||D.call(this,this.b(E))}emitMouseDrag(E){var D;(D=this.onMouseDrag)===null||D===void 0||D.call(this,this.b(E))}emitMouseDrop(E){var D;(D=this.onMouseDrop)===null||D===void 0||D.call(this,this.b(E))}emitMouseDropCanceled(){var E;(E=this.onMouseDropCanceled)===null||E===void 0||E.call(this)}emitMouseWheel(E){var D;(D=this.onMouseWheel)===null||D===void 0||D.call(this,E)}b(E){return E.target?{event:E.event,target:this.c(E.target)}:E}c(E){return w.convertViewToModelMouseTarget(E,this.a)}static convertViewToModelMouseTarget(E,D){const y=Object.assign({},E);return y.position&&(y.position=D.convertViewPositionToModelPosition(y.position)),y.range&&(y.range=D.convertViewRangeToModelRange(y.range)),y}}e.ViewUserInputEvents=w}),define(ee[431],te([1,0,130]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class N{static b(){return this.a||(this.a=document.createRange()),this.a}static c(D,y){D.selectNodeContents(y)}static d(D,y,v,C,d){const g=this.b();try{return g.setStart(D,y),g.setEnd(v,C),g.getClientRects()}catch{return null}finally{this.c(g,d)}}static f(D){if(D.length===1)return D;D.sort(w.FloatHorizontalRange.compare);const y=[];let v=0,C=D[0];for(let d=1,g=D.length;d<g;d++){const i=D[d];C.left+C.width+.9>=i.left?C.width=Math.max(C.width,i.left+i.width-C.left):(y[v++]=C,C=i)}return y[v++]=C,y}static g(D,y,v){if(!D||D.length===0)return null;const C=[];for(let d=0,g=D.length;d<g;d++){const i=D[d];C[d]=new w.FloatHorizontalRange(Math.max(0,(i.left-y)/v),i.width/v)}return this.f(C)}static readHorizontalRanges(D,y,v,C,d,g,i,t){const a=D.children.length-1;if(0>a)return null;if(y=Math.min(a,Math.max(0,y)),C=Math.min(a,Math.max(0,C)),y===C&&v===d&&v===0&&!D.children[y].firstChild){const s=D.children[y].getClientRects();return this.g(s,g,i)}y!==C&&C>0&&d===0&&(C--,d=1073741824);let r=D.children[y].firstChild,c=D.children[C].firstChild;if((!r||!c)&&(!r&&v===0&&y>0&&(r=D.children[y-1].firstChild,v=1073741824),!c&&d===0&&C>0&&(c=D.children[C-1].firstChild,d=1073741824)),!r||!c)return null;v=Math.min(r.textContent.length,Math.max(0,v)),d=Math.min(c.textContent.length,Math.max(0,d));const u=this.d(r,v,c,d,t);return this.g(u,g,i)}}e.RangeUtil=N}),define(ee[245],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const N=[];for(let E=32;E<=126;E++)N.push(E);return N.push(65533),N})();const w=(N,E)=>(N-=32,N<0||N>96?E<=2?(N+96)%96:96-1:N);e.getCharIndex=w}),define(ee[432],te([1,0,245,153]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class E{constructor(y,v){this.scale=v,this._minimapCharRendererBrand=void 0,this.a=E.e(y,12/15),this.d=E.e(y,50/60)}static e(y,v){const C=new Uint8ClampedArray(y.length);for(let d=0,g=y.length;d<g;d++)C[d]=(0,N.toUint8)(y[d]*v);return C}renderChar(y,v,C,d,g,i,t,n,a,r,c){const u=1*this.scale,s=2*this.scale,l=c?1:s;if(v+u>y.width||C+l>y.height){console.warn("bad render request outside image data");return}const o=r?this.d:this.a,h=(0,w.getCharIndex)(d,a),f=y.width*4,S=t.r,p=t.g,m=t.b,b=g.r-S,L=g.g-p,k=g.b-m,I=Math.max(i,n),M=y.data;let B=h*u*s,z=C*f+v*4;for(let P=0;P<l;P++){let A=z;for(let T=0;T<u;T++){const O=o[B++]/255*(i/255);M[A++]=S+b*O,M[A++]=p+L*O,M[A++]=m+k*O,M[A++]=I}z+=f}}blockRenderChar(y,v,C,d,g,i,t,n){const a=1*this.scale,r=2*this.scale,c=n?1:r;if(v+a>y.width||C+c>y.height){console.warn("bad render request outside image data");return}const u=y.width*4,s=.5*(g/255),l=i.r,o=i.g,h=i.b,f=d.r-l,S=d.g-o,p=d.b-h,m=l+f*s,b=o+S*s,L=h+p*s,k=Math.max(g,t),I=y.data;let M=C*u+v*4;for(let B=0;B<c;B++){let z=M;for(let P=0;P<a;P++)I[z++]=m,I[z++]=b,I[z++]=L,I[z++]=k;M+=u}}}e.MinimapCharRenderer=E}),define(ee[433],te([1,0,92]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const N={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},E=D=>{const y=new Uint8ClampedArray(D.length/2);for(let v=0;v<D.length;v+=2)y[v>>1]=N[D[v]]<<4|N[D[v+1]]&15;return y};e.prebakedMiniMaps={1:(0,w.once)(()=>E("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,w.once)(()=>E("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[434],te([1,0,432,245,433,153]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(C,d){if(this.a&&C===this.a.scale&&d===this.b)return this.a;let g;return E.prebakedMiniMaps[C]?g=new w.MinimapCharRenderer(E.prebakedMiniMaps[C](),C):g=y.createFromSampleData(y.createSampleData(d).data,C),this.b=d,this.a=g,g}static createSampleData(C){const d=document.createElement("canvas"),g=d.getContext("2d");d.style.height=`${16}px`,d.height=16,d.width=96*10,d.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${C}`,g.textBaseline="middle";let i=0;for(const t of N.allCharCodes)g.fillText(String.fromCharCode(t),i,16/2),i+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(C,d){if(C.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const i=y.d(C,d);return new w.MinimapCharRenderer(i,d)}static c(C,d,g,i,t){const n=1*t,a=2*t;let r=i,c=0;for(let u=0;u<a;u++){const s=u/a*16,l=(u+1)/a*16;for(let o=0;o<n;o++){const h=o/n*10,f=(o+1)/n*10;let S=0,p=0;for(let b=s;b<l;b++){const L=d+Math.floor(b)*3840,k=1-(b-Math.floor(b));for(let I=h;I<f;I++){const M=1-(I-Math.floor(I)),B=L+Math.floor(I)*4,z=M*k;p+=z,S+=C[B]*C[B+3]/255*z}}const m=S/p;c=Math.max(c,m),g[r++]=(0,D.toUint8)(m)}}return c}static d(C,d){const g=2*d*1*d,i=g*96,t=new Uint8ClampedArray(i);let n=0,a=0,r=0;for(let c=0;c<96;c++)r=Math.max(r,this.c(C,a,t,n,d)),n+=g,a+=10*4;if(r>0){const c=255/r;for(let u=0;u<i;u++)t[u]*=c}return t}}e.MinimapCharRendererFactory=y}),define(ee[113],te([1,0,153]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class N{constructor(y){const v=(0,w.toUint8)(y);this.c=v,this.a=N.d(v),this.b=new Map}static d(y){const v=new Uint8Array(256);return v.fill(y),v}set(y,v){const C=(0,w.toUint8)(v);y>=0&&y<256?this.a[y]=C:this.b.set(y,C)}get(y){return y>=0&&y<256?this.a[y]:this.b.get(y)||this.c}clear(){this.a.fill(this.c),this.b.clear()}}e.CharacterClassifier=N;class E{constructor(){this.a=new N(0)}add(y){this.a.set(y,1)}has(y){return this.a.get(y)===1}clear(){return this.a.clear()}}e.CharacterSet=E}),define(ee[73],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class N{static a(D,y,v){return D===9?N.nextRenderTabStop(y,v):w.isFullWidthCharacter(D)||w.isEmojiImprecise(D)?y+2:y+1}static visibleColumnFromColumn(D,y,v){const C=Math.min(y-1,D.length),d=D.substring(0,C),g=new w.GraphemeIterator(d);let i=0;for(;!g.eol();){const t=w.getNextCodePoint(d,C,g.offset);g.nextGraphemeLength(),i=this.a(t,i,v)}return i}static columnFromVisibleColumn(D,y,v){if(y<=0)return 1;const C=D.length,d=new w.GraphemeIterator(D);let g=0,i=1;for(;!d.eol();){const t=w.getNextCodePoint(D,C,d.offset);d.nextGraphemeLength();const n=this.a(t,g,v),a=d.offset+1;if(n>=y){const r=y-g;return n-y<r?a:i}g=n,i=a}return C+1}static nextRenderTabStop(D,y){return D+y-D%y}static nextIndentTabStop(D,y){return D+y-D%y}static prevRenderTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}static prevIndentTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}}e.CursorColumns=N}),define(ee[131],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function w(N){let E=0,D=0,y=0,v=0;for(let C=0,d=N.length;C<d;C++){const g=N.charCodeAt(C);g===13?(E===0&&(D=C),E++,C+1<d&&N.charCodeAt(C+1)===10?(v|=2,C++):v|=3,y=C+1):g===10&&(v|=1,E===0&&(D=C),E++,y=C+1)}return E===0&&(D=N.length),[E,D,N.length-y,v]}e.countEOL=w}),define(ee[185],te([1,0,9,73]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function E(y,v,C){let d=0;for(let i=0;i<y.length;i++)y.charAt(i)==="	"?d=N.CursorColumns.nextIndentTabStop(d,v):d++;let g="";if(!C){const i=Math.floor(d/v);d=d%v;for(let t=0;t<i;t++)g+="	"}for(let i=0;i<d;i++)g+=" ";return g}function D(y,v,C){let d=w.firstNonWhitespaceIndex(y);return d===-1&&(d=y.length),E(y.substring(0,d),v,C)+y.substring(d)}e.normalizeIndentation=D}),define(ee[11],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(E,D){this.lineNumber=E,this.column=D}with(E=this.lineNumber,D=this.column){return E===this.lineNumber&&D===this.column?this:new w(E,D)}delta(E=0,D=0){return this.with(this.lineNumber+E,this.column+D)}equals(E){return w.equals(this,E)}static equals(E,D){return!E&&!D?!0:!!E&&!!D&&E.lineNumber===D.lineNumber&&E.column===D.column}isBefore(E){return w.isBefore(this,E)}static isBefore(E,D){return E.lineNumber<D.lineNumber?!0:D.lineNumber<E.lineNumber?!1:E.column<D.column}isBeforeOrEqual(E){return w.isBeforeOrEqual(this,E)}static isBeforeOrEqual(E,D){return E.lineNumber<D.lineNumber?!0:D.lineNumber<E.lineNumber?!1:E.column<=D.column}static compare(E,D){const y=E.lineNumber|0,v=D.lineNumber|0;if(y===v){const C=E.column|0,d=D.column|0;return C-d}return y-v}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(E){return new w(E.lineNumber,E.column)}static isIPosition(E){return E&&typeof E.lineNumber=="number"&&typeof E.column=="number"}}e.Position=w}),define(ee[3],te([1,0,11]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class N{constructor(D,y,v,C){D>v||D===v&&y>C?(this.startLineNumber=v,this.startColumn=C,this.endLineNumber=D,this.endColumn=y):(this.startLineNumber=D,this.startColumn=y,this.endLineNumber=v,this.endColumn=C)}isEmpty(){return N.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return N.containsPosition(this,D)}static containsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<D.startColumn||y.lineNumber===D.endLineNumber&&y.column>D.endColumn)}static strictContainsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<=D.startColumn||y.lineNumber===D.endLineNumber&&y.column>=D.endColumn)}containsRange(D){return N.containsRange(this,D)}static containsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>D.endColumn)}strictContainsRange(D){return N.strictContainsRange(this,D)}static strictContainsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<=D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>=D.endColumn)}plusRange(D){return N.plusRange(this,D)}static plusRange(D,y){let v,C,d,g;return y.startLineNumber<D.startLineNumber?(v=y.startLineNumber,C=y.startColumn):y.startLineNumber===D.startLineNumber?(v=y.startLineNumber,C=Math.min(y.startColumn,D.startColumn)):(v=D.startLineNumber,C=D.startColumn),y.endLineNumber>D.endLineNumber?(d=y.endLineNumber,g=y.endColumn):y.endLineNumber===D.endLineNumber?(d=y.endLineNumber,g=Math.max(y.endColumn,D.endColumn)):(d=D.endLineNumber,g=D.endColumn),new N(v,C,d,g)}intersectRanges(D){return N.intersectRanges(this,D)}static intersectRanges(D,y){let v=D.startLineNumber,C=D.startColumn,d=D.endLineNumber,g=D.endColumn;const i=y.startLineNumber,t=y.startColumn,n=y.endLineNumber,a=y.endColumn;return v<i?(v=i,C=t):v===i&&(C=Math.max(C,t)),d>n?(d=n,g=a):d===n&&(g=Math.min(g,a)),v>d||v===d&&C>g?null:new N(v,C,d,g)}equalsRange(D){return N.equalsRange(this,D)}static equalsRange(D,y){return!D&&!y?!0:!!D&&!!y&&D.startLineNumber===y.startLineNumber&&D.startColumn===y.startColumn&&D.endLineNumber===y.endLineNumber&&D.endColumn===y.endColumn}getEndPosition(){return N.getEndPosition(this)}static getEndPosition(D){return new w.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return N.getStartPosition(this)}static getStartPosition(D){return new w.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,y){return new N(this.startLineNumber,this.startColumn,D,y)}setStartPosition(D,y){return new N(D,y,this.endLineNumber,this.endColumn)}collapseToStart(){return N.collapseToStart(this)}static collapseToStart(D){return new N(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return N.collapseToEnd(this)}static collapseToEnd(D){return new N(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new N(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,y=D){return new N(D.lineNumber,D.column,y.lineNumber,y.column)}static lift(D){return D?new N(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<D.startColumn)}static areIntersecting(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<=y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,y){if(D&&y){const d=D.startLineNumber|0,g=y.startLineNumber|0;if(d===g){const i=D.startColumn|0,t=y.startColumn|0;if(i===t){const n=D.endLineNumber|0,a=y.endLineNumber|0;if(n===a){const r=D.endColumn|0,c=y.endColumn|0;return r-c}return n-a}return i-t}return d-g}return(D?1:0)-(y?1:0)}static compareRangesUsingEnds(D,y){return D.endLineNumber===y.endLineNumber?D.endColumn===y.endColumn?D.startLineNumber===y.startLineNumber?D.startColumn-y.startColumn:D.startLineNumber-y.startLineNumber:D.endColumn-y.endColumn:D.endLineNumber-y.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=N}),define(ee[246],te([1,0,9,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class E{constructor(v,C,d,g,i){this.value=v,this.selectionStart=C,this.selectionEnd=d,this.selection=g,this.newlineCountBeforeSelection=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v,C){const d=v.getValue(),g=v.getSelectionStart(),i=v.getSelectionEnd();let t;if(C){const n=d.substring(0,g),a=C.value.substring(0,C.selectionStart);n===a&&(t=C.newlineCountBeforeSelection)}return new E(d,g,i,null,t)}collapseSelection(){return this.selectionStart===this.value.length?this:new E(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(v,C,d){e._debugComposition&&console.log(`writeToTextArea ${v}: ${this.toString()}`),C.setValue(v,this.value),d&&C.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){var C,d,g,i,t,n,a,r;if(v<=this.selectionStart){const s=this.value.substring(v,this.selectionStart);return this.a((d=(C=this.selection)===null||C===void 0?void 0:C.getStartPosition())!==null&&d!==void 0?d:null,s,-1)}if(v>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,v);return this.a((i=(g=this.selection)===null||g===void 0?void 0:g.getEndPosition())!==null&&i!==void 0?i:null,s,1)}const c=this.value.substring(this.selectionStart,v);if(c.indexOf(String.fromCharCode(8230))===-1)return this.a((n=(t=this.selection)===null||t===void 0?void 0:t.getStartPosition())!==null&&n!==void 0?n:null,c,1);const u=this.value.substring(v,this.selectionEnd);return this.a((r=(a=this.selection)===null||a===void 0?void 0:a.getEndPosition())!==null&&r!==void 0?r:null,u,-1)}a(v,C,d){let g=0,i=-1;for(;(i=C.indexOf(`
`,i+1))!==-1;)g++;return[v,d*C.length,g]}static deduceInput(v,C,d){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${C.toString()}`));const g=Math.min(w.commonPrefixLength(v.value,C.value),v.selectionStart,C.selectionStart),i=Math.min(w.commonSuffixLength(v.value,C.value),v.value.length-v.selectionEnd,C.value.length-C.selectionEnd),t=v.value.substring(g,v.value.length-i),n=C.value.substring(g,C.value.length-i),a=v.selectionStart-g,r=v.selectionEnd-g,c=C.selectionStart-g,u=C.selectionEnd-g;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${a}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${c}, selectionEnd: ${u}`)),c===u){const l=v.selectionStart-g;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:n,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const s=r-a;return{text:n,replacePrevCharCnt:s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,C){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${C.toString()}`)),v.value===C.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:C.selectionEnd-v.selectionEnd};const d=Math.min(w.commonPrefixLength(v.value,C.value),v.selectionEnd),g=Math.min(w.commonSuffixLength(v.value,C.value),v.value.length-v.selectionEnd),i=v.value.substring(d,v.value.length-g),t=C.value.substring(d,C.value.length-g),n=v.selectionStart-d,a=v.selectionEnd-d,r=C.selectionStart-d,c=C.selectionEnd-d;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${n}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${r}, selectionEnd: ${c}`)),{text:t,replacePrevCharCnt:a,replaceNextCharCnt:i.length-a,positionDelta:c-t.length}}}E.EMPTY=new E("",0,0,null,void 0),e.TextAreaState=E;class D{static a(v,C){return Math.floor((v-1)/C)}static b(v,C){const d=v*C,g=d+1,i=d+C;return new N.Range(g,1,i+1,1)}static fromEditorSelection(v,C,d,g){const t=D.a(C.startLineNumber,d),n=D.b(t,d),a=D.a(C.endLineNumber,d),r=D.b(a,d);let c=n.intersectRanges(new N.Range(1,1,C.startLineNumber,C.startColumn));if(g&&v.getValueLengthInRange(c,1)>500){const S=v.modifyPosition(c.getEndPosition(),-500);c=N.Range.fromPositions(S,c.getEndPosition())}const u=v.getValueInRange(c,1),s=v.getLineCount(),l=v.getLineMaxColumn(s);let o=r.intersectRanges(new N.Range(C.endLineNumber,C.endColumn,s,l));if(g&&v.getValueLengthInRange(o,1)>500){const S=v.modifyPosition(o.getStartPosition(),500);o=N.Range.fromPositions(o.getStartPosition(),S)}const h=v.getValueInRange(o,1);let f;if(t===a||t+1===a)f=v.getValueInRange(C,1);else{const S=n.intersectRanges(C),p=r.intersectRanges(C);f=v.getValueInRange(S,1)+String.fromCharCode(8230)+v.getValueInRange(p,1)}return g&&f.length>2*500&&(f=f.substring(0,500)+String.fromCharCode(8230)+f.substring(f.length-500,f.length)),new E(u+f+h,u.length,u.length+f.length,C,c.endLineNumber-c.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ee[64],te([1,0,3]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class N{static insert(D,y){return{range:new w.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:y,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,y){return{range:D,text:y}}static replaceMove(D,y){return{range:D,text:y,forceMoveMarkers:!0}}}e.EditOperation=N}),define(ee[435],te([1,0,9,64,3]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(C,d){this.c=C,this.e=d,this.d=null}getEditOperations(C,d){const g=y(C,this.e);for(let i=0,t=g.length;i<t;i++){const n=g[i];d.addEditOperation(n.range,n.text)}this.d=d.trackSelection(this.c)}computeCursorState(C,d){return d.getTrackedSelection(this.d)}}e.TrimTrailingWhitespaceCommand=D;function y(v,C){C.sort((n,a)=>n.lineNumber===a.lineNumber?n.column-a.column:n.lineNumber-a.lineNumber);for(let n=C.length-2;n>=0;n--)C[n].lineNumber===C[n+1].lineNumber&&C.splice(n,1);const d=[];let g=0,i=0;const t=C.length;for(let n=1,a=v.getLineCount();n<=a;n++){const r=v.getLineContent(n),c=r.length+1;let u=0;if(i<t&&C[i].lineNumber===n&&(u=C[i].column,i++,u===c)||r.length===0)continue;const s=w.lastNonWhitespaceIndex(r);let l=0;if(s===-1)l=1;else if(s!==r.length-1)l=s+2;else continue;l=Math.max(u,l),d[g++]=N.EditOperation.delete(new E.Range(n,l,n,c))}return d}e.trimTrailingWhitespace=y}),define(ee[247],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class w{constructor(E,D,y,v){this._rgba8Brand=void 0,this.r=w._clamp(E),this.g=w._clamp(D),this.b=w._clamp(y),this.a=w._clamp(v)}equals(E){return this.r===E.r&&this.g===E.g&&this.b===E.b&&this.a===E.a}static _clamp(E){return E<0?0:E>255?255:E|0}}w.Empty=new w(0,0,0,0),e.RGBA8=w}),define(ee[22],te([1,0,11,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class E extends N.Range{constructor(y,v,C,d){super(y,v,C,d),this.selectionStartLineNumber=y,this.selectionStartColumn=v,this.positionLineNumber=C,this.positionColumn=d}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return E.selectionsEqual(this,y)}static selectionsEqual(y,v){return y.selectionStartLineNumber===v.selectionStartLineNumber&&y.selectionStartColumn===v.selectionStartColumn&&y.positionLineNumber===v.positionLineNumber&&y.positionColumn===v.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,v){return this.getDirection()===0?new E(this.startLineNumber,this.startColumn,y,v):new E(y,v,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,v){return this.getDirection()===0?new E(y,v,this.endLineNumber,this.endColumn):new E(this.endLineNumber,this.endColumn,y,v)}static fromPositions(y,v=y){return new E(y.lineNumber,y.column,v.lineNumber,v.column)}static fromRange(y,v){return v===0?new E(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new E(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new E(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,v){if(y&&!v||!y&&v)return!1;if(!y&&!v)return!0;if(y.length!==v.length)return!1;for(let C=0,d=y.length;C<d;C++)if(!this.selectionsEqual(y[C],v[C]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,v,C,d,g){return g===0?new E(y,v,C,d):new E(C,d,y,v)}}e.Selection=E}),define(ee[114],te([1,0,22]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class N{constructor(d,g,i=!1){this.a=d,this.b=g,this.insertsAutoWhitespace=i}getEditOperations(d,g){g.addTrackedEditOperation(this.a,this.b)}computeCursorState(d,g){const t=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(t.getEndPosition())}}e.ReplaceCommand=N;class E{constructor(d,g){this.a=d,this.b=g}getEditOperations(d,g){g.addTrackedEditOperation(this.a,this.b)}computeCursorState(d,g){const t=g.getInverseEditOperations()[0].range;return w.Selection.fromRange(t,0)}}e.ReplaceCommandThatSelectsText=E;class D{constructor(d,g,i=!1){this.a=d,this.b=g,this.insertsAutoWhitespace=i}getEditOperations(d,g){g.addTrackedEditOperation(this.a,this.b)}computeCursorState(d,g){const t=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(t.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class y{constructor(d,g,i,t,n=!1){this.a=d,this.b=g,this.c=t,this.d=i,this.insertsAutoWhitespace=n}getEditOperations(d,g){g.addTrackedEditOperation(this.a,this.b)}computeCursorState(d,g){const t=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(t.getEndPosition().delta(this.d,this.c))}}e.ReplaceCommandWithOffsetCursorState=y;class v{constructor(d,g,i,t=!1){this.a=d,this.b=g,this.c=i,this.d=t,this.e=null}getEditOperations(d,g){g.addTrackedEditOperation(this.a,this.b,this.d),this.e=g.trackSelection(this.c)}computeCursorState(d,g){return g.getTrackedSelection(this.e)}}e.ReplaceCommandThatPreservesSelection=v}),define(ee[436],te([1,0,3,22]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class E{constructor(v,C,d){this.a=v,this.b=C,this.c=d}getEditOperations(v,C){C.addTrackedEditOperation(new w.Range(this.a.startLineNumber,this.a.startColumn,this.a.startLineNumber,this.a.startColumn),this.b),C.addTrackedEditOperation(new w.Range(this.a.endLineNumber,this.a.endColumn,this.a.endLineNumber,this.a.endColumn),this.c)}computeCursorState(v,C){const d=C.getInverseEditOperations(),g=d[0].range,i=d[1].range;return new N.Selection(g.endLineNumber,g.endColumn,i.endLineNumber,i.endColumn-this.c.length)}}e.SurroundSelectionCommand=E;class D{constructor(v,C,d){this.a=v,this.b=C,this.c=d}getEditOperations(v,C){C.addTrackedEditOperation(new w.Range(this.a.lineNumber,this.a.column,this.a.lineNumber,this.a.column),this.b+this.c)}computeCursorState(v,C){const g=C.getInverseEditOperations()[0].range;return new N.Selection(g.endLineNumber,g.startColumn,g.endLineNumber,g.endColumn-this.c.length)}}e.CompositionSurroundSelectionCommand=D}),define(ee[157],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ee[132],te([1,0,113]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class N extends w.CharacterClassifier{constructor(y){super(0);for(let v=0,C=y.length;v<C;v++)this.set(y.charCodeAt(v),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=N;function E(D){const y={};return v=>(y.hasOwnProperty(v)||(y[v]=D(v)),y[v])}e.getMapForWordSeparators=E(D=>new N(D))}),define(ee[133],te([1,0,54,58]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(d=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)d.indexOf(i)>=0||(g+="\\"+i);return g+="\\s]+)",new RegExp(g,"g")}e.DEFAULT_WORD_REGEXP=E();function D(d){let g=e.DEFAULT_WORD_REGEXP;if(d&&d instanceof RegExp)if(d.global)g=d;else{let i="g";d.ignoreCase&&(i+="i"),d.multiline&&(i+="m"),d.unicode&&(i+="u"),g=new RegExp(d.source,i)}return g.lastIndex=0,g}e.ensureValidWordDefinition=D;const y=new N.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function v(d,g,i,t,n){if(n||(n=w.Iterable.first(y)),i.length>n.maxLen){let s=d-n.maxLen/2;return s<0?s=0:t+=s,i=i.substring(s,d+n.maxLen/2),v(d,g,i,t,n)}const a=Date.now(),r=d-1-t;let c=-1,u=null;for(let s=1;!(Date.now()-a>=n.timeBudget);s++){const l=r-n.windowSize*s;g.lastIndex=Math.max(0,l);const o=C(g,i,r,c);if(!o&&u||(u=o,l<=0))break;c=l}if(u){const s={word:u[0],startColumn:t+1+u.index,endColumn:t+1+u.index+u[0].length};return g.lastIndex=0,s}return null}e.getWordAtText=v;function C(d,g,i,t){let n;for(;n=d.exec(g);){const a=n.index||0;if(a<=i&&d.lastIndex>=i)return n;if(t>0&&a>t)return null}return null}}),define(ee[248],te([1,0,73]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class N{static whitespaceVisibleColumn(D,y,v){const C=D.length;let d=0,g=-1,i=-1;for(let t=0;t<C;t++){if(t===y)return[g,i,d];switch(d%v===0&&(g=t,i=d),D.charCodeAt(t)){case 32:d+=1;break;case 9:d=w.CursorColumns.nextRenderTabStop(d,v);break;default:return[-1,-1,-1]}}return y===C?[g,i,d]:[-1,-1,-1]}static atomicPosition(D,y,v,C){const d=D.length,[g,i,t]=N.whitespaceVisibleColumn(D,y,v);if(t===-1)return-1;let n;switch(C){case 0:n=!0;break;case 1:n=!1;break;case 2:if(t%v===0)return y;n=t%v<=v/2;break}if(n){if(g===-1)return-1;let c=i;for(let u=g;u<d;++u){if(c===i+v)return g;switch(D.charCodeAt(u)){case 32:c+=1;break;case 9:c=w.CursorColumns.nextRenderTabStop(c,v);break;default:return-1}}return c===i+v?g:-1}const a=w.CursorColumns.nextRenderTabStop(t,v);let r=t;for(let c=y;c<d;c++){if(r===a)return c;switch(D.charCodeAt(c)){case 32:r+=1;break;case 9:r=w.CursorColumns.nextRenderTabStop(r,v);break;default:return-1}}return r===a?d:-1}}e.AtomicTabMoveOperations=N}),define(ee[437],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class w{constructor(E,D,y,v){this._cursorContextBrand=void 0,this.model=E,this.viewModel=D,this.coordinatesConverter=y,this.cursorConfig=v}}e.CursorContext=w}),define(ee[158],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRange=e.SequenceDiff=void 0;class w{constructor(D,y){this.seq1Range=D,this.seq2Range=y}reverse(){return new w(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}}e.SequenceDiff=w;class N{constructor(D,y){this.start=D,this.endExclusive=y}get isEmpty(){return this.start===this.endExclusive}delta(D){return new N(this.start+D,this.endExclusive+D)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}join(D){return new N(Math.min(this.start,D.start),Math.max(this.endExclusive,D.endExclusive))}}e.OffsetRange=N}),define(ee[438],te([1,0,158]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftSequenceDiffs=e.joinSequenceDiffs=e.smoothenSequenceDiffs=e.optimizeSequenceDiffs=void 0;function N(C,d,g){let i=g;return i=D(C,d,i),i=y(C,d,i),i}e.optimizeSequenceDiffs=N;function E(C,d,g){const i=[];for(const t of g){const n=i[i.length-1];if(!n){i.push(t);continue}t.seq1Range.start-n.seq1Range.endExclusive<=2||t.seq2Range.start-n.seq2Range.endExclusive<=2?i[i.length-1]=new w.SequenceDiff(n.seq1Range.join(t.seq1Range),n.seq2Range.join(t.seq2Range)):i.push(t)}return i}e.smoothenSequenceDiffs=E;function D(C,d,g){const i=[];g.length>0&&i.push(g[0]);for(let t=1;t<g.length;t++){const n=i[i.length-1],a=g[t];if(a.seq1Range.isEmpty){let r=!0;const c=a.seq1Range.start-n.seq1Range.endExclusive;for(let u=1;u<=c;u++)if(d.getElement(a.seq2Range.start-u)!==d.getElement(a.seq2Range.endExclusive-u)){r=!1;break}if(r){i[i.length-1]=new w.SequenceDiff(n.seq1Range,new w.OffsetRange(n.seq2Range.start,a.seq2Range.endExclusive-c));continue}}i.push(a)}return i}e.joinSequenceDiffs=D;function y(C,d,g){if(!C.getBoundaryScore||!d.getBoundaryScore)return g;for(let i=0;i<g.length;i++){const t=g[i];if(t.seq1Range.isEmpty){const n=i>0?g[i-1].seq2Range.endExclusive:-1,a=i+1<g.length?g[i+1].seq2Range.start:d.length;g[i]=v(t,C,d,a,n)}else if(t.seq2Range.isEmpty){const n=i>0?g[i-1].seq1Range.endExclusive:-1,a=i+1<g.length?g[i+1].seq1Range.start:C.length;g[i]=v(t.reverse(),d,C,a,n).reverse()}}return g}e.shiftSequenceDiffs=y;function v(C,d,g,i,t){let a=1;for(;C.seq2Range.start-a>t&&g.getElement(C.seq2Range.start-a)===g.getElement(C.seq2Range.endExclusive-a)&&a<20;)a++;a--;let r=0;for(;C.seq2Range.start+r<i&&g.getElement(C.seq2Range.start+r)===g.getElement(C.seq2Range.endExclusive+r)&&r<20;)r++;if(a===0&&r===0)return C;let c=0,u=-1;for(let s=-a;s<=r;s++){const l=C.seq2Range.start+s,o=C.seq2Range.endExclusive+s,h=C.seq1Range.start+s,f=d.getBoundaryScore(h)+g.getBoundaryScore(l)+g.getBoundaryScore(o);f>u&&(u=f,c=s)}return c!==0?new w.SequenceDiff(C.seq1Range.delta(c),C.seq2Range.delta(c)):C}}),define(ee[439],te([1,0,158]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class N{compute(C,d){if(C.length===0)return[new w.SequenceDiff(new w.OffsetRange(0,0),new w.OffsetRange(0,d.length))];if(d.length===0)return[new w.SequenceDiff(new w.OffsetRange(0,C.length),new w.OffsetRange(0,0))];function g(l,o){for(;l<C.length&&o<d.length&&C.getElement(l)===d.getElement(o);)l++,o++;return l}let i=0;const t=new D;t.set(0,g(0,0));const n=new y;n.set(0,t.get(0)===0?null:new E(null,0,0,t.get(0)));let a=0;e:for(;;)for(i++,a=-i;a<=i;a+=2){const l=a===i?-1:t.get(a+1),o=a===-i?-1:t.get(a-1)+1,h=Math.min(Math.max(l,o),C.length),f=h-a,S=g(h,f);t.set(a,S);const p=h===l?n.get(a+1):n.get(a-1);if(n.set(a,S!==h?new E(p,h,f,S-h):p),t.get(a)===C.length&&t.get(a)-a===d.length)break e}let r=n.get(a);const c=[];let u=C.length,s=d.length;for(;;){const l=r?r.x+r.length:0,o=r?r.y+r.length:0;if((l!==u||o!==s)&&c.push(new w.SequenceDiff(new w.OffsetRange(l,u),new w.OffsetRange(o,s))),!r)break;u=r.x,s=r.y,r=r.prev}return c.reverse(),c}}e.MyersDiffAlgorithm=N;class E{constructor(C,d,g,i){this.prev=C,this.x=d,this.y=g,this.length=i}}class D{constructor(){this.a=new Int32Array(10),this.b=new Int32Array(10)}get(C){return C<0?(C=-C-1,this.b[C]):this.a[C]}set(C,d){if(C<0){if(C=-C-1,C>=this.b.length){const g=this.b;this.b=new Int32Array(g.length*2),this.b.set(g)}this.b[C]=d}else{if(C>=this.a.length){const g=this.a;this.a=new Int32Array(g.length*2),this.a.set(g)}this.a[C]=d}}}class y{constructor(){this.a=[],this.b=[]}get(C){return C<0?(C=-C-1,this.b[C]):this.a[C]}set(C,d){C<0?(C=-C-1,this.b[C]=d):this.a[C]=d}}}),define(ee[440],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class w{constructor(E,D){this.width=E,this.height=D,this.a=[],this.a=new Array(E*D)}get(E,D){return this.a[E+D*this.width]}set(E,D,y){this.a[E+D*this.width]=y}}e.Array2D=w}),define(ee[441],te([1,0,158,440]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class E{compute(y,v,C){const d=new N.Array2D(y.length,v.length),g=new N.Array2D(y.length,v.length),i=new N.Array2D(y.length,v.length);for(let s=0;s<y.length;s++)for(let l=0;l<v.length;l++){const o=s===0?0:d.get(s-1,l),h=l===0?0:d.get(s,l-1);let f;y.getElement(s)===v.getElement(l)?(s===0||l===0?f=0:f=d.get(s-1,l-1),s>0&&l>0&&g.get(s-1,l-1)===3&&(f+=i.get(s-1,l-1)),f+=C?C(s,l):1):f=-1;const S=Math.max(o,h,f);if(S===f){const p=s>0&&l>0?i.get(s-1,l-1):0;i.set(s,l,p+1),g.set(s,l,3)}else S===o?(i.set(s,l,0),g.set(s,l,1)):S===h&&(i.set(s,l,0),g.set(s,l,2));d.set(s,l,S)}const t=[];let n=y.length,a=v.length;function r(s,l){(s+1!==n||l+1!==a)&&t.push(new w.SequenceDiff(new w.OffsetRange(s+1,n),new w.OffsetRange(l+1,a))),n=s,a=l}let c=y.length-1,u=v.length-1;for(;c>=0&&u>=0;)g.get(c,u)===3?(r(c,u),c--,u--):g.get(c,u)===1?c--:u--;return r(-1,-1),t.reverse(),t}}e.DynamicProgrammingDiffing=E}),define(ee[159],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=e.RangeMapping=e.LineRangeMapping=void 0;class w{constructor(y,v,C){this.originalRange=y,this.modifiedRange=v,this.innerChanges=C}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.LineRangeMapping=w;class N{constructor(y,v){this.originalRange=y,this.modifiedRange=v}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}e.RangeMapping=N;class E{constructor(y,v){this.startLineNumber=y,this.endLineNumberExclusive=v}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(y){return new E(this.startLineNumber+y,this.endLineNumberExclusive+y)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(y){return new E(Math.min(this.startLineNumber,y.startLineNumber),Math.max(this.endLineNumberExclusive,y.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}}e.LineRange=E}),define(ee[442],te([1,0,152,159,9,3,85]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.SmartLinesDiffComputer=void 0;const v=3;class C{computeDiff(o,h,f){var S;const m=new r(o,h,{maxComputationTime:f.maxComputationTimeMs,shouldIgnoreTrimWhitespace:f.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),b=[];let L=null;for(const k of m.changes){let I;k.originalEndLineNumber===0?I=new N.LineRange(k.originalStartLineNumber+1,k.originalStartLineNumber+1):I=new N.LineRange(k.originalStartLineNumber,k.originalEndLineNumber+1);let M;k.modifiedEndLineNumber===0?M=new N.LineRange(k.modifiedStartLineNumber+1,k.modifiedStartLineNumber+1):M=new N.LineRange(k.modifiedStartLineNumber,k.modifiedEndLineNumber+1);let B=new N.LineRangeMapping(I,M,(S=k.charChanges)===null||S===void 0?void 0:S.map(z=>new N.RangeMapping(new D.Range(z.originalStartLineNumber,z.originalStartColumn,z.originalEndLineNumber,z.originalEndColumn),new D.Range(z.modifiedStartLineNumber,z.modifiedStartColumn,z.modifiedEndLineNumber,z.modifiedEndColumn))));L&&(L.modifiedRange.endLineNumberExclusive===B.modifiedRange.startLineNumber||L.originalRange.endLineNumberExclusive===B.originalRange.startLineNumber)&&(B=new N.LineRangeMapping(L.originalRange.join(B.originalRange),L.modifiedRange.join(B.modifiedRange),L.innerChanges&&B.innerChanges?L.innerChanges.concat(B.innerChanges):void 0),b.pop()),b.push(B),L=B}return(0,y.assertFn)(()=>(0,y.checkAdjacentItems)(b,(k,I)=>I.originalRange.startLineNumber-k.originalRange.endLineNumberExclusive===I.modifiedRange.startLineNumber-k.modifiedRange.endLineNumberExclusive&&k.originalRange.endLineNumberExclusive<I.originalRange.startLineNumber&&k.modifiedRange.endLineNumberExclusive<I.modifiedRange.startLineNumber)),{quitEarly:m.quitEarly,changes:b}}}e.SmartLinesDiffComputer=C;function d(l,o,h,f){return new w.LcsDiff(l,o,h).ComputeDiff(f)}class g{constructor(o){const h=[],f=[];for(let S=0,p=o.length;S<p;S++)h[S]=c(o[S],1),f[S]=u(o[S],1);this.lines=o,this.a=h,this.b=f}getElements(){const o=[];for(let h=0,f=this.lines.length;h<f;h++)o[h]=this.lines[h].substring(this.a[h]-1,this.b[h]-1);return o}getStrictElement(o){return this.lines[o]}getStartLineNumber(o){return o+1}getEndLineNumber(o){return o+1}createCharSequence(o,h,f){const S=[],p=[],m=[];let b=0;for(let L=h;L<=f;L++){const k=this.lines[L],I=o?this.a[L]:1,M=o?this.b[L]:k.length+1;for(let B=I;B<M;B++)S[b]=k.charCodeAt(B-1),p[b]=L+1,m[b]=B,b++;!o&&L<f&&(S[b]=10,p[b]=L+1,m[b]=k.length+1,b++)}return new i(S,p,m)}}class i{constructor(o,h,f){this.a=o,this.b=h,this.d=f}toString(){return"["+this.a.map((o,h)=>(o===10?"\\n":String.fromCharCode(o))+`-(${this.b[h]},${this.d[h]})`).join(", ")+"]"}e(o,h){if(o<0||o>=h.length)throw new Error("Illegal index")}getElements(){return this.a}getStartLineNumber(o){return o>0&&o===this.b.length?this.getEndLineNumber(o-1):(this.e(o,this.b),this.b[o])}getEndLineNumber(o){return o===-1?this.getStartLineNumber(o+1):(this.e(o,this.b),this.a[o]===10?this.b[o]+1:this.b[o])}getStartColumn(o){return o>0&&o===this.d.length?this.getEndColumn(o-1):(this.e(o,this.d),this.d[o])}getEndColumn(o){return o===-1?this.getStartColumn(o+1):(this.e(o,this.d),this.a[o]===10?1:this.d[o]+1)}}class t{constructor(o,h,f,S,p,m,b,L){this.originalStartLineNumber=o,this.originalStartColumn=h,this.originalEndLineNumber=f,this.originalEndColumn=S,this.modifiedStartLineNumber=p,this.modifiedStartColumn=m,this.modifiedEndLineNumber=b,this.modifiedEndColumn=L}static createFromDiffChange(o,h,f){const S=h.getStartLineNumber(o.originalStart),p=h.getStartColumn(o.originalStart),m=h.getEndLineNumber(o.originalStart+o.originalLength-1),b=h.getEndColumn(o.originalStart+o.originalLength-1),L=f.getStartLineNumber(o.modifiedStart),k=f.getStartColumn(o.modifiedStart),I=f.getEndLineNumber(o.modifiedStart+o.modifiedLength-1),M=f.getEndColumn(o.modifiedStart+o.modifiedLength-1);return new t(S,p,m,b,L,k,I,M)}}function n(l){if(l.length<=1)return l;const o=[l[0]];let h=o[0];for(let f=1,S=l.length;f<S;f++){const p=l[f],m=p.originalStart-(h.originalStart+h.originalLength),b=p.modifiedStart-(h.modifiedStart+h.modifiedLength);Math.min(m,b)<v?(h.originalLength=p.originalStart+p.originalLength-h.originalStart,h.modifiedLength=p.modifiedStart+p.modifiedLength-h.modifiedStart):(o.push(p),h=p)}return o}class a{constructor(o,h,f,S,p){this.originalStartLineNumber=o,this.originalEndLineNumber=h,this.modifiedStartLineNumber=f,this.modifiedEndLineNumber=S,this.charChanges=p}static createFromDiffResult(o,h,f,S,p,m,b){let L,k,I,M,B;if(h.originalLength===0?(L=f.getStartLineNumber(h.originalStart)-1,k=0):(L=f.getStartLineNumber(h.originalStart),k=f.getEndLineNumber(h.originalStart+h.originalLength-1)),h.modifiedLength===0?(I=S.getStartLineNumber(h.modifiedStart)-1,M=0):(I=S.getStartLineNumber(h.modifiedStart),M=S.getEndLineNumber(h.modifiedStart+h.modifiedLength-1)),m&&h.originalLength>0&&h.originalLength<20&&h.modifiedLength>0&&h.modifiedLength<20&&p()){const z=f.createCharSequence(o,h.originalStart,h.originalStart+h.originalLength-1),P=S.createCharSequence(o,h.modifiedStart,h.modifiedStart+h.modifiedLength-1);if(z.getElements().length>0&&P.getElements().length>0){let A=d(z,P,p,!0).changes;b&&(A=n(A)),B=[];for(let T=0,O=A.length;T<O;T++)B.push(t.createFromDiffChange(A[T],z,P))}}return new a(L,k,I,M,B)}}class r{constructor(o,h,f){this.a=f.shouldComputeCharChanges,this.b=f.shouldPostProcessCharChanges,this.d=f.shouldIgnoreTrimWhitespace,this.e=f.shouldMakePrettyDiff,this.f=o,this.g=h,this.h=new g(o),this.j=new g(h),this.k=s(f.maxComputationTime),this.l=s(f.maxComputationTime===0?0:Math.min(f.maxComputationTime,5e3))}computeDiff(){if(this.h.lines.length===1&&this.h.lines[0].length===0)return this.j.lines.length===1&&this.j.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.j.lines.length,charChanges:void 0}]};if(this.j.lines.length===1&&this.j.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.h.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const o=d(this.h,this.j,this.k,this.e),h=o.changes,f=o.quitEarly;if(this.d){const b=[];for(let L=0,k=h.length;L<k;L++)b.push(a.createFromDiffResult(this.d,h[L],this.h,this.j,this.l,this.a,this.b));return{quitEarly:f,changes:b}}const S=[];let p=0,m=0;for(let b=-1,L=h.length;b<L;b++){const k=b+1<L?h[b+1]:null,I=k?k.originalStart:this.f.length,M=k?k.modifiedStart:this.g.length;for(;p<I&&m<M;){const B=this.f[p],z=this.g[m];if(B!==z){{let P=c(B,1),A=c(z,1);for(;P>1&&A>1;){const T=B.charCodeAt(P-2),O=z.charCodeAt(A-2);if(T!==O)break;P--,A--}(P>1||A>1)&&this.m(S,p+1,1,P,m+1,1,A)}{let P=u(B,1),A=u(z,1);const T=B.length+1,O=z.length+1;for(;P<T&&A<O;){const F=B.charCodeAt(P-1),W=B.charCodeAt(A-1);if(F!==W)break;P++,A++}(P<T||A<O)&&this.m(S,p+1,P,T,m+1,A,O)}}p++,m++}k&&(S.push(a.createFromDiffResult(this.d,k,this.h,this.j,this.l,this.a,this.b)),p+=k.originalLength,m+=k.modifiedLength)}return{quitEarly:f,changes:S}}m(o,h,f,S,p,m,b){if(this.n(o,h,f,S,p,m,b))return;let L;this.a&&(L=[new t(h,f,h,S,p,m,p,b)]),o.push(new a(h,h,p,p,L))}n(o,h,f,S,p,m,b){const L=o.length;if(L===0)return!1;const k=o[L-1];return k.originalEndLineNumber===0||k.modifiedEndLineNumber===0?!1:k.originalEndLineNumber===h&&k.modifiedEndLineNumber===p?(this.a&&k.charChanges&&k.charChanges.push(new t(h,f,h,S,p,m,p,b)),!0):k.originalEndLineNumber+1===h&&k.modifiedEndLineNumber+1===p?(k.originalEndLineNumber=h,k.modifiedEndLineNumber=p,this.a&&k.charChanges&&k.charChanges.push(new t(h,f,h,S,p,m,p,b)),!0):!1}}e.DiffComputer=r;function c(l,o){const h=E.firstNonWhitespaceIndex(l);return h===-1?o:h+1}function u(l,o){const h=E.lastNonWhitespaceIndex(l);return h===-1?o:h+2}function s(l){if(l===0)return()=>!0;const o=Date.now();return()=>Date.now()-o<l}}),define(ee[443],te([1,0,85,11,3,158,441,438,439,159]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=e.lineRangeMappingFromRangeMappings=e.StandardLinesDiffComputer=void 0;class g{constructor(){this.b=new y.DynamicProgrammingDiffing,this.c=new C.MyersDiffAlgorithm}computeDiff(h,f,S){const p=new Map;function m(O){let F=p.get(O);return F===void 0&&(F=p.size,p.set(O,F)),F}const b=h.map(O=>m(O.trim())),L=f.map(O=>m(O.trim())),k=new n(b,h),I=new n(L,f);let M=(()=>k.length+I.length<1500?this.b.compute(k,I,(O,F)=>h[O]===f[F]?f[F].length===0?.1:1+Math.log(1+f[F].length):.99):this.c.compute(k,I))();M=(0,v.optimizeSequenceDiffs)(k,I,M);const B=[],z=O=>{for(let F=0;F<O;F++){const W=P+F,V=A+F;if(h[W]!==f[V]){const R=this.e(h,f,new D.SequenceDiff(new D.OffsetRange(W,W+1),new D.OffsetRange(V,V+1)));for(const $ of R)B.push($)}}};let P=0,A=0;for(const O of M){(0,w.assertFn)(()=>O.seq1Range.start-P===O.seq2Range.start-A);const F=O.seq1Range.start-P;z(F),P=O.seq1Range.endExclusive,A=O.seq2Range.endExclusive;const W=this.e(h,f,O);for(const V of W)B.push(V)}z(h.length-P);const T=i(B);return{quitEarly:!1,changes:T}}e(h,f,S){const p=new r(h,S.seq1Range),m=new r(f,S.seq2Range),b=p.length+m.length<500?this.b.compute(p,m):this.c.compute(p,m);let L=(0,v.optimizeSequenceDiffs)(p,m,b);return L=(0,v.smoothenSequenceDiffs)(p,m,L),L.map(I=>new d.RangeMapping(p.translateRange(I.seq1Range).delta(S.seq1Range.start),m.translateRange(I.seq2Range).delta(S.seq2Range.start)))}}e.StandardLinesDiffComputer=g;function i(o){const h=[];for(const f of t(o,(S,p)=>p.originalRange.startLineNumber-(S.originalRange.endLineNumber-(S.originalRange.endColumn>1?0:1))<=1||p.modifiedRange.startLineNumber-(S.modifiedRange.endLineNumber-(S.modifiedRange.endColumn>1?0:1))<=1)){const S=f[0],p=f[f.length-1];h.push(new d.LineRangeMapping(new d.LineRange(S.originalRange.startLineNumber,p.originalRange.endLineNumber+(p.originalRange.endColumn>1||p.modifiedRange.endColumn>1?1:0)),new d.LineRange(S.modifiedRange.startLineNumber,p.modifiedRange.endLineNumber+(p.originalRange.endColumn>1||p.modifiedRange.endColumn>1?1:0)),f))}return(0,w.assertFn)(()=>(0,w.checkAdjacentItems)(h,(f,S)=>S.originalRange.startLineNumber-f.originalRange.endLineNumberExclusive===S.modifiedRange.startLineNumber-f.modifiedRange.endLineNumberExclusive&&f.originalRange.endLineNumberExclusive<S.originalRange.startLineNumber&&f.modifiedRange.endLineNumberExclusive<S.modifiedRange.startLineNumber)),h}e.lineRangeMappingFromRangeMappings=i;function*t(o,h){let f,S;for(const p of o)S!==void 0&&h(S,p)?f.push(p):(f&&(yield f),f=[p]),S=p;f&&(yield f)}class n{constructor(h,f){this.b=h,this.c=f}getElement(h){return this.b[h]}get length(){return this.b.length}getBoundaryScore(h){const f=h===0?0:a(this.c[h-1]),S=h===this.c.length?0:a(this.c[h]);return 1e3-(f+S)}}e.LineSequence=n;function a(o){let h=0;for(;h<o.length&&(o.charCodeAt(h)===32||o.charCodeAt(h)===9);)h++;return h}class r{constructor(h,f){this.lines=h,this.lineRange=f;let S=0;this.c=new Int32Array(f.length);for(let m=f.start;m<f.endExclusive;m++)S+=h[m].length,this.c[m-f.start]=S+1,S++;this.b=new Int32Array(S);let p=0;for(let m=f.start;m<f.endExclusive;m++){const b=h[m];for(let L=0;L<b.length;L++)this.b[p+L]=b.charCodeAt(L);p+=b.length,m<h.length-1&&(this.b[p]=`
`.charCodeAt(0),p+=1)}}getElement(h){return this.b[h]}get length(){return this.b.length}getBoundaryScore(h){const f=s(h>0?this.b[h-1]:-1),S=s(h<this.b.length?this.b[h]:-1);if(f===6&&S===7)return 0;let p=0;return f!==S&&(p+=10,S===1&&(p+=1)),p+=u(f),p+=u(S),p}translateOffset(h){let f=0,S=this.c.length;for(;f<S;){const m=Math.floor((f+S)/2);this.c[m]>h?S=m:f=m+1}const p=f===0?0:this.c[f-1];return new N.Position(f+1,h-p+1)}translateRange(h){return E.Range.fromPositions(this.translateOffset(h.start),this.translateOffset(h.endExclusive))}}const c={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function u(o){return c[o]}function s(o){return o===10?7:o===13?6:l(o)?5:o>=97&&o<=122?0:o>=65&&o<=90?1:o>=48&&o<=57?2:o===-1?3:4}function l(o){return o===32||o===9}}),define(ee[444],te([1,0,442,443]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={smart:new w.SmartLinesDiffComputer,experimental:new N.StandardLinesDiffComputer}}),define(ee[249],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class w{constructor(E,D,y,v,C,d){this.id=E,this.label=D,this.alias=y,this.a=v,this.b=C,this.c=d}isSupported(){return this.c.contextMatchesRules(this.a)}run(){return this.isSupported()?this.b():Promise.resolve(void 0)}}e.InternalEditorAction=w}),define(ee[160],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[161],te([1,0,160]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function N(v){return v&&typeof v.getEditorType=="function"?v.getEditorType()===w.EditorType.ICodeEditor:!1}e.isCodeEditor=N;function E(v){return v&&typeof v.getEditorType=="function"?v.getEditorType()===w.EditorType.IDiffEditor:!1}e.isDiffEditor=E;function D(v){return!!v&&typeof v=="object"&&typeof v.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function y(v){return N(v)?v:E(v)?v.getModifiedEditor():D(v)&&N(v.activeCodeEditor)?v.activeCodeEditor:null}e.getCodeEditor=y}),define(ee[445],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class w{get type(){return this.a.type}get value(){return this.a}constructor(E){this.a=E}update(E){this.a=E}getColor(E){return this.a.getColor(E)}}e.EditorTheme=w}),define(ee[115],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class w{static getLanguageId(E){return(E&255)>>>0}static getTokenType(E){return(E&768)>>>8}static containsBalancedBrackets(E){return(E&1024)!==0}static getFontStyle(E){return(E&30720)>>>11}static getForeground(E){return(E&16744448)>>>15}static getBackground(E){return(E&4278190080)>>>24}static getClassNameFromMetadata(E){const D=this.getForeground(E);let y="mtk"+D;const v=this.getFontStyle(E);return v&1&&(y+=" mtki"),v&2&&(y+=" mtkb"),v&4&&(y+=" mtku"),v&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(E,D){const y=this.getForeground(E),v=this.getFontStyle(E);let C=`color: ${D[y]};`;v&1&&(C+="font-style: italic;"),v&2&&(C+="font-weight: bold;");let d="";return v&4&&(d+=" underline"),v&8&&(d+=" line-through"),d&&(C+=`text-decoration:${d};`),C}static getPresentationFromMetadata(E){const D=this.getForeground(E),y=this.getFontStyle(E);return{foreground:D,italic:Boolean(y&1),bold:Boolean(y&2),underline:Boolean(y&4),strikethrough:Boolean(y&8)}}}e.TokenMetadata=w}),define(ee[102],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class N{constructor(v){if(this.e=null,this.f=!1,this.open=v.open,this.close=v.close,this.b=!0,this.c=!0,this.d=!0,Array.isArray(v.notIn))for(let C=0,d=v.notIn.length;C<d;C++)switch(v.notIn[C]){case"string":this.b=!1;break;case"comment":this.c=!1;break;case"regex":this.d=!1;break}}isOK(v){switch(v){case 0:return!0;case 1:return this.c;case 2:return this.b;case 3:return this.d}}shouldAutoClose(v,C){if(v.getTokenCount()===0)return!0;const d=v.findTokenIndexAtOffset(C-2),g=v.getStandardTokenType(d);return this.isOK(g)}g(v,C){for(let d=v;d<=C;d++){const g=String.fromCharCode(d);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this.f||(this.f=!0,this.e||(this.e=this.g(48,57)),this.e||(this.e=this.g(97,122)),this.e||(this.e=this.g(65,90))),this.e}}e.StandardAutoClosingPairConditional=N;class E{constructor(v){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of v)D(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),D(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),D(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),D(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&D(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=E;function D(y,v,C){y.has(v)?y.get(v).push(C):y.set(v,[C])}}),define(ee[446],te([1,0,113]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class N{constructor(t,n,a){const r=new Uint8Array(t*n);for(let c=0,u=t*n;c<u;c++)r[c]=a;this.a=r,this.rows=t,this.cols=n}get(t,n){return this.a[t*this.cols+n]}set(t,n,a){this.a[t*this.cols+n]=a}}class E{constructor(t){let n=0,a=0;for(let c=0,u=t.length;c<u;c++){const[s,l,o]=t[c];l>n&&(n=l),s>a&&(a=s),o>a&&(a=o)}n++,a++;const r=new N(a,n,0);for(let c=0,u=t.length;c<u;c++){const[s,l,o]=t[c];r.set(s,l,o)}this.a=r,this.b=n}nextState(t,n){return n<0||n>=this.b?0:this.a.get(t,n)}}e.StateMachine=E;let D=null;function y(){return D===null&&(D=new E([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let v=null;function C(){if(v===null){v=new w.CharacterClassifier(0);const i=`, 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<i.length;n++)v.set(i.charCodeAt(n),1);const t=".;:";for(let n=0;n<t.length;n++)v.set(t.charCodeAt(n),2)}return v}class d{static a(t,n,a,r,c){let u=c-1;do{const s=n.charCodeAt(u);if(t.get(s)!==2)break;u--}while(u>r);if(r>0){const s=n.charCodeAt(r-1),l=n.charCodeAt(u);(s===40&&l===41||s===91&&l===93||s===123&&l===125)&&u--}return{range:{startLineNumber:a,startColumn:r+1,endLineNumber:a,endColumn:u+2},url:n.substring(r,u+1)}}static computeLinks(t,n=y()){const a=C(),r=[];for(let c=1,u=t.getLineCount();c<=u;c++){const s=t.getLineContent(c),l=s.length;let o=0,h=0,f=0,S=1,p=!1,m=!1,b=!1,L=!1;for(;o<l;){let k=!1;const I=s.charCodeAt(o);if(S===13){let M;switch(I){case 40:p=!0,M=0;break;case 41:M=p?0:1;break;case 91:b=!0,m=!0,M=0;break;case 93:b=!1,M=m?0:1;break;case 123:L=!0,M=0;break;case 125:M=L?0:1;break;case 39:case 34:case 96:f===I?M=1:f===39||f===34||f===96?M=0:M=1;break;case 42:M=f===42?1:0;break;case 124:M=f===124?1:0;break;case 32:M=b?0:1;break;default:M=a.get(I)}M===1&&(r.push(d.a(a,s,c,h,o)),k=!0)}else if(S===12){let M;I===91?(m=!0,M=0):M=a.get(I),M===1?k=!0:S=13}else S=n.nextState(S,I),S===0&&(k=!0);k&&(S=1,p=!1,m=!1,L=!1,h=o+1,f=I),o++}S===13&&r.push(d.a(a,s,c,h,l))}return r}}e.LinkComputer=d;function g(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:d.computeLinks(i)}e.computeLinks=g}),define(ee[116],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function w(D,y){const v=D.getCount(),C=D.findTokenIndexAtOffset(y),d=D.getLanguageId(C);let g=C;for(;g+1<v&&D.getLanguageId(g+1)===d;)g++;let i=C;for(;i>0&&D.getLanguageId(i-1)===d;)i--;return new N(D,d,i,g+1,D.getStartOffset(i),D.getEndOffset(g))}e.createScopedLineTokens=w;class N{constructor(y,v,C,d,g,i){this._scopedLineTokensBrand=void 0,this.a=y,this.languageId=v,this.b=C,this.c=d,this.firstCharOffset=g,this.d=i}getLineContent(){return this.a.getLineContent().substring(this.firstCharOffset,this.d)}getActualLineContentBefore(y){return this.a.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this.c-this.b}findTokenIndexAtOffset(y){return this.a.findTokenIndexAtOffset(y+this.firstCharOffset)-this.b}getStandardTokenType(y){return this.a.getStandardTokenType(y+this.b)}}e.ScopedLineTokens=N;function E(D){return(D&3)!==0}e.ignoreBracketsInToken=E}),define(ee[65],te([1,0,11,3,22,116,73,185]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const C=()=>!0,d=()=>!1,g=s=>s===" "||s==="	";class i{static shouldRecreate(l){return l.hasChanged(138)||l.hasChanged(124)||l.hasChanged(34)||l.hasChanged(73)||l.hasChanged(75)||l.hasChanged(76)||l.hasChanged(5)||l.hasChanged(8)||l.hasChanged(6)||l.hasChanged(7)||l.hasChanged(11)||l.hasChanged(122)||l.hasChanged(47)||l.hasChanged(86)}constructor(l,o,h,f){this.languageConfigurationService=f,this._cursorMoveConfigurationBrand=void 0,this.a=l;const S=h.options,p=S.get(138),m=S.get(47);this.readOnly=S.get(86),this.tabSize=o.tabSize,this.indentSize=o.indentSize,this.insertSpaces=o.insertSpaces,this.stickyTabStops=S.get(110),this.lineHeight=m.lineHeight,this.typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=S.get(122),this.wordSeparators=S.get(124),this.emptySelectionClipboard=S.get(34),this.copyWithSyntaxHighlighting=S.get(22),this.multiCursorMergeOverlapping=S.get(73),this.multiCursorPaste=S.get(75),this.multiCursorLimit=S.get(76),this.autoClosingBrackets=S.get(5),this.autoClosingQuotes=S.get(8),this.autoClosingDelete=S.get(6),this.autoClosingOvertype=S.get(7),this.autoSurround=S.get(11),this.autoIndent=S.get(9),this.surroundingPairs={},this.b=null,this.shouldAutoCloseBefore={quote:this.d(l,this.autoClosingQuotes,!0),bracket:this.d(l,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(l).getAutoClosingPairs();const b=this.languageConfigurationService.getLanguageConfiguration(l).getSurroundingPairs();if(b)for(const L of b)this.surroundingPairs[L.open]=L.close}get electricChars(){var l;if(!this.b){this.b={};const o=(l=this.languageConfigurationService.getLanguageConfiguration(this.a).electricCharacter)===null||l===void 0?void 0:l.getElectricCharacters();if(o)for(const h of o)this.b[h]=!0}return this.b}onElectricCharacter(l,o,h){const f=(0,D.createScopedLineTokens)(o,h-1),S=this.languageConfigurationService.getLanguageConfiguration(f.languageId).electricCharacter;return S?S.onElectricCharacter(l,f,h-f.firstCharOffset):null}normalizeIndentation(l){return(0,v.normalizeIndentation)(l,this.indentSize,this.insertSpaces)}d(l,o,h){switch(o){case"beforeWhitespace":return g;case"languageDefined":return this.f(l,h);case"always":return C;case"never":return d}}f(l,o){const h=this.languageConfigurationService.getLanguageConfiguration(l).getAutoCloseBeforeSet(o);return f=>h.indexOf(f)!==-1}visibleColumnFromColumn(l,o){return y.CursorColumns.visibleColumnFromColumn(l.getLineContent(o.lineNumber),o.column,this.tabSize)}columnFromVisibleColumn(l,o,h){const f=y.CursorColumns.columnFromVisibleColumn(l.getLineContent(o),h,this.tabSize),S=l.getLineMinColumn(o);if(f<S)return S;const p=l.getLineMaxColumn(o);return f>p?p:f}}e.CursorConfiguration=i;class t{static fromModelState(l){return new n(l)}static fromViewState(l){return new a(l)}static fromModelSelection(l){const o=E.Selection.liftSelection(l),h=new r(N.Range.fromPositions(o.getSelectionStart()),0,0,o.getPosition(),0);return t.fromModelState(h)}static fromModelSelections(l){const o=[];for(let h=0,f=l.length;h<f;h++)o[h]=this.fromModelSelection(l[h]);return o}constructor(l,o){this._cursorStateBrand=void 0,this.modelState=l,this.viewState=o}equals(l){return this.viewState.equals(l.viewState)&&this.modelState.equals(l.modelState)}}e.CursorState=t;class n{constructor(l){this.modelState=l,this.viewState=null}}e.PartialModelCursorState=n;class a{constructor(l){this.modelState=null,this.viewState=l}}e.PartialViewCursorState=a;class r{constructor(l,o,h,f,S){this.selectionStart=l,this.selectionStartKind=o,this.selectionStartLeftoverVisibleColumns=h,this.position=f,this.leftoverVisibleColumns=S,this._singleCursorStateBrand=void 0,this.selection=r.a(this.selectionStart,this.position)}equals(l){return this.selectionStartLeftoverVisibleColumns===l.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===l.leftoverVisibleColumns&&this.selectionStartKind===l.selectionStartKind&&this.position.equals(l.position)&&this.selectionStart.equalsRange(l.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(l,o,h,f){return l?new r(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new w.Position(o,h),f):new r(new N.Range(o,h,o,h),0,f,new w.Position(o,h),f)}static a(l,o){return l.isEmpty()||!o.isBeforeOrEqual(l.getStartPosition())?E.Selection.fromPositions(l.getStartPosition(),o):E.Selection.fromPositions(l.getEndPosition(),o)}}e.SingleCursorState=r;class c{constructor(l,o,h){this._editOperationResultBrand=void 0,this.type=l,this.commands=o,this.shouldPushStackElementBefore=h.shouldPushStackElementBefore,this.shouldPushStackElementAfter=h.shouldPushStackElementAfter}}e.EditOperationResult=c;function u(s){return s==="'"||s==='"'||s==="`"}e.isQuote=u}),define(ee[447],te([1,0,65,11,3]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(v,C,d,g,i,t){const n=Math.abs(i-d)+1,a=d>i,r=g>t,c=g<t,u=[];for(let s=0;s<n;s++){const l=d+(a?-s:s),o=v.columnFromVisibleColumn(C,l,g),h=v.columnFromVisibleColumn(C,l,t),f=v.visibleColumnFromColumn(C,new N.Position(l,o)),S=v.visibleColumnFromColumn(C,new N.Position(l,h));c&&(f>t||S<g)||r&&(S>g||f<t)||u.push(new w.SingleCursorState(new E.Range(l,o,l,o),0,0,new N.Position(l,h),0))}if(u.length===0)for(let s=0;s<n;s++){const l=d+(a?-s:s),o=C.getLineMaxColumn(l);u.push(new w.SingleCursorState(new E.Range(l,o,l,o),0,0,new N.Position(l,o),0))}return{viewStates:u,reversed:a,fromLineNumber:d,fromVisualColumn:g,toLineNumber:i,toVisualColumn:t}}static columnSelectLeft(v,C,d){let g=d.toViewVisualColumn;return g>0&&g--,D.columnSelect(v,C,d.fromViewLineNumber,d.fromViewVisualColumn,d.toViewLineNumber,g)}static columnSelectRight(v,C,d){let g=0;const i=Math.min(d.fromViewLineNumber,d.toViewLineNumber),t=Math.max(d.fromViewLineNumber,d.toViewLineNumber);for(let a=i;a<=t;a++){const r=C.getLineMaxColumn(a),c=v.visibleColumnFromColumn(C,new N.Position(a,r));g=Math.max(g,c)}let n=d.toViewVisualColumn;return n<g&&n++,this.columnSelect(v,C,d.fromViewLineNumber,d.fromViewVisualColumn,d.toViewLineNumber,n)}static columnSelectUp(v,C,d,g){const i=g?v.pageSize:1,t=Math.max(1,d.toViewLineNumber-i);return this.columnSelect(v,C,d.fromViewLineNumber,d.fromViewVisualColumn,t,d.toViewVisualColumn)}static columnSelectDown(v,C,d,g){const i=g?v.pageSize:1,t=Math.min(C.getLineCount(),d.toViewLineNumber+i);return this.columnSelect(v,C,d.fromViewLineNumber,d.fromViewVisualColumn,t,d.toViewVisualColumn)}}e.ColumnSelection=D}),define(ee[186],te([1,0,65,73,11,3,9,248]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class C{constructor(i,t,n){this._cursorPositionBrand=void 0,this.lineNumber=i,this.column=t,this.leftoverVisibleColumns=n}}e.CursorPosition=C;class d{static leftPosition(i,t){if(t.column>i.getLineMinColumn(t.lineNumber))return t.delta(void 0,-y.prevCharLength(i.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new E.Position(n,i.getLineMaxColumn(n))}else return t}static a(i,t,n){if(t.column<=i.getLineIndentColumn(t.lineNumber)){const a=i.getLineMinColumn(t.lineNumber),r=i.getLineContent(t.lineNumber),c=v.AtomicTabMoveOperations.atomicPosition(r,t.column-1,n,0);if(c!==-1&&c+1>=a)return new E.Position(t.lineNumber,c+1)}return this.leftPosition(i,t)}static b(i,t,n){const a=i.stickyTabStops?d.a(t,n,i.tabSize):d.leftPosition(t,n);return new C(a.lineNumber,a.column,0)}static moveLeft(i,t,n,a,r){let c,u;if(n.hasSelection()&&!a)c=n.selection.startLineNumber,u=n.selection.startColumn;else{const s=n.position.delta(void 0,-(r-1)),l=t.normalizePosition(d.c(s,t),0),o=d.b(i,t,l);c=o.lineNumber,u=o.column}return n.move(a,c,u,0)}static c(i,t){return new E.Position(i.lineNumber,d.d(i.column,t.getLineMinColumn(i.lineNumber),t.getLineMaxColumn(i.lineNumber)))}static d(i,t,n){return i<t?t:i>n?n:i}static rightPosition(i,t,n){return n<i.getLineMaxColumn(t)?n=n+y.nextCharLength(i.getLineContent(t),n-1):t<i.getLineCount()&&(t=t+1,n=i.getLineMinColumn(t)),new E.Position(t,n)}static rightPositionAtomicSoftTabs(i,t,n,a,r){if(n<i.getLineIndentColumn(t)){const c=i.getLineContent(t),u=v.AtomicTabMoveOperations.atomicPosition(c,n-1,a,1);if(u!==-1)return new E.Position(t,u+1)}return this.rightPosition(i,t,n)}static right(i,t,n){const a=i.stickyTabStops?d.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,i.tabSize,i.indentSize):d.rightPosition(t,n.lineNumber,n.column);return new C(a.lineNumber,a.column,0)}static moveRight(i,t,n,a,r){let c,u;if(n.hasSelection()&&!a)c=n.selection.endLineNumber,u=n.selection.endColumn;else{const s=n.position.delta(void 0,r-1),l=t.normalizePosition(d.c(s,t),1),o=d.right(i,t,l);c=o.lineNumber,u=o.column}return n.move(a,c,u,0)}static vertical(i,t,n,a,r,c,u,s){const l=N.CursorColumns.visibleColumnFromColumn(t.getLineContent(n),a,i.tabSize)+r,o=t.getLineCount(),h=n===1&&a===1,f=n===o&&a===t.getLineMaxColumn(n),S=c<n?h:f;if(n=c,n<1?(n=1,u?a=t.getLineMinColumn(n):a=Math.min(t.getLineMaxColumn(n),a)):n>o?(n=o,u?a=t.getLineMaxColumn(n):a=Math.min(t.getLineMaxColumn(n),a)):a=i.columnFromVisibleColumn(t,n,l),S?r=0:r=l-N.CursorColumns.visibleColumnFromColumn(t.getLineContent(n),a,i.tabSize),s!==void 0){const p=new E.Position(n,a),m=t.normalizePosition(p,s);r=r+(a-m.column),n=m.lineNumber,a=m.column}return new C(n,a,r)}static down(i,t,n,a,r,c,u){return this.vertical(i,t,n,a,r,n+c,u,4)}static moveDown(i,t,n,a,r){let c,u;n.hasSelection()&&!a?(c=n.selection.endLineNumber,u=n.selection.endColumn):(c=n.position.lineNumber,u=n.position.column);const s=d.down(i,t,c,u,n.leftoverVisibleColumns,r,!0);return n.move(a,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(i,t,n){const a=n.selection,r=d.down(i,t,a.selectionStartLineNumber,a.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),c=d.down(i,t,a.positionLineNumber,a.positionColumn,n.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(i,t,n,a,r,c,u){return this.vertical(i,t,n,a,r,n-c,u,3)}static moveUp(i,t,n,a,r){let c,u;n.hasSelection()&&!a?(c=n.selection.startLineNumber,u=n.selection.startColumn):(c=n.position.lineNumber,u=n.position.column);const s=d.up(i,t,c,u,n.leftoverVisibleColumns,r,!0);return n.move(a,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(i,t,n){const a=n.selection,r=d.up(i,t,a.selectionStartLineNumber,a.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),c=d.up(i,t,a.positionLineNumber,a.positionColumn,n.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static e(i,t){return i.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(i,t,n,a){let r=n.position.lineNumber;for(;r>1&&this.e(t,r);)r--;for(;r>1&&!this.e(t,r);)r--;return n.move(a,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(i,t,n,a){const r=t.getLineCount();let c=n.position.lineNumber;for(;c<r&&this.e(t,c);)c++;for(;c<r&&!this.e(t,c);)c++;return n.move(a,c,t.getLineMinColumn(c),0)}static moveToBeginningOfLine(i,t,n,a){const r=n.position.lineNumber,c=t.getLineMinColumn(r),u=t.getLineFirstNonWhitespaceColumn(r)||c;let s;return n.position.column===u?s=c:s=u,n.move(a,r,s,0)}static moveToEndOfLine(i,t,n,a,r){const c=n.position.lineNumber,u=t.getLineMaxColumn(c);return n.move(a,c,u,r?1073741824-u:0)}static moveToBeginningOfBuffer(i,t,n,a){return n.move(a,1,1,0)}static moveToEndOfBuffer(i,t,n,a){const r=t.getLineCount(),c=t.getLineMaxColumn(r);return n.move(a,r,c,0)}}e.MoveOperations=d}),define(ee[187],te([1,0,9,114,65,73,186,3,11]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class d{static deleteRight(i,t,n,a){const r=[];let c=i!==3;for(let u=0,s=a.length;u<s;u++){const l=a[u];let o=l;if(o.isEmpty()){const h=l.getPosition(),f=y.MoveOperations.right(t,n,h);o=new v.Range(f.lineNumber,f.column,h.lineNumber,h.column)}if(o.isEmpty()){r[u]=null;continue}o.startLineNumber!==o.endLineNumber&&(c=!0),r[u]=new N.ReplaceCommand(o,"")}return[c,r]}static isAutoClosingPairDelete(i,t,n,a,r,c,u){if(t==="never"&&n==="never"||i==="never")return!1;for(let s=0,l=c.length;s<l;s++){const o=c[s],h=o.getPosition();if(!o.isEmpty())return!1;const f=r.getLineContent(h.lineNumber);if(h.column<2||h.column>=f.length+1)return!1;const S=f.charAt(h.column-2),p=a.get(S);if(!p)return!1;if((0,E.isQuote)(S)){if(n==="never")return!1}else if(t==="never")return!1;const m=f.charAt(h.column-1);let b=!1;for(const L of p)L.open===S&&L.close===m&&(b=!0);if(!b)return!1;if(i==="auto"){let L=!1;for(let k=0,I=u.length;k<I;k++){const M=u[k];if(h.lineNumber===M.startLineNumber&&h.column===M.startColumn){L=!0;break}}if(!L)return!1}}return!0}static c(i,t,n){const a=[];for(let r=0,c=n.length;r<c;r++){const u=n[r].getPosition(),s=new v.Range(u.lineNumber,u.column-1,u.lineNumber,u.column+1);a[r]=new N.ReplaceCommand(s,"")}return[!0,a]}static deleteLeft(i,t,n,a,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,a,r))return this.c(t,n,a);const c=[];let u=i!==2;for(let s=0,l=a.length;s<l;s++){const o=d.d(a[s],n,t);if(o.isEmpty()){c[s]=null;continue}o.startLineNumber!==o.endLineNumber&&(u=!0),c[s]=new N.ReplaceCommand(o,"")}return[u,c]}static d(i,t,n){if(!i.isEmpty())return i;const a=i.getPosition();if(n.useTabStops&&a.column>1){const r=t.getLineContent(a.lineNumber),c=w.firstNonWhitespaceIndex(r),u=c===-1?r.length+1:c+1;if(a.column<=u){const s=n.visibleColumnFromColumn(t,a),l=D.CursorColumns.prevIndentTabStop(s,n.indentSize),o=n.columnFromVisibleColumn(t,a.lineNumber,l);return new v.Range(a.lineNumber,o,a.lineNumber,a.column)}}return v.Range.fromPositions(d.e(a,t),a)}static e(i,t){if(i.column>1){const n=w.getLeftDeleteOffset(i.column-1,t.getLineContent(i.lineNumber));return i.with(void 0,n+1)}else if(i.lineNumber>1){const n=i.lineNumber-1;return new C.Position(n,t.getLineMaxColumn(n))}else return i}static cut(i,t,n){const a=[];let r=null;n.sort((c,u)=>C.Position.compare(c.getStartPosition(),u.getEndPosition()));for(let c=0,u=n.length;c<u;c++){const s=n[c];if(s.isEmpty())if(i.emptySelectionClipboard){const l=s.getPosition();let o,h,f,S;l.lineNumber<t.getLineCount()?(o=l.lineNumber,h=1,f=l.lineNumber+1,S=1):l.lineNumber>1&&r?.endLineNumber!==l.lineNumber?(o=l.lineNumber-1,h=t.getLineMaxColumn(l.lineNumber-1),f=l.lineNumber,S=t.getLineMaxColumn(l.lineNumber)):(o=l.lineNumber,h=1,f=l.lineNumber,S=t.getLineMaxColumn(l.lineNumber));const p=new v.Range(o,h,f,S);r=p,p.isEmpty()?a[c]=null:a[c]=new N.ReplaceCommand(p,"")}else a[c]=null;else a[c]=new N.ReplaceCommand(s,"")}return new E.EditOperationResult(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=d}),define(ee[162],te([1,0,9,65,187,132,11,3]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static a(t,n,a,r,c){return{start:r,end:c,wordType:n,nextCharClass:a}}static b(t,n,a){const r=n.getLineContent(a.lineNumber);return this.c(r,t,a)}static c(t,n,a){let r=0;for(let c=a.column-2;c>=0;c--){const u=t.charCodeAt(c),s=n.get(u);if(s===0){if(r===2)return this.a(t,r,s,c+1,this.d(t,n,r,c+1));r=1}else if(s===2){if(r===1)return this.a(t,r,s,c+1,this.d(t,n,r,c+1));r=2}else if(s===1&&r!==0)return this.a(t,r,s,c+1,this.d(t,n,r,c+1))}return r!==0?this.a(t,r,1,0,this.d(t,n,r,0)):null}static d(t,n,a,r){const c=t.length;for(let u=r;u<c;u++){const s=t.charCodeAt(u),l=n.get(s);if(l===1||a===1&&l===2||a===2&&l===0)return u}return c}static e(t,n,a){const r=n.getLineContent(a.lineNumber);return this.f(r,t,a)}static f(t,n,a){let r=0;const c=t.length;for(let u=a.column-1;u<c;u++){const s=t.charCodeAt(u),l=n.get(s);if(l===0){if(r===2)return this.a(t,r,l,this.g(t,n,r,u-1),u);r=1}else if(l===2){if(r===1)return this.a(t,r,l,this.g(t,n,r,u-1),u);r=2}else if(l===1&&r!==0)return this.a(t,r,l,this.g(t,n,r,u-1),u)}return r!==0?this.a(t,r,1,this.g(t,n,r,c-1),c):null}static g(t,n,a,r){for(let c=r;c>=0;c--){const u=t.charCodeAt(c),s=n.get(u);if(s===1||a===1&&s===2||a===2&&s===0)return c+1}return 0}static moveWordLeft(t,n,a,r){let c=a.lineNumber,u=a.column;u===1&&c>1&&(c=c-1,u=n.getLineMaxColumn(c));let s=C.b(t,n,new y.Position(c,u));if(r===0)return new y.Position(c,s?s.start+1:1);if(r===1)return s&&s.wordType===2&&s.end-s.start===1&&s.nextCharClass===0&&(s=C.b(t,n,new y.Position(c,s.start+1))),new y.Position(c,s?s.start+1:1);if(r===3){for(;s&&s.wordType===2;)s=C.b(t,n,new y.Position(c,s.start+1));return new y.Position(c,s?s.start+1:1)}return s&&u<=s.end+1&&(s=C.b(t,n,new y.Position(c,s.start+1))),new y.Position(c,s?s.end+1:1)}static _moveWordPartLeft(t,n){const a=n.lineNumber,r=t.getLineMaxColumn(a);if(n.column===1)return a>1?new y.Position(a-1,t.getLineMaxColumn(a-1)):n;const c=t.getLineContent(a);for(let u=n.column-1;u>1;u--){const s=c.charCodeAt(u-2),l=c.charCodeAt(u-1);if(s===95&&l!==95)return new y.Position(a,u);if(s===45&&l!==45)return new y.Position(a,u);if((w.isLowerAsciiLetter(s)||w.isAsciiDigit(s))&&w.isUpperAsciiLetter(l))return new y.Position(a,u);if(w.isUpperAsciiLetter(s)&&w.isUpperAsciiLetter(l)&&u+1<r){const o=c.charCodeAt(u);if(w.isLowerAsciiLetter(o)||w.isAsciiDigit(o))return new y.Position(a,u)}}return new y.Position(a,1)}static moveWordRight(t,n,a,r){let c=a.lineNumber,u=a.column,s=!1;u===n.getLineMaxColumn(c)&&c<n.getLineCount()&&(s=!0,c=c+1,u=1);let l=C.e(t,n,new y.Position(c,u));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=C.e(t,n,new y.Position(c,l.end+1))),l?u=l.end+1:u=n.getLineMaxColumn(c);else if(r===3){for(s&&(u=0);l&&(l.wordType===2||l.start+1<=u);)l=C.e(t,n,new y.Position(c,l.end+1));l?u=l.start+1:u=n.getLineMaxColumn(c)}else l&&!s&&u>=l.start+1&&(l=C.e(t,n,new y.Position(c,l.end+1))),l?u=l.start+1:u=n.getLineMaxColumn(c);return new y.Position(c,u)}static _moveWordPartRight(t,n){const a=n.lineNumber,r=t.getLineMaxColumn(a);if(n.column===r)return a<t.getLineCount()?new y.Position(a+1,1):n;const c=t.getLineContent(a);for(let u=n.column+1;u<r;u++){const s=c.charCodeAt(u-2),l=c.charCodeAt(u-1);if(s!==95&&l===95)return new y.Position(a,u);if(s!==45&&l===45)return new y.Position(a,u);if((w.isLowerAsciiLetter(s)||w.isAsciiDigit(s))&&w.isUpperAsciiLetter(l))return new y.Position(a,u);if(w.isUpperAsciiLetter(s)&&w.isUpperAsciiLetter(l)&&u+1<r){const o=c.charCodeAt(u);if(w.isLowerAsciiLetter(o)||w.isAsciiDigit(o))return new y.Position(a,u)}}return new y.Position(a,r)}static h(t,n){const a=t.getLineContent(n.lineNumber),r=n.column-2,c=w.lastNonWhitespaceIndex(a,r);return c+1<r?new v.Range(n.lineNumber,c+2,n.lineNumber,n.column):null}static deleteWordLeft(t,n){const a=t.wordSeparators,r=t.model,c=t.selection,u=t.whitespaceHeuristics;if(!c.isEmpty())return c;if(E.DeleteOperations.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){const f=t.selection.getPosition();return new v.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const s=new y.Position(c.positionLineNumber,c.positionColumn);let l=s.lineNumber,o=s.column;if(l===1&&o===1)return null;if(u){const f=this.h(r,s);if(f)return f}let h=C.b(a,r,s);return n===0?h?o=h.start+1:o>1?o=1:(l--,o=r.getLineMaxColumn(l)):(h&&o<=h.end+1&&(h=C.b(a,r,new y.Position(l,h.start+1))),h?o=h.end+1:o>1?o=1:(l--,o=r.getLineMaxColumn(l))),new v.Range(l,o,s.lineNumber,s.column)}static deleteInsideWord(t,n,a){if(!a.isEmpty())return a;const r=new y.Position(a.positionLineNumber,a.positionColumn),c=this.j(n,r);return c||this.k(t,n,r)}static i(t,n){const a=t.charCodeAt(n);return a===32||a===9}static j(t,n){const a=t.getLineContent(n.lineNumber),r=a.length;if(r===0)return null;let c=Math.max(n.column-2,0);if(!this.i(a,c))return null;let u=Math.min(n.column-1,r-1);if(!this.i(a,u))return null;for(;c>0&&this.i(a,c-1);)c--;for(;u+1<r&&this.i(a,u+1);)u++;return new v.Range(n.lineNumber,c+1,n.lineNumber,u+2)}static k(t,n,a){const r=n.getLineContent(a.lineNumber),c=r.length;if(c===0)return a.lineNumber>1?new v.Range(a.lineNumber-1,n.getLineMaxColumn(a.lineNumber-1),a.lineNumber,1):a.lineNumber<n.getLineCount()?new v.Range(a.lineNumber,1,a.lineNumber+1,1):new v.Range(a.lineNumber,1,a.lineNumber,1);const u=f=>f.start+1<=a.column&&a.column<=f.end+1,s=(f,S)=>(f=Math.min(f,a.column),S=Math.max(S,a.column),new v.Range(a.lineNumber,f,a.lineNumber,S)),l=f=>{let S=f.start+1,p=f.end+1,m=!1;for(;p-1<c&&this.i(r,p-1);)m=!0,p++;if(!m)for(;S>1&&this.i(r,S-2);)S--;return s(S,p)},o=C.b(t,n,a);if(o&&u(o))return l(o);const h=C.e(t,n,a);return h&&u(h)?l(h):o&&h?s(o.end+1,h.start+1):o?s(o.start+1,o.end+1):h?s(h.start+1,h.end+1):s(1,c+1)}static _deleteWordPartLeft(t,n){if(!n.isEmpty())return n;const a=n.getPosition(),r=C._moveWordPartLeft(t,a);return new v.Range(a.lineNumber,a.column,r.lineNumber,r.column)}static l(t,n){const a=t.length;for(let r=n;r<a;r++){const c=t.charAt(r);if(c!==" "&&c!=="	")return r}return a}static m(t,n){const a=t.getLineContent(n.lineNumber),r=n.column-1,c=this.l(a,r);return r+1<c?new v.Range(n.lineNumber,n.column,n.lineNumber,c+1):null}static deleteWordRight(t,n){const a=t.wordSeparators,r=t.model,c=t.selection,u=t.whitespaceHeuristics;if(!c.isEmpty())return c;const s=new y.Position(c.positionLineNumber,c.positionColumn);let l=s.lineNumber,o=s.column;const h=r.getLineCount(),f=r.getLineMaxColumn(l);if(l===h&&o===f)return null;if(u){const p=this.m(r,s);if(p)return p}let S=C.e(a,r,s);return n===2?S?o=S.end+1:o<f||l===h?o=f:(l++,S=C.e(a,r,new y.Position(l,1)),S?o=S.start+1:o=r.getLineMaxColumn(l)):(S&&o>=S.start+1&&(S=C.e(a,r,new y.Position(l,S.end+1))),S?o=S.start+1:o<f||l===h?o=f:(l++,S=C.e(a,r,new y.Position(l,1)),S?o=S.start+1:o=r.getLineMaxColumn(l))),new v.Range(l,o,s.lineNumber,s.column)}static _deleteWordPartRight(t,n){if(!n.isEmpty())return n;const a=n.getPosition(),r=C._moveWordPartRight(t,a);return new v.Range(a.lineNumber,a.column,r.lineNumber,r.column)}static n(t,n,a){const r=new v.Range(n,a.start+1,n,a.end+1);return{word:t.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(t,n,a){const r=(0,D.getMapForWordSeparators)(n),c=C.b(r,t,a);if(c&&c.wordType===1&&c.start<=a.column-1&&a.column-1<=c.end)return C.n(t,a.lineNumber,c);const u=C.e(r,t,a);return u&&u.wordType===1&&u.start<=a.column-1&&a.column-1<=u.end?C.n(t,a.lineNumber,u):null}static word(t,n,a,r,c){const u=(0,D.getMapForWordSeparators)(t.wordSeparators),s=C.b(u,n,c),l=C.e(u,n,c);if(!r){let p,m;return s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end?(p=s.start+1,m=s.end+1):l&&l.wordType===1&&l.start<=c.column-1&&c.column-1<=l.end?(p=l.start+1,m=l.end+1):(s?p=s.end+1:p=1,l?m=l.start+1:m=n.getLineMaxColumn(c.lineNumber)),new N.SingleCursorState(new v.Range(c.lineNumber,p,c.lineNumber,m),1,0,new y.Position(c.lineNumber,m),0)}let o,h;s&&s.wordType===1&&s.start<c.column-1&&c.column-1<s.end?(o=s.start+1,h=s.end+1):l&&l.wordType===1&&l.start<c.column-1&&c.column-1<l.end?(o=l.start+1,h=l.end+1):(o=c.column,h=c.column);const f=c.lineNumber;let S;if(a.selectionStart.containsPosition(c))S=a.selectionStart.endColumn;else if(c.isBeforeOrEqual(a.selectionStart.getStartPosition())){S=o;const p=new y.Position(f,S);a.selectionStart.containsPosition(p)&&(S=a.selectionStart.endColumn)}else{S=h;const p=new y.Position(f,S);a.selectionStart.containsPosition(p)&&(S=a.selectionStart.startColumn)}return a.move(!0,f,S,0)}}e.WordOperations=C;class d extends C{static deleteWordPartLeft(t){const n=g([C.deleteWordLeft(t,0),C.deleteWordLeft(t,2),C._deleteWordPartLeft(t.model,t.selection)]);return n.sort(v.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(t){const n=g([C.deleteWordRight(t,0),C.deleteWordRight(t,2),C._deleteWordPartRight(t.model,t.selection)]);return n.sort(v.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(t,n,a){const r=g([C.moveWordLeft(t,n,a,0),C.moveWordLeft(t,n,a,2),C._moveWordPartLeft(n,a)]);return r.sort(y.Position.compare),r[2]}static moveWordPartRight(t,n,a){const r=g([C.moveWordRight(t,n,a,0),C.moveWordRight(t,n,a,2),C._moveWordPartRight(n,a)]);return r.sort(y.Position.compare),r[0]}}e.WordPartOperations=d;function g(i){return i.filter(t=>Boolean(t))}}),define(ee[188],te([1,0,18,65,186,162,11,3]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(i,t,n){const a=[];let r=0;for(let c=0,u=t.length;c<u;c++){const s=t[c];a[r++]=new N.CursorState(s.modelState,s.viewState),n?a[r++]=N.CursorState.fromModelState(E.MoveOperations.translateDown(i.cursorConfig,i.model,s.modelState)):a[r++]=N.CursorState.fromViewState(E.MoveOperations.translateDown(i.cursorConfig,i,s.viewState))}return a}static addCursorUp(i,t,n){const a=[];let r=0;for(let c=0,u=t.length;c<u;c++){const s=t[c];a[r++]=new N.CursorState(s.modelState,s.viewState),n?a[r++]=N.CursorState.fromModelState(E.MoveOperations.translateUp(i.cursorConfig,i.model,s.modelState)):a[r++]=N.CursorState.fromViewState(E.MoveOperations.translateUp(i.cursorConfig,i,s.viewState))}return a}static moveToBeginningOfLine(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r];a[r]=this.a(i,u,n)}return a}static a(i,t,n){const a=t.viewState.position.column,r=t.modelState.position.column,c=a===r,u=t.viewState.position.lineNumber,s=i.getLineFirstNonWhitespaceColumn(u);return!c&&!(a===s)?this.b(i,t,n):this.c(i,t,n)}static b(i,t,n){return N.CursorState.fromViewState(E.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,t.viewState,n))}static c(i,t,n){return N.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,t.modelState,n))}static moveToEndOfLine(i,t,n,a){const r=[];for(let c=0,u=t.length;c<u;c++){const s=t[c];r[c]=this.d(i,s,n,a)}return r}static d(i,t,n,a){const r=t.viewState.position,c=i.getLineMaxColumn(r.lineNumber),u=r.column===c,s=t.modelState.position,l=i.model.getLineMaxColumn(s.lineNumber),o=c-r.column===l-s.column;return u||o?this.f(i,t,n,a):this.e(i,t,n,a)}static e(i,t,n,a){return N.CursorState.fromViewState(E.MoveOperations.moveToEndOfLine(i.cursorConfig,i,t.viewState,n,a))}static f(i,t,n,a){return N.CursorState.fromModelState(E.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,t.modelState,n,a))}static expandLineSelection(i,t){const n=[];for(let a=0,r=t.length;a<r;a++){const c=t[a],u=c.modelState.selection.startLineNumber,s=i.model.getLineCount();let l=c.modelState.selection.endLineNumber,o;l===s?o=i.model.getLineMaxColumn(s):(l++,o=1),n[a]=N.CursorState.fromModelState(new N.SingleCursorState(new v.Range(u,1,u,1),0,0,new y.Position(l,o),0))}return n}static moveToBeginningOfBuffer(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r];a[r]=N.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,u.modelState,n))}return a}static moveToEndOfBuffer(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r];a[r]=N.CursorState.fromModelState(E.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,u.modelState,n))}return a}static selectAll(i,t){const n=i.model.getLineCount(),a=i.model.getLineMaxColumn(n);return N.CursorState.fromModelState(new N.SingleCursorState(new v.Range(1,1,1,1),0,0,new y.Position(n,a),0))}static line(i,t,n,a,r){const c=i.model.validatePosition(a),u=r?i.coordinatesConverter.validateViewPosition(new y.Position(r.lineNumber,r.column),c):i.coordinatesConverter.convertModelPositionToViewPosition(c);if(!n){const l=i.model.getLineCount();let o=c.lineNumber+1,h=1;return o>l&&(o=l,h=i.model.getLineMaxColumn(o)),N.CursorState.fromModelState(new N.SingleCursorState(new v.Range(c.lineNumber,1,o,h),2,0,new y.Position(o,h),0))}const s=t.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<s)return N.CursorState.fromViewState(t.viewState.move(!0,u.lineNumber,1,0));if(c.lineNumber>s){const l=i.getLineCount();let o=u.lineNumber+1,h=1;return o>l&&(o=l,h=i.getLineMaxColumn(o)),N.CursorState.fromViewState(t.viewState.move(!0,o,h,0))}else{const l=t.modelState.selectionStart.getEndPosition();return N.CursorState.fromModelState(t.modelState.move(!0,l.lineNumber,l.column,0))}}static word(i,t,n,a){const r=i.model.validatePosition(a);return N.CursorState.fromModelState(D.WordOperations.word(i.cursorConfig,i.model,t.modelState,n,r))}static cancelSelection(i,t){if(!t.modelState.hasSelection())return new N.CursorState(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,a=t.viewState.position.column;return N.CursorState.fromViewState(new N.SingleCursorState(new v.Range(n,a,n,a),0,0,new y.Position(n,a),0))}static moveTo(i,t,n,a,r){if(n){if(t.modelState.selectionStartKind===1)return this.word(i,t,n,a);if(t.modelState.selectionStartKind===2)return this.line(i,t,n,a,r)}const c=i.model.validatePosition(a),u=r?i.coordinatesConverter.validateViewPosition(new y.Position(r.lineNumber,r.column),c):i.coordinatesConverter.convertModelPositionToViewPosition(c);return N.CursorState.fromViewState(t.viewState.move(n,u.lineNumber,u.column,0))}static simpleMove(i,t,n,a,r,c){switch(n){case 0:return c===4?this.k(i,t,a):this.j(i,t,a,r);case 1:return c===4?this.m(i,t,a):this.l(i,t,a,r);case 2:return c===2?this.p(i,t,a,r):this.q(i,t,a,r);case 3:return c===2?this.n(i,t,a,r):this.o(i,t,a,r);case 4:return c===2?t.map(u=>N.CursorState.fromViewState(E.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,u.viewState,a))):t.map(u=>N.CursorState.fromModelState(E.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,u.modelState,a)));case 5:return c===2?t.map(u=>N.CursorState.fromViewState(E.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,u.viewState,a))):t.map(u=>N.CursorState.fromModelState(E.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,u.modelState,a)));case 6:return this.t(i,t,a);case 7:return this.u(i,t,a);case 8:return this.v(i,t,a);case 9:return this.w(i,t,a);case 10:return this.x(i,t,a);default:return null}}static viewportMove(i,t,n,a,r){const c=i.getCompletelyVisibleViewRange(),u=i.coordinatesConverter.convertViewRangeToModelRange(c);switch(n){case 11:{const s=this.g(i.model,u,r),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this.s(i,t[0],a,s,l)]}case 13:{const s=this.h(i.model,u,r),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this.s(i,t[0],a,s,l)]}case 12:{const s=Math.round((u.startLineNumber+u.endLineNumber)/2),l=i.model.getLineFirstNonWhitespaceColumn(s);return[this.s(i,t[0],a,s,l)]}case 14:{const s=[];for(let l=0,o=t.length;l<o;l++){const h=t[l];s[l]=this.findPositionInViewportIfOutside(i,h,c,a)}return s}default:return null}}static findPositionInViewportIfOutside(i,t,n,a){const r=t.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new N.CursorState(t.modelState,t.viewState);{let c;r>n.endLineNumber-1?c=n.endLineNumber-1:r<n.startLineNumber?c=n.startLineNumber:c=r;const u=E.MoveOperations.vertical(i.cursorConfig,i,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,c,!1);return N.CursorState.fromViewState(t.viewState.move(a,u.lineNumber,u.column,u.leftoverVisibleColumns))}}static g(i,t,n){let a=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(a)&&a++,Math.min(t.endLineNumber,a+n-1)}static h(i,t,n){let a=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(a)&&a++,Math.max(a,t.endLineNumber-n+1)}static j(i,t,n,a){return t.map(r=>N.CursorState.fromViewState(E.MoveOperations.moveLeft(i.cursorConfig,i,r.viewState,n,a)))}static k(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=Math.round(i.getLineContent(s).length/2);a[r]=N.CursorState.fromViewState(E.MoveOperations.moveLeft(i.cursorConfig,i,u.viewState,n,l))}return a}static l(i,t,n,a){return t.map(r=>N.CursorState.fromViewState(E.MoveOperations.moveRight(i.cursorConfig,i,r.viewState,n,a)))}static m(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=Math.round(i.getLineContent(s).length/2);a[r]=N.CursorState.fromViewState(E.MoveOperations.moveRight(i.cursorConfig,i,u.viewState,n,l))}return a}static n(i,t,n,a){const r=[];for(let c=0,u=t.length;c<u;c++){const s=t[c];r[c]=N.CursorState.fromViewState(E.MoveOperations.moveDown(i.cursorConfig,i,s.viewState,n,a))}return r}static o(i,t,n,a){const r=[];for(let c=0,u=t.length;c<u;c++){const s=t[c];r[c]=N.CursorState.fromModelState(E.MoveOperations.moveDown(i.cursorConfig,i.model,s.modelState,n,a))}return r}static p(i,t,n,a){const r=[];for(let c=0,u=t.length;c<u;c++){const s=t[c];r[c]=N.CursorState.fromViewState(E.MoveOperations.moveUp(i.cursorConfig,i,s.viewState,n,a))}return r}static q(i,t,n,a){const r=[];for(let c=0,u=t.length;c<u;c++){const s=t[c];r[c]=N.CursorState.fromModelState(E.MoveOperations.moveUp(i.cursorConfig,i.model,s.modelState,n,a))}return r}static r(i,t,n,a,r){return N.CursorState.fromViewState(t.viewState.move(n,a,r,0))}static s(i,t,n,a,r){return N.CursorState.fromModelState(t.modelState.move(n,a,r,0))}static t(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=i.getLineMinColumn(s);a[r]=this.r(i,u,n,s,l)}return a}static u(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=i.getLineFirstNonWhitespaceColumn(s);a[r]=this.r(i,u,n,s,l)}return a}static v(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=Math.round((i.getLineMaxColumn(s)+i.getLineMinColumn(s))/2);a[r]=this.r(i,u,n,s,l)}return a}static w(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=i.getLineMaxColumn(s);a[r]=this.r(i,u,n,s,l)}return a}static x(i,t,n){const a=[];for(let r=0,c=t.length;r<c;r++){const u=t[r],s=u.viewState.position.lineNumber,l=i.getLineLastNonWhitespaceColumn(s);a[r]=this.r(i,u,n,s,l)}return a}}e.CursorMoveCommands=C;var d;(function(g){const i=function(n){if(!w.isObject(n))return!1;const a=n;return!(!w.isString(a.to)||!w.isUndefined(a.select)&&!w.isBoolean(a.select)||!w.isUndefined(a.by)&&!w.isString(a.by)||!w.isUndefined(a.value)&&!w.isNumber(a.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(n){if(!n.to)return null;let a;switch(n.to){case g.RawDirection.Left:a=0;break;case g.RawDirection.Right:a=1;break;case g.RawDirection.Up:a=2;break;case g.RawDirection.Down:a=3;break;case g.RawDirection.PrevBlankLine:a=4;break;case g.RawDirection.NextBlankLine:a=5;break;case g.RawDirection.WrappedLineStart:a=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:a=7;break;case g.RawDirection.WrappedLineColumnCenter:a=8;break;case g.RawDirection.WrappedLineEnd:a=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:a=10;break;case g.RawDirection.ViewPortTop:a=11;break;case g.RawDirection.ViewPortBottom:a=13;break;case g.RawDirection.ViewPortCenter:a=12;break;case g.RawDirection.ViewPortIfOutside:a=14;break;default:return null}let r=0;switch(n.by){case g.RawUnit.Line:r=1;break;case g.RawUnit.WrappedLine:r=2;break;case g.RawUnit.Character:r=3;break;case g.RawUnit.HalfLine:r=4;break}return{direction:a,unit:r,select:!!n.select,value:n.value||1}}g.parse=t})(d=e.CursorMove||(e.CursorMove={}))}),define(ee[448],te([1,0,65,11,3,22]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(C){this.a=null,this.b=!0,this.g(C,new w.SingleCursorState(new E.Range(1,1,1,1),0,0,new N.Position(1,1),0),new w.SingleCursorState(new E.Range(1,1,1,1),0,0,new N.Position(1,1),0))}dispose(C){this.d(C)}startTrackingSelection(C){this.b=!0,this.c(C)}stopTrackingSelection(C){this.b=!1,this.d(C)}c(C){!this.b||(this.a=C.model._setTrackedRange(this.a,this.modelState.selection,0))}d(C){this.a=C.model._setTrackedRange(this.a,null,0)}asCursorState(){return new w.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const d=C.model._getTrackedRange(this.a);return this.modelState.selection.isEmpty()&&!d.isEmpty()?D.Selection.fromRange(d.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(d,this.modelState.selection.getDirection())}ensureValidState(C){this.g(C,this.modelState,this.viewState)}setState(C,d,g){this.g(C,d,g)}static e(C,d,g,i){return d.equals(g)?i:C.normalizePosition(d,2)}static f(C,d){const g=d.position,i=d.selectionStart.getStartPosition(),t=d.selectionStart.getEndPosition(),n=C.normalizePosition(g,2),a=this.e(C,i,g,n),r=this.e(C,t,i,a);return g.equals(n)&&i.equals(a)&&t.equals(r)?d:new w.SingleCursorState(E.Range.fromPositions(a,r),d.selectionStartKind,d.selectionStartLeftoverVisibleColumns+i.column-a.column,n,d.leftoverVisibleColumns+g.column-n.column)}g(C,d,g){if(g&&(g=y.f(C.viewModel,g)),d){const i=C.model.validateRange(d.selectionStart),t=d.selectionStart.equalsRange(i)?d.selectionStartLeftoverVisibleColumns:0,n=C.model.validatePosition(d.position),a=d.position.equals(n)?d.leftoverVisibleColumns:0;d=new w.SingleCursorState(i,d.selectionStartKind,t,n,a)}else{if(!g)return;const i=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),t=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(g.position));d=new w.SingleCursorState(i,g.selectionStartKind,g.selectionStartLeftoverVisibleColumns,t,g.leftoverVisibleColumns)}if(g){const i=C.coordinatesConverter.validateViewRange(g.selectionStart,d.selectionStart),t=C.coordinatesConverter.validateViewPosition(g.position,d.position);g=new w.SingleCursorState(i,d.selectionStartKind,d.selectionStartLeftoverVisibleColumns,t,d.leftoverVisibleColumns)}else{const i=C.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(d.selectionStart.startLineNumber,d.selectionStart.startColumn)),t=C.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(d.selectionStart.endLineNumber,d.selectionStart.endColumn)),n=new E.Range(i.lineNumber,i.column,t.lineNumber,t.column),a=C.coordinatesConverter.convertModelPositionToViewPosition(d.position);g=new w.SingleCursorState(n,d.selectionStartKind,d.selectionStartLeftoverVisibleColumns,a,d.leftoverVisibleColumns)}this.modelState=d,this.viewState=g,this.c(C)}}e.Cursor=y}),define(ee[449],te([1,0,17,65,448,11,3,22]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class C{constructor(g){this.a=g,this.b=[new E.Cursor(g)],this.d=0}dispose(){for(const g of this.b)g.dispose(this.a)}startTrackingSelections(){for(const g of this.b)g.startTrackingSelection(this.a)}stopTrackingSelections(){for(const g of this.b)g.stopTrackingSelection(this.a)}updateContext(g){this.a=g}ensureValidState(){for(const g of this.b)g.ensureValidState(this.a)}readSelectionFromMarkers(){return this.b.map(g=>g.readSelectionFromMarkers(this.a))}getAll(){return this.b.map(g=>g.asCursorState())}getViewPositions(){return this.b.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,w.findMinBy)(this.b,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,w.findLastMaxBy)(this.b,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.b.map(g=>g.modelState.selection)}getViewSelections(){return this.b.map(g=>g.viewState.selection)}setSelections(g){this.setStates(N.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.b[0].asCursorState()}setStates(g){g!==null&&(this.b[0].setState(this.a,g[0].modelState,g[0].viewState),this.e(g.slice(1)))}e(g){const i=this.b.length-1,t=g.length;if(i<t){const n=t-i;for(let a=0;a<n;a++)this.f()}else if(i>t){const n=i-t;for(let a=0;a<n;a++)this.g(this.b.length-2)}for(let n=0;n<t;n++)this.b[n+1].setState(this.a,g[n].modelState,g[n].viewState)}killSecondaryCursors(){this.e([])}f(){this.b.push(new E.Cursor(this.a)),this.d=this.b.length-1}getLastAddedCursorIndex(){return this.b.length===1||this.d===0?0:this.d}g(g){this.d>=g+1&&this.d--,this.b[g+1].dispose(this.a),this.b.splice(g+1,1)}normalize(){if(this.b.length===1)return;const g=this.b.slice(0),i=[];for(let t=0,n=g.length;t<n;t++)i.push({index:t,selection:g[t].modelState.selection});i.sort((0,w.compareBy)(t=>t.selection,y.Range.compareRangesUsingStarts));for(let t=0;t<i.length-1;t++){const n=i[t],a=i[t+1],r=n.selection,c=a.selection;if(!this.a.cursorConfig.multiCursorMergeOverlapping)continue;let u;if(c.isEmpty()||r.isEmpty()?u=c.getStartPosition().isBeforeOrEqual(r.getEndPosition()):u=c.getStartPosition().isBefore(r.getEndPosition()),u){const s=n.index<a.index?t:t+1,l=n.index<a.index?t+1:t,o=i[l].index,h=i[s].index,f=i[l].selection,S=i[s].selection;if(!f.equalsSelection(S)){const p=f.plusRange(S),m=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,b=S.selectionStartLineNumber===S.startLineNumber&&S.selectionStartColumn===S.startColumn;let L;o===this.d?(L=m,this.d=h):L=b;let k;L?k=new v.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):k=new v.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),i[s].selection=k;const I=N.CursorState.fromModelSelection(k);g[h].setState(this.a,I.modelState,I.viewState)}for(const p of i)p.index>o&&p.index--;g.splice(o,1),i.splice(l,1),this.g(o-1),t--}}}}e.CursorCollection=C}),define(ee[450],te([1,0,102]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class N{constructor(D){if(D.autoClosingPairs?this.a=D.autoClosingPairs.map(y=>new w.StandardAutoClosingPairConditional(y)):D.brackets?this.a=D.brackets.map(y=>new w.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this.a=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const y=D.__electricCharacterSupport.docComment;this.a.push(new w.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this.d=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this.e=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this.c=D.surroundingPairs||this.a}getAutoClosingPairs(){return this.a}getAutoCloseBeforeSet(D){return D?this.d:this.e}getSurroundingPairs(){return this.c}}N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`,e.CharacterPairSupport=N}),define(ee[451],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function w(E){return E.global&&(E.lastIndex=0),!0}class N{constructor(D){this.a=D}shouldIncrease(D){return!!(this.a&&this.a.increaseIndentPattern&&w(this.a.increaseIndentPattern)&&this.a.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this.a&&this.a.decreaseIndentPattern&&w(this.a.decreaseIndentPattern)&&this.a.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this.a&&this.a.indentNextLinePattern&&w(this.a.indentNextLinePattern)&&this.a.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this.a&&this.a.unIndentedLinePattern&&w(this.a.unIndentedLinePattern)&&this.a.unIndentedLinePattern.test(D))}getIndentMetadata(D){let y=0;return this.shouldIncrease(D)&&(y+=1),this.shouldDecrease(D)&&(y+=2),this.shouldIndentNextLine(D)&&(y+=4),this.shouldIgnore(D)&&(y+=8),y}}e.IndentRulesSupport=N}),define(ee[452],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class w{constructor(){this.c=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(E,D,y,v,C){if(E&&D){const d=this.a(D,C);if(d)return{range:E,value:d}}if(y&&v){const d=this.a(v,C);if(d)return{range:y,value:d}}return null}a(E,D){const y=this.b(E,D);return y!==null?y:this.d(E,D)}b(E,D){const y=Math.pow(10,E.length-(E.lastIndexOf(".")+1));let v=Number(E);const C=parseFloat(E);return!isNaN(v)&&!isNaN(C)&&v===C?v===0&&!D?null:(v=Math.floor(v*y),v+=D?y:-y,String(v/y)):null}d(E,D){return this.e(this.c,E,D)}e(E,D,y){let v=null;for(let C=0,d=E.length;v===null&&C<d;C++)v=this.f(E[C],D,y);return v}f(E,D,y){let v=E.indexOf(D);return v>=0?(v+=y?1:-1,v<0?v=E.length-1:v%=E.length,E[v]):null}}w.INSTANCE=new w,e.BasicInplaceReplace=w}),define(ee[453],te([1,0,236,13]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class E{constructor(g,i){this.languageId=g;let t;i.colorizedBracketPairs?t=D(i.colorizedBracketPairs.map(r=>[r[0],r[1]])):i.brackets?t=D(i.brackets.map(r=>[r[0],r[1]]).filter(r=>!(r[0]==="<"&&r[1]===">"))):t=[];const n=new w.CachedFunction(r=>{const c=new Set;return{info:new v(this,r,c),closing:c}}),a=new w.CachedFunction(r=>{const c=new Set;return{info:new C(this,r,c),opening:c}});for(const[r,c]of t){const u=n.get(r),s=a.get(c);u.closing.add(s.info),s.opening.add(u.info)}this.a=new Map([...n.cachedValues].map(([r,c])=>[r,c.info])),this.c=new Map([...a.cachedValues].map(([r,c])=>[r,c.info]))}get openingBrackets(){return[...this.a.values()]}get closingBrackets(){return[...this.c.values()]}getOpeningBracketInfo(g){return this.a.get(g)}getClosingBracketInfo(g){return this.c.get(g)}getBracketInfo(g){return this.getOpeningBracketInfo(g)||this.getClosingBracketInfo(g)}}e.LanguageBracketsConfiguration=E;function D(d){return d.filter(([g,i])=>g!==""&&i!=="")}class y{constructor(g,i){this.a=g,this.bracketText=i}get languageId(){return this.a.languageId}}e.BracketKindBase=y;class v extends y{constructor(g,i,t){super(g,i),this.openedBrackets=t,this.isOpeningBracket=!0}}e.OpeningBracketKind=v;class C extends y{constructor(g,i,t){super(g,i),this.closedBrackets=t,this.isOpeningBracket=!1}closes(g){if(g.languageId===this.languageId&&g.a!==this.a)throw new N.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(g)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=C}),define(ee[454],te([1,0,13,9,102]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(v){v=v||{},v.brackets=v.brackets||[["(",")"],["{","}"],["[","]"]],this.a=[],v.brackets.forEach(C=>{const d=D.c(C[0]),g=D.d(C[1]);d&&g&&this.a.push({open:C[0],openRegExp:d,close:C[1],closeRegExp:g})}),this.b=v.onEnterRules||[]}onEnter(v,C,d,g){if(v>=3)for(let i=0,t=this.b.length;i<t;i++){const n=this.b[i];if([{reg:n.beforeText,text:d},{reg:n.afterText,text:g},{reg:n.previousLineText,text:C}].every(r=>r.reg?(r.reg.lastIndex=0,r.reg.test(r.text)):!0))return n.action}if(v>=2&&d.length>0&&g.length>0)for(let i=0,t=this.a.length;i<t;i++){const n=this.a[i];if(n.openRegExp.test(d)&&n.closeRegExp.test(g))return{indentAction:E.IndentAction.IndentOutdent}}if(v>=2&&d.length>0){for(let i=0,t=this.a.length;i<t;i++)if(this.a[i].openRegExp.test(d))return{indentAction:E.IndentAction.Indent}}return null}static c(v){let C=N.escapeRegExpCharacters(v);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",D.e(C)}static d(v){let C=N.escapeRegExpCharacters(v);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,D.e(C)}static e(v){try{return new RegExp(v)}catch(C){return(0,w.onUnexpectedError)(C),null}}}e.OnEnterSupport=D}),define(ee[455],te([1,0,36]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class N{constructor(c,u,s,l,o){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=u,this.fontStyle=s,this.foreground=l,this.background=o}}e.ParsedTokenThemeRule=N;function E(r){if(!r||!Array.isArray(r))return[];const c=[];let u=0;for(let s=0,l=r.length;s<l;s++){const o=r[s];let h=-1;if(typeof o.fontStyle=="string"){h=0;const p=o.fontStyle.split(" ");for(let m=0,b=p.length;m<b;m++)switch(p[m]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let f=null;typeof o.foreground=="string"&&(f=o.foreground);let S=null;typeof o.background=="string"&&(S=o.background),c[u++]=new N(o.token||"",s,h,f,S)}return c}e.parseTokenTheme=E;function D(r,c){r.sort((m,b)=>{const L=i(m.token,b.token);return L!==0?L:m.index-b.index});let u=0,s="000000",l="ffffff";for(;r.length>=1&&r[0].token==="";){const m=r.shift();m.fontStyle!==-1&&(u=m.fontStyle),m.foreground!==null&&(s=m.foreground),m.background!==null&&(l=m.background)}const o=new v;for(const m of c)o.getId(m);const h=o.getId(s),f=o.getId(l),S=new t(u,h,f),p=new n(S);for(let m=0,b=r.length;m<b;m++){const L=r[m];p.insert(L.token,L.fontStyle,o.getId(L.foreground),o.getId(L.background))}return new C(o,p)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class v{constructor(){this.c=0,this.d=[],this.e=new Map}getId(c){if(c===null)return 0;const u=c.match(y);if(!u)throw new Error("Illegal value for token color: "+c);c=u[1].toUpperCase();let s=this.e.get(c);return s||(s=++this.c,this.e.set(c,s),this.d[s]=w.Color.fromHex("#"+c),s)}getColorMap(){return this.d.slice(0)}}e.ColorMap=v;class C{static createFromRawTokenTheme(c,u){return this.createFromParsedTokenTheme(E(c),u)}static createFromParsedTokenTheme(c,u){return D(c,u)}constructor(c,u){this.c=c,this.d=u,this.e=new Map}getColorMap(){return this.c.getColorMap()}_match(c){return this.d.match(c)}match(c,u){let s=this.e.get(u);if(typeof s>"u"){const l=this._match(u),o=g(u);s=(l.metadata|o<<8)>>>0,this.e.set(u,s)}return(s|c<<0)>>>0}}e.TokenTheme=C;const d=/\b(comment|string|regex|regexp)\b/;function g(r){const c=r.match(d);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function i(r,c){return r<c?-1:r>c?1:0}e.strcmp=i;class t{constructor(c,u,s){this._themeTrieElementRuleBrand=void 0,this.c=c,this.d=u,this.e=s,this.metadata=(this.c<<11|this.d<<15|this.e<<24)>>>0}clone(){return new t(this.c,this.d,this.e)}acceptOverwrite(c,u,s){c!==-1&&(this.c=c),u!==0&&(this.d=u),s!==0&&(this.e=s),this.metadata=(this.c<<11|this.d<<15|this.e<<24)>>>0}}e.ThemeTrieElementRule=t;class n{constructor(c){this._themeTrieElementBrand=void 0,this.c=c,this.d=new Map}match(c){if(c==="")return this.c;const u=c.indexOf(".");let s,l;u===-1?(s=c,l=""):(s=c.substring(0,u),l=c.substring(u+1));const o=this.d.get(s);return typeof o<"u"?o.match(l):this.c}insert(c,u,s,l){if(c===""){this.c.acceptOverwrite(u,s,l);return}const o=c.indexOf(".");let h,f;o===-1?(h=c,f=""):(h=c.substring(0,o),f=c.substring(o+1));let S=this.d.get(h);typeof S>"u"&&(S=new n(this.c.clone()),this.d.set(h,S)),S.insert(f,u,s,l)}}e.ThemeTrieElement=n;function a(r){const c=[];for(let u=1,s=r.length;u<s;u++){const l=r[u];c[u]=`.mtk${u} { color: ${l}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}e.generateTokensCSSForColorMap=a}),define(ee[48],te([1,0,46]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var N;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(N=e.OverviewRulerLane||(e.OverviewRulerLane={}));var E;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(E=e.MinimapPosition||(e.MinimapPosition={}));var D;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(D=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class y{get originalIndentSize(){return this.a?"tabSize":this.indentSize}constructor(a){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,a.tabSize|0),a.indentSize==="tabSize"?(this.indentSize=this.tabSize,this.a=!0):(this.indentSize=Math.max(1,a.indentSize|0),this.a=!1),this.insertSpaces=Boolean(a.insertSpaces),this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=Boolean(a.trimAutoWhitespace),this.bracketPairColorizationOptions=a.bracketPairColorizationOptions}equals(a){return this.tabSize===a.tabSize&&this.a===a.a&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace&&(0,w.equals)(this.bracketPairColorizationOptions,a.bracketPairColorizationOptions)}createChangeEvent(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class v{constructor(a,r){this._findMatchBrand=void 0,this.range=a,this.matches=r}}e.FindMatch=v;function C(n){return n&&typeof n.read=="function"}e.isITextSnapshot=C;class d{constructor(a,r,c,u,s,l){this.identifier=a,this.range=r,this.text=c,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=s,this._isTracked=l}}e.ValidAnnotatedEditOperation=d;class g{constructor(a,r,c){this.regex=a,this.wordSeparators=r,this.simpleSearch=c}}e.SearchData=g;class i{constructor(a,r,c){this.reverseEdits=a,this.changes=r,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=i;function t(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=t}),define(ee[86],te([1,0,9,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class E{constructor(S,p){this.lineCount=S,this.columnCount=p}toString(){return`${this.lineCount},${this.columnCount}`}}E.zero=new E(0,0),e.LengthObj=E;function D(f,S,p,m){return f!==p?C(p-f,m):C(0,m-S)}e.lengthDiff=D,e.lengthZero=0;function y(f){return f===0}e.lengthIsZero=y;const v=Math.pow(2,26);function C(f,S){return f*v+S}e.toLength=C;function d(f){const S=f,p=Math.floor(S/v),m=S-p*v;return new E(p,m)}e.lengthToObj=d;function g(f){return Math.floor(f/v)}e.lengthGetLineCount=g;function i(f){return f}e.lengthGetColumnCountIfZeroLineCount=i;function t(f,S){let p=f+S;return S>=v&&(p=p-f%v),p}e.lengthAdd=t;function n(f,S){return f.reduce((p,m)=>t(p,S(m)),e.lengthZero)}e.sumLengths=n;function a(f,S){return f===S}e.lengthEquals=a;function r(f,S){const p=f,m=S;if(m-p<=0)return e.lengthZero;const L=Math.floor(p/v),k=Math.floor(m/v),I=m-k*v;if(L===k){const M=p-L*v;return C(0,I-M)}else return C(k-L,I)}e.lengthDiffNonNegative=r;function c(f,S){return f<S}e.lengthLessThan=c;function u(f,S){return f<=S}e.lengthLessThanEqual=u;function s(f,S){return f>=S}e.lengthGreaterThanEqual=s;function l(f){return C(f.lineNumber-1,f.column-1)}e.positionToLength=l;function o(f,S){const p=f,m=Math.floor(p/v),b=p-m*v,L=S,k=Math.floor(L/v),I=L-k*v;return new N.Range(m+1,b+1,k+1,I+1)}e.lengthsToRange=o;function h(f){const S=(0,w.splitLines)(f);return C(S.length-1,S[S.length-1].length)}e.lengthOfString=h}),define(ee[189],te([1,0,86]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class N{constructor(v,C,d){this.startOffset=v,this.endOffset=C,this.newLength=d}}e.TextEditInfo=N;class E{constructor(v){this.a=0,this.b=0,this.c=0,this.d=-1,this.e=v.map(C=>D.from(C))}getOffsetBeforeChange(v){return this.h(v),this.g(v)}getDistanceToNextChange(v){this.h(v);const C=this.e[this.a],d=C?this.f(C.offsetObj):null;return d===null?null:(0,w.lengthDiffNonNegative)(v,d)}f(v){return v.lineCount===this.d?(0,w.toLength)(v.lineCount+this.b,v.columnCount+this.c):(0,w.toLength)(v.lineCount+this.b,v.columnCount)}g(v){const C=(0,w.lengthToObj)(v);return C.lineCount-this.b===this.d?(0,w.toLength)(C.lineCount-this.b,C.columnCount-this.c):(0,w.toLength)(C.lineCount-this.b,C.columnCount)}h(v){for(;this.a<this.e.length;){const C=this.e[this.a],d=this.f(C.endOffsetAfterObj);if((0,w.lengthLessThanEqual)(d,v)){this.a++;const g=(0,w.lengthToObj)(d),i=(0,w.lengthToObj)(this.f(C.endOffsetBeforeObj)),t=g.lineCount-i.lineCount;this.b+=t;const n=this.d===C.endOffsetBeforeObj.lineCount?this.c:0,a=g.columnCount-i.columnCount;this.c=n+a,this.d=C.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=E;class D{static from(v){return new D(v.startOffset,v.endOffset,v.newLength)}constructor(v,C,d){this.endOffsetBeforeObj=(0,w.lengthToObj)(C),this.endOffsetAfterObj=(0,w.lengthToObj)((0,w.lengthAdd)(v,d)),this.offsetObj=(0,w.lengthToObj)(v)}}}),define(ee[456],te([1,0,17,189,86]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(v,C){if(v.length===0)return C;const d=new w.ArrayQueue(y(v)),g=y(C);let i,t=E.lengthZero;function n(s){const l=[];for(;;){if(i!==void 0&&!(0,E.lengthIsZero)(i)||!(0,E.lengthIsZero)(t)){let h;s!==void 0&&(0,E.lengthLessThanEqual)(s,t)?(h=s,t=(0,E.lengthDiffNonNegative)(s,t),s=E.lengthZero):(h=t,s!==void 0&&(s=(0,E.lengthDiffNonNegative)(t,s)),t=E.lengthZero),i===void 0?l.push({oldLength:h,newLength:void 0}):(l.push({oldLength:i,newLength:h}),i=E.lengthZero)}if(s!==void 0&&(0,E.lengthIsZero)(s))break;const o=d.dequeue();if(!o){s!==void 0&&l.push({oldLength:s,newLength:void 0});break}o.newLength===void 0?(t=o.oldLength,i=void 0):(i=o.oldLength,t=o.newLength)}return l}const a=[];function r(s,l,o){if(a.length>0&&(0,E.lengthEquals)(a[a.length-1].endOffset,s)){const h=a[a.length-1];a[a.length-1]=new N.TextEditInfo(h.startOffset,l,(0,E.lengthAdd)(h.newLength,o))}else a.push({startOffset:s,endOffset:l,newLength:o})}let c=E.lengthZero;for(const s of g){const l=n(s.oldLength);if(s.newLength!==void 0){const o=(0,E.sumLengths)(l,f=>f.oldLength),h=(0,E.lengthAdd)(c,o);r(c,h,s.newLength),c=h}else for(const o of l){const h=c;c=(0,E.lengthAdd)(c,o.oldLength),o.newLength!==void 0&&r(h,c,o.newLength)}}const u=n(void 0);for(const s of u){const l=c;c=(0,E.lengthAdd)(c,s.oldLength),s.newLength!==void 0&&r(l,c,s.newLength)}return a}e.combineTextEditInfos=D;function y(v){const C=[];let d=E.lengthZero;for(const g of v){const i=(0,E.lengthDiffNonNegative)(d,g.startOffset);(0,E.lengthIsZero)(i)||C.push({oldLength:i});const t=(0,E.lengthDiffNonNegative)(g.startOffset,g.endOffset);C.push({oldLength:t,newLength:g.newLength}),d=g.endOffset}return C}}),define(ee[457],te([1,0,86]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class N{constructor(v){this.d=w.lengthZero,this.a=[v],this.b=[w.lengthZero],this.c=[]}readLongestNodeAt(v,C){if((0,w.lengthLessThan)(v,this.d))throw new Error("Invalid offset");for(this.d=v;;){const d=D(this.a);if(!d)return;const g=D(this.b);if((0,w.lengthLessThan)(v,g))return;if((0,w.lengthLessThan)(g,v))if((0,w.lengthAdd)(g,d.length)<=v)this.e();else{const i=E(d);i!==-1?(this.a.push(d.getChild(i)),this.b.push(g),this.c.push(i)):this.e()}else{if(C(d))return this.e(),d;{const i=E(d);if(i===-1){this.e();return}else this.a.push(d.getChild(i)),this.b.push(g),this.c.push(i)}}}}e(){for(;;){const v=D(this.b),C=D(this.a);if(this.a.pop(),this.b.pop(),this.c.length===0)break;const d=D(this.a),g=E(d,this.c[this.c.length-1]);if(g!==-1){this.a.push(d.getChild(g)),this.b.push((0,w.lengthAdd)(v,C.length)),this.c[this.c.length-1]=g;break}else this.c.pop()}}}e.NodeReader=N;function E(y,v=-1){for(;;){if(v++,v>=y.childrenLength)return-1;if(y.getChild(v))return v}}function D(y){return y.length>0?y[y.length-1]:void 0}}),define(ee[117],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const w=[];class N{static b(y,v){if(y<=128&&v.length===0){let C=N.a[y];return C||(C=new N(y,v),N.a[y]=C),C}return new N(y,v)}static getEmpty(){return this.c}constructor(y,v){this.d=y,this.e=v}add(y,v){const C=v.getKey(y);let d=C>>5;if(d===0){const i=1<<C|this.d;return i===this.d?this:N.b(i,this.e)}d--;const g=this.e.slice(0);for(;g.length<d;)g.push(0);return g[d]|=1<<(C&31),N.b(this.d,g)}merge(y){const v=this.d|y.d;if(this.e===w&&y.e===w)return v===this.d?this:v===y.d?y:N.b(v,w);const C=[];for(let d=0;d<Math.max(this.e.length,y.e.length);d++){const g=this.e[d]||0,i=y.e[d]||0;C.push(g|i)}return N.b(v,C)}intersects(y){if((this.d&y.d)!==0)return!0;for(let v=0;v<Math.min(this.e.length,y.e.length);v++)if((this.e[v]&y.e[v])!==0)return!0;return!1}}N.a=new Array(129),N.c=N.b(0,w),e.SmallImmutableSet=N,e.identityKeyProvider={getKey(D){return D}};class E{constructor(){this.a=new Map}getKey(y){let v=this.a.get(y);return v===void 0&&(v=this.a.size,this.a.set(y,v)),v}}e.DenseKeyProvider=E}),define(ee[163],te([1,0,13,73,86,117]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this.a}constructor(l){this.a=l}}class v extends y{static create(l,o,h){let f=l.length;return o&&(f=(0,E.lengthAdd)(f,o.length)),h&&(f=(0,E.lengthAdd)(f,h.length)),new v(f,l,o,h,o?o.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(l){switch(l){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const l=[];return l.push(this.openingBracket),this.child&&l.push(this.child),this.closingBracket&&l.push(this.closingBracket),l}constructor(l,o,h,f,S){super(l),this.openingBracket=o,this.child=h,this.closingBracket=f,this.missingOpeningBracketIds=S}canBeReused(l){return!(this.closingBracket===null||l.intersects(this.missingOpeningBracketIds))}deepClone(){return new v(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(l,o){return this.child?this.child.computeMinIndentation((0,E.lengthAdd)(l,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=v;class C extends y{static create23(l,o,h,f=!1){let S=l.length,p=l.missingOpeningBracketIds;if(l.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(S=(0,E.lengthAdd)(S,o.length),p=p.merge(o.missingOpeningBracketIds),h){if(l.listHeight!==h.listHeight)throw new Error("Invalid list heights");S=(0,E.lengthAdd)(S,h.length),p=p.merge(h.missingOpeningBracketIds)}return f?new g(S,l.listHeight+1,l,o,h,p):new d(S,l.listHeight+1,l,o,h,p)}static getEmpty(){return new t(E.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this.c}constructor(l,o,h){super(l),this.listHeight=o,this.c=h,this.b=-1}d(){}makeLastElementMutable(){this.d();const l=this.childrenLength;if(l===0)return;const o=this.getChild(l-1),h=o.kind===4?o.toMutable():o;return o!==h&&this.setChild(l-1,h),h}makeFirstElementMutable(){if(this.d(),this.childrenLength===0)return;const o=this.getChild(0),h=o.kind===4?o.toMutable():o;return o!==h&&this.setChild(0,h),h}canBeReused(l){if(l.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let o=this;for(;o.kind===4;){const h=o.childrenLength;if(h===0)throw new w.BugIndicatingError;o=o.getChild(h-1)}return o.canBeReused(l)}handleChildrenChanged(){this.d();const l=this.childrenLength;let o=this.getChild(0).length,h=this.getChild(0).missingOpeningBracketIds;for(let f=1;f<l;f++){const S=this.getChild(f);o=(0,E.lengthAdd)(o,S.length),h=h.merge(S.missingOpeningBracketIds)}this.a=o,this.c=h,this.b=-1}computeMinIndentation(l,o){if(this.b!==-1)return this.b;let h=Number.MAX_SAFE_INTEGER,f=l;for(let S=0;S<this.childrenLength;S++){const p=this.getChild(S);p&&(h=Math.min(h,p.computeMinIndentation(f,o)),f=(0,E.lengthAdd)(f,p.length))}return this.b=h,h}}e.ListAstNode=C;class d extends C{get childrenLength(){return this.g!==null?3:2}getChild(l){switch(l){case 0:return this.e;case 1:return this.f;case 2:return this.g}throw new Error("Invalid child index")}setChild(l,o){switch(l){case 0:this.e=o;return;case 1:this.f=o;return;case 2:this.g=o;return}throw new Error("Invalid child index")}get children(){return this.g?[this.e,this.f,this.g]:[this.e,this.f]}get item1(){return this.e}get item2(){return this.f}get item3(){return this.g}constructor(l,o,h,f,S,p){super(l,o,p),this.e=h,this.f=f,this.g=S}deepClone(){return new d(this.length,this.listHeight,this.e.deepClone(),this.f.deepClone(),this.g?this.g.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){if(this.g)throw new Error("Cannot append to a full (2,3) tree node");this.d(),this.g=l,this.handleChildrenChanged()}unappendChild(){if(!this.g)throw new Error("Cannot remove from a non-full (2,3) tree node");this.d();const l=this.g;return this.g=null,this.handleChildrenChanged(),l}prependChildOfSameHeight(l){if(this.g)throw new Error("Cannot prepend to a full (2,3) tree node");this.d(),this.g=this.f,this.f=this.e,this.e=l,this.handleChildrenChanged()}unprependChild(){if(!this.g)throw new Error("Cannot remove from a non-full (2,3) tree node");this.d();const l=this.e;return this.e=this.f,this.f=this.g,this.g=null,this.handleChildrenChanged(),l}toMutable(){return this}}class g extends d{toMutable(){return new d(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}d(){throw new Error("this instance is immutable")}}class i extends C{get childrenLength(){return this.e.length}getChild(l){return this.e[l]}setChild(l,o){this.e[l]=o}get children(){return this.e}constructor(l,o,h,f){super(l,o,f),this.e=h}deepClone(){const l=new Array(this.e.length);for(let o=0;o<this.e.length;o++)l[o]=this.e[o].deepClone();return new i(this.length,this.listHeight,l,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){this.d(),this.e.push(l),this.handleChildrenChanged()}unappendChild(){this.d();const l=this.e.pop();return this.handleChildrenChanged(),l}prependChildOfSameHeight(l){this.d(),this.e.unshift(l),this.handleChildrenChanged()}unprependChild(){this.d();const l=this.e.shift();return this.handleChildrenChanged(),l}toMutable(){return this}}class t extends i{toMutable(){return new i(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}d(){throw new Error("this instance is immutable")}}const n=[];class a extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(l){return null}get children(){return n}deepClone(){return this}}class r extends a{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(l){return!0}computeMinIndentation(l,o){const h=(0,E.lengthToObj)(l),f=(h.columnCount===0?h.lineCount:h.lineCount+1)+1,S=(0,E.lengthGetLineCount)((0,E.lengthAdd)(l,this.length))+1;let p=Number.MAX_SAFE_INTEGER;for(let m=f;m<=S;m++){const b=o.getLineFirstNonWhitespaceColumn(m),L=o.getLineContent(m);if(b===0)continue;const k=N.CursorColumns.visibleColumnFromColumn(L,b,o.getOptions().tabSize);p=Math.min(p,k)}return p}}e.TextAstNode=r;class c extends a{static create(l,o,h){return new c(l,o,h)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(l,o,h){super(l),this.bracketInfo=o,this.bracketIds=h}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(l){return!1}computeMinIndentation(l,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=c;class u extends a{get kind(){return 3}constructor(l,o){super(o),this.missingOpeningBracketIds=l}canBeReused(l){return!l.intersects(this.missingOpeningBracketIds)}computeMinIndentation(l,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=u}),define(ee[458],te([1,0,163]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function N(d){if(d.length===0)return null;if(d.length===1)return d[0];let g=0;function i(){if(g>=d.length)return null;const r=g,c=d[r].listHeight;for(g++;g<d.length&&d[g].listHeight===c;)g++;return g-r>=2?E(r===0&&g===d.length?d:d.slice(r,g),!1):d[r]}let t=i(),n=i();if(!n)return t;for(let r=i();r;r=i())D(t,n)<=D(n,r)?(t=y(t,n),n=r):n=y(n,r);return y(t,n)}e.concat23Trees=N;function E(d,g=!1){if(d.length===0)return null;if(d.length===1)return d[0];let i=d.length;for(;i>3;){const t=i>>1;for(let n=0;n<t;n++){const a=n<<1;d[n]=w.ListAstNode.create23(d[a],d[a+1],a+3===i?d[a+2]:null,g)}i=t}return w.ListAstNode.create23(d[0],d[1],i>=3?d[2]:null,g)}e.concat23TreesOfSameHeight=E;function D(d,g){return Math.abs(d.listHeight-g.listHeight)}function y(d,g){return d.listHeight===g.listHeight?w.ListAstNode.create23(d,g,null,!1):d.listHeight>g.listHeight?v(d,g):C(g,d)}function v(d,g){d=d.toMutable();let i=d;const t=[];let n;for(;;){if(g.listHeight===i.listHeight){n=g;break}if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeLastElementMutable()}for(let a=t.length-1;a>=0;a--){const r=t[a];n?r.childrenLength>=3?n=w.ListAstNode.create23(r.unappendChild(),n,null,!1):(r.appendChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?w.ListAstNode.create23(d,n,null,!1):d}function C(d,g){d=d.toMutable();let i=d;const t=[];for(;g.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeFirstElementMutable()}let n=g;for(let a=t.length-1;a>=0;a--){const r=t[a];n?r.childrenLength>=3?n=w.ListAstNode.create23(n,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(n),n=void 0):r.handleChildrenChanged()}return n?w.ListAstNode.create23(n,d,null,!1):d}}),define(ee[250],te([1,0,163,189,117,86,458,457]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function C(g,i,t,n){return new d(g,i,t,n).parseDocument()}e.parseDocument=C;class d{constructor(i,t,n,a){if(this.e=i,this.f=a,this.c=0,this.d=0,n&&a)throw new Error("Not supported");this.a=n?new v.NodeReader(n):void 0,this.b=new N.BeforeEditPositionMapper(t)}parseDocument(){this.c=0,this.d=0;let i=this.g(E.SmallImmutableSet.getEmpty());return i||(i=w.ListAstNode.getEmpty()),i}g(i){const t=[];for(;;){let a=this.h(i);if(!a){const r=this.e.peek();if(!r||r.kind===2&&r.bracketIds.intersects(i))break;a=this.i(i)}a.kind===4&&a.childrenLength===0||t.push(a)}return this.a?(0,y.concat23Trees)(t):(0,y.concat23TreesOfSameHeight)(t,this.f)}h(i){if(this.a){const t=this.b.getDistanceToNextChange(this.e.offset);if(t===null||!(0,D.lengthIsZero)(t)){const n=this.a.readLongestNodeAt(this.b.getOffsetBeforeChange(this.e.offset),a=>t!==null&&!(0,D.lengthLessThan)(a.length,t)?!1:a.canBeReused(i));if(n)return this.d++,this.e.skip(n.length),n}}}i(i){this.c++;const t=this.e.read();switch(t.kind){case 2:return new w.InvalidBracketAstNode(t.bracketIds,t.length);case 0:return t.astNode;case 1:{const n=i.merge(t.bracketIds),a=this.g(n),r=this.e.peek();return r&&r.kind===2&&(r.bracketId===t.bracketId||r.bracketIds.intersects(t.bracketIds))?(this.e.read(),w.PairAstNode.create(t.astNode,a,r.astNode)):w.PairAstNode.create(t.astNode,a,null)}default:throw new Error("unexpected")}}}}),define(ee[190],te([1,0,13,115,163,86,117]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class v{constructor(t,n,a,r,c){this.length=t,this.kind=n,this.bracketId=a,this.bracketIds=r,this.astNode=c}}e.Token=v;class C{constructor(t,n){this.d=t,this.e=n,this.c=new d(this.d,this.e),this.f=D.lengthZero,this.g=!1,this.h=null,this.a=t.getLineCount(),this.b=t.getLineLength(this.a)}get offset(){return this.f}get length(){return(0,D.toLength)(this.a-1,this.b)}skip(t){this.g=!1,this.f=(0,D.lengthAdd)(this.f,t);const n=(0,D.lengthToObj)(this.f);this.c.setPosition(n.lineCount,n.columnCount)}read(){let t;return this.h?(this.g=!1,t=this.h):t=this.c.read(),t&&(this.f=(0,D.lengthAdd)(this.f,t.length)),t}peek(){return this.g||(this.h=this.c.read(),this.g=!0),this.h}}e.TextBufferTokenizer=C;class d{constructor(t,n){this.c=t,this.d=n,this.e=0,this.f=null,this.g=0,this.h=null,this.j=0,this.k=null,this.a=t.getLineCount(),this.b=t.getLineLength(this.a)}setPosition(t,n){t===this.e?(this.g=n,this.f!==null&&(this.j=this.g===0?0:this.h.findTokenIndexAtOffset(this.g))):(this.e=t,this.g=n,this.f=null),this.k=null}read(){if(this.k){const c=this.k;return this.k=null,this.g+=(0,D.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.e>this.a-1||this.e===this.a-1&&this.g>=this.b)return null;this.f===null&&(this.h=this.c.tokenization.getLineTokens(this.e+1),this.f=this.h.getLineContent(),this.j=this.g===0?0:this.h.findTokenIndexAtOffset(this.g));const t=this.e,n=this.g;let a=0;for(;;){const c=this.h,u=c.getCount();let s=null;if(this.j<u){const l=c.getMetadata(this.j);for(;this.j+1<u&&l===c.getMetadata(this.j+1);)this.j++;const o=N.TokenMetadata.getTokenType(l)===0,h=N.TokenMetadata.containsBalancedBrackets(l),f=c.getEndOffset(this.j);if(h&&o&&this.g<f){const S=c.getLanguageId(this.j),p=this.f.substring(this.g,f),m=this.d.getSingleLanguageBracketTokens(S),b=m.regExpGlobal;if(b){b.lastIndex=0;const L=b.exec(p);L&&(s=m.getToken(L[0]),s&&(this.g+=L.index))}}if(a+=f-this.g,s)if(t!==this.e||n!==this.g){this.k=s;break}else return this.g+=(0,D.lengthGetColumnCountIfZeroLineCount)(s.length),s;else this.j++,this.g=f}else if(this.e===this.a-1||(this.e++,this.h=this.c.tokenization.getLineTokens(this.e+1),this.j=0,this.f=this.h.getLineContent(),this.g=0,a+=33,a>1e3))break;if(a>1500)break}const r=(0,D.lengthDiff)(t,n,this.e,this.g);return new v(r,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(r))}}class g{constructor(t,n){this.d=t,this.a=D.lengthZero,this.c=0;const a=n.getRegExpStr(),r=a?new RegExp(a+`|
`,"gi"):null,c=[];let u,s=0,l=0,o=0,h=0;const f=[];for(let m=0;m<60;m++)f.push(new v((0,D.toLength)(0,m),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,D.toLength)(0,m))));const S=[];for(let m=0;m<60;m++)S.push(new v((0,D.toLength)(1,m),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,D.toLength)(1,m))));if(r)for(r.lastIndex=0;(u=r.exec(t))!==null;){const m=u.index,b=u[0];if(b===`
`)s++,l=m+1;else{if(o!==m){let L;if(h===s){const k=m-o;if(k<f.length)L=f[k];else{const I=(0,D.toLength)(0,k);L=new v(I,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(I))}}else{const k=s-h,I=m-l;if(k===1&&I<S.length)L=S[I];else{const M=(0,D.toLength)(k,I);L=new v(M,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(M))}}c.push(L)}c.push(n.getToken(b)),o=m+b.length,h=s}}const p=t.length;if(o!==p){const m=h===s?(0,D.toLength)(0,p-o):(0,D.toLength)(s-h,p-l);c.push(new v(m,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(m)))}this.length=(0,D.toLength)(s,p-l),this.b=c}get offset(){return this.a}read(){return this.b[this.c++]||null}peek(){return this.b[this.c]||null}skip(t){throw new w.NotSupportedError}}e.FastTokenizer=g}),define(ee[251],te([1,0,9,163,86,117,190]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class v{static createFromLanguage(i,t){function n(r){return t.getKey(`${r.languageId}:::${r.bracketText}`)}const a=new Map;for(const r of i.bracketsNew.openingBrackets){const c=(0,E.toLength)(0,r.bracketText.length),u=n(r),s=D.SmallImmutableSet.getEmpty().add(u,D.identityKeyProvider);a.set(r.bracketText,new y.Token(c,1,u,s,N.BracketAstNode.create(c,r,s)))}for(const r of i.bracketsNew.closingBrackets){const c=(0,E.toLength)(0,r.bracketText.length);let u=D.SmallImmutableSet.getEmpty();const s=r.getClosedBrackets();for(const l of s)u=u.add(n(l),D.identityKeyProvider);a.set(r.bracketText,new y.Token(c,2,n(s[0]),u,N.BracketAstNode.create(c,r,u)))}return new v(a)}constructor(i){this.c=i,this.a=!1,this.b=null}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.c.keys()];return i.sort(),i.reverse(),i.map(t=>C(t)).join("|")}}get regExpGlobal(){if(!this.a){const i=this.getRegExpStr();this.b=i?new RegExp(i,"gi"):null,this.a=!0}return this.b}getToken(i){return this.c.get(i.toLowerCase())}findClosingTokenText(i){for(const[t,n]of this.c)if(n.kind===2&&n.bracketIds.intersects(i))return t}get isEmpty(){return this.c.size===0}}e.BracketTokens=v;function C(g){let i=(0,w.escapeRegExpCharacters)(g);return/^[\w ]+/.test(g)&&(i=`\\b${i}`),/[\w ]+$/.test(g)&&(i=`${i}\\b`),i}class d{constructor(i,t){this.b=i,this.c=t,this.a=new Map}didLanguageChange(i){return this.a.has(i)}getSingleLanguageBracketTokens(i){let t=this.a.get(i);return t||(t=v.createFromLanguage(this.c(i),this.b),this.a.set(i,t)),t}}e.LanguageAgnosticBracketTokens=d}),define(ee[459],te([1,0,251,86,250,117,190]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function v(d,g){const i=new D.DenseKeyProvider,t=new w.LanguageAgnosticBracketTokens(i,s=>g.getLanguageConfiguration(s)),n=new y.TextBufferTokenizer(new C([d]),t),a=(0,E.parseDocument)(n,[],void 0,!0);let r="";const c=d.getLineContent();function u(s,l){if(s.kind===2)u(s.openingBracket,l),l=(0,N.lengthAdd)(l,s.openingBracket.length),s.child&&(u(s.child,l),l=(0,N.lengthAdd)(l,s.child.length)),s.closingBracket?(u(s.closingBracket,l),l=(0,N.lengthAdd)(l,s.closingBracket.length)):r+=t.getSingleLanguageBracketTokens(s.openingBracket.languageId).findClosingTokenText(s.openingBracket.bracketIds);else if(s.kind!==3){if(s.kind===0||s.kind===1)r+=c.substring((0,N.lengthGetColumnCountIfZeroLineCount)(l),(0,N.lengthGetColumnCountIfZeroLineCount)((0,N.lengthAdd)(l,s.length)));else if(s.kind===4)for(const o of s.children)u(o,l),l=(0,N.lengthAdd)(l,o.length)}}return u(a,N.lengthZero),r}e.fixBracketsInLine=v;class C{constructor(g){this.a=g,this.tokenization={getLineTokens:i=>this.a[i-1]}}getLineCount(){return this.a.length}getLineLength(g){return this.a[g-1].getLineContent().length}}}),define(ee[460],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class w{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N(D,y,v,C,d){d.spacesDiff=0,d.looksLikeAlignment=!1;let g;for(g=0;g<y&&g<C;g++){const u=D.charCodeAt(g),s=v.charCodeAt(g);if(u!==s)break}let i=0,t=0;for(let u=g;u<y;u++)D.charCodeAt(u)===32?i++:t++;let n=0,a=0;for(let u=g;u<C;u++)v.charCodeAt(u)===32?n++:a++;if(i>0&&t>0||n>0&&a>0)return;const r=Math.abs(t-a),c=Math.abs(i-n);if(r===0){d.spacesDiff=c,c>0&&0<=n-1&&n-1<D.length&&n<v.length&&v.charCodeAt(n)!==32&&D.charCodeAt(n-1)===32&&D.charCodeAt(D.length-1)===44&&(d.looksLikeAlignment=!0);return}if(c%r===0){d.spacesDiff=c/r;return}}function E(D,y,v){const C=Math.min(D.getLineCount(),1e4);let d=0,g=0,i="",t=0;const n=[2,4,6,8,3,5,7],a=8,r=[0,0,0,0,0,0,0,0,0],c=new w;for(let l=1;l<=C;l++){const o=D.getLineLength(l),h=D.getLineContent(l),f=o<=65536;let S=!1,p=0,m=0,b=0;for(let k=0,I=o;k<I;k++){const M=f?h.charCodeAt(k):D.getLineCharCode(l,k);if(M===9)b++;else if(M===32)m++;else{S=!0,p=k;break}}if(!S||(b>0?d++:m>1&&g++,N(i,t,h,p,c),c.looksLikeAlignment&&!(v&&y===c.spacesDiff)))continue;const L=c.spacesDiff;L<=a&&r[L]++,i=h,t=p}let u=v;d!==g&&(u=d<g);let s=y;if(u){let l=u?0:.1*C;n.forEach(o=>{const h=r[o];h>l&&(l=h,s=o)}),s===4&&r[4]>0&&r[2]>0&&r[2]>=r[4]/2&&(s=2)}return{insertSpaces:u,tabSize:s}}e.guessIndentation=E}),define(ee[461],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function w(A){return(A.metadata&1)>>>0}e.getNodeColor=w;function N(A,T){A.metadata=A.metadata&254|T<<0}function E(A){return(A.metadata&2)>>>1===1}function D(A,T){A.metadata=A.metadata&253|(T?1:0)<<1}function y(A){return(A.metadata&4)>>>2===1}function v(A,T){A.metadata=A.metadata&251|(T?1:0)<<2}function C(A){return(A.metadata&24)>>>3}function d(A,T){A.metadata=A.metadata&231|T<<3}function g(A){return(A.metadata&32)>>>5===1}function i(A,T){A.metadata=A.metadata&223|(T?1:0)<<5}class t{constructor(T,O,F){this.metadata=0,this.parent=this,this.left=this,this.right=this,N(this,1),this.start=O,this.end=F,this.delta=0,this.maxEnd=F,this.id=T,this.ownerId=0,this.options=null,v(this,!1),d(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=F,this.range=null,D(this,!1)}reset(T,O,F,W){this.start=O,this.end=F,this.maxEnd=F,this.cachedVersionId=T,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=F,this.range=W}setOptions(T){this.options=T;const O=this.options.className;v(this,O==="squiggly-error"||O==="squiggly-warning"||O==="squiggly-info"),d(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(T,O,F){this.cachedVersionId!==F&&(this.range=null),this.cachedVersionId=F,this.cachedAbsoluteStart=T,this.cachedAbsoluteEnd=O}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,N(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(T,O,F,W,V){return this.root===e.SENTINEL?[]:f(this,T,O,F,W,V)}search(T,O,F){return this.root===e.SENTINEL?[]:h(this,T,O,F)}collectNodesFromOwner(T){return l(this,T)}collectNodesPostOrder(){return o(this)}insert(T){S(this,T),this.a()}delete(T){m(this,T),this.a()}resolveNode(T,O){const F=T;let W=0;for(;T!==this.root;)T===T.parent.right&&(W+=T.parent.delta),T=T.parent;const V=F.start+W,R=F.end+W;F.setCachedOffsets(V,R,O)}acceptReplace(T,O,F,W){const V=u(this,T,T+O);for(let R=0,$=V.length;R<$;R++){const X=V[R];m(this,X)}this.a(),s(this,T,T+O,F),this.a();for(let R=0,$=V.length;R<$;R++){const X=V[R];X.start=X.cachedAbsoluteStart,X.end=X.cachedAbsoluteEnd,c(X,T,T+O,F,W),X.maxEnd=X.end,S(this,X)}this.a()}a(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,a(this))}}e.IntervalTree=n;function a(A){let T=A.root,O=0;for(;T!==e.SENTINEL;){if(T.left!==e.SENTINEL&&!E(T.left)){T=T.left;continue}if(T.right!==e.SENTINEL&&!E(T.right)){O+=T.delta,T=T.right;continue}T.start=O+T.start,T.end=O+T.end,T.delta=0,B(T),D(T,!0),D(T.left,!1),D(T.right,!1),T===T.parent.right&&(O-=T.parent.delta),T=T.parent}D(A.root,!1)}function r(A,T,O,F){return A<O?!0:A>O||F===1?!1:F===2?!0:T}function c(A,T,O,F,W){const V=C(A),R=V===0||V===2,$=V===1||V===2,X=O-T,ne=F,ae=Math.min(X,ne),ie=A.start;let le=!1;const J=A.end;let x=!1;T<=ie&&J<=O&&g(A)&&(A.start=T,le=!0,A.end=T,x=!0);{const Y=W?1:X>0?2:0;!le&&r(ie,R,T,Y)&&(le=!0),!x&&r(J,$,T,Y)&&(x=!0)}if(ae>0&&!W){const Y=X>ne?2:0;!le&&r(ie,R,T+ae,Y)&&(le=!0),!x&&r(J,$,T+ae,Y)&&(x=!0)}{const Y=W?1:0;!le&&r(ie,R,O,Y)&&(A.start=T+ne,le=!0),!x&&r(J,$,O,Y)&&(A.end=T+ne,x=!0)}const q=ne-X;le||(A.start=Math.max(0,ie+q)),x||(A.end=Math.max(0,J+q)),A.start>A.end&&(A.end=A.start)}e.nodeAcceptEdit=c;function u(A,T,O){let F=A.root,W=0,V=0,R=0,$=0;const X=[];let ne=0;for(;F!==e.SENTINEL;){if(E(F)){D(F.left,!1),D(F.right,!1),F===F.parent.right&&(W-=F.parent.delta),F=F.parent;continue}if(!E(F.left)){if(V=W+F.maxEnd,V<T){D(F,!0);continue}if(F.left!==e.SENTINEL){F=F.left;continue}}if(R=W+F.start,R>O){D(F,!0);continue}if($=W+F.end,$>=T&&(F.setCachedOffsets(R,$,0),X[ne++]=F),D(F,!0),F.right!==e.SENTINEL&&!E(F.right)){W+=F.delta,F=F.right;continue}}return D(A.root,!1),X}function s(A,T,O,F){let W=A.root,V=0,R=0,$=0;const X=F-(O-T);for(;W!==e.SENTINEL;){if(E(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),B(W),W=W.parent;continue}if(!E(W.left)){if(R=V+W.maxEnd,R<T){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if($=V+W.start,$>O){W.start+=X,W.end+=X,W.delta+=X,(W.delta<-1073741824||W.delta>1073741824)&&(A.requestNormalizeDelta=!0),D(W,!0);continue}if(D(W,!0),W.right!==e.SENTINEL&&!E(W.right)){V+=W.delta,W=W.right;continue}}D(A.root,!1)}function l(A,T){let O=A.root;const F=[];let W=0;for(;O!==e.SENTINEL;){if(E(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!E(O.left)){O=O.left;continue}if(O.ownerId===T&&(F[W++]=O),D(O,!0),O.right!==e.SENTINEL&&!E(O.right)){O=O.right;continue}}return D(A.root,!1),F}function o(A){let T=A.root;const O=[];let F=0;for(;T!==e.SENTINEL;){if(E(T)){D(T.left,!1),D(T.right,!1),T=T.parent;continue}if(T.left!==e.SENTINEL&&!E(T.left)){T=T.left;continue}if(T.right!==e.SENTINEL&&!E(T.right)){T=T.right;continue}O[F++]=T,D(T,!0)}return D(A.root,!1),O}function h(A,T,O,F){let W=A.root,V=0,R=0,$=0;const X=[];let ne=0;for(;W!==e.SENTINEL;){if(E(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!E(W.left)){W=W.left;continue}R=V+W.start,$=V+W.end,W.setCachedOffsets(R,$,F);let ae=!0;if(T&&W.ownerId&&W.ownerId!==T&&(ae=!1),O&&y(W)&&(ae=!1),ae&&(X[ne++]=W),D(W,!0),W.right!==e.SENTINEL&&!E(W.right)){V+=W.delta,W=W.right;continue}}return D(A.root,!1),X}function f(A,T,O,F,W,V){let R=A.root,$=0,X=0,ne=0,ae=0;const ie=[];let le=0;for(;R!==e.SENTINEL;){if(E(R)){D(R.left,!1),D(R.right,!1),R===R.parent.right&&($-=R.parent.delta),R=R.parent;continue}if(!E(R.left)){if(X=$+R.maxEnd,X<T){D(R,!0);continue}if(R.left!==e.SENTINEL){R=R.left;continue}}if(ne=$+R.start,ne>O){D(R,!0);continue}if(ae=$+R.end,ae>=T){R.setCachedOffsets(ne,ae,V);let J=!0;F&&R.ownerId&&R.ownerId!==F&&(J=!1),W&&y(R)&&(J=!1),J&&(ie[le++]=R)}if(D(R,!0),R.right!==e.SENTINEL&&!E(R.right)){$+=R.delta,R=R.right;continue}}return D(A.root,!1),ie}function S(A,T){if(A.root===e.SENTINEL)return T.parent=e.SENTINEL,T.left=e.SENTINEL,T.right=e.SENTINEL,N(T,0),A.root=T,A.root;p(A,T),z(T.parent);let O=T;for(;O!==A.root&&w(O.parent)===1;)if(O.parent===O.parent.parent.left){const F=O.parent.parent.right;w(F)===1?(N(O.parent,0),N(F,0),N(O.parent.parent,1),O=O.parent.parent):(O===O.parent.right&&(O=O.parent,k(A,O)),N(O.parent,0),N(O.parent.parent,1),I(A,O.parent.parent))}else{const F=O.parent.parent.left;w(F)===1?(N(O.parent,0),N(F,0),N(O.parent.parent,1),O=O.parent.parent):(O===O.parent.left&&(O=O.parent,I(A,O)),N(O.parent,0),N(O.parent.parent,1),k(A,O.parent.parent))}return N(A.root,0),T}function p(A,T){let O=0,F=A.root;const W=T.start,V=T.end;for(;;)if(P(W,V,F.start+O,F.end+O)<0)if(F.left===e.SENTINEL){T.start-=O,T.end-=O,T.maxEnd-=O,F.left=T;break}else F=F.left;else if(F.right===e.SENTINEL){T.start-=O+F.delta,T.end-=O+F.delta,T.maxEnd-=O+F.delta,F.right=T;break}else O+=F.delta,F=F.right;T.parent=F,T.left=e.SENTINEL,T.right=e.SENTINEL,N(T,1)}function m(A,T){let O,F;if(T.left===e.SENTINEL?(O=T.right,F=T,O.delta+=T.delta,(O.delta<-1073741824||O.delta>1073741824)&&(A.requestNormalizeDelta=!0),O.start+=T.delta,O.end+=T.delta):T.right===e.SENTINEL?(O=T.left,F=T):(F=b(T.right),O=F.right,O.start+=F.delta,O.end+=F.delta,O.delta+=F.delta,(O.delta<-1073741824||O.delta>1073741824)&&(A.requestNormalizeDelta=!0),F.start+=T.delta,F.end+=T.delta,F.delta=T.delta,(F.delta<-1073741824||F.delta>1073741824)&&(A.requestNormalizeDelta=!0)),F===A.root){A.root=O,N(O,0),T.detach(),L(),B(O),A.root.parent=e.SENTINEL;return}const W=w(F)===1;if(F===F.parent.left?F.parent.left=O:F.parent.right=O,F===T?O.parent=F.parent:(F.parent===T?O.parent=F:O.parent=F.parent,F.left=T.left,F.right=T.right,F.parent=T.parent,N(F,w(T)),T===A.root?A.root=F:T===T.parent.left?T.parent.left=F:T.parent.right=F,F.left!==e.SENTINEL&&(F.left.parent=F),F.right!==e.SENTINEL&&(F.right.parent=F)),T.detach(),W){z(O.parent),F!==T&&(z(F),z(F.parent)),L();return}z(O),z(O.parent),F!==T&&(z(F),z(F.parent));let V;for(;O!==A.root&&w(O)===0;)O===O.parent.left?(V=O.parent.right,w(V)===1&&(N(V,0),N(O.parent,1),k(A,O.parent),V=O.parent.right),w(V.left)===0&&w(V.right)===0?(N(V,1),O=O.parent):(w(V.right)===0&&(N(V.left,0),N(V,1),I(A,V),V=O.parent.right),N(V,w(O.parent)),N(O.parent,0),N(V.right,0),k(A,O.parent),O=A.root)):(V=O.parent.left,w(V)===1&&(N(V,0),N(O.parent,1),I(A,O.parent),V=O.parent.left),w(V.left)===0&&w(V.right)===0?(N(V,1),O=O.parent):(w(V.left)===0&&(N(V.right,0),N(V,1),k(A,V),V=O.parent.left),N(V,w(O.parent)),N(O.parent,0),N(V.left,0),I(A,O.parent),O=A.root));N(O,0),L()}function b(A){for(;A.left!==e.SENTINEL;)A=A.left;return A}function L(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function k(A,T){const O=T.right;O.delta+=T.delta,(O.delta<-1073741824||O.delta>1073741824)&&(A.requestNormalizeDelta=!0),O.start+=T.delta,O.end+=T.delta,T.right=O.left,O.left!==e.SENTINEL&&(O.left.parent=T),O.parent=T.parent,T.parent===e.SENTINEL?A.root=O:T===T.parent.left?T.parent.left=O:T.parent.right=O,O.left=T,T.parent=O,B(T),B(O)}function I(A,T){const O=T.left;T.delta-=O.delta,(T.delta<-1073741824||T.delta>1073741824)&&(A.requestNormalizeDelta=!0),T.start-=O.delta,T.end-=O.delta,T.left=O.right,O.right!==e.SENTINEL&&(O.right.parent=T),O.parent=T.parent,T.parent===e.SENTINEL?A.root=O:T===T.parent.right?T.parent.right=O:T.parent.left=O,O.right=T,T.parent=O,B(T),B(O)}function M(A){let T=A.end;if(A.left!==e.SENTINEL){const O=A.left.maxEnd;O>T&&(T=O)}if(A.right!==e.SENTINEL){const O=A.right.maxEnd+A.delta;O>T&&(T=O)}return T}function B(A){A.maxEnd=M(A)}e.recomputeMaxEnd=B;function z(A){for(;A!==e.SENTINEL;){const T=M(A);if(A.maxEnd===T)return;A.maxEnd=T,A=A.parent}}function P(A,T,O,F){return A===O?T-F:A-O}e.intervalCompare=P}),define(ee[462],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class w{constructor(r,c){this.piece=r,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return N(this.right);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.left!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}prev(){if(this.left!==e.SENTINEL)return E(this.left);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.right!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=w,e.SENTINEL=new w(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function N(a){for(;a.left!==e.SENTINEL;)a=a.left;return a}e.leftest=N;function E(a){for(;a.right!==e.SENTINEL;)a=a.right;return a}e.righttest=E;function D(a){return a===e.SENTINEL?0:a.size_left+a.piece.length+D(a.right)}function y(a){return a===e.SENTINEL?0:a.lf_left+a.piece.lineFeedCnt+y(a.right)}function v(){e.SENTINEL.parent=e.SENTINEL}function C(a,r){const c=r.right;c.size_left+=r.size_left+(r.piece?r.piece.length:0),c.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=r),c.parent=r.parent,r.parent===e.SENTINEL?a.root=c:r.parent.left===r?r.parent.left=c:r.parent.right=c,c.left=r,r.parent=c}e.leftRotate=C;function d(a,r){const c=r.left;r.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=r),c.parent=r.parent,r.size_left-=c.size_left+(c.piece?c.piece.length:0),r.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),r.parent===e.SENTINEL?a.root=c:r===r.parent.right?r.parent.right=c:r.parent.left=c,c.right=r,r.parent=c}e.rightRotate=d;function g(a,r){let c,u;if(r.left===e.SENTINEL?(u=r,c=u.right):r.right===e.SENTINEL?(u=r,c=u.left):(u=N(r.right),c=u.right),u===a.root){a.root=c,c.color=0,r.detach(),v(),a.root.parent=e.SENTINEL;return}const s=u.color===1;if(u===u.parent.left?u.parent.left=c:u.parent.right=c,u===r?(c.parent=u.parent,n(a,c)):(u.parent===r?c.parent=u:c.parent=u.parent,n(a,c),u.left=r.left,u.right=r.right,u.parent=r.parent,u.color=r.color,r===a.root?a.root=u:r===r.parent.left?r.parent.left=u:r.parent.right=u,u.left!==e.SENTINEL&&(u.left.parent=u),u.right!==e.SENTINEL&&(u.right.parent=u),u.size_left=r.size_left,u.lf_left=r.lf_left,n(a,u)),r.detach(),c.parent.left===c){const o=D(c),h=y(c);if(o!==c.parent.size_left||h!==c.parent.lf_left){const f=o-c.parent.size_left,S=h-c.parent.lf_left;c.parent.size_left=o,c.parent.lf_left=h,t(a,c.parent,f,S)}}if(n(a,c.parent),s){v();return}let l;for(;c!==a.root&&c.color===0;)c===c.parent.left?(l=c.parent.right,l.color===1&&(l.color=0,c.parent.color=1,C(a,c.parent),l=c.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,c=c.parent):(l.right.color===0&&(l.left.color=0,l.color=1,d(a,l),l=c.parent.right),l.color=c.parent.color,c.parent.color=0,l.right.color=0,C(a,c.parent),c=a.root)):(l=c.parent.left,l.color===1&&(l.color=0,c.parent.color=1,d(a,c.parent),l=c.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,c=c.parent):(l.left.color===0&&(l.right.color=0,l.color=1,C(a,l),l=c.parent.left),l.color=c.parent.color,c.parent.color=0,l.left.color=0,d(a,c.parent),c=a.root));c.color=0,v()}e.rbDelete=g;function i(a,r){for(n(a,r);r!==a.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const c=r.parent.parent.right;c.color===1?(r.parent.color=0,c.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,C(a,r)),r.parent.color=0,r.parent.parent.color=1,d(a,r.parent.parent))}else{const c=r.parent.parent.left;c.color===1?(r.parent.color=0,c.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,d(a,r)),r.parent.color=0,r.parent.parent.color=1,C(a,r.parent.parent))}a.root.color=0}e.fixInsert=i;function t(a,r,c,u){for(;r!==a.root&&r!==e.SENTINEL;)r.parent.left===r&&(r.parent.size_left+=c,r.parent.lf_left+=u),r=r.parent}e.updateTreeMetadata=t;function n(a,r){let c=0,u=0;if(r!==a.root){for(;r!==a.root&&r===r.parent.right;)r=r.parent;if(r!==a.root)for(r=r.parent,c=D(r.left)-r.size_left,u=y(r.left)-r.lf_left,r.size_left+=c,r.lf_left+=u;r!==a.root&&(c!==0||u!==0);)r.parent.left===r&&(r.parent.size_left+=c,r.parent.lf_left+=u),r=r.parent}}e.recomputeTreeMetadata=n}),define(ee[252],te([1,0,17,153]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class E{constructor(C){this.a=C,this.b=new Uint32Array(C.length),this.c=new Int32Array(1),this.c[0]=-1}insertValues(C,d){C=(0,N.toUint32)(C);const g=this.a,i=this.b,t=d.length;return t===0?!1:(this.a=new Uint32Array(g.length+t),this.a.set(g.subarray(0,C),0),this.a.set(g.subarray(C),C+t),this.a.set(d,C),C-1<this.c[0]&&(this.c[0]=C-1),this.b=new Uint32Array(this.a.length),this.c[0]>=0&&this.b.set(i.subarray(0,this.c[0]+1)),!0)}setValue(C,d){return C=(0,N.toUint32)(C),d=(0,N.toUint32)(d),this.a[C]===d?!1:(this.a[C]=d,C-1<this.c[0]&&(this.c[0]=C-1),!0)}removeValues(C,d){C=(0,N.toUint32)(C),d=(0,N.toUint32)(d);const g=this.a,i=this.b;if(C>=g.length)return!1;const t=g.length-C;return d>=t&&(d=t),d===0?!1:(this.a=new Uint32Array(g.length-d),this.a.set(g.subarray(0,C),0),this.a.set(g.subarray(C+d),C),this.b=new Uint32Array(this.a.length),C-1<this.c[0]&&(this.c[0]=C-1),this.c[0]>=0&&this.b.set(i.subarray(0,this.c[0]+1)),!0)}getTotalSum(){return this.a.length===0?0:this.d(this.a.length-1)}getPrefixSum(C){return C<0?0:(C=(0,N.toUint32)(C),this.d(C))}d(C){if(C<=this.c[0])return this.b[C];let d=this.c[0]+1;d===0&&(this.b[0]=this.a[0],d++),C>=this.a.length&&(C=this.a.length-1);for(let g=d;g<=C;g++)this.b[g]=this.b[g-1]+this.a[g];return this.c[0]=Math.max(this.c[0],C),this.b[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let d=0,g=this.a.length-1,i=0,t=0,n=0;for(;d<=g;)if(i=d+(g-d)/2|0,t=this.b[i],n=t-this.a[i],C<n)g=i-1;else if(C>=t)d=i+1;else break;return new y(i,C-n)}}e.PrefixSumComputer=E;class D{constructor(C){this.a=C,this.b=!1,this.c=-1,this.d=[],this.e=[]}getTotalSum(){return this.g(),this.e.length}getPrefixSum(C){return this.g(),C===0?0:this.d[C-1]}getIndexOf(C){this.g();const d=this.e[C],g=d>0?this.d[d-1]:0;return new y(d,C-g)}removeValues(C,d){this.a.splice(C,d),this.f(C)}insertValues(C,d){this.a=(0,w.arrayInsert)(this.a,C,d),this.f(C)}f(C){this.b=!1,this.c=Math.min(this.c,C-1)}g(){if(!this.b){for(let C=this.c+1,d=this.a.length;C<d;C++){const g=this.a[C],i=C>0?this.d[C-1]:0;this.d[C]=i+g;for(let t=0;t<g;t++)this.e[i+t]=C}this.d.length=this.a.length,this.e.length=this.d[this.d.length-1],this.b=!0,this.c=this.a.length-1}}setValue(C,d){this.a[C]!==d&&(this.a[C]=d,this.f(C))}}e.ConstantTimePrefixSumComputer=D;class y{constructor(C,d){this.index=C,this.remainder=d,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=d}}e.PrefixSumIndexOfResult=y}),define(ee[463],te([1,0,9,11,252]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(v,C,d,g){this.c=v,this.d=C,this.f=d,this.g=g,this.h=null,this.j=null}dispose(){this.d.length=0}get version(){return this.g}getText(){return this.j===null&&(this.j=this.d.join(this.f)),this.j}onEvents(v){v.eol&&v.eol!==this.f&&(this.f=v.eol,this.h=null);const C=v.changes;for(const d of C)this.n(d.range),this.o(new N.Position(d.range.startLineNumber,d.range.startColumn),d.text);this.g=v.versionId,this.j=null}k(){if(!this.h){const v=this.f.length,C=this.d.length,d=new Uint32Array(C);for(let g=0;g<C;g++)d[g]=this.d[g].length+v;this.h=new E.PrefixSumComputer(d)}}l(v,C){this.d[v]=C,this.h&&this.h.setValue(v,this.d[v].length+this.f.length)}n(v){if(v.startLineNumber===v.endLineNumber){if(v.startColumn===v.endColumn)return;this.l(v.startLineNumber-1,this.d[v.startLineNumber-1].substring(0,v.startColumn-1)+this.d[v.startLineNumber-1].substring(v.endColumn-1));return}this.l(v.startLineNumber-1,this.d[v.startLineNumber-1].substring(0,v.startColumn-1)+this.d[v.endLineNumber-1].substring(v.endColumn-1)),this.d.splice(v.startLineNumber,v.endLineNumber-v.startLineNumber),this.h&&this.h.removeValues(v.startLineNumber,v.endLineNumber-v.startLineNumber)}o(v,C){if(C.length===0)return;const d=(0,w.splitLines)(C);if(d.length===1){this.l(v.lineNumber-1,this.d[v.lineNumber-1].substring(0,v.column-1)+d[0]+this.d[v.lineNumber-1].substring(v.column-1));return}d[d.length-1]+=this.d[v.lineNumber-1].substring(v.column-1),this.l(v.lineNumber-1,this.d[v.lineNumber-1].substring(0,v.column-1)+d[0]);const g=new Uint32Array(d.length-1);for(let i=1;i<d.length;i++)this.d.splice(v.lineNumber+i-1,0,d[i]),g[i-1]=d[i].length+this.f.length;this.h&&this.h.insertValues(v.lineNumber,g)}}e.MirrorTextModel=D}),define(ee[253],te([1,0,2]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class N extends w.Disposable{constructor(){super(...arguments),this.c=!1}dispose(){super.dispose(),this.c=!0}g(){if(this.c)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=N}),define(ee[164],te([1,0,9,132,11,3,48]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const v=999;class C{constructor(s,l,o,h){this.searchString=s,this.isRegex=l,this.matchCase=o,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=d(this.searchString):s=this.searchString.indexOf(`
`)>=0;let l=null;try{l=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch{return null}if(!l)return null;let o=!this.isRegex&&!s;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new y.SearchData(l,this.wordSeparators?(0,N.getMapForWordSeparators)(this.wordSeparators):null,o?this.searchString:null)}}e.SearchParams=C;function d(u){if(!u||u.length===0)return!1;for(let s=0,l=u.length;s<l;s++){const o=u.charCodeAt(s);if(o===10)return!0;if(o===92){if(s++,s>=l)break;const h=u.charCodeAt(s);if(h===110||h===114||h===87)return!0}}return!1}e.isMultilineRegexSource=d;function g(u,s,l){if(!l)return new y.FindMatch(u,null);const o=[];for(let h=0,f=s.length;h<f;h++)o[h]=s[h];return new y.FindMatch(u,o)}e.createFindMatch=g;class i{constructor(s){const l=[];let o=0;for(let h=0,f=s.length;h<f;h++)s.charCodeAt(h)===10&&(l[o++]=h);this.a=l}findLineFeedCountBeforeOffset(s){const l=this.a;let o=0,h=l.length-1;if(h===-1||s<=l[0])return 0;for(;o<h;){const f=o+((h-o)/2>>0);l[f]>=s?h=f-1:l[f+1]>=s?(o=f,h=f):o=f+1}return o+1}}class t{static findMatches(s,l,o,h,f){const S=l.parseSearchRequest();return S?S.regex.multiline?this.b(s,o,new c(S.wordSeparators,S.regex),h,f):this.c(s,o,S,h,f):[]}static a(s,l,o,h,f,S){let p,m=0;h?(m=h.findLineFeedCountBeforeOffset(f),p=l+f+m):p=l+f;let b;if(h){const M=h.findLineFeedCountBeforeOffset(f+S.length)-m;b=p+S.length+M}else b=p+S.length;const L=s.getPositionAt(p),k=s.getPositionAt(b);return new D.Range(L.lineNumber,L.column,k.lineNumber,k.column)}static b(s,l,o,h,f){const S=s.getOffsetAt(l.getStartPosition()),p=s.getValueInRange(l,1),m=s.getEOL()===`\r
`?new i(p):null,b=[];let L=0,k;for(o.reset(0);k=o.next(p);)if(b[L++]=g(this.a(s,S,p,m,k.index,k[0]),k,h),L>=f)return b;return b}static c(s,l,o,h,f){const S=[];let p=0;if(l.startLineNumber===l.endLineNumber){const b=s.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return p=this.d(o,b,l.startLineNumber,l.startColumn-1,p,S,h,f),S}const m=s.getLineContent(l.startLineNumber).substring(l.startColumn-1);p=this.d(o,m,l.startLineNumber,l.startColumn-1,p,S,h,f);for(let b=l.startLineNumber+1;b<l.endLineNumber&&p<f;b++)p=this.d(o,s.getLineContent(b),b,0,p,S,h,f);if(p<f){const b=s.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);p=this.d(o,b,l.endLineNumber,0,p,S,h,f)}return S}static d(s,l,o,h,f,S,p,m){const b=s.wordSeparators;if(!p&&s.simpleSearch){const I=s.simpleSearch,M=I.length,B=l.length;let z=-M;for(;(z=l.indexOf(I,z+M))!==-1;)if((!b||r(b,l,B,z,M))&&(S[f++]=new y.FindMatch(new D.Range(o,z+1+h,o,z+1+M+h),null),f>=m))return f;return f}const L=new c(s.wordSeparators,s.regex);let k;L.reset(0);do if(k=L.next(l),k&&(S[f++]=g(new D.Range(o,k.index+1+h,o,k.index+1+k[0].length+h),k,p),f>=m))return f;while(k);return f}static findNextMatch(s,l,o,h){const f=l.parseSearchRequest();if(!f)return null;const S=new c(f.wordSeparators,f.regex);return f.regex.multiline?this.e(s,o,S,h):this.f(s,o,S,h)}static e(s,l,o,h){const f=new E.Position(l.lineNumber,1),S=s.getOffsetAt(f),p=s.getLineCount(),m=s.getValueInRange(new D.Range(f.lineNumber,f.column,p,s.getLineMaxColumn(p)),1),b=s.getEOL()===`\r
`?new i(m):null;o.reset(l.column-1);const L=o.next(m);return L?g(this.a(s,S,m,b,L.index,L[0]),L,h):l.lineNumber!==1||l.column!==1?this.e(s,new E.Position(1,1),o,h):null}static f(s,l,o,h){const f=s.getLineCount(),S=l.lineNumber,p=s.getLineContent(S),m=this.g(o,p,S,l.column,h);if(m)return m;for(let b=1;b<=f;b++){const L=(S+b-1)%f,k=s.getLineContent(L+1),I=this.g(o,k,L+1,1,h);if(I)return I}return null}static g(s,l,o,h,f){s.reset(h-1);const S=s.next(l);return S?g(new D.Range(o,S.index+1,o,S.index+1+S[0].length),S,f):null}static findPreviousMatch(s,l,o,h){const f=l.parseSearchRequest();if(!f)return null;const S=new c(f.wordSeparators,f.regex);return f.regex.multiline?this.h(s,o,S,h):this.j(s,o,S,h)}static h(s,l,o,h){const f=this.b(s,new D.Range(1,1,l.lineNumber,l.column),o,h,10*v);if(f.length>0)return f[f.length-1];const S=s.getLineCount();return l.lineNumber!==S||l.column!==s.getLineMaxColumn(S)?this.h(s,new E.Position(S,s.getLineMaxColumn(S)),o,h):null}static j(s,l,o,h){const f=s.getLineCount(),S=l.lineNumber,p=s.getLineContent(S).substring(0,l.column-1),m=this.k(o,p,S,h);if(m)return m;for(let b=1;b<=f;b++){const L=(f+S-b-1)%f,k=s.getLineContent(L+1),I=this.k(o,k,L+1,h);if(I)return I}return null}static k(s,l,o,h){let f=null,S;for(s.reset(0);S=s.next(l);)f=g(new D.Range(o,S.index+1,o,S.index+1+S[0].length),S,h);return f}}e.TextModelSearch=t;function n(u,s,l,o,h){if(o===0)return!0;const f=s.charCodeAt(o-1);if(u.get(f)!==0||f===13||f===10)return!0;if(h>0){const S=s.charCodeAt(o);if(u.get(S)!==0)return!0}return!1}function a(u,s,l,o,h){if(o+h===l)return!0;const f=s.charCodeAt(o+h);if(u.get(f)!==0||f===13||f===10)return!0;if(h>0){const S=s.charCodeAt(o+h-1);if(u.get(S)!==0)return!0}return!1}function r(u,s,l,o,h){return n(u,s,l,o,h)&&a(u,s,l,o,h)}e.isValidMatch=r;class c{constructor(s,l){this._wordSeparators=s,this.a=l,this.b=-1,this.c=0}reset(s){this.a.lastIndex=s,this.b=-1,this.c=0}next(s){const l=s.length;let o;do{if(this.b+this.c===l||(o=this.a.exec(s),!o))return null;const h=o.index,f=o[0].length;if(h===this.b&&f===this.c){if(f===0){w.getNextCodePoint(s,l,this.a.lastIndex)>65535?this.a.lastIndex+=2:this.a.lastIndex+=1;continue}return null}if(this.b=h,this.c=f,!this._wordSeparators||r(this._wordSeparators,s,l,h,f))return o}while(o);return null}}e.Searcher=c}),define(ee[254],te([1,0,11,3,48,462,164]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const v=65535;function C(u){let s;return u[u.length-1]<65536?s=new Uint16Array(u.length):s=new Uint32Array(u.length),s.set(u,0),s}class d{constructor(s,l,o,h,f){this.lineStarts=s,this.cr=l,this.lf=o,this.crlf=h,this.isBasicASCII=f}}function g(u,s=!0){const l=[0];let o=1;for(let h=0,f=u.length;h<f;h++){const S=u.charCodeAt(h);S===13?h+1<f&&u.charCodeAt(h+1)===10?(l[o++]=h+2,h++):l[o++]=h+1:S===10&&(l[o++]=h+1)}return s?C(l):l}e.createLineStartsFast=g;function i(u,s){u.length=0,u[0]=0;let l=1,o=0,h=0,f=0,S=!0;for(let m=0,b=s.length;m<b;m++){const L=s.charCodeAt(m);L===13?m+1<b&&s.charCodeAt(m+1)===10?(f++,u[l++]=m+2,m++):(o++,u[l++]=m+1):L===10?(h++,u[l++]=m+1):S&&L!==9&&(L<32||L>126)&&(S=!1)}const p=new d(C(u),o,h,f,S);return u.length=0,p}e.createLineStarts=i;class t{constructor(s,l,o,h,f){this.bufferIndex=s,this.start=l,this.end=o,this.lineFeedCnt=h,this.length=f}}e.Piece=t;class n{constructor(s,l){this.buffer=s,this.lineStarts=l}}e.StringBuffer=n;class a{constructor(s,l){this.a=[],this.c=s,this.d=l,this.b=0,s.root!==D.SENTINEL&&s.iterate(s.root,o=>(o!==D.SENTINEL&&this.a.push(o.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class r{constructor(s){this.a=s,this.b=[]}get(s){for(let l=this.b.length-1;l>=0;l--){const o=this.b[l];if(o.nodeStartOffset<=s&&o.nodeStartOffset+o.node.piece.length>=s)return o}return null}get2(s){for(let l=this.b.length-1;l>=0;l--){const o=this.b[l];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<s&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=s)return o}return null}set(s){this.b.length>=this.a&&this.b.shift(),this.b.push(s)}validate(s){let l=!1;const o=this.b;for(let h=0;h<o.length;h++){const f=o[h];if(f.node.parent===null||f.nodeStartOffset>=s){o[h]=null,l=!0;continue}}if(l){const h=[];for(const f of o)f!==null&&h.push(f);this.b=h}}}class c{constructor(s,l,o){this.create(s,l,o)}create(s,l,o){this.a=[new n("",[0])],this.g={line:0,column:0},this.root=D.SENTINEL,this.b=1,this.c=0,this.d=l,this.e=l.length,this.f=o;let h=null;for(let f=0,S=s.length;f<S;f++)if(s[f].buffer.length>0){s[f].lineStarts||(s[f].lineStarts=g(s[f].buffer));const p=new t(f+1,{line:0,column:0},{line:s[f].lineStarts.length-1,column:s[f].buffer.length-s[f].lineStarts[s[f].lineStarts.length-1]},s[f].lineStarts.length-1,s[f].buffer.length);this.a.push(s[f]),h=this.S(h,p)}this.h=new r(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(s){const l=v,o=l-Math.floor(l/3),h=o*2;let f="",S=0;const p=[];if(this.iterate(this.root,m=>{const b=this.R(m),L=b.length;if(S<=o||S+L<h)return f+=b,S+=L,!0;const k=f.replace(/\r\n|\r|\n/g,s);return p.push(new n(k,g(k))),f=b,S=L,!0}),S>0){const m=f.replace(/\r\n|\r|\n/g,s);p.push(new n(m,g(m)))}this.create(p,s,!0)}getEOL(){return this.d}setEOL(s){this.d=s,this.e=this.d.length,this.normalizeEOL(s)}createSnapshot(s){return new a(this,s)}getOffsetAt(s,l){let o=0,h=this.root;for(;h!==D.SENTINEL;)if(h.left!==D.SENTINEL&&h.lf_left+1>=s)h=h.left;else{if(h.lf_left+h.piece.lineFeedCnt+1>=s)return o+=h.size_left,o+=this.B(h,s-h.lf_left-2)+l-1;s-=h.lf_left+h.piece.lineFeedCnt,o+=h.size_left+h.piece.length,h=h.right}return o}getPositionAt(s){s=Math.floor(s),s=Math.max(0,s);let l=this.root,o=0;const h=s;for(;l!==D.SENTINEL;)if(l.size_left!==0&&l.size_left>=s)l=l.left;else if(l.size_left+l.piece.length>=s){const f=this.A(l,s-l.size_left);if(o+=l.lf_left+f.index,f.index===0){const S=this.getOffsetAt(o+1,1),p=h-S;return new w.Position(o+1,p+1)}return new w.Position(o+1,f.remainder+1)}else if(s-=l.size_left+l.piece.length,o+=l.lf_left+l.piece.lineFeedCnt,l.right===D.SENTINEL){const f=this.getOffsetAt(o+1,1),S=h-s-f;return new w.Position(o+1,S+1)}else l=l.right;return new w.Position(1,1)}getValueInRange(s,l){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return"";const o=this.H(s.startLineNumber,s.startColumn),h=this.H(s.endLineNumber,s.endColumn),f=this.getValueInRange2(o,h);return l?l!==this.d||!this.f?f.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this.f?f:f.replace(/\r\n|\r|\n/g,l):f}getValueInRange2(s,l){if(s.node===l.node){const p=s.node,m=this.a[p.piece.bufferIndex].buffer,b=this.u(p.piece.bufferIndex,p.piece.start);return m.substring(b+s.remainder,b+l.remainder)}let o=s.node;const h=this.a[o.piece.bufferIndex].buffer,f=this.u(o.piece.bufferIndex,o.piece.start);let S=h.substring(f+s.remainder,f+o.piece.length);for(o=o.next();o!==D.SENTINEL;){const p=this.a[o.piece.bufferIndex].buffer,m=this.u(o.piece.bufferIndex,o.piece.start);if(o===l.node){S+=p.substring(m,m+l.remainder);break}else S+=p.substr(m,o.piece.length);o=o.next()}return S}getLinesContent(){const s=[];let l=0,o="",h=!1;return this.iterate(this.root,f=>{if(f===D.SENTINEL)return!0;const S=f.piece;let p=S.length;if(p===0)return!0;const m=this.a[S.bufferIndex].buffer,b=this.a[S.bufferIndex].lineStarts,L=S.start.line,k=S.end.line;let I=b[L]+S.start.column;if(h&&(m.charCodeAt(I)===10&&(I++,p--),s[l++]=o,o="",h=!1,p===0))return!0;if(L===k)return!this.f&&m.charCodeAt(I+p-1)===13?(h=!0,o+=m.substr(I,p-1)):o+=m.substr(I,p),!0;o+=this.f?m.substring(I,Math.max(I,b[L+1]-this.e)):m.substring(I,b[L+1]).replace(/(\r\n|\r|\n)$/,""),s[l++]=o;for(let M=L+1;M<k;M++)o=this.f?m.substring(b[M],b[M+1]-this.e):m.substring(b[M],b[M+1]).replace(/(\r\n|\r|\n)$/,""),s[l++]=o;return!this.f&&m.charCodeAt(b[k]+S.end.column-1)===13?(h=!0,S.end.column===0?l--:o=m.substr(b[k],S.end.column-1)):o=m.substr(b[k],S.end.column),!0}),h&&(s[l++]=o,o=""),s[l++]=o,s}getLength(){return this.c}getLineCount(){return this.b}getLineContent(s){return this.j.lineNumber===s?this.j.value:(this.j.lineNumber=s,s===this.b?this.j.value=this.getLineRawContent(s):this.f?this.j.value=this.getLineRawContent(s,this.e):this.j.value=this.getLineRawContent(s).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(s){if(s.remainder===s.node.piece.length){const l=s.node.next();if(!l)return 0;const o=this.a[l.piece.bufferIndex],h=this.u(l.piece.bufferIndex,l.piece.start);return o.buffer.charCodeAt(h)}else{const l=this.a[s.node.piece.bufferIndex],h=this.u(s.node.piece.bufferIndex,s.node.piece.start)+s.remainder;return l.buffer.charCodeAt(h)}}getLineCharCode(s,l){const o=this.H(s,l+1);return this.l(o)}getLineLength(s){if(s===this.getLineCount()){const l=this.getOffsetAt(s,1);return this.getLength()-l}return this.getOffsetAt(s+1,1)-this.getOffsetAt(s,1)-this.e}findMatchesInNode(s,l,o,h,f,S,p,m,b,L,k){const I=this.a[s.piece.bufferIndex],M=this.u(s.piece.bufferIndex,s.piece.start),B=this.u(s.piece.bufferIndex,f),z=this.u(s.piece.bufferIndex,S);let P;const A={line:0,column:0};let T,O;l._wordSeparators?(T=I.buffer.substring(B,z),O=F=>F+B,l.reset(0)):(T=I.buffer,O=F=>F,l.reset(B));do if(P=l.next(T),P){if(O(P.index)>=z)return L;this.s(s,O(P.index)-M,A);const F=this.t(s.piece.bufferIndex,f,A),W=A.line===f.line?A.column-f.column+h:A.column+1,V=W+P[0].length;if(k[L++]=(0,y.createFindMatch)(new N.Range(o+F,W,o+F,V),P,m),O(P.index)+P[0].length>=z||L>=b)return L}while(P);return L}findMatchesLineByLine(s,l,o,h){const f=[];let S=0;const p=new y.Searcher(l.wordSeparators,l.regex);let m=this.H(s.startLineNumber,s.startColumn);if(m===null)return[];const b=this.H(s.endLineNumber,s.endColumn);if(b===null)return[];let L=this.s(m.node,m.remainder);const k=this.s(b.node,b.remainder);if(m.node===b.node)return this.findMatchesInNode(m.node,p,s.startLineNumber,s.startColumn,L,k,l,o,h,S,f),f;let I=s.startLineNumber,M=m.node;for(;M!==b.node;){const z=this.t(M.piece.bufferIndex,L,M.piece.end);if(z>=1){const A=this.a[M.piece.bufferIndex].lineStarts,T=this.u(M.piece.bufferIndex,M.piece.start),O=A[L.line+z],F=I===s.startLineNumber?s.startColumn:1;if(S=this.findMatchesInNode(M,p,I,F,L,this.s(M,O-T),l,o,h,S,f),S>=h)return f;I+=z}const P=I===s.startLineNumber?s.startColumn-1:0;if(I===s.endLineNumber){const A=this.getLineContent(I).substring(P,s.endColumn-1);return S=this.n(l,p,A,s.endLineNumber,P,S,f,o,h),f}if(S=this.n(l,p,this.getLineContent(I).substr(P),I,P,S,f,o,h),S>=h)return f;I++,m=this.H(I,1),M=m.node,L=this.s(m.node,m.remainder)}if(I===s.endLineNumber){const z=I===s.startLineNumber?s.startColumn-1:0,P=this.getLineContent(I).substring(z,s.endColumn-1);return S=this.n(l,p,P,s.endLineNumber,z,S,f,o,h),f}const B=I===s.startLineNumber?s.startColumn:1;return S=this.findMatchesInNode(b.node,p,I,B,L,k,l,o,h,S,f),f}n(s,l,o,h,f,S,p,m,b){const L=s.wordSeparators;if(!m&&s.simpleSearch){const I=s.simpleSearch,M=I.length,B=o.length;let z=-M;for(;(z=o.indexOf(I,z+M))!==-1;)if((!L||(0,y.isValidMatch)(L,o,B,z,M))&&(p[S++]=new E.FindMatch(new N.Range(h,z+1+f,h,z+1+M+f),null),S>=b))return S;return S}let k;l.reset(0);do if(k=l.next(o),k&&(p[S++]=(0,y.createFindMatch)(new N.Range(h,k.index+1+f,h,k.index+1+k[0].length+f),k,m),S>=b))return S;while(k);return S}insert(s,l,o=!1){if(this.f=this.f&&o,this.j.lineNumber=0,this.j.value="",this.root!==D.SENTINEL){const{node:h,remainder:f,nodeStartOffset:S}=this.G(s),p=h.piece,m=p.bufferIndex,b=this.s(h,f);if(h.piece.bufferIndex===0&&p.end.line===this.g.line&&p.end.column===this.g.column&&S+p.length===s&&l.length<v){this.F(h,l),this.y();return}if(S===s)this.o(l,h),this.h.validate(s);else if(S+h.piece.length>s){const L=[];let k=new t(p.bufferIndex,b,p.end,this.t(p.bufferIndex,b,p.end),this.u(m,p.end)-this.u(m,b));if(this.K()&&this.M(l)&&this.I(h,f)===10){const z={line:k.start.line+1,column:0};k=new t(k.bufferIndex,z,k.end,this.t(k.bufferIndex,z,k.end),k.length-1),l+=`
`}if(this.K()&&this.L(l))if(this.I(h,f-1)===13){const z=this.s(h,f-1);this.C(h,z),l="\r"+l,h.piece.length===0&&L.push(h)}else this.C(h,b);else this.C(h,b);const I=this.w(l);k.length>0&&this.S(h,k);let M=h;for(let B=0;B<I.length;B++)M=this.S(M,I[B]);this.v(L)}else this.q(l,h)}else{const h=this.w(l);let f=this.T(null,h[0]);for(let S=1;S<h.length;S++)f=this.S(f,h[S])}this.y()}delete(s,l){if(this.j.lineNumber=0,this.j.value="",l<=0||this.root===D.SENTINEL)return;const o=this.G(s),h=this.G(s+l),f=o.node,S=h.node;if(f===S){const I=this.s(f,o.remainder),M=this.s(f,h.remainder);if(o.nodeStartOffset===s){if(l===f.piece.length){const B=f.next();(0,D.rbDelete)(this,f),this.N(B),this.y();return}this.D(f,M),this.h.validate(s),this.N(f),this.y();return}if(o.nodeStartOffset+f.piece.length===s+l){this.C(f,I),this.O(f),this.y();return}this.E(f,I,M),this.y();return}const p=[],m=this.s(f,o.remainder);this.C(f,m),this.h.validate(s),f.piece.length===0&&p.push(f);const b=this.s(S,h.remainder);this.D(S,b),S.piece.length===0&&p.push(S);const L=f.next();for(let I=L;I!==D.SENTINEL&&I!==S;I=I.next())p.push(I);const k=f.piece.length===0?f.prev():f;this.v(p),this.O(k),this.y()}o(s,l){const o=[];if(this.K()&&this.M(s)&&this.L(l)){const S=l.piece,p={line:S.start.line+1,column:0},m=new t(S.bufferIndex,p,S.end,this.t(S.bufferIndex,p,S.end),S.length-1);l.piece=m,s+=`
`,(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&o.push(l)}const h=this.w(s);let f=this.T(l,h[h.length-1]);for(let S=h.length-2;S>=0;S--)f=this.T(f,h[S]);this.N(f),this.v(o)}q(s,l){this.Q(s,l)&&(s+=`
`);const o=this.w(s),h=this.S(l,o[0]);let f=h;for(let S=1;S<o.length;S++)f=this.S(f,o[S]);this.N(h)}s(s,l,o){const h=s.piece,f=s.piece.bufferIndex,S=this.a[f].lineStarts,m=S[h.start.line]+h.start.column+l;let b=h.start.line,L=h.end.line,k=0,I=0,M=0;for(;b<=L&&(k=b+(L-b)/2|0,M=S[k],k!==L);)if(I=S[k+1],m<M)L=k-1;else if(m>=I)b=k+1;else break;return o?(o.line=k,o.column=m-M,null):{line:k,column:m-M}}t(s,l,o){if(o.column===0)return o.line-l.line;const h=this.a[s].lineStarts;if(o.line===h.length-1)return o.line-l.line;const f=h[o.line+1],S=h[o.line]+o.column;if(f>S+1)return o.line-l.line;const p=S-1;return this.a[s].buffer.charCodeAt(p)===13?o.line-l.line+1:o.line-l.line}u(s,l){return this.a[s].lineStarts[l.line]+l.column}v(s){for(let l=0;l<s.length;l++)(0,D.rbDelete)(this,s[l])}w(s){if(s.length>v){const L=[];for(;s.length>v;){const I=s.charCodeAt(v-1);let M;I===13||I>=55296&&I<=56319?(M=s.substring(0,v-1),s=s.substring(v-1)):(M=s.substring(0,v),s=s.substring(v));const B=g(M);L.push(new t(this.a.length,{line:0,column:0},{line:B.length-1,column:M.length-B[B.length-1]},B.length-1,M.length)),this.a.push(new n(M,B))}const k=g(s);return L.push(new t(this.a.length,{line:0,column:0},{line:k.length-1,column:s.length-k[k.length-1]},k.length-1,s.length)),this.a.push(new n(s,k)),L}let l=this.a[0].buffer.length;const o=g(s,!1);let h=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===l&&l!==0&&this.L(s)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},h=this.g;for(let L=0;L<o.length;L++)o[L]+=l+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(o.slice(1)),this.a[0].buffer+="_"+s,l+=1}else{if(l!==0)for(let L=0;L<o.length;L++)o[L]+=l;this.a[0].lineStarts=this.a[0].lineStarts.concat(o.slice(1)),this.a[0].buffer+=s}const f=this.a[0].buffer.length,S=this.a[0].lineStarts.length-1,p=f-this.a[0].lineStarts[S],m={line:S,column:p},b=new t(0,h,m,this.t(0,h,m),f-l);return this.g=m,[b]}getLineRawContent(s,l=0){let o=this.root,h="";const f=this.h.get2(s);if(f){o=f.node;const S=this.B(o,s-f.nodeStartLineNumber-1),p=this.a[o.piece.bufferIndex].buffer,m=this.u(o.piece.bufferIndex,o.piece.start);if(f.nodeStartLineNumber+o.piece.lineFeedCnt===s)h=p.substring(m+S,m+o.piece.length);else{const b=this.B(o,s-f.nodeStartLineNumber);return p.substring(m+S,m+b-l)}}else{let S=0;const p=s;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=s-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>s-1){const m=this.B(o,s-o.lf_left-2),b=this.B(o,s-o.lf_left-1),L=this.a[o.piece.bufferIndex].buffer,k=this.u(o.piece.bufferIndex,o.piece.start);return S+=o.size_left,this.h.set({node:o,nodeStartOffset:S,nodeStartLineNumber:p-(s-1-o.lf_left)}),L.substring(k+m,k+b-l)}else if(o.lf_left+o.piece.lineFeedCnt===s-1){const m=this.B(o,s-o.lf_left-2),b=this.a[o.piece.bufferIndex].buffer,L=this.u(o.piece.bufferIndex,o.piece.start);h=b.substring(L+m,L+o.piece.length);break}else s-=o.lf_left+o.piece.lineFeedCnt,S+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==D.SENTINEL;){const S=this.a[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const p=this.B(o,0),m=this.u(o.piece.bufferIndex,o.piece.start);return h+=S.substring(m,m+p-l),h}else{const p=this.u(o.piece.bufferIndex,o.piece.start);h+=S.substr(p,o.piece.length)}o=o.next()}return h}y(){let s=this.root,l=1,o=0;for(;s!==D.SENTINEL;)l+=s.lf_left+s.piece.lineFeedCnt,o+=s.size_left+s.piece.length,s=s.right;this.b=l,this.c=o,this.h.validate(this.c)}A(s,l){const o=s.piece,h=this.s(s,l),f=h.line-o.start.line;if(this.u(o.bufferIndex,o.end)-this.u(o.bufferIndex,o.start)===l){const S=this.t(s.piece.bufferIndex,o.start,h);if(S!==f)return{index:S,remainder:0}}return{index:f,remainder:h.column}}B(s,l){if(l<0)return 0;const o=s.piece,h=this.a[o.bufferIndex].lineStarts,f=o.start.line+l+1;return f>o.end.line?h[o.end.line]+o.end.column-h[o.start.line]-o.start.column:h[f]-h[o.start.line]-o.start.column}C(s,l){const o=s.piece,h=o.lineFeedCnt,f=this.u(o.bufferIndex,o.end),S=l,p=this.u(o.bufferIndex,S),m=this.t(o.bufferIndex,o.start,S),b=m-h,L=p-f,k=o.length+L;s.piece=new t(o.bufferIndex,o.start,S,m,k),(0,D.updateTreeMetadata)(this,s,L,b)}D(s,l){const o=s.piece,h=o.lineFeedCnt,f=this.u(o.bufferIndex,o.start),S=l,p=this.t(o.bufferIndex,S,o.end),m=this.u(o.bufferIndex,S),b=p-h,L=f-m,k=o.length+L;s.piece=new t(o.bufferIndex,S,o.end,p,k),(0,D.updateTreeMetadata)(this,s,L,b)}E(s,l,o){const h=s.piece,f=h.start,S=h.end,p=h.length,m=h.lineFeedCnt,b=l,L=this.t(h.bufferIndex,h.start,b),k=this.u(h.bufferIndex,l)-this.u(h.bufferIndex,f);s.piece=new t(h.bufferIndex,h.start,b,L,k),(0,D.updateTreeMetadata)(this,s,k-p,L-m);const I=new t(h.bufferIndex,o,S,this.t(h.bufferIndex,o,S),this.u(h.bufferIndex,S)-this.u(h.bufferIndex,o)),M=this.S(s,I);this.N(M)}F(s,l){this.Q(l,s)&&(l+=`
`);const o=this.K()&&this.L(l)&&this.M(s),h=this.a[0].buffer.length;this.a[0].buffer+=l;const f=g(l,!1);for(let M=0;M<f.length;M++)f[M]+=h;if(o){const M=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:h-M}}this.a[0].lineStarts=this.a[0].lineStarts.concat(f.slice(1));const S=this.a[0].lineStarts.length-1,p=this.a[0].buffer.length-this.a[0].lineStarts[S],m={line:S,column:p},b=s.piece.length+l.length,L=s.piece.lineFeedCnt,k=this.t(0,s.piece.start,m),I=k-L;s.piece=new t(s.piece.bufferIndex,s.piece.start,m,k,b),this.g=m,(0,D.updateTreeMetadata)(this,s,l.length,I)}G(s){let l=this.root;const o=this.h.get(s);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:s-o.nodeStartOffset};let h=0;for(;l!==D.SENTINEL;)if(l.size_left>s)l=l.left;else if(l.size_left+l.piece.length>=s){h+=l.size_left;const f={node:l,remainder:s-l.size_left,nodeStartOffset:h};return this.h.set(f),f}else s-=l.size_left+l.piece.length,h+=l.size_left+l.piece.length,l=l.right;return null}H(s,l){let o=this.root,h=0;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=s-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>s-1){const f=this.B(o,s-o.lf_left-2),S=this.B(o,s-o.lf_left-1);return h+=o.size_left,{node:o,remainder:Math.min(f+l-1,S),nodeStartOffset:h}}else if(o.lf_left+o.piece.lineFeedCnt===s-1){const f=this.B(o,s-o.lf_left-2);if(f+l-1<=o.piece.length)return{node:o,remainder:f+l-1,nodeStartOffset:h};l-=o.piece.length-f;break}else s-=o.lf_left+o.piece.lineFeedCnt,h+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==D.SENTINEL;){if(o.piece.lineFeedCnt>0){const f=this.B(o,0),S=this.J(o);return{node:o,remainder:Math.min(l-1,f),nodeStartOffset:S}}else if(o.piece.length>=l-1){const f=this.J(o);return{node:o,remainder:l-1,nodeStartOffset:f}}else l-=o.piece.length;o=o.next()}return null}I(s,l){if(s.piece.lineFeedCnt<1)return-1;const o=this.a[s.piece.bufferIndex],h=this.u(s.piece.bufferIndex,s.piece.start)+l;return o.buffer.charCodeAt(h)}J(s){if(!s)return 0;let l=s.size_left;for(;s!==this.root;)s.parent.right===s&&(l+=s.parent.size_left+s.parent.piece.length),s=s.parent;return l}K(){return!(this.f&&this.d===`
`)}L(s){if(typeof s=="string")return s.charCodeAt(0)===10;if(s===D.SENTINEL||s.piece.lineFeedCnt===0)return!1;const l=s.piece,o=this.a[l.bufferIndex].lineStarts,h=l.start.line,f=o[h]+l.start.column;return h===o.length-1||o[h+1]>f+1?!1:this.a[l.bufferIndex].buffer.charCodeAt(f)===10}M(s){return typeof s=="string"?s.charCodeAt(s.length-1)===13:s===D.SENTINEL||s.piece.lineFeedCnt===0?!1:this.I(s,s.piece.length-1)===13}N(s){if(this.K()&&this.L(s)){const l=s.prev();this.M(l)&&this.P(l,s)}}O(s){if(this.K()&&this.M(s)){const l=s.next();this.L(l)&&this.P(s,l)}}P(s,l){const o=[],h=this.a[s.piece.bufferIndex].lineStarts;let f;s.piece.end.column===0?f={line:s.piece.end.line-1,column:h[s.piece.end.line]-h[s.piece.end.line-1]-1}:f={line:s.piece.end.line,column:s.piece.end.column-1};const S=s.piece.length-1,p=s.piece.lineFeedCnt-1;s.piece=new t(s.piece.bufferIndex,s.piece.start,f,p,S),(0,D.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&o.push(s);const m={line:l.piece.start.line+1,column:0},b=l.piece.length-1,L=this.t(l.piece.bufferIndex,m,l.piece.end);l.piece=new t(l.piece.bufferIndex,m,l.piece.end,L,b),(0,D.updateTreeMetadata)(this,l,-1,-1),l.piece.length===0&&o.push(l);const k=this.w(`\r
`);this.S(s,k[0]);for(let I=0;I<o.length;I++)(0,D.rbDelete)(this,o[I])}Q(s,l){if(this.K()&&this.M(s)){const o=l.next();if(this.L(o)){if(s+=`
`,o.piece.length===1)(0,D.rbDelete)(this,o);else{const h=o.piece,f={line:h.start.line+1,column:0},S=h.length-1,p=this.t(h.bufferIndex,f,h.end);o.piece=new t(h.bufferIndex,f,h.end,p,S),(0,D.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(s,l){if(s===D.SENTINEL)return l(D.SENTINEL);const o=this.iterate(s.left,l);return o&&l(s)&&this.iterate(s.right,l)}R(s){if(s===D.SENTINEL)return"";const l=this.a[s.piece.bufferIndex],o=s.piece,h=this.u(o.bufferIndex,o.start),f=this.u(o.bufferIndex,o.end);return l.buffer.substring(h,f)}getPieceContent(s){const l=this.a[s.bufferIndex],o=this.u(s.bufferIndex,s.start),h=this.u(s.bufferIndex,s.end);return l.buffer.substring(o,h)}S(s,l){const o=new D.TreeNode(l,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(s.right===D.SENTINEL)s.right=o,o.parent=s;else{const f=(0,D.leftest)(s.right);f.left=o,o.parent=f}return(0,D.fixInsert)(this,o),o}T(s,l){const o=new D.TreeNode(l,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(s.left===D.SENTINEL)s.left=o,o.parent=s;else{const h=(0,D.righttest)(s.left);h.right=o,o.parent=h}return(0,D.fixInsert)(this,o),o}}e.PieceTreeBase=c}),define(ee[191],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function w(N,E){let D=0,y=0;const v=N.length;for(;y<v;){const C=N.charCodeAt(y);if(C===32)D++;else if(C===9)D=D-D%E+E;else break;y++}return y===v?-1:D}e.computeIndentLevel=w}),define(ee[255],te([1,0,85,11,48]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(i,t,n,a,r){this.injectionOffsets=i,this.injectionOptions=t,this.breakOffsets=n,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const t=i>0?this.breakOffsets[i-1]:0;let a=this.breakOffsets[i]-t;return i>0&&(a+=this.wrappedTextIndentLength),a}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,t){i>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let a=i===0?t:this.breakOffsets[i-1]+t;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&a>this.injectionOffsets[r];r++)a<this.injectionOffsets[r]+this.injectionOptions[r].content.length?a=this.injectionOffsets[r]:a-=this.injectionOptions[r].content.length;return a}translateToOutputPosition(i,t=2){let n=i;if(this.injectionOffsets!==null)for(let a=0;a<this.injectionOffsets.length&&!(i<this.injectionOffsets[a]||t!==1&&i===this.injectionOffsets[a]);a++)n+=this.injectionOptions[a].content.length;return this.a(n,t)}a(i,t=2){let n=0,a=this.breakOffsets.length-1,r=0,c=0;for(;n<=a;){r=n+(a-n)/2|0;const s=this.breakOffsets[r];if(c=r>0?this.breakOffsets[r-1]:0,t===0)if(i<=c)a=r-1;else if(i>s)n=r+1;else break;else if(i<c)a=r-1;else if(i>=s)n=r+1;else break}let u=i-c;return r>0&&(u+=this.wrappedTextIndentLength),new d(r,u)}normalizeOutputPosition(i,t,n){if(this.injectionOffsets!==null){const a=this.b(i,t),r=this.c(a,n);if(r!==a)return this.a(r,n)}if(n===0){if(i>0&&t===this.getMinOutputOffset(i))return new d(i-1,this.getMaxOutputOffset(i-1))}else if(n===1){const a=this.getOutputLineCount()-1;if(i<a&&t===this.getMaxOutputOffset(i))return new d(i+1,this.getMinOutputOffset(i+1))}return new d(i,t)}b(i,t){return i>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+t}c(i,t){const n=this.d(i);if(!n)return i;if(t===2){if(i===n.offsetInInputWithInjections+n.length&&y(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let a=n.offsetInInputWithInjections;if(v(this.injectionOptions[n.injectedTextIndex].cursorStops))return a;let r=n.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[n.injectedTextIndex]&&!(y(this.injectionOptions[r].cursorStops)||(a-=this.injectionOptions[r].content.length,v(this.injectionOptions[r].cursorStops)));)r--;return a}}else if(t===1||t===4){let a=n.offsetInInputWithInjections+n.length,r=n.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)a+=this.injectionOptions[r+1].content.length,r++;return a}else if(t===0||t===3){let a=n.offsetInInputWithInjections,r=n.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)a-=this.injectionOptions[r-1].content.length,r--;return a}(0,w.assertNever)(t)}getInjectedText(i,t){const n=this.b(i,t),a=this.d(n);return a?{options:this.injectionOptions[a.injectedTextIndex]}:null}d(i){const t=this.injectionOffsets,n=this.injectionOptions;if(t!==null){let a=0;for(let r=0;r<t.length;r++){const c=n[r].content.length,u=t[r]+a,s=t[r]+a+c;if(u>i)break;if(i<=s)return{injectedTextIndex:r,offsetInInputWithInjections:u,length:c};a+=c}}}}e.ModelLineProjectionData=D;function y(g){return g==null?!0:g===E.InjectedTextCursorStops.Right||g===E.InjectedTextCursorStops.Both}function v(g){return g==null?!0:g===E.InjectedTextCursorStops.Left||g===E.InjectedTextCursorStops.Both}class C{constructor(i){this.options=i}}e.InjectedText=C;class d{constructor(i,t){this.outputLineIndex=i,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new N.Position(i+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=d}),define(ee[256],te([1,0,3,164,9,85,133]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class v{static computeUnicodeHighlights(t,n,a){const r=a?a.startLineNumber:1,c=a?a.endLineNumber:t.getLineCount(),u=new d(n),s=u.getCandidateCodePoints();let l;s==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${C(Array.from(s))}`,"g");const o=new N.Searcher(null,l),h=[];let f=!1,S,p=0,m=0,b=0;e:for(let L=r,k=c;L<=k;L++){const I=t.getLineContent(L),M=I.length;o.reset(0);do if(S=o.next(I),S){let B=S.index,z=S.index+S[0].length;if(B>0){const O=I.charCodeAt(B-1);E.isHighSurrogate(O)&&B--}if(z+1<M){const O=I.charCodeAt(z-1);E.isHighSurrogate(O)&&z++}const P=I.substring(B,z);let A=(0,y.getWordAtText)(B+1,y.DEFAULT_WORD_REGEXP,I,0);A&&A.endColumn<=B+1&&(A=null);const T=u.shouldHighlightNonBasicASCII(P,A?A.word:null);if(T!==0){T===3?p++:T===2?m++:T===1?b++:(0,D.assertNever)(T);const O=1e3;if(h.length>=O){f=!0;break e}h.push(new w.Range(L,B+1,L,z+1))}}while(S)}return{ranges:h,hasMore:f,ambiguousCharacterCount:p,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(t,n){const a=new d(n);switch(a.shouldHighlightNonBasicASCII(t,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=t.codePointAt(0),u=a.ambiguousCharacters.getPrimaryConfusable(c),s=E.AmbiguousCharacters.getLocales().filter(l=>!E.AmbiguousCharacters.getInstance(new Set([...n.allowedLocales,l])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(u),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=v;function C(i,t){return`[${E.escapeRegExpCharacters(i.map(a=>String.fromCodePoint(a)).join(""))}]`}class d{constructor(t){this.b=t,this.a=new Set(t.allowedCodePoints),this.ambiguousCharacters=E.AmbiguousCharacters.getInstance(new Set(t.allowedLocales))}getCandidateCodePoints(){if(this.b.nonBasicASCII)return"allNonBasicAscii";const t=new Set;if(this.b.invisibleCharacters)for(const n of E.InvisibleCharacters.codePoints)g(String.fromCodePoint(n))||t.add(n);if(this.b.ambiguousCharacters)for(const n of this.ambiguousCharacters.getConfusableCodePoints())t.add(n);for(const n of this.a)t.delete(n);return t}shouldHighlightNonBasicASCII(t,n){const a=t.codePointAt(0);if(this.a.has(a))return 0;if(this.b.nonBasicASCII)return 1;let r=!1,c=!1;if(n)for(const u of n){const s=u.codePointAt(0),l=E.isBasicASCII(u);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(s)&&!E.InvisibleCharacters.isInvisibleCharacter(s)&&(c=!0)}return!r&&c?0:this.b.invisibleCharacters&&!g(t)&&E.InvisibleCharacters.isInvisibleCharacter(a)?2:this.b.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(a)?3:0}}function g(i){return i===" "||i===`
`||i==="	"}}),define(ee[165],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var w;(function(R){R[R.Unknown=0]="Unknown",R[R.Disabled=1]="Disabled",R[R.Enabled=2]="Enabled"})(w=e.AccessibilitySupport||(e.AccessibilitySupport={}));var N;(function(R){R[R.Invoke=1]="Invoke",R[R.Auto=2]="Auto"})(N=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var E;(function(R){R[R.None=0]="None",R[R.KeepWhitespace=1]="KeepWhitespace",R[R.InsertAsSnippet=4]="InsertAsSnippet"})(E=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var D;(function(R){R[R.Method=0]="Method",R[R.Function=1]="Function",R[R.Constructor=2]="Constructor",R[R.Field=3]="Field",R[R.Variable=4]="Variable",R[R.Class=5]="Class",R[R.Struct=6]="Struct",R[R.Interface=7]="Interface",R[R.Module=8]="Module",R[R.Property=9]="Property",R[R.Event=10]="Event",R[R.Operator=11]="Operator",R[R.Unit=12]="Unit",R[R.Value=13]="Value",R[R.Constant=14]="Constant",R[R.Enum=15]="Enum",R[R.EnumMember=16]="EnumMember",R[R.Keyword=17]="Keyword",R[R.Text=18]="Text",R[R.Color=19]="Color",R[R.File=20]="File",R[R.Reference=21]="Reference",R[R.Customcolor=22]="Customcolor",R[R.Folder=23]="Folder",R[R.TypeParameter=24]="TypeParameter",R[R.User=25]="User",R[R.Issue=26]="Issue",R[R.Snippet=27]="Snippet"})(D=e.CompletionItemKind||(e.CompletionItemKind={}));var y;(function(R){R[R.Deprecated=1]="Deprecated"})(y=e.CompletionItemTag||(e.CompletionItemTag={}));var v;(function(R){R[R.Invoke=0]="Invoke",R[R.TriggerCharacter=1]="TriggerCharacter",R[R.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(v=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var C;(function(R){R[R.EXACT=0]="EXACT",R[R.ABOVE=1]="ABOVE",R[R.BELOW=2]="BELOW"})(C=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var d;(function(R){R[R.NotSet=0]="NotSet",R[R.ContentFlush=1]="ContentFlush",R[R.RecoverFromMarkers=2]="RecoverFromMarkers",R[R.Explicit=3]="Explicit",R[R.Paste=4]="Paste",R[R.Undo=5]="Undo",R[R.Redo=6]="Redo"})(d=e.CursorChangeReason||(e.CursorChangeReason={}));var g;(function(R){R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(g=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var i;(function(R){R[R.Text=0]="Text",R[R.Read=1]="Read",R[R.Write=2]="Write"})(i=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var t;(function(R){R[R.None=0]="None",R[R.Keep=1]="Keep",R[R.Brackets=2]="Brackets",R[R.Advanced=3]="Advanced",R[R.Full=4]="Full"})(t=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var n;(function(R){R[R.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",R[R.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",R[R.accessibilitySupport=2]="accessibilitySupport",R[R.accessibilityPageSize=3]="accessibilityPageSize",R[R.ariaLabel=4]="ariaLabel",R[R.autoClosingBrackets=5]="autoClosingBrackets",R[R.autoClosingDelete=6]="autoClosingDelete",R[R.autoClosingOvertype=7]="autoClosingOvertype",R[R.autoClosingQuotes=8]="autoClosingQuotes",R[R.autoIndent=9]="autoIndent",R[R.automaticLayout=10]="automaticLayout",R[R.autoSurround=11]="autoSurround",R[R.bracketPairColorization=12]="bracketPairColorization",R[R.guides=13]="guides",R[R.codeLens=14]="codeLens",R[R.codeLensFontFamily=15]="codeLensFontFamily",R[R.codeLensFontSize=16]="codeLensFontSize",R[R.colorDecorators=17]="colorDecorators",R[R.colorDecoratorsLimit=18]="colorDecoratorsLimit",R[R.columnSelection=19]="columnSelection",R[R.comments=20]="comments",R[R.contextmenu=21]="contextmenu",R[R.copyWithSyntaxHighlighting=22]="copyWithSyntaxHighlighting",R[R.cursorBlinking=23]="cursorBlinking",R[R.cursorSmoothCaretAnimation=24]="cursorSmoothCaretAnimation",R[R.cursorStyle=25]="cursorStyle",R[R.cursorSurroundingLines=26]="cursorSurroundingLines",R[R.cursorSurroundingLinesStyle=27]="cursorSurroundingLinesStyle",R[R.cursorWidth=28]="cursorWidth",R[R.disableLayerHinting=29]="disableLayerHinting",R[R.disableMonospaceOptimizations=30]="disableMonospaceOptimizations",R[R.domReadOnly=31]="domReadOnly",R[R.dragAndDrop=32]="dragAndDrop",R[R.dropIntoEditor=33]="dropIntoEditor",R[R.emptySelectionClipboard=34]="emptySelectionClipboard",R[R.experimentalWhitespaceRendering=35]="experimentalWhitespaceRendering",R[R.extraEditorClassName=36]="extraEditorClassName",R[R.fastScrollSensitivity=37]="fastScrollSensitivity",R[R.find=38]="find",R[R.fixedOverflowWidgets=39]="fixedOverflowWidgets",R[R.folding=40]="folding",R[R.foldingStrategy=41]="foldingStrategy",R[R.foldingHighlight=42]="foldingHighlight",R[R.foldingImportsByDefault=43]="foldingImportsByDefault",R[R.foldingMaximumRegions=44]="foldingMaximumRegions",R[R.unfoldOnClickAfterEndOfLine=45]="unfoldOnClickAfterEndOfLine",R[R.fontFamily=46]="fontFamily",R[R.fontInfo=47]="fontInfo",R[R.fontLigatures=48]="fontLigatures",R[R.fontSize=49]="fontSize",R[R.fontWeight=50]="fontWeight",R[R.fontVariations=51]="fontVariations",R[R.formatOnPaste=52]="formatOnPaste",R[R.formatOnType=53]="formatOnType",R[R.glyphMargin=54]="glyphMargin",R[R.gotoLocation=55]="gotoLocation",R[R.hideCursorInOverviewRuler=56]="hideCursorInOverviewRuler",R[R.hover=57]="hover",R[R.inDiffEditor=58]="inDiffEditor",R[R.inlineSuggest=59]="inlineSuggest",R[R.letterSpacing=60]="letterSpacing",R[R.lightbulb=61]="lightbulb",R[R.lineDecorationsWidth=62]="lineDecorationsWidth",R[R.lineHeight=63]="lineHeight",R[R.lineNumbers=64]="lineNumbers",R[R.lineNumbersMinChars=65]="lineNumbersMinChars",R[R.linkedEditing=66]="linkedEditing",R[R.links=67]="links",R[R.matchBrackets=68]="matchBrackets",R[R.minimap=69]="minimap",R[R.mouseStyle=70]="mouseStyle",R[R.mouseWheelScrollSensitivity=71]="mouseWheelScrollSensitivity",R[R.mouseWheelZoom=72]="mouseWheelZoom",R[R.multiCursorMergeOverlapping=73]="multiCursorMergeOverlapping",R[R.multiCursorModifier=74]="multiCursorModifier",R[R.multiCursorPaste=75]="multiCursorPaste",R[R.multiCursorLimit=76]="multiCursorLimit",R[R.occurrencesHighlight=77]="occurrencesHighlight",R[R.overviewRulerBorder=78]="overviewRulerBorder",R[R.overviewRulerLanes=79]="overviewRulerLanes",R[R.padding=80]="padding",R[R.parameterHints=81]="parameterHints",R[R.peekWidgetDefaultFocus=82]="peekWidgetDefaultFocus",R[R.definitionLinkOpensInPeek=83]="definitionLinkOpensInPeek",R[R.quickSuggestions=84]="quickSuggestions",R[R.quickSuggestionsDelay=85]="quickSuggestionsDelay",R[R.readOnly=86]="readOnly",R[R.renameOnType=87]="renameOnType",R[R.renderControlCharacters=88]="renderControlCharacters",R[R.renderFinalNewline=89]="renderFinalNewline",R[R.renderLineHighlight=90]="renderLineHighlight",R[R.renderLineHighlightOnlyWhenFocus=91]="renderLineHighlightOnlyWhenFocus",R[R.renderValidationDecorations=92]="renderValidationDecorations",R[R.renderWhitespace=93]="renderWhitespace",R[R.revealHorizontalRightPadding=94]="revealHorizontalRightPadding",R[R.roundedSelection=95]="roundedSelection",R[R.rulers=96]="rulers",R[R.scrollbar=97]="scrollbar",R[R.scrollBeyondLastColumn=98]="scrollBeyondLastColumn",R[R.scrollBeyondLastLine=99]="scrollBeyondLastLine",R[R.scrollPredominantAxis=100]="scrollPredominantAxis",R[R.selectionClipboard=101]="selectionClipboard",R[R.selectionHighlight=102]="selectionHighlight",R[R.selectOnLineNumbers=103]="selectOnLineNumbers",R[R.showFoldingControls=104]="showFoldingControls",R[R.showUnused=105]="showUnused",R[R.snippetSuggestions=106]="snippetSuggestions",R[R.smartSelect=107]="smartSelect",R[R.smoothScrolling=108]="smoothScrolling",R[R.stickyScroll=109]="stickyScroll",R[R.stickyTabStops=110]="stickyTabStops",R[R.stopRenderingLineAfter=111]="stopRenderingLineAfter",R[R.suggest=112]="suggest",R[R.suggestFontSize=113]="suggestFontSize",R[R.suggestLineHeight=114]="suggestLineHeight",R[R.suggestOnTriggerCharacters=115]="suggestOnTriggerCharacters",R[R.suggestSelection=116]="suggestSelection",R[R.tabCompletion=117]="tabCompletion",R[R.tabIndex=118]="tabIndex",R[R.unicodeHighlighting=119]="unicodeHighlighting",R[R.unusualLineTerminators=120]="unusualLineTerminators",R[R.useShadowDOM=121]="useShadowDOM",R[R.useTabStops=122]="useTabStops",R[R.wordBreak=123]="wordBreak",R[R.wordSeparators=124]="wordSeparators",R[R.wordWrap=125]="wordWrap",R[R.wordWrapBreakAfterCharacters=126]="wordWrapBreakAfterCharacters",R[R.wordWrapBreakBeforeCharacters=127]="wordWrapBreakBeforeCharacters",R[R.wordWrapColumn=128]="wordWrapColumn",R[R.wordWrapOverride1=129]="wordWrapOverride1",R[R.wordWrapOverride2=130]="wordWrapOverride2",R[R.wrappingIndent=131]="wrappingIndent",R[R.wrappingStrategy=132]="wrappingStrategy",R[R.showDeprecated=133]="showDeprecated",R[R.inlayHints=134]="inlayHints",R[R.editorClassName=135]="editorClassName",R[R.pixelRatio=136]="pixelRatio",R[R.tabFocusMode=137]="tabFocusMode",R[R.layoutInfo=138]="layoutInfo",R[R.wrappingInfo=139]="wrappingInfo"})(n=e.EditorOption||(e.EditorOption={}));var a;(function(R){R[R.TextDefined=0]="TextDefined",R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(a=e.EndOfLinePreference||(e.EndOfLinePreference={}));var r;(function(R){R[R.LF=0]="LF",R[R.CRLF=1]="CRLF"})(r=e.EndOfLineSequence||(e.EndOfLineSequence={}));var c;(function(R){R[R.None=0]="None",R[R.Indent=1]="Indent",R[R.IndentOutdent=2]="IndentOutdent",R[R.Outdent=3]="Outdent"})(c=e.IndentAction||(e.IndentAction={}));var u;(function(R){R[R.Both=0]="Both",R[R.Right=1]="Right",R[R.Left=2]="Left",R[R.None=3]="None"})(u=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var s;(function(R){R[R.Type=1]="Type",R[R.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={}));var l;(function(R){R[R.Automatic=0]="Automatic",R[R.Explicit=1]="Explicit"})(l=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var o;(function(R){R[R.DependsOnKbLayout=-1]="DependsOnKbLayout",R[R.Unknown=0]="Unknown",R[R.Backspace=1]="Backspace",R[R.Tab=2]="Tab",R[R.Enter=3]="Enter",R[R.Shift=4]="Shift",R[R.Ctrl=5]="Ctrl",R[R.Alt=6]="Alt",R[R.PauseBreak=7]="PauseBreak",R[R.CapsLock=8]="CapsLock",R[R.Escape=9]="Escape",R[R.Space=10]="Space",R[R.PageUp=11]="PageUp",R[R.PageDown=12]="PageDown",R[R.End=13]="End",R[R.Home=14]="Home",R[R.LeftArrow=15]="LeftArrow",R[R.UpArrow=16]="UpArrow",R[R.RightArrow=17]="RightArrow",R[R.DownArrow=18]="DownArrow",R[R.Insert=19]="Insert",R[R.Delete=20]="Delete",R[R.Digit0=21]="Digit0",R[R.Digit1=22]="Digit1",R[R.Digit2=23]="Digit2",R[R.Digit3=24]="Digit3",R[R.Digit4=25]="Digit4",R[R.Digit5=26]="Digit5",R[R.Digit6=27]="Digit6",R[R.Digit7=28]="Digit7",R[R.Digit8=29]="Digit8",R[R.Digit9=30]="Digit9",R[R.KeyA=31]="KeyA",R[R.KeyB=32]="KeyB",R[R.KeyC=33]="KeyC",R[R.KeyD=34]="KeyD",R[R.KeyE=35]="KeyE",R[R.KeyF=36]="KeyF",R[R.KeyG=37]="KeyG",R[R.KeyH=38]="KeyH",R[R.KeyI=39]="KeyI",R[R.KeyJ=40]="KeyJ",R[R.KeyK=41]="KeyK",R[R.KeyL=42]="KeyL",R[R.KeyM=43]="KeyM",R[R.KeyN=44]="KeyN",R[R.KeyO=45]="KeyO",R[R.KeyP=46]="KeyP",R[R.KeyQ=47]="KeyQ",R[R.KeyR=48]="KeyR",R[R.KeyS=49]="KeyS",R[R.KeyT=50]="KeyT",R[R.KeyU=51]="KeyU",R[R.KeyV=52]="KeyV",R[R.KeyW=53]="KeyW",R[R.KeyX=54]="KeyX",R[R.KeyY=55]="KeyY",R[R.KeyZ=56]="KeyZ",R[R.Meta=57]="Meta",R[R.ContextMenu=58]="ContextMenu",R[R.F1=59]="F1",R[R.F2=60]="F2",R[R.F3=61]="F3",R[R.F4=62]="F4",R[R.F5=63]="F5",R[R.F6=64]="F6",R[R.F7=65]="F7",R[R.F8=66]="F8",R[R.F9=67]="F9",R[R.F10=68]="F10",R[R.F11=69]="F11",R[R.F12=70]="F12",R[R.F13=71]="F13",R[R.F14=72]="F14",R[R.F15=73]="F15",R[R.F16=74]="F16",R[R.F17=75]="F17",R[R.F18=76]="F18",R[R.F19=77]="F19",R[R.NumLock=78]="NumLock",R[R.ScrollLock=79]="ScrollLock",R[R.Semicolon=80]="Semicolon",R[R.Equal=81]="Equal",R[R.Comma=82]="Comma",R[R.Minus=83]="Minus",R[R.Period=84]="Period",R[R.Slash=85]="Slash",R[R.Backquote=86]="Backquote",R[R.BracketLeft=87]="BracketLeft",R[R.Backslash=88]="Backslash",R[R.BracketRight=89]="BracketRight",R[R.Quote=90]="Quote",R[R.OEM_8=91]="OEM_8",R[R.IntlBackslash=92]="IntlBackslash",R[R.Numpad0=93]="Numpad0",R[R.Numpad1=94]="Numpad1",R[R.Numpad2=95]="Numpad2",R[R.Numpad3=96]="Numpad3",R[R.Numpad4=97]="Numpad4",R[R.Numpad5=98]="Numpad5",R[R.Numpad6=99]="Numpad6",R[R.Numpad7=100]="Numpad7",R[R.Numpad8=101]="Numpad8",R[R.Numpad9=102]="Numpad9",R[R.NumpadMultiply=103]="NumpadMultiply",R[R.NumpadAdd=104]="NumpadAdd",R[R.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",R[R.NumpadSubtract=106]="NumpadSubtract",R[R.NumpadDecimal=107]="NumpadDecimal",R[R.NumpadDivide=108]="NumpadDivide",R[R.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",R[R.ABNT_C1=110]="ABNT_C1",R[R.ABNT_C2=111]="ABNT_C2",R[R.AudioVolumeMute=112]="AudioVolumeMute",R[R.AudioVolumeUp=113]="AudioVolumeUp",R[R.AudioVolumeDown=114]="AudioVolumeDown",R[R.BrowserSearch=115]="BrowserSearch",R[R.BrowserHome=116]="BrowserHome",R[R.BrowserBack=117]="BrowserBack",R[R.BrowserForward=118]="BrowserForward",R[R.MediaTrackNext=119]="MediaTrackNext",R[R.MediaTrackPrevious=120]="MediaTrackPrevious",R[R.MediaStop=121]="MediaStop",R[R.MediaPlayPause=122]="MediaPlayPause",R[R.LaunchMediaPlayer=123]="LaunchMediaPlayer",R[R.LaunchMail=124]="LaunchMail",R[R.LaunchApp2=125]="LaunchApp2",R[R.Clear=126]="Clear",R[R.MAX_VALUE=127]="MAX_VALUE"})(o=e.KeyCode||(e.KeyCode={}));var h;(function(R){R[R.Hint=1]="Hint",R[R.Info=2]="Info",R[R.Warning=4]="Warning",R[R.Error=8]="Error"})(h=e.MarkerSeverity||(e.MarkerSeverity={}));var f;(function(R){R[R.Unnecessary=1]="Unnecessary",R[R.Deprecated=2]="Deprecated"})(f=e.MarkerTag||(e.MarkerTag={}));var S;(function(R){R[R.Inline=1]="Inline",R[R.Gutter=2]="Gutter"})(S=e.MinimapPosition||(e.MinimapPosition={}));var p;(function(R){R[R.UNKNOWN=0]="UNKNOWN",R[R.TEXTAREA=1]="TEXTAREA",R[R.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",R[R.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",R[R.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",R[R.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",R[R.CONTENT_TEXT=6]="CONTENT_TEXT",R[R.CONTENT_EMPTY=7]="CONTENT_EMPTY",R[R.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",R[R.CONTENT_WIDGET=9]="CONTENT_WIDGET",R[R.OVERVIEW_RULER=10]="OVERVIEW_RULER",R[R.SCROLLBAR=11]="SCROLLBAR",R[R.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",R[R.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(p=e.MouseTargetType||(e.MouseTargetType={}));var m;(function(R){R[R.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",R[R.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",R[R.TOP_CENTER=2]="TOP_CENTER"})(m=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var b;(function(R){R[R.Left=1]="Left",R[R.Center=2]="Center",R[R.Right=4]="Right",R[R.Full=7]="Full"})(b=e.OverviewRulerLane||(e.OverviewRulerLane={}));var L;(function(R){R[R.Left=0]="Left",R[R.Right=1]="Right",R[R.None=2]="None",R[R.LeftOfInjectedText=3]="LeftOfInjectedText",R[R.RightOfInjectedText=4]="RightOfInjectedText"})(L=e.PositionAffinity||(e.PositionAffinity={}));var k;(function(R){R[R.Off=0]="Off",R[R.On=1]="On",R[R.Relative=2]="Relative",R[R.Interval=3]="Interval",R[R.Custom=4]="Custom"})(k=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var I;(function(R){R[R.None=0]="None",R[R.Text=1]="Text",R[R.Blocks=2]="Blocks"})(I=e.RenderMinimap||(e.RenderMinimap={}));var M;(function(R){R[R.Smooth=0]="Smooth",R[R.Immediate=1]="Immediate"})(M=e.ScrollType||(e.ScrollType={}));var B;(function(R){R[R.Auto=1]="Auto",R[R.Hidden=2]="Hidden",R[R.Visible=3]="Visible"})(B=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var z;(function(R){R[R.LTR=0]="LTR",R[R.RTL=1]="RTL"})(z=e.SelectionDirection||(e.SelectionDirection={}));var P;(function(R){R[R.Invoke=1]="Invoke",R[R.TriggerCharacter=2]="TriggerCharacter",R[R.ContentChange=3]="ContentChange"})(P=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var A;(function(R){R[R.File=0]="File",R[R.Module=1]="Module",R[R.Namespace=2]="Namespace",R[R.Package=3]="Package",R[R.Class=4]="Class",R[R.Method=5]="Method",R[R.Property=6]="Property",R[R.Field=7]="Field",R[R.Constructor=8]="Constructor",R[R.Enum=9]="Enum",R[R.Interface=10]="Interface",R[R.Function=11]="Function",R[R.Variable=12]="Variable",R[R.Constant=13]="Constant",R[R.String=14]="String",R[R.Number=15]="Number",R[R.Boolean=16]="Boolean",R[R.Array=17]="Array",R[R.Object=18]="Object",R[R.Key=19]="Key",R[R.Null=20]="Null",R[R.EnumMember=21]="EnumMember",R[R.Struct=22]="Struct",R[R.Event=23]="Event",R[R.Operator=24]="Operator",R[R.TypeParameter=25]="TypeParameter"})(A=e.SymbolKind||(e.SymbolKind={}));var T;(function(R){R[R.Deprecated=1]="Deprecated"})(T=e.SymbolTag||(e.SymbolTag={}));var O;(function(R){R[R.Hidden=0]="Hidden",R[R.Blink=1]="Blink",R[R.Smooth=2]="Smooth",R[R.Phase=3]="Phase",R[R.Expand=4]="Expand",R[R.Solid=5]="Solid"})(O=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var F;(function(R){R[R.Line=1]="Line",R[R.Block=2]="Block",R[R.Underline=3]="Underline",R[R.LineThin=4]="LineThin",R[R.BlockOutline=5]="BlockOutline",R[R.UnderlineThin=6]="UnderlineThin"})(F=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(R){R[R.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",R[R.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",R[R.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",R[R.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var V;(function(R){R[R.None=0]="None",R[R.Same=1]="Same",R[R.Indent=2]="Indent",R[R.DeepIndent=3]="DeepIndent"})(V=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[464],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class w{constructor(y,v,C,d){this.range=y,this.nestingLevel=v,this.nestingLevelOfEqualBracketType=C,this.isInvalid=d}}e.BracketInfo=w;class N{constructor(y,v,C,d,g,i){this.range=y,this.openingBracketRange=v,this.closingBracketRange=C,this.nestingLevel=d,this.nestingLevelOfEqualBracketType=g,this.a=i}get openingBracketInfo(){return this.a.openingBracket.bracketInfo}}e.BracketPairInfo=N;class E extends N{constructor(y,v,C,d,g,i,t){super(y,v,C,d,g,i),this.minVisibleColumnIndentation=t}}e.BracketPairWithMinIndentationInfo=E}),define(ee[103],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class w{constructor(){this.changeType=1}}e.ModelRawFlush=w;class N{static applyInjectedText(t,n){if(!n||n.length===0)return t;let a="",r=0;for(const c of n)a+=t.substring(r,c.column-1),r=c.column-1,a+=c.options.content;return a+=t.substring(r),a}static fromDecorations(t){const n=[];for(const a of t)a.options.before&&a.options.before.content.length>0&&n.push(new N(a.ownerId,a.range.startLineNumber,a.range.startColumn,a.options.before,0)),a.options.after&&a.options.after.content.length>0&&n.push(new N(a.ownerId,a.range.endLineNumber,a.range.endColumn,a.options.after,1));return n.sort((a,r)=>a.lineNumber===r.lineNumber?a.column===r.column?a.order-r.order:a.column-r.column:a.lineNumber-r.lineNumber),n}constructor(t,n,a,r,c){this.ownerId=t,this.lineNumber=n,this.column=a,this.options=r,this.order=c}}e.LineInjectedText=N;class E{constructor(t,n,a){this.changeType=2,this.lineNumber=t,this.detail=n,this.injectedText=a}}e.ModelRawLineChanged=E;class D{constructor(t,n){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=n}}e.ModelRawLinesDeleted=D;class y{constructor(t,n,a,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=t,this.toLineNumber=n,this.detail=a}}e.ModelRawLinesInserted=y;class v{constructor(){this.changeType=5}}e.ModelRawEOLChanged=v;class C{constructor(t,n,a,r){this.changes=t,this.versionId=n,this.isUndoing=a,this.isRedoing=r,this.resultingSelection=null}containsEvent(t){for(let n=0,a=this.changes.length;n<a;n++)if(this.changes[n].changeType===t)return!0;return!1}static merge(t,n){const a=[].concat(t.changes).concat(n.changes),r=n.versionId,c=t.isUndoing||n.isUndoing,u=t.isRedoing||n.isRedoing;return new C(a,r,c,u)}}e.ModelRawContentChangedEvent=C;class d{constructor(t){this.changes=t}}e.ModelInjectedTextChangedEvent=d;class g{constructor(t,n){this.rawContentChangedEvent=t,this.contentChangedEvent=n}merge(t){const n=C.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),a=g.c(this.contentChangedEvent,t.contentChangedEvent);return new g(n,a)}static c(t,n){const a=[].concat(t.changes).concat(n.changes),r=n.eol,c=n.versionId,u=t.isUndoing||n.isUndoing,s=t.isRedoing||n.isRedoing,l=t.isFlush||n.isFlush;return{changes:a,eol:r,versionId:c,isUndoing:u,isRedoing:s,isFlush:l}}}e.InternalModelContentChangeEvent=g}),define(ee[192],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var w;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(w=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class N{constructor(y,v,C,d,g,i){if(this.visibleColumn=y,this.column=v,this.className=C,this.horizontalLine=d,this.forWrappedLinesAfterColumn=g,this.forWrappedLinesBeforeOrAtColumn=i,y!==-1==(v!==-1))throw new Error}}e.IndentGuide=N;class E{constructor(y,v){this.top=y,this.endColumn=v}}e.IndentGuideHorizontalLine=E}),define(ee[257],te([1,0,17,9,73,3,253,191,192]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class d extends y.TextModelPart{constructor(t,n){super(),this.h=t,this.j=n}k(t){return this.j.getLanguageConfiguration(t)}m(t){return(0,v.computeIndentLevel)(this.h.getLineContent(t+1),this.h.getOptions().tabSize)}getActiveIndentGuide(t,n,a){this.g();const r=this.h.getLineCount();if(t<1||t>r)throw new Error("Illegal value for lineNumber");const c=this.k(this.h.getLanguageId()).foldingRules,u=Boolean(c&&c.offSide);let s=-2,l=-1,o=-2,h=-1;const f=A=>{if(s!==-1&&(s===-2||s>A-1)){s=-1,l=-1;for(let T=A-2;T>=0;T--){const O=this.m(T);if(O>=0){s=T,l=O;break}}}if(o===-2){o=-1,h=-1;for(let T=A;T<r;T++){const O=this.m(T);if(O>=0){o=T,h=O;break}}}};let S=-2,p=-1,m=-2,b=-1;const L=A=>{if(S===-2){S=-1,p=-1;for(let T=A-2;T>=0;T--){const O=this.m(T);if(O>=0){S=T,p=O;break}}}if(m!==-1&&(m===-2||m<A-1)){m=-1,b=-1;for(let T=A;T<r;T++){const O=this.m(T);if(O>=0){m=T,b=O;break}}}};let k=0,I=!0,M=0,B=!0,z=0,P=0;for(let A=0;I||B;A++){const T=t-A,O=t+A;A>1&&(T<1||T<n)&&(I=!1),A>1&&(O>r||O>a)&&(B=!1),A>5e4&&(I=!1,B=!1);let F=-1;if(I&&T>=1){const V=this.m(T-1);V>=0?(o=T-1,h=V,F=Math.ceil(V/this.h.getOptions().indentSize)):(f(T),F=this.p(u,l,h))}let W=-1;if(B&&O<=r){const V=this.m(O-1);V>=0?(S=O-1,p=V,W=Math.ceil(V/this.h.getOptions().indentSize)):(L(O),W=this.p(u,p,b))}if(A===0){P=F;continue}if(A===1){if(O<=r&&W>=0&&P+1===W){I=!1,k=O,M=O,z=W;continue}if(T>=1&&F>=0&&F-1===P){B=!1,k=T,M=T,z=F;continue}if(k=t,M=t,z=P,z===0)return{startLineNumber:k,endLineNumber:M,indent:z}}I&&(F>=z?k=T:I=!1),B&&(W>=z?M=O:B=!1)}return{startLineNumber:k,endLineNumber:M,indent:z}}getLinesBracketGuides(t,n,a,r){var c;const u=[];for(let S=t;S<=n;S++)u.push([]);const s=!0,l=this.h.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(t,1,n,this.h.getLineMaxColumn(n))).toArray();let o;if(a&&l.length>0){const S=(t<=a.lineNumber&&a.lineNumber<=n?l:this.h.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(a)).toArray()).filter(p=>D.Range.strictContainsPosition(p.range,a));o=(c=(0,w.findLast)(S,p=>s||p.range.startLineNumber!==p.range.endLineNumber))===null||c===void 0?void 0:c.range}const h=this.h.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,f=new g;for(const S of l){if(!S.closingBracketRange)continue;const p=o&&S.range.equalsRange(o);if(!p&&!r.includeInactive)continue;const m=f.getInlineClassName(S.nestingLevel,S.nestingLevelOfEqualBracketType,h)+(r.highlightActive&&p?" "+f.activeClassName:""),b=S.openingBracketRange.getStartPosition(),L=S.closingBracketRange.getStartPosition(),k=r.horizontalGuides===C.HorizontalGuidesState.Enabled||r.horizontalGuides===C.HorizontalGuidesState.EnabledForActive&&p;if(S.range.startLineNumber===S.range.endLineNumber){s&&k&&u[S.range.startLineNumber-t].push(new C.IndentGuide(-1,S.openingBracketRange.getEndPosition().column,m,new C.IndentGuideHorizontalLine(!1,L.column),-1,-1));continue}const I=this.n(L),M=this.n(S.openingBracketRange.getStartPosition()),B=Math.min(M,I,S.minVisibleColumnIndentation+1);let z=!1;N.firstNonWhitespaceIndex(this.h.getLineContent(S.closingBracketRange.startLineNumber))<S.closingBracketRange.startColumn-1&&(z=!0);const T=Math.max(b.lineNumber,t),O=Math.min(L.lineNumber,n),F=z?1:0;for(let W=T;W<O+F;W++)u[W-t].push(new C.IndentGuide(B,-1,m,null,W===b.lineNumber?b.column:-1,W===L.lineNumber?L.column:-1));k&&(b.lineNumber>=t&&M>B&&u[b.lineNumber-t].push(new C.IndentGuide(B,-1,m,new C.IndentGuideHorizontalLine(!1,b.column),-1,-1)),L.lineNumber<=n&&I>B&&u[L.lineNumber-t].push(new C.IndentGuide(B,-1,m,new C.IndentGuideHorizontalLine(!z,L.column),-1,-1)))}for(const S of u)S.sort((p,m)=>p.visibleColumn-m.visibleColumn);return u}n(t){return E.CursorColumns.visibleColumnFromColumn(this.h.getLineContent(t.lineNumber),t.column,this.h.getOptions().tabSize)+1}getLinesIndentGuides(t,n){this.g();const a=this.h.getLineCount();if(t<1||t>a)throw new Error("Illegal value for startLineNumber");if(n<1||n>a)throw new Error("Illegal value for endLineNumber");const r=this.h.getOptions(),c=this.k(this.h.getLanguageId()).foldingRules,u=Boolean(c&&c.offSide),s=new Array(n-t+1);let l=-2,o=-1,h=-2,f=-1;for(let S=t;S<=n;S++){const p=S-t,m=this.m(S-1);if(m>=0){l=S-1,o=m,s[p]=Math.ceil(m/r.indentSize);continue}if(l===-2){l=-1,o=-1;for(let b=S-2;b>=0;b--){const L=this.m(b);if(L>=0){l=b,o=L;break}}}if(h!==-1&&(h===-2||h<S-1)){h=-1,f=-1;for(let b=S;b<a;b++){const L=this.m(b);if(L>=0){h=b,f=L;break}}}s[p]=this.p(u,o,f)}return s}p(t,n,a){const r=this.h.getOptions();return n===-1||a===-1?0:n<a?1+Math.floor(n/r.indentSize):n===a||t?Math.ceil(a/r.indentSize):1+Math.floor(a/r.indentSize)}}e.GuidesTextModelPart=d;class g{constructor(){this.activeClassName="indent-active"}getInlineClassName(t,n,a){return this.getInlineClassNameOfLevel(a?n:t)}getInlineClassNameOfLevel(t){return`bracket-indent-guide lvl-${t%30}`}}e.BracketPairGuidesClassNames=g}),define(ee[465],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class w{get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(E,D){this.a=E,this.b=D}getLineTokens(E){return this.b[E-this.a]}appendLineTokens(E){this.b.push(E)}}e.ContiguousMultilineTokens=w}),define(ee[466],te([1,0,465]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class N{constructor(){this.a=[]}add(D,y){if(this.a.length>0){const v=this.a[this.a.length-1];if(v.endLineNumber+1===D){v.appendLineTokens(y);return}}this.a.push(new w.ContiguousMultilineTokens(D,[y]))}finalize(){return this.a}}e.ContiguousMultilineTokensBuilder=N}),define(ee[87],te([1,0,115]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class N{static createEmpty(y,v){const C=N.defaultTokenMetadata,d=new Uint32Array(2);return d[0]=y.length,d[1]=C,new N(d,y,v)}constructor(y,v,C){this._lineTokensBrand=void 0,this.a=y,this.b=this.a.length>>>1,this.c=v,this.d=C}equals(y){return y instanceof N?this.slicedEquals(y,0,this.b):!1}slicedEquals(y,v,C){if(this.c!==y.c||this.b!==y.b)return!1;const d=v<<1,g=d+(C<<1);for(let i=d;i<g;i++)if(this.a[i]!==y.a[i])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(y){return y>0?this.a[y-1<<1]:0}getMetadata(y){return this.a[(y<<1)+1]}getLanguageId(y){const v=this.a[(y<<1)+1],C=w.TokenMetadata.getLanguageId(v);return this.d.decodeLanguageId(C)}getStandardTokenType(y){const v=this.a[(y<<1)+1];return w.TokenMetadata.getTokenType(v)}getForeground(y){const v=this.a[(y<<1)+1];return w.TokenMetadata.getForeground(v)}getClassName(y){const v=this.a[(y<<1)+1];return w.TokenMetadata.getClassNameFromMetadata(v)}getInlineStyle(y,v){const C=this.a[(y<<1)+1];return w.TokenMetadata.getInlineStyleFromMetadata(C,v)}getPresentation(y){const v=this.a[(y<<1)+1];return w.TokenMetadata.getPresentationFromMetadata(v)}getEndOffset(y){return this.a[y<<1]}findTokenIndexAtOffset(y){return N.findIndexInTokensArray(this.a,y)}inflate(){return this}sliceAndInflate(y,v,C){return new E(this,y,v,C)}static convertToEndOffset(y,v){const d=(y.length>>>1)-1;for(let g=0;g<d;g++)y[g<<1]=y[g+1<<1];y[d<<1]=v}static findIndexInTokensArray(y,v){if(y.length<=2)return 0;let C=0,d=(y.length>>>1)-1;for(;C<d;){const g=C+Math.floor((d-C)/2),i=y[g<<1];if(i===v)return g+1;i<v?C=g+1:i>v&&(d=g)}return C}withInserted(y){if(y.length===0)return this;let v=0,C=0,d="";const g=new Array;let i=0;for(;;){const t=v<this.b?this.a[v<<1]:-1,n=C<y.length?y[C]:null;if(t!==-1&&(n===null||t<=n.offset)){d+=this.c.substring(i,t);const a=this.a[(v<<1)+1];g.push(d.length,a),v++,i=t}else if(n){if(n.offset>i){d+=this.c.substring(i,n.offset);const a=this.a[(v<<1)+1];g.push(d.length,a),i=n.offset}d+=n.text,g.push(d.length,n.tokenMetadata),C++}else break}return new N(new Uint32Array(g),d,this.d)}}N.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0,e.LineTokens=N;class E{constructor(y,v,C,d){this.a=y,this.b=v,this.c=C,this.d=d,this.e=y.findTokenIndexAtOffset(v),this.f=0;for(let g=this.e,i=y.getCount();g<i&&!(y.getStartOffset(g)>=C);g++)this.f++}getMetadata(y){return this.a.getMetadata(this.e+y)}getLanguageId(y){return this.a.getLanguageId(this.e+y)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(y){return y instanceof E?this.b===y.b&&this.c===y.c&&this.d===y.d&&this.a.slicedEquals(y.a,this.e,this.f):!1}getCount(){return this.f}getForeground(y){return this.a.getForeground(this.e+y)}getEndOffset(y){const v=this.a.getEndOffset(this.e+y);return Math.min(this.c,v)-this.b+this.d}getClassName(y){return this.a.getClassName(this.e+y)}getInlineStyle(y,v){return this.a.getInlineStyle(this.e+y,v)}getPresentation(y){return this.a.getPresentation(this.e+y)}findTokenIndexAtOffset(y){return this.a.findTokenIndexAtOffset(y+this.b-this.d)-this.e}}}),define(ee[467],te([1,0,87]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class N{static deleteBeginning(y,v){return y===null||y===e.EMPTY_LINE_TOKENS?y:N.delete(y,0,v)}static deleteEnding(y,v){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const C=E(y),d=C[C.length-2];return N.delete(y,v,d)}static delete(y,v,C){if(y===null||y===e.EMPTY_LINE_TOKENS||v===C)return y;const d=E(y),g=d.length>>>1;if(v===0&&d[d.length-2]===C)return e.EMPTY_LINE_TOKENS;const i=w.LineTokens.findIndexInTokensArray(d,v),t=i>0?d[i-1<<1]:0,n=d[i<<1];if(C<n){const s=C-v;for(let l=i;l<g;l++)d[l<<1]-=s;return y}let a,r;t!==v?(d[i<<1]=v,a=i+1<<1,r=v):(a=i<<1,r=t);const c=C-v;for(let s=i+1;s<g;s++){const l=d[s<<1]-c;l>r&&(d[a++]=l,d[a++]=d[(s<<1)+1],r=l)}if(a===d.length)return y;const u=new Uint32Array(a);return u.set(d.subarray(0,a),0),u.buffer}static append(y,v){if(v===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return v;if(y===null)return y;if(v===null)return null;const C=E(y),d=E(v),g=d.length>>>1,i=new Uint32Array(C.length+d.length);i.set(C,0);let t=C.length;const n=C[C.length-2];for(let a=0;a<g;a++)i[t++]=d[a<<1]+n,i[t++]=d[(a<<1)+1];return i.buffer}static insert(y,v,C){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const d=E(y),g=d.length>>>1;let i=w.LineTokens.findIndexInTokensArray(d,v);i>0&&d[i-1<<1]===v&&i--;for(let t=i;t<g;t++)d[t<<1]+=C;return y}}e.ContiguousTokensEditing=N;function E(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=E}),define(ee[468],te([1,0,17,11,467,87,115]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class v{constructor(g){this.c=[],this.d=0,this.e=g}flush(){this.c=[],this.d=0}getTokens(g,i,t){let n=null;if(i<this.d&&(n=this.c[i]),n!==null&&n!==E.EMPTY_LINE_TOKENS)return new D.LineTokens((0,E.toUint32Array)(n),t,this.e);const a=new Uint32Array(2);return a[0]=t.length,a[1]=C(this.e.encodeLanguageId(g)),new D.LineTokens(a,t,this.e)}static f(g,i,t){const n=t?(0,E.toUint32Array)(t):null;if(i===0){let a=!1;if(n&&n.length>1&&(a=y.TokenMetadata.getLanguageId(n[1])!==g),!a)return E.EMPTY_LINE_TOKENS}if(!n||n.length===0){const a=new Uint32Array(2);return a[0]=i,a[1]=C(g),a.buffer}return n[n.length-2]=i,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}g(g){for(;g>=this.d;)this.c[this.d]=null,this.d++}h(g,i){i!==0&&(g+i>this.d&&(i=this.d-g),this.c.splice(g,i),this.d-=i)}j(g,i){if(i===0)return;const t=[];for(let n=0;n<i;n++)t[n]=null;this.c=w.arrayInsert(this.c,g,t),this.d+=i}setTokens(g,i,t,n,a){const r=v.f(this.e.encodeLanguageId(g),t,n);this.g(i);const c=this.c[i];return this.c[i]=r,a?!v.k(c,r):!1}static k(g,i){if(!g||!i)return!g&&!i;const t=(0,E.toUint32Array)(g),n=(0,E.toUint32Array)(i);if(t.length!==n.length)return!1;for(let a=0,r=t.length;a<r;a++)if(t[a]!==n[a])return!1;return!0}acceptEdit(g,i,t){this.l(g),this.m(new N.Position(g.startLineNumber,g.startColumn),i,t)}l(g){const i=g.startLineNumber-1;if(i>=this.d)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this.c[i]=E.ContiguousTokensEditing.delete(this.c[i],g.startColumn-1,g.endColumn-1);return}this.c[i]=E.ContiguousTokensEditing.deleteEnding(this.c[i],g.startColumn-1);const t=g.endLineNumber-1;let n=null;t<this.d&&(n=E.ContiguousTokensEditing.deleteBeginning(this.c[t],g.endColumn-1)),this.c[i]=E.ContiguousTokensEditing.append(this.c[i],n),this.h(g.startLineNumber,g.endLineNumber-g.startLineNumber)}m(g,i,t){if(i===0&&t===0)return;const n=g.lineNumber-1;if(!(n>=this.d)){if(i===0){this.c[n]=E.ContiguousTokensEditing.insert(this.c[n],g.column-1,t);return}this.c[n]=E.ContiguousTokensEditing.deleteEnding(this.c[n],g.column-1),this.c[n]=E.ContiguousTokensEditing.insert(this.c[n],g.column-1,t),this.j(g.lineNumber,i)}}}e.ContiguousTokensStore=v;function C(d){return(d<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(ee[469],te([1,0,11,3,131]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(d,g){return new D(d,new y(g))}get startLineNumber(){return this.c}get endLineNumber(){return this.d}constructor(d,g){this.c=d,this.e=g,this.d=this.c+this.e.getMaxDeltaLine()}toString(){return this.e.toString(this.c)}f(){this.d=this.c+this.e.getMaxDeltaLine()}isEmpty(){return this.e.isEmpty()}getLineTokens(d){return this.c<=d&&d<=this.d?this.e.getLineTokens(d-this.c):null}getRange(){const d=this.e.getRange();return d&&new N.Range(this.c+d.startLineNumber,d.startColumn,this.c+d.endLineNumber,d.endColumn)}removeTokens(d){const g=d.startLineNumber-this.c,i=d.endLineNumber-this.c;this.c+=this.e.removeTokens(g,d.startColumn-1,i,d.endColumn-1),this.f()}split(d){const g=d.startLineNumber-this.c,i=d.endLineNumber-this.c,[t,n,a]=this.e.split(g,d.startColumn-1,i,d.endColumn-1);return[new D(this.c,t),new D(this.c+a,n)]}applyEdit(d,g){const[i,t,n]=(0,E.countEOL)(g);this.acceptEdit(d,i,t,n,g.length>0?g.charCodeAt(0):0)}acceptEdit(d,g,i,t,n){this.g(d),this.h(new w.Position(d.startLineNumber,d.startColumn),g,i,t,n),this.f()}g(d){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return;const g=d.startLineNumber-this.c,i=d.endLineNumber-this.c;if(i<0){const n=i-g;this.c-=n;return}const t=this.e.getMaxDeltaLine();if(!(g>=t+1)){if(g<0&&i>=t+1){this.c=0,this.e.clear();return}if(g<0){const n=-g;this.c-=n,this.e.acceptDeleteRange(d.startColumn-1,0,0,i,d.endColumn-1)}else this.e.acceptDeleteRange(0,g,d.startColumn-1,i,d.endColumn-1)}}h(d,g,i,t,n){if(g===0&&i===0)return;const a=d.lineNumber-this.c;if(a<0){this.c+=g;return}const r=this.e.getMaxDeltaLine();a>=r+1||this.e.acceptInsertText(a,d.column-1,g,i,t,n)}}e.SparseMultilineTokens=D;class y{constructor(d){this.c=d,this.d=d.length/4}toString(d){const g=[];for(let i=0;i<this.d;i++)g.push(`(${this.f(i)+d},${this.g(i)}-${this.h(i)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const d=this.e();return d===0?-1:this.f(d-1)}getRange(){const d=this.e();if(d===0)return null;const g=this.g(0),i=this.f(d-1),t=this.h(d-1);return new N.Range(0,g+1,i,t+1)}e(){return this.d}f(d){return this.c[4*d]}g(d){return this.c[4*d+1]}h(d){return this.c[4*d+2]}isEmpty(){return this.e()===0}getLineTokens(d){let g=0,i=this.e()-1;for(;g<i;){const t=g+Math.floor((i-g)/2),n=this.f(t);if(n<d)g=t+1;else if(n>d)i=t-1;else{let a=t;for(;a>g&&this.f(a-1)===d;)a--;let r=t;for(;r<i&&this.f(r+1)===d;)r++;return new v(this.c.subarray(4*a,4*r+4))}}return this.f(g)===d?new v(this.c.subarray(4*g,4*g+4)):null}clear(){this.d=0}removeTokens(d,g,i,t){const n=this.c,a=this.d;let r=0,c=!1,u=0;for(let s=0;s<a;s++){const l=4*s,o=n[l],h=n[l+1],f=n[l+2],S=n[l+3];if((o>d||o===d&&f>=g)&&(o<i||o===i&&h<=t))c=!0;else{if(r===0&&(u=o),c){const p=4*r;n[p]=o-u,n[p+1]=h,n[p+2]=f,n[p+3]=S}r++}}return this.d=r,u}split(d,g,i,t){const n=this.c,a=this.d,r=[],c=[];let u=r,s=0,l=0;for(let o=0;o<a;o++){const h=4*o,f=n[h],S=n[h+1],p=n[h+2],m=n[h+3];if(f>d||f===d&&p>=g){if(f<i||f===i&&S<=t)continue;u!==c&&(u=c,s=0,l=f)}u[s++]=f-l,u[s++]=S,u[s++]=p,u[s++]=m}return[new y(new Uint32Array(r)),new y(new Uint32Array(c)),l]}acceptDeleteRange(d,g,i,t,n){const a=this.c,r=this.d,c=t-g;let u=0,s=!1;for(let l=0;l<r;l++){const o=4*l;let h=a[o],f=a[o+1],S=a[o+2];const p=a[o+3];if(h<g||h===g&&S<=i){u++;continue}else if(h===g&&f<i)h===t&&S>n?S-=n-i:S=i;else if(h===g&&f===i)if(h===t&&S>n)S-=n-i;else{s=!0;continue}else if(h<t||h===t&&f<n)if(h===t&&S>n)h===g?(f=i,S=f+(S-n)):(f=0,S=f+(S-n));else{s=!0;continue}else if(h>t){if(c===0&&!s){u=r;break}h-=c}else if(h===t&&f>=n)d&&h===0&&(f+=d,S+=d),h-=c,f-=n-i,S-=n-i;else throw new Error("Not possible!");const m=4*u;a[m]=h,a[m+1]=f,a[m+2]=S,a[m+3]=p,u++}this.d=u}acceptInsertText(d,g,i,t,n,a){const r=i===0&&t===1&&(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122),c=this.c,u=this.d;for(let s=0;s<u;s++){const l=4*s;let o=c[l],h=c[l+1],f=c[l+2];if(!(o<d||o===d&&f<g)){if(o===d&&f===g)if(r)f+=1;else continue;else if(o===d&&h<g&&g<f)i===0?f+=t:f=g;else{if(o===d&&h===g&&r)continue;if(o===d)if(o+=i,i===0)h+=t,f+=t;else{const S=f-h;h=n+(h-g),f=h+S}else o+=i}c[l]=o,c[l+1]=h,c[l+2]=f}}}}class v{constructor(d){this.c=d}getCount(){return this.c.length/4}getStartCharacter(d){return this.c[4*d+1]}getEndCharacter(d){return this.c[4*d+2]}getMetadata(d){return this.c[4*d+3]}}e.SparseLineTokens=v}),define(ee[470],te([1,0,17,87]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class E{constructor(y){this.c=[],this.d=!1,this.e=y}flush(){this.c=[],this.d=!1}isEmpty(){return this.c.length===0}set(y,v){this.c=y||[],this.d=v}setPartial(y,v){let C=y;if(v.length>0){const g=v[0].getRange(),i=v[v.length-1].getRange();if(!g||!i)return y;C=y.plusRange(g).plusRange(i)}let d=null;for(let g=0,i=this.c.length;g<i;g++){const t=this.c[g];if(t.endLineNumber<C.startLineNumber)continue;if(t.startLineNumber>C.endLineNumber){d=d||{index:g};break}if(t.removeTokens(C),t.isEmpty()){this.c.splice(g,1),g--,i--;continue}if(t.endLineNumber<C.startLineNumber)continue;if(t.startLineNumber>C.endLineNumber){d=d||{index:g};continue}const[n,a]=t.split(C);if(n.isEmpty()){d=d||{index:g};continue}a.isEmpty()||(this.c.splice(g,1,n,a),g++,i++,d=d||{index:g})}return d=d||{index:this.c.length},v.length>0&&(this.c=w.arrayInsert(this.c,d.index,v)),C}isComplete(){return this.d}addSparseTokens(y,v){if(v.getLineContent().length===0)return v;const C=this.c;if(C.length===0)return v;const d=E.f(C,y),g=C[d].getLineTokens(y);if(!g)return v;const i=v.getCount(),t=g.getCount();let n=0;const a=[];let r=0,c=0;const u=(s,l)=>{s!==c&&(c=s,a[r++]=s,a[r++]=l)};for(let s=0;s<t;s++){const l=g.getStartCharacter(s),o=g.getEndCharacter(s),h=g.getMetadata(s),f=((h&1?2048:0)|(h&2?4096:0)|(h&4?8192:0)|(h&8?16384:0)|(h&16?16744448:0)|(h&32?4278190080:0))>>>0,S=~f>>>0;for(;n<i&&v.getEndOffset(n)<=l;)u(v.getEndOffset(n),v.getMetadata(n)),n++;for(n<i&&v.getStartOffset(n)<l&&u(l,v.getMetadata(n));n<i&&v.getEndOffset(n)<o;)u(v.getEndOffset(n),v.getMetadata(n)&S|h&f),n++;if(n<i)u(o,v.getMetadata(n)&S|h&f),v.getEndOffset(n)===o&&n++;else{const p=Math.min(Math.max(0,n-1),i-1);u(o,v.getMetadata(p)&S|h&f)}}for(;n<i;)u(v.getEndOffset(n),v.getMetadata(n)),n++;return new N.LineTokens(new Uint32Array(a),v.getLineContent(),this.e)}static f(y,v){let C=0,d=y.length-1;for(;C<d;){let g=C+Math.floor((d-C)/2);if(y[g].endLineNumber<v)C=g+1;else if(y[g].startLineNumber>v)d=g-1;else{for(;g>C&&y[g-1].startLineNumber<=v&&v<=y[g-1].endLineNumber;)g--;return g}}return C}acceptEdit(y,v,C,d,g){for(const i of this.c)i.acceptEdit(y,v,C,d,g)}}e.SparseTokensStore=E}),define(ee[134],te([1,0,2]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class N extends w.Disposable{constructor(){super(),this.h=!0}shouldRender(){return this.h}forceShouldRender(){this.h=!0}l(){this.h=!0}onDidRender(){this.h=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let y=!1;for(let v=0,C=D.length;v<C;v++){const d=D[v];switch(d.type){case 0:this.onCompositionStart(d)&&(y=!0);break;case 1:this.onCompositionEnd(d)&&(y=!0);break;case 2:this.onConfigurationChanged(d)&&(y=!0);break;case 3:this.onCursorStateChanged(d)&&(y=!0);break;case 4:this.onDecorationsChanged(d)&&(y=!0);break;case 5:this.onFlushed(d)&&(y=!0);break;case 6:this.onFocusChanged(d)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(d)&&(y=!0);break;case 8:this.onLineMappingChanged(d)&&(y=!0);break;case 9:this.onLinesChanged(d)&&(y=!0);break;case 10:this.onLinesDeleted(d)&&(y=!0);break;case 11:this.onLinesInserted(d)&&(y=!0);break;case 12:this.onRevealRangeRequest(d)&&(y=!0);break;case 13:this.onScrollChanged(d)&&(y=!0);break;case 15:this.onTokensChanged(d)&&(y=!0);break;case 14:this.onThemeChanged(d)&&(y=!0);break;case 16:this.onTokensColorsChanged(d)&&(y=!0);break;case 17:this.onZonesChanged(d)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(d)}}y&&(this.h=!0)}}e.ViewEventHandler=N}),define(ee[104],te([1,0,134]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class N extends w.ViewEventHandler{}e.DynamicViewOverlay=N}),define(ee[49],te([1,0,134]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class N extends w.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=N;class E{static write(y,v){y.setAttribute("data-mprt",String(v))}static read(y){const v=y.getAttribute("data-mprt");return v===null?0:parseInt(v,10)}static collect(y,v){const C=[];let d=0;for(;y&&y!==document.body&&y!==v;)y.nodeType===y.ELEMENT_NODE&&(C[d++]=this.read(y)),y=y.parentElement;const g=new Uint8Array(d);for(let i=0;i<d;i++)g[i]=C[d-i-1];return g}}e.PartFingerprints=E}),define(ee[471],te([1,0,35,49,371]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class E extends N.ViewPart{constructor(y){super(y),this.a=[],this.b=-1,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.c()}c(){let y=!1;const C=this._context.configuration.options.get(138),d=C.contentWidth-C.verticalScrollbarWidth;return this.b!==d&&(this.b=d,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.c()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){let v=0;const C=y.getDecorationsInViewport();for(const d of C){if(!d.options.blockClassName)continue;let g=this.a[v];g||(g=this.a[v]=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(g));let i,t;d.options.blockIsAfterEnd?(i=y.getVerticalOffsetAfterLineNumber(d.range.endLineNumber,!1),t=y.getVerticalOffsetAfterLineNumber(d.range.endLineNumber,!0)):(i=y.getVerticalOffsetForLineNumber(d.range.startLineNumber,!0),t=d.range.isEmpty()?y.getVerticalOffsetForLineNumber(d.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(d.range.endLineNumber,!0)),g.setClassName("blockDecorations-block "+d.options.blockClassName),g.setLeft(y.scrollLeft),g.setWidth(this.b),g.setTop(i),g.setHeight(t-i),v++}for(let d=v;d<this.a.length;d++)this.a[d].domNode.remove();this.a.length=v}}e.BlockDecorations=E}),define(ee[472],te([1,0,104,3,130,373]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends w.DynamicViewOverlay{constructor(v){super(),this.c=v;const C=this.c.configuration.options;this.g=C.get(63),this.m=C.get(47).typicalHalfwidthCharacterWidth,this.n=null,this.c.addEventHandler(this)}dispose(){this.c.removeEventHandler(this),this.n=null,super.dispose()}onConfigurationChanged(v){const C=this.c.configuration.options;return this.g=C.get(63),this.m=C.get(47).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}prepareRender(v){const C=v.getDecorationsInViewport();let d=[],g=0;for(let a=0,r=C.length;a<r;a++){const c=C[a];c.options.className&&(d[g++]=c)}d=d.sort((a,r)=>{if(a.options.zIndex<r.options.zIndex)return-1;if(a.options.zIndex>r.options.zIndex)return 1;const c=a.options.className,u=r.options.className;return c<u?-1:c>u?1:N.Range.compareRangesUsingStarts(a.range,r.range)});const i=v.visibleRange.startLineNumber,t=v.visibleRange.endLineNumber,n=[];for(let a=i;a<=t;a++){const r=a-i;n[r]=""}this.p(v,d,n),this.r(v,d,n),this.n=n}p(v,C,d){const g=String(this.g),i=v.visibleRange.startLineNumber,t=v.visibleRange.endLineNumber;for(let n=0,a=C.length;n<a;n++){const r=C[n];if(!r.options.isWholeLine)continue;const c='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',u=Math.max(r.range.startLineNumber,i),s=Math.min(r.range.endLineNumber,t);for(let l=u;l<=s;l++){const o=l-i;d[o]+=c}}}r(v,C,d){const g=String(this.g),i=v.visibleRange.startLineNumber;let t=null,n=!1,a=null;for(let r=0,c=C.length;r<c;r++){const u=C[r];if(u.options.isWholeLine)continue;const s=u.options.className,l=Boolean(u.options.showIfCollapsed);let o=u.range;if(l&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new N.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this.c.viewModel.getLineMaxColumn(o.endLineNumber-1))),t===s&&n===l&&N.Range.areIntersectingOrTouching(a,o)){a=N.Range.plusRange(a,o);continue}t!==null&&this.s(v,a,t,n,g,i,d),t=s,n=l,a=o}t!==null&&this.s(v,a,t,n,g,i,d)}s(v,C,d,g,i,t,n){const a=v.linesVisibleRangesForRange(C,d==="findMatch");if(!!a)for(let r=0,c=a.length;r<c;r++){const u=a[r];if(u.outsideRenderedLine)continue;const s=u.lineNumber-t;if(g&&u.ranges.length===1){const l=u.ranges[0];if(l.width<this.m){const o=Math.round(l.left+l.width/2),h=Math.max(0,Math.round(o-this.m/2));u.ranges[0]=new E.HorizontalRange(h,this.m)}}for(let l=0,o=u.ranges.length;l<o;l++){const h=u.ranges[l],f='<div class="cdr '+d+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+i+'px;"></div>';n[s]+=f}}}render(v,C){if(!this.n)return"";const d=C-v;return d<0||d>=this.n.length?"":this.n[d]}}e.DecorationsOverlay=D}),define(ee[193],te([1,0,104,374]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class N{constructor(v,C,d){this._decorationToRenderBrand=void 0,this.startLineNumber=+v,this.endLineNumber=+C,this.className=String(d)}}e.DecorationToRender=N;class E extends w.DynamicViewOverlay{c(v,C,d){const g=[];for(let n=v;n<=C;n++){const a=n-v;g[a]=[]}if(d.length===0)return g;d.sort((n,a)=>n.className===a.className?n.startLineNumber===a.startLineNumber?n.endLineNumber-a.endLineNumber:n.startLineNumber-a.startLineNumber:n.className<a.className?-1:1);let i=null,t=0;for(let n=0,a=d.length;n<a;n++){const r=d[n],c=r.className;let u=Math.max(r.startLineNumber,v)-v;const s=Math.min(r.endLineNumber,C)-v;i===c?(u=Math.max(t+1,u),t=Math.max(t,s)):(i=c,t=s);for(let l=u;l<=t;l++)g[l].push(i)}return g}}e.DedupOverlay=E;class D extends E{constructor(v){super(),this.g=v;const C=this.g.configuration.options,d=C.get(138);this.j=C.get(63),this.k=C.get(54),this.m=d.glyphMarginLeft,this.n=d.glyphMarginWidth,this.p=null,this.g.addEventHandler(this)}dispose(){this.g.removeEventHandler(this),this.p=null,super.dispose()}onConfigurationChanged(v){const C=this.g.configuration.options,d=C.get(138);return this.j=C.get(63),this.k=C.get(54),this.m=d.glyphMarginLeft,this.n=d.glyphMarginWidth,!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}s(v){const C=v.getDecorationsInViewport(),d=[];let g=0;for(let i=0,t=C.length;i<t;i++){const n=C[i],a=n.options.glyphMarginClassName;a&&(d[g++]=new N(n.range.startLineNumber,n.range.endLineNumber,a))}return d}prepareRender(v){if(!this.k){this.p=null;return}const C=v.visibleRange.startLineNumber,d=v.visibleRange.endLineNumber,g=this.c(C,d,this.s(v)),i=this.j.toString(),t=this.m.toString(),n=this.n.toString(),a='" style="left:'+t+"px;width:"+n+"px;height:"+i+'px;"></div>',r=[];for(let c=C;c<=d;c++){const u=c-C,s=g[u];s.length===0?r[u]="":r[u]='<div class="cgmr codicon '+s.join(" ")+a}this.p=r}render(v,C){if(!this.p)return"";const d=C-v;return d<0||d>=this.p.length?"":this.p[d]}}e.GlyphMarginOverlay=D}),define(ee[473],te([1,0,193,378]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class N extends w.DedupOverlay{constructor(D){super(),this.g=D;const v=this.g.configuration.options.get(138);this.j=v.decorationsLeft,this.k=v.decorationsWidth,this.m=null,this.g.addEventHandler(this)}dispose(){this.g.removeEventHandler(this),this.m=null,super.dispose()}onConfigurationChanged(D){const v=this.g.configuration.options.get(138);return this.j=v.decorationsLeft,this.k=v.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}n(D){const y=D.getDecorationsInViewport(),v=[];let C=0;for(let d=0,g=y.length;d<g;d++){const i=y[d],t=i.options.linesDecorationsClassName;t&&(v[C++]=new w.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t));const n=i.options.firstLineDecorationClassName;n&&(v[C++]=new w.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,n))}return v}prepareRender(D){const y=D.visibleRange.startLineNumber,v=D.visibleRange.endLineNumber,C=this.c(y,v,this.n(D)),d=this.j.toString(),g=this.k.toString(),i='" style="left:'+d+"px;width:"+g+'px;"></div>',t=[];for(let n=y;n<=v;n++){const a=n-y,r=C[a];let c="";for(let u=0,s=r.length;u<s;u++)c+='<div class="cldr '+r[u]+i;t[a]=c}this.m=t}render(D,y){return this.m?this.m[y-D]:""}}e.LinesDecorationsOverlay=N}),define(ee[258],te([1,0,35,49,379]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class E extends N.ViewPart{constructor(y){super(y);const v=this._context.configuration.options,C=v.get(138);this.b=!v.get(29),this.c=C.contentLeft,this.g=C.glyphMarginLeft,this.j=C.glyphMarginWidth,this.a=(0,w.createFastDomNode)(document.createElement("div")),this.a.setClassName(E.OUTER_CLASS_NAME),this.a.setPosition("absolute"),this.a.setAttribute("role","presentation"),this.a.setAttribute("aria-hidden","true"),this.k=(0,w.createFastDomNode)(document.createElement("div")),this.k.setClassName(E.CLASS_NAME),this.a.appendChild(this.k)}dispose(){super.dispose()}getDomNode(){return this.a}onConfigurationChanged(y){const v=this._context.configuration.options,C=v.get(138);return this.b=!v.get(29),this.c=C.contentLeft,this.g=C.glyphMarginLeft,this.j=C.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this.a.setLayerHinting(this.b),this.a.setContain("strict");const v=y.scrollTop-y.bigNumbersDelta;this.a.setTop(-v);const C=Math.min(y.scrollHeight,1e6);this.a.setHeight(C),this.a.setWidth(this.c),this.k.setLeft(this.g),this.k.setWidth(this.j),this.k.setHeight(C)}}E.CLASS_NAME="glyph-margin",E.OUTER_CLASS_NAME="margin",e.Margin=E}),define(ee[474],te([1,0,193,380]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class N extends w.DedupOverlay{constructor(D){super(),this.g=D,this.j=null,this.g.addEventHandler(this)}dispose(){this.g.removeEventHandler(this),this.j=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}k(D){const y=D.getDecorationsInViewport(),v=[];let C=0;for(let d=0,g=y.length;d<g;d++){const i=y[d],t=i.options.marginClassName;t&&(v[C++]=new w.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t))}return v}prepareRender(D){const y=D.visibleRange.startLineNumber,v=D.visibleRange.endLineNumber,C=this.c(y,v,this.k(D)),d=[];for(let g=y;g<=v;g++){const i=g-y,t=C[i];let n="";for(let a=0,r=t.length;a<r;a++)n+='<div class="cmdr '+t[a]+'" style=""></div>';d[i]=n}this.j=d}render(D,y){return this.j?this.j[y-D]:""}}e.MarginViewLineDecorationsOverlay=N}),define(ee[475],te([1,0,35,49,382]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class E extends N.ViewPart{constructor(y){super(y);const C=this._context.configuration.options.get(138);this.a={},this.c=C.verticalScrollbarWidth,this.g=C.minimap.minimapWidth,this.j=C.horizontalScrollbarHeight,this.k=C.height,this.m=C.width,this.b=(0,w.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.b,4),this.b.setClassName("overlayWidgets")}dispose(){super.dispose(),this.a={}}getDomNode(){return this.b}onConfigurationChanged(y){const C=this._context.configuration.options.get(138);return this.c=C.verticalScrollbarWidth,this.g=C.minimap.minimapWidth,this.j=C.horizontalScrollbarHeight,this.k=C.height,this.m=C.width,!0}addWidget(y){const v=(0,w.createFastDomNode)(y.getDomNode());this.a[y.getId()]={widget:y,preference:null,domNode:v},v.setPosition("absolute"),v.setAttribute("widgetId",y.getId()),this.b.appendChild(v),this.l()}setWidgetPosition(y,v){const C=this.a[y.getId()];return C.preference===v?!1:(C.preference=v,this.l(),!0)}removeWidget(y){const v=y.getId();if(this.a.hasOwnProperty(v)){const d=this.a[v].domNode.domNode;delete this.a[v],d.parentNode.removeChild(d),this.l()}}n(y){const v=y.domNode;if(y.preference===null){v.setTop("");return}if(y.preference===0)v.setTop(0),v.setRight(2*this.c+this.g);else if(y.preference===1){const C=v.domNode.clientHeight;v.setTop(this.k-C-2*this.j),v.setRight(2*this.c+this.g)}else y.preference===2&&(v.setTop(0),v.domNode.style.right="50%")}prepareRender(y){}render(y){this.b.setWidth(this.m);const v=Object.keys(this.a);for(let C=0,d=v.length;C<d;C++){const g=v[C];this.n(this.a[g])}}}e.ViewOverlayWidgets=E}),define(ee[476],te([1,0,35,49,383]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class E extends N.ViewPart{constructor(y){super(y),this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this.a=[];const v=this._context.configuration.options;this.b=v.get(96),this.c=v.get(47).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const v=this._context.configuration.options;return this.b=v.get(96),this.c=v.get(47).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}g(){const y=this.a.length,v=this.b.length;if(y===v)return;if(y<v){const{tabSize:d}=this._context.viewModel.model.getOptions(),g=d;let i=v-y;for(;i>0;){const t=(0,w.createFastDomNode)(document.createElement("div"));t.setClassName("view-ruler"),t.setWidth(g),this.domNode.appendChild(t),this.a.push(t),i--}return}let C=y-v;for(;C>0;){const d=this.a.pop();this.domNode.removeChild(d),C--}}render(y){this.g();for(let v=0,C=this.b.length;v<C;v++){const d=this.a[v],g=this.b[v];d.setBoxShadow(g.color?`1px 0 0 0 ${g.color} inset`:""),d.setHeight(Math.min(y.scrollHeight,1e6)),d.setLeft(g.column*this.c)}}}e.Rulers=E}),define(ee[477],te([1,0,35,49,384]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class E extends N.ViewPart{constructor(y){super(y),this.b=0,this.c=0,this.m(),this.g=!1;const C=this._context.configuration.options.get(97);this.j=C.useShadows,this.a=(0,w.createFastDomNode)(document.createElement("div")),this.a.setAttribute("role","presentation"),this.a.setAttribute("aria-hidden","true")}dispose(){super.dispose()}k(){const y=this.j&&this.b>0;return this.g!==y?(this.g=y,!0):!1}getDomNode(){return this.a}m(){const v=this._context.configuration.options.get(138);v.minimap.renderMinimap===0||v.minimap.minimapWidth>0&&v.minimap.minimapLeft===0?this.c=v.width:this.c=v.width-v.verticalScrollbarWidth}onConfigurationChanged(y){const C=this._context.configuration.options.get(97);return this.j=C.useShadows,this.m(),this.k(),!0}onScrollChanged(y){return this.b=y.scrollTop,this.k()}prepareRender(y){}render(y){this.a.setWidth(this.c),this.a.setClassName(this.g?"scroll-decoration":"")}}e.ScrollDecorationViewPart=E}),define(ee[478],te([1,0,35,13,49,11]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class v extends E.ViewPart{constructor(g){super(g);const i=this._context.configuration.options,t=i.get(138);this.b=i.get(63),this.c=t.contentWidth,this.g=t.contentLeft,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this.a={}}dispose(){super.dispose(),this.a={}}j(){const g=this._context.viewLayout.getWhitespaces(),i=new Map;for(const n of g)i.set(n.id,n);let t=!1;return this._context.viewModel.changeWhitespace(n=>{const a=Object.keys(this.a);for(let r=0,c=a.length;r<c;r++){const u=a[r],s=this.a[u],l=this.m(s.delegate);s.isInHiddenArea=l.isInHiddenArea;const o=i.get(u);o&&(o.afterLineNumber!==l.afterViewLineNumber||o.height!==l.heightInPx)&&(n.changeOneWhitespace(u,l.afterViewLineNumber,l.heightInPx),this.v(s.delegate,l.heightInPx),t=!0)}}),t}onConfigurationChanged(g){const i=this._context.configuration.options,t=i.get(138);return this.b=i.get(63),this.c=t.contentWidth,this.g=t.contentLeft,g.hasChanged(63)&&this.j(),!0}onLineMappingChanged(g){return this.j()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}k(g){return typeof g.afterColumn<"u"?g.afterColumn:1e4}m(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this.t(g),minWidthInPx:this.u(g)};let i;if(typeof g.afterColumn<"u")i=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;i=new D.Position(r,this._context.viewModel.model.getLineMaxColumn(r))}let t;i.column===this._context.viewModel.model.getLineMaxColumn(i.lineNumber)?t=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber+1,column:1}):t=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber,column:i.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i,g.afterColumnAffinity),a=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t);return{isInHiddenArea:!a,afterViewLineNumber:n.lineNumber,heightInPx:a?this.t(g):0,minWidthInPx:this.u(g)}}changeViewZones(g){let i=!1;return this._context.viewModel.changeWhitespace(t=>{const n={addZone:a=>(i=!0,this.n(t,a)),removeZone:a=>{!a||(i=this.p(t,a)||i)},layoutZone:a=>{!a||(i=this.s(t,a)||i)}};C(g,n),n.addZone=y,n.removeZone=y,n.layoutZone=y}),i}n(g,i){const t=this.m(i),a={whitespaceId:g.insertWhitespace(t.afterViewLineNumber,this.k(i),t.heightInPx,t.minWidthInPx),delegate:i,isInHiddenArea:t.isInHiddenArea,isVisible:!1,domNode:(0,w.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,w.createFastDomNode)(i.marginDomNode):null};return this.v(a.delegate,t.heightInPx),a.domNode.setPosition("absolute"),a.domNode.domNode.style.width="100%",a.domNode.setDisplay("none"),a.domNode.setAttribute("monaco-view-zone",a.whitespaceId),this.domNode.appendChild(a.domNode),a.marginDomNode&&(a.marginDomNode.setPosition("absolute"),a.marginDomNode.domNode.style.width="100%",a.marginDomNode.setDisplay("none"),a.marginDomNode.setAttribute("monaco-view-zone",a.whitespaceId),this.marginDomNode.appendChild(a.marginDomNode)),this.a[a.whitespaceId]=a,this.l(),a.whitespaceId}p(g,i){if(this.a.hasOwnProperty(i)){const t=this.a[i];return delete this.a[i],g.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.l(),!0}return!1}s(g,i){if(this.a.hasOwnProperty(i)){const t=this.a[i],n=this.m(t.delegate);return t.isInHiddenArea=n.isInHiddenArea,g.changeOneWhitespace(t.whitespaceId,n.afterViewLineNumber,n.heightInPx),this.v(t.delegate,n.heightInPx),this.l(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this.a.hasOwnProperty(g)){const i=this.a[g];return Boolean(i.delegate.suppressMouseDown)}return!1}t(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this.b*g.heightInLines:this.b}u(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}v(g,i){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(i)}catch(t){(0,N.onUnexpectedError)(t)}}w(g,i){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(i)}catch(t){(0,N.onUnexpectedError)(t)}}prepareRender(g){}render(g){const i=g.viewportData.whitespaceViewportData,t={};let n=!1;for(const r of i)this.a[r.id].isInHiddenArea||(t[r.id]=r,n=!0);const a=Object.keys(this.a);for(let r=0,c=a.length;r<c;r++){const u=a[r],s=this.a[u];let l=0,o=0,h="none";t.hasOwnProperty(u)?(l=t[u].verticalOffset-g.bigNumbersDelta,o=t[u].height,h="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this.w(s.delegate,g.getScrolledTopFromAbsoluteTop(t[u].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this.w(s.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(l),s.domNode.setHeight(o),s.domNode.setDisplay(h),s.marginDomNode&&(s.marginDomNode.setTop(l),s.marginDomNode.setHeight(o),s.marginDomNode.setDisplay(h))}n&&(this.domNode.setWidth(Math.max(g.scrollWidth,this.c)),this.marginDomNode.setWidth(this.g))}}e.ViewZones=v;function C(d,g){try{return d(g)}catch(i){(0,N.onUnexpectedError)(i)}}}),define(ee[194],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class w{constructor(){this.type=0}}e.ViewCompositionStartEvent=w;class N{constructor(){this.type=1}}e.ViewCompositionEndEvent=N;class E{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=E;class D{constructor(h,f,S){this.selections=h,this.modelSelections=f,this.reason=S,this.type=3}}e.ViewCursorStateChangedEvent=D;class y{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=y;class v{constructor(){this.type=5}}e.ViewFlushedEvent=v;class C{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=C;class d{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=d;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class i{constructor(h,f){this.fromLineNumber=h,this.count=f,this.type=9}}e.ViewLinesChangedEvent=i;class t{constructor(h,f){this.type=10,this.fromLineNumber=h,this.toLineNumber=f}}e.ViewLinesDeletedEvent=t;class n{constructor(h,f){this.type=11,this.fromLineNumber=h,this.toLineNumber=f}}e.ViewLinesInsertedEvent=n;class a{constructor(h,f,S,p,m,b,L){this.source=h,this.minimalReveal=f,this.range=S,this.selections=p,this.verticalType=m,this.revealHorizontal=b,this.scrollType=L,this.type=12}}e.ViewRevealRangeRequestEvent=a;class r{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=r;class c{constructor(h){this.theme=h,this.type=14}}e.ViewThemeChangedEvent=c;class u{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=u;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class l{constructor(){this.type=17}}e.ViewZonesChangedEvent=l}),define(ee[135],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class N{constructor(C,d,g,i){this.startColumn=C,this.endColumn=d,this.className=g,this.type=i,this._lineDecorationBrand=void 0}static c(C,d){return C.startColumn===d.startColumn&&C.endColumn===d.endColumn&&C.className===d.className&&C.type===d.type}static equalsArr(C,d){const g=C.length,i=d.length;if(g!==i)return!1;for(let t=0;t<g;t++)if(!N.c(C[t],d[t]))return!1;return!0}static extractWrapped(C,d,g){if(C.length===0)return C;const i=d+1,t=g+1,n=g-d,a=[];let r=0;for(const c of C)c.endColumn<=i||c.startColumn>=t||(a[r++]=new N(Math.max(1,c.startColumn-i+1),Math.min(n+1,c.endColumn-i+1),c.className,c.type));return a}static filter(C,d,g,i){if(C.length===0)return[];const t=[];let n=0;for(let a=0,r=C.length;a<r;a++){const c=C[a],u=c.range;if(u.endLineNumber<d||u.startLineNumber>d||u.isEmpty()&&(c.type===0||c.type===3))continue;const s=u.startLineNumber===d?u.startColumn:g,l=u.endLineNumber===d?u.endColumn:i;t[n++]=new N(s,l,c.inlineClassName,c.type)}return t}static e(C,d){const g=[2,0,1,3];return g[C]-g[d]}static compare(C,d){if(C.startColumn!==d.startColumn)return C.startColumn-d.startColumn;if(C.endColumn!==d.endColumn)return C.endColumn-d.endColumn;const g=N.e(C.type,d.type);return g!==0?g:C.className!==d.className?C.className<d.className?-1:1:0}}e.LineDecoration=N;class E{constructor(C,d,g,i){this.startOffset=C,this.endOffset=d,this.className=g,this.metadata=i}}e.DecorationSegment=E;class D{constructor(){this.c=[],this.e=[],this.f=[],this.count=0}static g(C){let d=0;for(let g=0,i=C.length;g<i;g++)d|=C[g];return d}consumeLowerThan(C,d,g){for(;this.count>0&&this.c[0]<C;){let i=0;for(;i+1<this.count&&this.c[i]===this.c[i+1];)i++;g.push(new E(d,this.c[i],this.e.join(" "),D.g(this.f))),d=this.c[i]+1,this.c.splice(0,i+1),this.e.splice(0,i+1),this.f.splice(0,i+1),this.count-=i+1}return this.count>0&&d<C&&(g.push(new E(d,C-1,this.e.join(" "),D.g(this.f))),d=C),d}insert(C,d,g){if(this.count===0||this.c[this.count-1]<=C)this.c.push(C),this.e.push(d),this.f.push(g);else for(let i=0;i<this.count;i++)if(this.c[i]>=C){this.c.splice(i,0,C),this.e.splice(i,0,d),this.f.splice(i,0,g);break}this.count++}}class y{static normalize(C,d){if(d.length===0)return[];const g=[],i=new D;let t=0;for(let n=0,a=d.length;n<a;n++){const r=d[n];let c=r.startColumn,u=r.endColumn;const s=r.className,l=r.type===1?2:r.type===2?4:0;if(c>1){const f=C.charCodeAt(c-2);w.isHighSurrogate(f)&&c--}if(u>1){const f=C.charCodeAt(u-2);w.isHighSurrogate(f)&&u--}const o=c-1,h=u-2;t=i.consumeLowerThan(o,t,g),i.count===0&&(t=o),i.insert(h,s,l)}return i.consumeLowerThan(1073741824,t,g),g}}e.LineDecorationsNormalizer=y}),define(ee[479],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class w{constructor(E,D,y,v){this.endIndex=E,this.type=D,this.metadata=y,this.containsRTL=v,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=w}),define(ee[480],te([1,0,9]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class N{constructor(){this.c=!1,this.d=[],this.e=[],this.f=[]}insert(v){this.c=!0,this.d.push(v)}change(v){this.c=!0,this.e.push(v)}remove(v){this.c=!0,this.f.push(v)}mustCommit(){return this.c}commit(v){if(!this.c)return;const C=this.d,d=this.e,g=this.f;this.c=!1,this.d=[],this.e=[],this.f=[],v._commitPendingChanges(C,d,g)}}class E{constructor(v,C,d,g,i){this.id=v,this.afterLineNumber=C,this.ordinal=d,this.height=g,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=E;class D{constructor(v,C,d,g){this.d=w.singleLetterHash(++D.c),this.e=new N,this.f=0,this.g=[],this.h=-1,this.j=-1,this.k=v,this.l=C,this.m=d,this.n=g}static findInsertionIndex(v,C,d){let g=0,i=v.length;for(;g<i;){const t=g+i>>>1;C===v[t].afterLineNumber?d<v[t].ordinal?i=t:g=t+1:C<v[t].afterLineNumber?i=t:g=t+1}return g}setLineHeight(v){this.o(),this.l=v}setPadding(v,C){this.m=v,this.n=C}onFlushed(v){this.o(),this.k=v}changeWhitespace(v){let C=!1;try{v({insertWhitespace:(g,i,t,n)=>{C=!0,g=g|0,i=i|0,t=t|0,n=n|0;const a=this.d+ ++this.f;return this.e.insert(new E(a,g,i,t,n)),a},changeOneWhitespace:(g,i,t)=>{C=!0,i=i|0,t=t|0,this.e.change({id:g,newAfterLineNumber:i,newHeight:t})},removeWhitespace:g=>{C=!0,this.e.remove({id:g})}})}finally{this.e.commit(this)}return C}_commitPendingChanges(v,C,d){if((v.length>0||d.length>0)&&(this.j=-1),v.length+C.length+d.length<=1){for(const a of v)this.p(a);for(const a of C)this.r(a.id,a.newAfterLineNumber,a.newHeight);for(const a of d){const r=this.q(a.id);r!==-1&&this.s(r)}return}const g=new Set;for(const a of d)g.add(a.id);const i=new Map;for(const a of C)i.set(a.id,a);const t=a=>{const r=[];for(const c of a)if(!g.has(c.id)){if(i.has(c.id)){const u=i.get(c.id);c.afterLineNumber=u.newAfterLineNumber,c.height=u.newHeight}r.push(c)}return r},n=t(this.g).concat(t(v));n.sort((a,r)=>a.afterLineNumber===r.afterLineNumber?a.ordinal-r.ordinal:a.afterLineNumber-r.afterLineNumber),this.g=n,this.h=-1}o(){this.e.mustCommit()&&this.e.commit(this)}p(v){const C=D.findInsertionIndex(this.g,v.afterLineNumber,v.ordinal);this.g.splice(C,0,v),this.h=Math.min(this.h,C-1)}q(v){const C=this.g;for(let d=0,g=C.length;d<g;d++)if(C[d].id===v)return d;return-1}r(v,C,d){const g=this.q(v);if(g!==-1&&(this.g[g].height!==d&&(this.g[g].height=d,this.h=Math.min(this.h,g-1)),this.g[g].afterLineNumber!==C)){const i=this.g[g];this.s(g),i.afterLineNumber=C,this.p(i)}}s(v){this.g.splice(v,1),this.h=Math.min(this.h,v-1)}onLinesDeleted(v,C){this.o(),v=v|0,C=C|0,this.k-=C-v+1;for(let d=0,g=this.g.length;d<g;d++){const i=this.g[d].afterLineNumber;v<=i&&i<=C?this.g[d].afterLineNumber=v-1:i>C&&(this.g[d].afterLineNumber-=C-v+1)}}onLinesInserted(v,C){this.o(),v=v|0,C=C|0,this.k+=C-v+1;for(let d=0,g=this.g.length;d<g;d++){const i=this.g[d].afterLineNumber;v<=i&&(this.g[d].afterLineNumber+=C-v+1)}}getWhitespacesTotalHeight(){return this.o(),this.g.length===0?0:this.getWhitespacesAccumulatedHeight(this.g.length-1)}getWhitespacesAccumulatedHeight(v){this.o(),v=v|0;let C=Math.max(0,this.h+1);C===0&&(this.g[0].prefixSum=this.g[0].height,C++);for(let d=C;d<=v;d++)this.g[d].prefixSum=this.g[d-1].prefixSum+this.g[d].height;return this.h=Math.max(this.h,v),this.g[v].prefixSum}getLinesTotalHeight(){this.o();const v=this.l*this.k,C=this.getWhitespacesTotalHeight();return v+C+this.m+this.n}getWhitespaceAccumulatedHeightBeforeLineNumber(v){this.o(),v=v|0;const C=this.t(v);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}t(v){v=v|0;const C=this.g;let d=0,g=C.length-1;for(;d<=g;){const t=(g-d|0)/2|0,n=d+t|0;if(C[n].afterLineNumber<v){if(n+1>=C.length||C[n+1].afterLineNumber>=v)return n;d=n+1|0}else g=n-1|0}return-1}u(v){v=v|0;const d=this.t(v)+1;return d<this.g.length?d:-1}getFirstWhitespaceIndexAfterLineNumber(v){return this.o(),v=v|0,this.u(v)}getVerticalOffsetForLineNumber(v,C=!1){this.o(),v=v|0;let d;v>1?d=this.l*(v-1):d=0;const g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v-(C?1:0));return d+g+this.m}getVerticalOffsetAfterLineNumber(v,C=!1){this.o(),v=v|0;const d=this.l*v,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v+(C?1:0));return d+g+this.m}getWhitespaceMinWidth(){if(this.o(),this.j===-1){let v=0;for(let C=0,d=this.g.length;C<d;C++)v=Math.max(v,this.g[C].minWidth);this.j=v}return this.j}isAfterLines(v){this.o();const C=this.getLinesTotalHeight();return v>C}isInTopPadding(v){return this.m===0?!1:(this.o(),v<this.m)}isInBottomPadding(v){if(this.n===0)return!1;this.o();const C=this.getLinesTotalHeight();return v>=C-this.n}getLineNumberAtOrAfterVerticalOffset(v){if(this.o(),v=v|0,v<0)return 1;const C=this.k|0,d=this.l;let g=1,i=C;for(;g<i;){const t=(g+i)/2|0,n=this.getVerticalOffsetForLineNumber(t)|0;if(v>=n+d)g=t+1;else{if(v>=n)return t;i=t}}return g>C?C:g}getLinesViewportData(v,C){this.o(),v=v|0,C=C|0;const d=this.l,g=this.getLineNumberAtOrAfterVerticalOffset(v)|0,i=this.getVerticalOffsetForLineNumber(g)|0;let t=this.k|0,n=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const a=this.getWhitespacesCount()|0;let r,c;n===-1?(n=a,c=t+1,r=0):(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,r=this.getHeightForWhitespaceIndex(n)|0);let u=i,s=u;const l=5e5;let o=0;i>=l&&(o=Math.floor(i/l)*l,o=Math.floor(o/d)*d,s-=o);const h=[],f=v+(C-v)/2;let S=-1;for(let L=g;L<=t;L++){if(S===-1){const k=u,I=u+d;(k<=f&&f<I||k>f)&&(S=L)}for(u+=d,h[L-g]=s,s+=d;c===L;)s+=r,u+=r,n++,n>=a?c=t+1:(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,r=this.getHeightForWhitespaceIndex(n)|0);if(u>=C){t=L;break}}S===-1&&(S=t);const p=this.getVerticalOffsetForLineNumber(t)|0;let m=g,b=t;return m<b&&i<v&&m++,m<b&&p+d>C&&b--,{bigNumbersDelta:o,startLineNumber:g,endLineNumber:t,relativeVerticalOffset:h,centeredLineNumber:S,completelyVisibleStartLineNumber:m,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(v){this.o(),v=v|0;const C=this.getAfterLineNumberForWhitespaceIndex(v);let d;C>=1?d=this.l*C:d=0;let g;return v>0?g=this.getWhitespacesAccumulatedHeight(v-1):g=0,d+g+this.m}getWhitespaceIndexAtOrAfterVerticallOffset(v){this.o(),v=v|0;let C=0,d=this.getWhitespacesCount()-1;if(d<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(d),i=this.getHeightForWhitespaceIndex(d);if(v>=g+i)return-1;for(;C<d;){const t=Math.floor((C+d)/2),n=this.getVerticalOffsetForWhitespaceIndex(t),a=this.getHeightForWhitespaceIndex(t);if(v>=n+a)C=t+1;else{if(v>=n)return t;d=t}}return C}getWhitespaceAtVerticalOffset(v){this.o(),v=v|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(v);if(C<0||C>=this.getWhitespacesCount())return null;const d=this.getVerticalOffsetForWhitespaceIndex(C);if(d>v)return null;const g=this.getHeightForWhitespaceIndex(C),i=this.getIdForWhitespaceIndex(C),t=this.getAfterLineNumberForWhitespaceIndex(C);return{id:i,afterLineNumber:t,verticalOffset:d,height:g}}getWhitespaceViewportData(v,C){this.o(),v=v|0,C=C|0;const d=this.getWhitespaceIndexAtOrAfterVerticallOffset(v),g=this.getWhitespacesCount()-1;if(d<0)return[];const i=[];for(let t=d;t<=g;t++){const n=this.getVerticalOffsetForWhitespaceIndex(t),a=this.getHeightForWhitespaceIndex(t);if(n>=C)break;i.push({id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:a})}return i}getWhitespaces(){return this.o(),this.g.slice(0)}getWhitespacesCount(){return this.o(),this.g.length}getIdForWhitespaceIndex(v){return this.o(),v=v|0,this.g[v].id}getAfterLineNumberForWhitespaceIndex(v){return this.o(),v=v|0,this.g[v].afterLineNumber}getHeightForWhitespaceIndex(v){return this.o(),v=v|0,this.g[v].height}}D.c=0,e.LinesLayout=D}),define(ee[481],te([1,0,3]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class N{constructor(D,y,v,C){this.selections=D,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.whitespaceViewportData=v,this.a=C,this.visibleRange=new w.Range(y.startLineNumber,this.a.getLineMinColumn(y.startLineNumber),y.endLineNumber,this.a.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(D){return this.a.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this.a.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=N}),define(ee[80],te([1,0,9,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class E{constructor(n,a,r,c){this._viewportBrand=void 0,this.top=n|0,this.left=a|0,this.width=r|0,this.height=c|0}}e.Viewport=E;class D{constructor(n,a){this.tabSize=n,this.data=a}}e.MinimapLinesRenderingData=D;class y{constructor(n,a,r,c,u,s,l){this._viewLineDataBrand=void 0,this.content=n,this.continuesWithWrappedLine=a,this.minColumn=r,this.maxColumn=c,this.startVisibleColumn=u,this.tokens=s,this.inlineDecorations=l}}e.ViewLineData=y;class v{constructor(n,a,r,c,u,s,l,o,h,f){this.minColumn=n,this.maxColumn=a,this.content=r,this.continuesWithWrappedLine=c,this.isBasicASCII=v.isBasicASCII(r,s),this.containsRTL=v.containsRTL(r,this.isBasicASCII,u),this.tokens=l,this.inlineDecorations=o,this.tabSize=h,this.startVisibleColumn=f}static isBasicASCII(n,a){return a?w.isBasicASCII(n):!0}static containsRTL(n,a,r){return!a&&r?w.containsRTL(n):!1}}e.ViewLineRenderingData=v;class C{constructor(n,a,r){this.range=n,this.inlineClassName=a,this.type=r}}e.InlineDecoration=C;class d{constructor(n,a,r,c){this.startOffset=n,this.endOffset=a,this.inlineClassName=r,this.inlineClassNameAffectsLetterSpacing=c}toInlineDecoration(n){return new C(new N.Range(n,this.startOffset+1,n,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=d;class g{constructor(n,a){this._viewModelDecorationBrand=void 0,this.range=n,this.options=a}}e.ViewModelDecoration=g;class i{constructor(n,a,r){this.color=n,this.zIndex=a,this.data=r}static cmp(n,a){return n.zIndex===a.zIndex?n.color<a.color?-1:n.color>a.color?1:0:n.zIndex-a.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(ee[482],te([1,0,87,11,103,80]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function y(n,a){return n===null?a?C.INSTANCE:d.INSTANCE:new v(n,a)}e.createModelLineProjection=y;class v{constructor(a,r){this.a=a,this.b=r}isVisible(){return this.b}setVisible(a){return this.b=a,this}getProjectionData(){return this.a}getViewLineCount(){return this.b?this.a.getOutputLineCount():0}getViewLineContent(a,r,c){this.d();const u=c>0?this.a.breakOffsets[c-1]:0,s=this.a.breakOffsets[c];let l;if(this.a.injectionOffsets!==null){const o=this.a.injectionOffsets.map((f,S)=>new E.LineInjectedText(0,0,f+1,this.a.injectionOptions[S],0));l=E.LineInjectedText.applyInjectedText(a.getLineContent(r),o).substring(u,s)}else l=a.getValueInRange({startLineNumber:r,startColumn:u+1,endLineNumber:r,endColumn:s+1});return c>0&&(l=i(this.a.wrappedTextIndentLength)+l),l}getViewLineLength(a,r,c){return this.d(),this.a.getLineLength(c)}getViewLineMinColumn(a,r,c){return this.d(),this.a.getMinOutputOffset(c)+1}getViewLineMaxColumn(a,r,c){return this.d(),this.a.getMaxOutputOffset(c)+1}getViewLineData(a,r,c){const u=new Array;return this.getViewLinesData(a,r,c,1,0,[!0],u),u[0]}getViewLinesData(a,r,c,u,s,l,o){this.d();const h=this.a,f=h.injectionOffsets,S=h.injectionOptions;let p=null;if(f){p=[];let b=0,L=0;for(let k=0;k<h.getOutputLineCount();k++){const I=new Array;p[k]=I;const M=k>0?h.breakOffsets[k-1]:0,B=h.breakOffsets[k];for(;L<f.length;){const z=S[L].content.length,P=f[L]+b,A=P+z;if(P>B)break;if(M<A){const T=S[L];if(T.inlineClassName){const O=k>0?h.wrappedTextIndentLength:0,F=O+Math.max(P-M,0),W=O+Math.min(A-M,B);F!==W&&I.push(new D.SingleLineInlineDecoration(F,W,T.inlineClassName,T.inlineClassNameAffectsLetterSpacing))}}if(A<=B)b+=z,L++;else break}}}let m;f?m=a.tokenization.getLineTokens(r).withInserted(f.map((b,L)=>({offset:b,text:S[L].content,tokenMetadata:w.LineTokens.defaultTokenMetadata}))):m=a.tokenization.getLineTokens(r);for(let b=c;b<c+u;b++){const L=s+b-c;if(!l[L]){o[L]=null;continue}o[L]=this.c(m,p?p[b]:null,b)}}c(a,r,c){this.d();const u=this.a,s=c>0?u.wrappedTextIndentLength:0,l=c>0?u.breakOffsets[c-1]:0,o=u.breakOffsets[c],h=a.sliceAndInflate(l,o,s);let f=h.getLineContent();c>0&&(f=i(u.wrappedTextIndentLength)+f);const S=this.a.getMinOutputOffset(c)+1,p=f.length+1,m=c+1<this.getViewLineCount(),b=c===0?0:u.breakOffsetsVisibleColumn[c-1];return new D.ViewLineData(f,m,S,p,b,h,r)}getModelColumnOfViewPosition(a,r){return this.d(),this.a.translateToInputOffset(a,r-1)+1}getViewPositionOfModelPosition(a,r,c=2){return this.d(),this.a.translateToOutputPosition(r-1,c).toPosition(a)}getViewLineNumberOfModelPosition(a,r){this.d();const c=this.a.translateToOutputPosition(r-1);return a+c.outputLineIndex}normalizePosition(a,r,c){const u=r.lineNumber-a;return this.a.normalizeOutputPosition(a,r.column-1,c).toPosition(u)}getInjectedTextAt(a,r){return this.a.getInjectedText(a,r-1)}d(){if(!this.b)throw new Error("Not supported")}}class C{constructor(){}isVisible(){return!0}setVisible(a){return a?this:d.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(a,r,c){return a.getLineContent(r)}getViewLineLength(a,r,c){return a.getLineLength(r)}getViewLineMinColumn(a,r,c){return a.getLineMinColumn(r)}getViewLineMaxColumn(a,r,c){return a.getLineMaxColumn(r)}getViewLineData(a,r,c){const u=a.tokenization.getLineTokens(r),s=u.getLineContent();return new D.ViewLineData(s,!1,1,s.length+1,0,u.inflate(),null)}getViewLinesData(a,r,c,u,s,l,o){if(!l[s]){o[s]=null;return}o[s]=this.getViewLineData(a,r,0)}getModelColumnOfViewPosition(a,r){return r}getViewPositionOfModelPosition(a,r){return new N.Position(a,r)}getViewLineNumberOfModelPosition(a,r){return a}normalizePosition(a,r,c){return r}getInjectedTextAt(a,r){return null}}C.INSTANCE=new C;class d{constructor(){}isVisible(){return!1}setVisible(a){return a?C.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(a,r,c){throw new Error("Not supported")}getViewLineLength(a,r,c){throw new Error("Not supported")}getViewLineMinColumn(a,r,c){throw new Error("Not supported")}getViewLineMaxColumn(a,r,c){throw new Error("Not supported")}getViewLineData(a,r,c){throw new Error("Not supported")}getViewLinesData(a,r,c,u,s,l,o){throw new Error("Not supported")}getModelColumnOfViewPosition(a,r){throw new Error("Not supported")}getViewPositionOfModelPosition(a,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(a,r){throw new Error("Not supported")}normalizePosition(a,r,c){throw new Error("Not supported")}getInjectedTextAt(a,r){throw new Error("Not supported")}}d.INSTANCE=new d;const g=[""];function i(n){if(n>=g.length)for(let a=1;a<=n;a++)g[a]=t(a);return g[n]}function t(n){return new Array(n+1).join(" ")}}),define(ee[483],te([1,0,9,113,103,255]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(u){return new y(u.get(127),u.get(126))}constructor(u,s){this.a=new v(u,s)}createLineBreaksComputer(u,s,l,o,h){const f=[],S=[],p=[];return{addRequest:(m,b,L)=>{f.push(m),S.push(b),p.push(L)},finalize:()=>{const m=u.typicalFullwidthCharacterWidth/u.typicalHalfwidthCharacterWidth,b=[];for(let L=0,k=f.length;L<k;L++){const I=S[L],M=p[L];M&&!M.injectionOptions&&!I?b[L]=g(this.a,M,f[L],s,l,m,o,h):b[L]=i(this.a,f[L],I,s,l,m,o,h)}return C.length=0,d.length=0,b}}}}e.MonospaceLineBreaksComputerFactory=y;class v extends N.CharacterClassifier{constructor(u,s){super(0);for(let l=0;l<u.length;l++)this.set(u.charCodeAt(l),1);for(let l=0;l<s.length;l++)this.set(s.charCodeAt(l),2)}get(u){return u>=0&&u<256?this.a[u]:u>=12352&&u<=12543||u>=13312&&u<=19903||u>=19968&&u<=40959?3:this.b.get(u)||this.c}}let C=[],d=[];function g(c,u,s,l,o,h,f,S){if(o===-1)return null;const p=s.length;if(p<=1)return null;const m=S==="keepAll",b=u.breakOffsets,L=u.breakOffsetsVisibleColumn,k=r(s,l,o,h,f),I=o-k,M=C,B=d;let z=0,P=0,A=0,T=o;const O=b.length;let F=0;if(F>=0){let W=Math.abs(L[F]-T);for(;F+1<O;){const V=Math.abs(L[F+1]-T);if(V>=W)break;W=V,F++}}for(;F<O;){let W=F<0?0:b[F],V=F<0?0:L[F];P>W&&(W=P,V=A);let R=0,$=0,X=0,ne=0;if(V<=T){let ie=V,le=W===0?0:s.charCodeAt(W-1),J=W===0?0:c.get(le),x=!0;for(let q=W;q<p;q++){const Y=q,Q=s.charCodeAt(q);let re,oe;if(w.isHighSurrogate(Q)?(q++,re=0,oe=2):(re=c.get(Q),oe=t(Q,ie,l,h)),Y>P&&a(le,J,Q,re,m)&&(R=Y,$=ie),ie+=oe,ie>T){Y>P?(X=Y,ne=ie-oe):(X=q+1,ne=ie),ie-$>I&&(R=0),x=!1;break}le=Q,J=re}if(x){z>0&&(M[z]=b[b.length-1],B[z]=L[b.length-1],z++);break}}if(R===0){let ie=V,le=s.charCodeAt(W),J=c.get(le),x=!1;for(let q=W-1;q>=P;q--){const Y=q+1,Q=s.charCodeAt(q);if(Q===9){x=!0;break}let re,oe;if(w.isLowSurrogate(Q)?(q--,re=0,oe=2):(re=c.get(Q),oe=w.isFullWidthCharacter(Q)?h:1),ie<=T){if(X===0&&(X=Y,ne=ie),ie<=T-I)break;if(a(Q,re,le,J,m)){R=Y,$=ie;break}}ie-=oe,le=Q,J=re}if(R!==0){const q=I-(ne-$);if(q<=l){const Y=s.charCodeAt(X);let Q;w.isHighSurrogate(Y)?Q=2:Q=t(Y,ne,l,h),q-Q<0&&(R=0)}}if(x){F--;continue}}if(R===0&&(R=X,$=ne),R<=P){const ie=s.charCodeAt(P);w.isHighSurrogate(ie)?(R=P+2,$=A+2):(R=P+1,$=A+t(ie,A,l,h))}for(P=R,M[z]=R,A=$,B[z]=$,z++,T=$+I;F<0||F<O&&L[F]<$;)F++;let ae=Math.abs(L[F]-T);for(;F+1<O;){const ie=Math.abs(L[F+1]-T);if(ie>=ae)break;ae=ie,F++}}return z===0?null:(M.length=z,B.length=z,C=u.breakOffsets,d=u.breakOffsetsVisibleColumn,u.breakOffsets=M,u.breakOffsetsVisibleColumn=B,u.wrappedTextIndentLength=k,u)}function i(c,u,s,l,o,h,f,S){const p=E.LineInjectedText.applyInjectedText(u,s);let m,b;if(s&&s.length>0?(m=s.map($=>$.options),b=s.map($=>$.column-1)):(m=null,b=null),o===-1)return m?new D.ModelLineProjectionData(b,m,[p.length],[],0):null;const L=p.length;if(L<=1)return m?new D.ModelLineProjectionData(b,m,[p.length],[],0):null;const k=S==="keepAll",I=r(p,l,o,h,f),M=o-I,B=[],z=[];let P=0,A=0,T=0,O=o,F=p.charCodeAt(0),W=c.get(F),V=t(F,0,l,h),R=1;w.isHighSurrogate(F)&&(V+=1,F=p.charCodeAt(1),W=c.get(F),R++);for(let $=R;$<L;$++){const X=$,ne=p.charCodeAt($);let ae,ie;w.isHighSurrogate(ne)?($++,ae=0,ie=2):(ae=c.get(ne),ie=t(ne,V,l,h)),a(F,W,ne,ae,k)&&(A=X,T=V),V+=ie,V>O&&((A===0||V-T>M)&&(A=X,T=V-ie),B[P]=A,z[P]=T,P++,O=T+M,A=0),F=ne,W=ae}return P===0&&(!s||s.length===0)?null:(B[P]=L,z[P]=V,new D.ModelLineProjectionData(b,m,B,z,I))}function t(c,u,s,l){return c===9?s-u%s:w.isFullWidthCharacter(c)||c<32?l:1}function n(c,u){return u-c%u}function a(c,u,s,l,o){return s!==32&&(u===2&&l!==2||u!==1&&l===1||!o&&u===3&&l!==2||!o&&l===3&&u!==1)}function r(c,u,s,l,o){let h=0;if(o!==0){const f=w.firstNonWhitespaceIndex(c);if(f!==-1){for(let p=0;p<f;p++)h+=c.charCodeAt(p)===9?n(h,u):1;const S=o===3?2:o===2?1:0;for(let p=0;p<S;p++)h+=n(h,u);h+l>s&&(h=0)}}return h}}),define(ee[259],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class w{constructor(y,v,C){this._colorZoneBrand=void 0,this.from=y|0,this.to=v|0,this.colorId=C|0}static compare(y,v){return y.colorId===v.colorId?y.from===v.from?y.to-v.to:y.from-v.from:y.colorId-v.colorId}}e.ColorZone=w;class N{constructor(y,v,C,d){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=v,this.heightInLines=C,this.color=d,this.c=null}static compare(y,v){return y.color===v.color?y.startLineNumber===v.startLineNumber?y.heightInLines===v.heightInLines?y.endLineNumber-v.endLineNumber:y.heightInLines-v.heightInLines:y.startLineNumber-v.startLineNumber:y.color<v.color?-1:1}setColorZone(y){this.c=y}getColorZones(){return this.c}}e.OverviewRulerZone=N;class E{constructor(y){this.c=y,this.d=[],this.e=!1,this.f=0,this.g=0,this.h=0,this.j=0,this.k=1,this.l=0,this.m=Object.create(null),this.n=[]}getId2Color(){return this.n}setZones(y){this.d=y,this.d.sort(N.compare)}setLineHeight(y){return this.f===y?!1:(this.f=y,this.e=!0,!0)}setPixelRatio(y){this.k=y,this.e=!0}getDOMWidth(){return this.g}getCanvasWidth(){return this.g*this.k}setDOMWidth(y){return this.g===y?!1:(this.g=y,this.e=!0,!0)}getDOMHeight(){return this.h}getCanvasHeight(){return this.h*this.k}setDOMHeight(y){return this.h===y?!1:(this.h=y,this.e=!0,!0)}getOuterHeight(){return this.j}setOuterHeight(y){return this.j===y?!1:(this.j=y,this.e=!0,!0)}resolveColorZones(){const y=this.e,v=Math.floor(this.f),C=Math.floor(this.getCanvasHeight()),d=Math.floor(this.j),g=C/d,i=Math.floor(4*this.k/2),t=[];for(let n=0,a=this.d.length;n<a;n++){const r=this.d[n];if(!y){const m=r.getColorZones();if(m){t.push(m);continue}}const c=this.c(r.startLineNumber),u=r.heightInLines===0?this.c(r.endLineNumber)+v:c+r.heightInLines*v,s=Math.floor(g*c),l=Math.floor(g*u);let o=Math.floor((s+l)/2),h=l-o;h<i&&(h=i),o-h<0&&(o=h),o+h>C&&(o=C-h);const f=r.color;let S=this.m[f];S||(S=++this.l,this.m[f]=S,this.n[S]=f);const p=new w(o-h,o+h,S);r.setColorZone(p),t.push(p)}return this.e=!1,t.sort(w.compare),t}}e.OverviewZoneManager=E}),define(ee[484],te([1,0,35,259,134]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends E.ViewEventHandler{constructor(v,C){super(),this.a=v;const d=this.a.configuration.options;this.b=(0,w.createFastDomNode)(document.createElement("canvas")),this.b.setClassName(C),this.b.setPosition("absolute"),this.b.setLayerHinting(!0),this.b.setContain("strict"),this.c=new N.OverviewZoneManager(g=>this.a.viewLayout.getVerticalOffsetForLineNumber(g)),this.c.setDOMWidth(0),this.c.setDOMHeight(0),this.c.setOuterHeight(this.a.viewLayout.getScrollHeight()),this.c.setLineHeight(d.get(63)),this.c.setPixelRatio(d.get(136)),this.a.addEventHandler(this)}dispose(){this.a.removeEventHandler(this),super.dispose()}onConfigurationChanged(v){const C=this.a.configuration.options;return v.hasChanged(63)&&(this.c.setLineHeight(C.get(63)),this.g()),v.hasChanged(136)&&(this.c.setPixelRatio(C.get(136)),this.b.setWidth(this.c.getDOMWidth()),this.b.setHeight(this.c.getDOMHeight()),this.b.domNode.width=this.c.getCanvasWidth(),this.b.domNode.height=this.c.getCanvasHeight(),this.g()),!0}onFlushed(v){return this.g(),!0}onScrollChanged(v){return v.scrollHeightChanged&&(this.c.setOuterHeight(v.scrollHeight),this.g()),!0}onZonesChanged(v){return this.g(),!0}getDomNode(){return this.b.domNode}setLayout(v){this.b.setTop(v.top),this.b.setRight(v.right);let C=!1;C=this.c.setDOMWidth(v.width)||C,C=this.c.setDOMHeight(v.height)||C,C&&(this.b.setWidth(this.c.getDOMWidth()),this.b.setHeight(this.c.getDOMHeight()),this.b.domNode.width=this.c.getCanvasWidth(),this.b.domNode.height=this.c.getCanvasHeight(),this.g())}setZones(v){this.c.setZones(v),this.g()}g(){if(this.c.getOuterHeight()===0)return!1;const v=this.c.getCanvasWidth(),C=this.c.getCanvasHeight(),d=this.c.resolveColorZones(),g=this.c.getId2Color(),i=this.b.domNode.getContext("2d");return i.clearRect(0,0,v,C),d.length>0&&this.j(i,d,g,v),!0}j(v,C,d,g){let i=0,t=0,n=0;for(const a of C){const r=a.colorId,c=a.from,u=a.to;r!==i?(v.fillRect(0,t,g,n-t),i=r,v.fillStyle=d[i],t=c,n=u):n>=c?n=Math.max(n,u):(v.fillRect(0,t,g,n-t),t=c,n=u)}v.fillRect(0,t,g,n-t)}}e.OverviewRuler=D}),define(ee[485],te([1,0,445]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class N{constructor(D,y,v){this.configuration=D,this.theme=new w.EditorTheme(y),this.viewModel=v,this.viewLayout=v.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=N}),define(ee[486],te([1,0,3,22]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class E{constructor(y,v){this.a=y,this.b=v}getEditOperations(y,v){if(this.a.startLineNumber!==this.a.endLineNumber||this.a.isEmpty())return;const C=this.a.startLineNumber,d=this.a.startColumn,g=this.a.endColumn;if(!(this.b&&d===1)&&!(!this.b&&g===y.getLineMaxColumn(C)))if(this.b){const i=new w.Range(C,d-1,C,d),t=y.getValueInRange(i);v.addEditOperation(i,null),v.addEditOperation(new w.Range(C,g,C,g),t)}else{const i=new w.Range(C,g,C,g+1),t=y.getValueInRange(i);v.addEditOperation(i,null),v.addEditOperation(new w.Range(C,d,C,d),t)}}computeCursorState(y,v){return this.b?new N.Selection(this.a.startLineNumber,this.a.startColumn-1,this.a.endLineNumber,this.a.endColumn-1):new N.Selection(this.a.startLineNumber,this.a.startColumn+1,this.a.endLineNumber,this.a.endColumn+1)}}e.MoveCaretCommand=E}),define(ee[118],te([1,0,13]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class N{constructor(i){this.value=i}equals(i){return this.value===i.value}contains(i){return this.equals(i)||this.value===""||i.value.startsWith(this.value+N.a)}intersects(i){return this.contains(i)||i.contains(this)}append(i){return new N(this.value+N.a+i)}}N.a=".",N.None=new N("@@none@@"),N.Empty=new N(""),N.QuickFix=new N("quickfix"),N.Refactor=new N("refactor"),N.RefactorExtract=N.Refactor.append("extract"),N.RefactorInline=N.Refactor.append("inline"),N.RefactorMove=N.Refactor.append("move"),N.RefactorRewrite=N.Refactor.append("rewrite"),N.Source=new N("source"),N.SourceOrganizeImports=N.Source.append("organizeImports"),N.SourceFixAll=N.Source.append("fixAll"),N.SurroundWith=N.Refactor.append("surround"),e.CodeActionKind=N;var E;(function(g){g.Refactor="refactor",g.RefactorPreview="refactor preview",g.Lightbulb="lightbulb",g.Default="other (default)",g.SourceAction="source action",g.QuickFix="quick fix action",g.FixAll="fix all",g.OrganizeImports="organize imports",g.AutoFix="auto fix",g.QuickFixHover="quick fix hover window",g.OnSave="save participants",g.ProblemsView="problems view"})(E=e.CodeActionTriggerSource||(e.CodeActionTriggerSource={}));function D(g,i){return!(g.include&&!g.include.intersects(i)||g.excludes&&g.excludes.some(t=>v(i,t,g.include))||!g.includeSourceActions&&N.Source.contains(i))}e.mayIncludeActionsOfKind=D;function y(g,i){const t=i.kind?new N(i.kind):void 0;return!(g.include&&(!t||!g.include.contains(t))||g.excludes&&t&&g.excludes.some(n=>v(t,n,g.include))||!g.includeSourceActions&&t&&N.Source.contains(t)||g.onlyIncludePreferredActions&&!i.isPreferred)}e.filtersAction=y;function v(g,i,t){return!(!i.contains(g)||t&&i.contains(t))}class C{static fromUser(i,t){return!i||typeof i!="object"?new C(t.kind,t.apply,!1):new C(C.b(i,t.kind),C.a(i,t.apply),C.c(i))}static a(i,t){switch(typeof i.apply=="string"?i.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static b(i,t){return typeof i.kind=="string"?new N(i.kind):t}static c(i){return typeof i.preferred=="boolean"?i.preferred:!1}constructor(i,t,n){this.kind=i,this.apply=t,this.preferred=n}}e.CodeActionCommandArgs=C;class d{constructor(i,t){this.action=i,this.provider=t}resolve(i){var t;return Le(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,i)}catch(a){(0,w.onUnexpectedExternalError)(a)}n&&(this.action.edit=n.edit)}return this})}}e.CodeActionItem=d}),define(ee[260],te([1,0,64,11,3,22]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(C,d,g){this.d=g,this.a=C,this.b=d,this.c=null}static _haystackHasNeedleAtOffset(C,d,g){if(g<0)return!1;const i=d.length,t=C.length;if(g+i>t)return!1;for(let n=0;n<i;n++){const a=C.charCodeAt(g+n),r=d.charCodeAt(n);if(a!==r&&!(a>=65&&a<=90&&a+32===r)&&!(r>=65&&r<=90&&r+32===a))return!1}return!0}e(C,d,g,i,t,n){const a=C.startLineNumber,r=C.startColumn,c=C.endLineNumber,u=C.endColumn,s=t.getLineContent(a),l=t.getLineContent(c);let o=s.lastIndexOf(d,r-1+d.length),h=l.indexOf(g,u-1-g.length);if(o!==-1&&h!==-1)if(a===c)s.substring(o+d.length,h).indexOf(g)>=0&&(o=-1,h=-1);else{const S=s.substring(o+d.length),p=l.substring(0,h);(S.indexOf(g)>=0||p.indexOf(g)>=0)&&(o=-1,h=-1)}let f;o!==-1&&h!==-1?(i&&o+d.length<s.length&&s.charCodeAt(o+d.length)===32&&(d=d+" "),i&&h>0&&l.charCodeAt(h-1)===32&&(g=" "+g,h-=1),f=y._createRemoveBlockCommentOperations(new E.Range(a,o+d.length+1,c,h+1),d,g)):(f=y._createAddBlockCommentOperations(C,d,g,this.b),this.c=f.length===1?g:null);for(const S of f)n.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(C,d,g){const i=[];return E.Range.isEmpty(C)?i.push(w.EditOperation.delete(new E.Range(C.startLineNumber,C.startColumn-d.length,C.endLineNumber,C.endColumn+g.length))):(i.push(w.EditOperation.delete(new E.Range(C.startLineNumber,C.startColumn-d.length,C.startLineNumber,C.startColumn))),i.push(w.EditOperation.delete(new E.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn+g.length)))),i}static _createAddBlockCommentOperations(C,d,g,i){const t=[];return E.Range.isEmpty(C)?t.push(w.EditOperation.replace(new E.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),d+"  "+g)):(t.push(w.EditOperation.insert(new N.Position(C.startLineNumber,C.startColumn),d+(i?" ":""))),t.push(w.EditOperation.insert(new N.Position(C.endLineNumber,C.endColumn),(i?" ":"")+g))),t}getEditOperations(C,d){const g=this.a.startLineNumber,i=this.a.startColumn;C.tokenization.tokenizeIfCheap(g);const t=C.getLanguageIdAtPosition(g,i),n=this.d.getLanguageConfiguration(t).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this.e(this.a,n.blockCommentStartToken,n.blockCommentEndToken,this.b,C,d)}computeCursorState(C,d){const g=d.getInverseEditOperations();if(g.length===2){const i=g[0],t=g[1];return new D.Selection(i.range.endLineNumber,i.range.endColumn,t.range.startLineNumber,t.range.startColumn)}else{const i=g[0].range,t=this.c?-this.c.length-1:0;return new D.Selection(i.endLineNumber,i.endColumn+t,i.endLineNumber,i.endColumn+t)}}}e.BlockCommentCommand=y}),define(ee[487],te([1,0,9,64,11,3,22,260]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class C{constructor(g,i,t,n,a,r,c){this.l=g,this.a=i,this.b=t,this.c=n,this.d=a,this.f=null,this.g=0,this.h=!1,this.e=r,this.k=c||!1}static m(g,i,t,n){g.tokenization.tokenizeIfCheap(i);const a=g.getLanguageIdAtPosition(i,1),r=n.getLanguageConfiguration(a).comments,c=r?r.lineCommentToken:null;if(!c)return null;const u=[];for(let s=0,l=t-i+1;s<l;s++)u[s]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return u}static _analyzeLines(g,i,t,n,a,r,c,u){let s=!0,l;g===0?l=!0:g===1?l=!1:l=!0;for(let o=0,h=n.length;o<h;o++){const f=n[o],S=a+o;if(S===a&&c){f.ignore=!0;continue}const p=t.getLineContent(S),m=w.firstNonWhitespaceIndex(p);if(m===-1){f.ignore=r,f.commentStrOffset=p.length;continue}if(s=!1,f.ignore=!1,f.commentStrOffset=m,l&&!v.BlockCommentCommand._haystackHasNeedleAtOffset(p,f.commentStr,m)&&(g===0?l=!1:g===1||(f.ignore=!0)),l&&i){const b=m+f.commentStrLength;b<p.length&&p.charCodeAt(b)===32&&(f.commentStrLength+=1)}}if(g===0&&s){l=!1;for(let o=0,h=n.length;o<h;o++)n[o].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:n}}static _gatherPreflightData(g,i,t,n,a,r,c,u){const s=C.m(t,n,a,u);return s===null?{supported:!1}:C._analyzeLines(g,i,t,s,n,r,c,u)}n(g,i,t,n){let a;t.shouldRemoveComments?a=C._createRemoveLineCommentsOperations(t.lines,n.startLineNumber):(C._normalizeInsertionPoint(g,t.lines,n.startLineNumber,this.b),a=this.q(t.lines,n.startLineNumber));const r=new E.Position(n.positionLineNumber,n.positionColumn);for(let c=0,u=a.length;c<u;c++)i.addEditOperation(a[c].range,a[c].text),D.Range.isEmpty(a[c].range)&&D.Range.getStartPosition(a[c].range).equals(r)&&g.getLineContent(r.lineNumber).length+1===r.column&&(this.g=(a[c].text||"").length);this.f=i.trackSelection(n)}o(g,i,t,n){let a=i.startLineNumber,r=i.endLineNumber;const c=n.length+Math.max(g.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn);let u=g.getLineContent(a).lastIndexOf(t,c-1),s=g.getLineContent(r).indexOf(n,i.endColumn-1-t.length);return u!==-1&&s===-1&&(s=g.getLineContent(a).indexOf(n,u+t.length),r=a),u===-1&&s!==-1&&(u=g.getLineContent(r).lastIndexOf(t,s),a=r),i.isEmpty()&&(u===-1||s===-1)&&(u=g.getLineContent(a).indexOf(t),u!==-1&&(s=g.getLineContent(a).indexOf(n,u+t.length))),u!==-1&&g.getLineContent(a).charCodeAt(u+t.length)===32&&(t+=" "),s!==-1&&g.getLineContent(r).charCodeAt(s-1)===32&&(n=" "+n,s-=1),u!==-1&&s!==-1?v.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(a,u+t.length+1,r,s+1),t,n):null}p(g,i,t){g.tokenization.tokenizeIfCheap(t.startLineNumber);const n=g.getLanguageIdAtPosition(t.startLineNumber,1),a=this.l.getLanguageConfiguration(n).comments;if(!a||!a.blockCommentStartToken||!a.blockCommentEndToken)return;const r=a.blockCommentStartToken,c=a.blockCommentEndToken;let u=this.o(g,t,r,c);if(!u){if(t.isEmpty()){const s=g.getLineContent(t.startLineNumber);let l=w.firstNonWhitespaceIndex(s);l===-1&&(l=s.length),u=v.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(t.startLineNumber,l+1,t.startLineNumber,s.length+1),r,c,this.d)}else u=v.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(t.startLineNumber,g.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,g.getLineMaxColumn(t.endLineNumber)),r,c,this.d);u.length===1&&(this.g=r.length+1)}this.f=i.trackSelection(t);for(const s of u)i.addEditOperation(s.range,s.text)}getEditOperations(g,i){let t=this.a;if(this.h=!1,t.startLineNumber===t.endLineNumber&&this.k){i.addEditOperation(new D.Range(t.startLineNumber,g.getLineMaxColumn(t.startLineNumber),t.startLineNumber+1,1),t.startLineNumber===g.getLineCount()?"":`
`),this.f=i.trackSelection(t);return}t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this.h=!0,t=t.setEndPosition(t.endLineNumber-1,g.getLineMaxColumn(t.endLineNumber-1)));const n=C._gatherPreflightData(this.c,this.d,g,t.startLineNumber,t.endLineNumber,this.e,this.k,this.l);return n.supported?this.n(g,i,n,t):this.p(g,i,t)}computeCursorState(g,i){let t=i.getTrackedSelection(this.f);return this.h&&(t=t.setEndPosition(t.endLineNumber+1,1)),new y.Selection(t.selectionStartLineNumber,t.selectionStartColumn+this.g,t.positionLineNumber,t.positionColumn+this.g)}static _createRemoveLineCommentsOperations(g,i){const t=[];for(let n=0,a=g.length;n<a;n++){const r=g[n];r.ignore||t.push(N.EditOperation.delete(new D.Range(i+n,r.commentStrOffset+1,i+n,r.commentStrOffset+r.commentStrLength+1)))}return t}q(g,i){const t=[],n=this.d?" ":"";for(let a=0,r=g.length;a<r;a++){const c=g[a];c.ignore||t.push(N.EditOperation.insert(new E.Position(i+a,c.commentStrOffset+1),c.commentStr+n))}return t}static r(g,i,t,n){return t?g+(i-g%i):g+n}static _normalizeInsertionPoint(g,i,t,n){let a=1073741824,r,c;for(let u=0,s=i.length;u<s;u++){if(i[u].ignore)continue;const l=g.getLineContent(t+u);let o=0;for(let h=0,f=i[u].commentStrOffset;o<a&&h<f;h++)o=C.r(o,n,l.charCodeAt(h)===9,1);o<a&&(a=o)}a=Math.floor(a/n)*n;for(let u=0,s=i.length;u<s;u++){if(i[u].ignore)continue;const l=g.getLineContent(t+u);let o=0;for(r=0,c=i[u].commentStrOffset;o<a&&r<c;r++)o=C.r(o,n,l.charCodeAt(r)===9,1);o>a?i[u].commentStrOffset=r-1:i[u].commentStrOffset=r}}}e.LineCommentCommand=C}),define(ee[488],te([1,0,3,22]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class E{constructor(y,v,C){this.a=y,this.b=v,this.d=C,this.c=null}getEditOperations(y,v){const C=y.getValueInRange(this.a);if(this.d||v.addEditOperation(this.a,null),v.addEditOperation(new w.Range(this.b.lineNumber,this.b.column,this.b.lineNumber,this.b.column),C),this.a.containsPosition(this.b)&&!(this.d&&(this.a.getEndPosition().equals(this.b)||this.a.getStartPosition().equals(this.b)))){this.c=this.a;return}if(this.d){this.c=new N.Selection(this.b.lineNumber,this.b.column,this.a.endLineNumber-this.a.startLineNumber+this.b.lineNumber,this.a.startLineNumber===this.a.endLineNumber?this.b.column+this.a.endColumn-this.a.startColumn:this.a.endColumn);return}if(this.b.lineNumber>this.a.endLineNumber){this.c=new N.Selection(this.b.lineNumber-this.a.endLineNumber+this.a.startLineNumber,this.b.column,this.b.lineNumber,this.a.startLineNumber===this.a.endLineNumber?this.b.column+this.a.endColumn-this.a.startColumn:this.a.endColumn);return}if(this.b.lineNumber<this.a.endLineNumber){this.c=new N.Selection(this.b.lineNumber,this.b.column,this.b.lineNumber+this.a.endLineNumber-this.a.startLineNumber,this.a.startLineNumber===this.a.endLineNumber?this.b.column+this.a.endColumn-this.a.startColumn:this.a.endColumn);return}this.a.endColumn<=this.b.column?this.c=new N.Selection(this.b.lineNumber-this.a.endLineNumber+this.a.startLineNumber,this.a.startLineNumber===this.a.endLineNumber?this.b.column-this.a.endColumn+this.a.startColumn:this.b.column-this.a.endColumn+this.a.startColumn,this.b.lineNumber,this.a.startLineNumber===this.a.endLineNumber?this.b.column:this.a.endColumn):this.c=new N.Selection(this.b.lineNumber-this.a.endLineNumber+this.a.startLineNumber,this.b.column,this.b.lineNumber,this.b.column+this.a.endColumn-this.a.startColumn)}computeCursorState(y,v){return this.c}}e.DragAndDropCommand=E}),define(ee[489],te([1,0,3]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class N{constructor(D,y,v){this.a=D,this.c=y,this.d=v,this.b=null}getEditOperations(D,y){if(this.c.length>0){const v=[];for(let g=0;g<this.c.length;g++)v.push({range:this.c[g],text:this.d[g]});v.sort((g,i)=>w.Range.compareRangesUsingStarts(g.range,i.range));const C=[];let d=v[0];for(let g=1;g<v.length;g++)d.range.endLineNumber===v[g].range.startLineNumber&&d.range.endColumn===v[g].range.startColumn?(d.range=d.range.plusRange(v[g].range),d.text=d.text+v[g].text):(C.push(d),d=v[g]);C.push(d);for(const g of C)y.addEditOperation(g.range,g.text)}this.b=y.trackSelection(this.a)}computeCursorState(D,y){return y.getTrackedSelection(this.b)}}e.ReplaceAllCommand=N}),define(ee[490],te([1,0,348]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class N{constructor(g){this.staticValue=g,this.kind=0}}class E{constructor(g){this.pieces=g,this.kind=1}}class D{static fromStaticValue(g){return new D([y.staticValue(g)])}get hasReplacementPatterns(){return this.a.kind===1}constructor(g){!g||g.length===0?this.a=new N(""):g.length===1&&g[0].staticValue!==null?this.a=new N(g[0].staticValue):this.a=new E(g)}buildReplaceString(g,i){if(this.a.kind===0)return i?(0,w.buildReplaceStringWithCasePreserved)(g,this.a.staticValue):this.a.staticValue;let t="";for(let n=0,a=this.a.pieces.length;n<a;n++){const r=this.a.pieces[n];if(r.staticValue!==null){t+=r.staticValue;continue}let c=D.b(r.matchIndex,g);if(r.caseOps!==null&&r.caseOps.length>0){const u=[],s=r.caseOps.length;let l=0;for(let o=0,h=c.length;o<h;o++){if(l>=s){u.push(c.slice(o));break}switch(r.caseOps[l]){case"U":u.push(c[o].toUpperCase());break;case"u":u.push(c[o].toUpperCase()),l++;break;case"L":u.push(c[o].toLowerCase());break;case"l":u.push(c[o].toLowerCase()),l++;break;default:u.push(c[o])}}c=u.join("")}t+=c}return t}static b(g,i){if(i===null)return"";if(g===0)return i[0];let t="";for(;g>0;){if(g<i.length)return(i[g]||"")+t;t=String(g%10)+t,g=Math.floor(g/10)}return"$"+t}}e.ReplacePattern=D;class y{static staticValue(g){return new y(g,-1,null)}static caseOps(g,i){return new y(null,g,i)}constructor(g,i,t){this.staticValue=g,this.matchIndex=i,!t||t.length===0?this.caseOps=null:this.caseOps=t.slice(0)}}e.ReplacePiece=y;class v{constructor(g){this.a=g,this.b=0,this.c=[],this.d=0,this.e=""}emitUnchanged(g){this.f(this.a.substring(this.b,g)),this.b=g}emitStatic(g,i){this.f(g),this.b=i}f(g){g.length!==0&&(this.e+=g)}emitMatchIndex(g,i,t){this.e.length!==0&&(this.c[this.d++]=y.staticValue(this.e),this.e=""),this.c[this.d++]=y.caseOps(g,t),this.b=i}finalize(){return this.emitUnchanged(this.a.length),this.e.length!==0&&(this.c[this.d++]=y.staticValue(this.e),this.e=""),new D(this.c)}}function C(d){if(!d||d.length===0)return new D(null);const g=[],i=new v(d);for(let t=0,n=d.length;t<n;t++){const a=d.charCodeAt(t);if(a===92){if(t++,t>=n)break;const r=d.charCodeAt(t);switch(r){case 92:i.emitUnchanged(t-1),i.emitStatic("\\",t+1);break;case 110:i.emitUnchanged(t-1),i.emitStatic(`
`,t+1);break;case 116:i.emitUnchanged(t-1),i.emitStatic("	",t+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(t-1),i.emitStatic("",t+1),g.push(String.fromCharCode(r));break}continue}if(a===36){if(t++,t>=n)break;const r=d.charCodeAt(t);if(r===36){i.emitUnchanged(t-1),i.emitStatic("$",t+1);continue}if(r===48||r===38){i.emitUnchanged(t-1),i.emitMatchIndex(0,t+1,g),g.length=0;continue}if(49<=r&&r<=57){let c=r-48;if(t+1<n){const u=d.charCodeAt(t+1);if(48<=u&&u<=57){t++,c=c*10+(u-48),i.emitUnchanged(t-2),i.emitMatchIndex(c,t+1,g),g.length=0;continue}}i.emitUnchanged(t-1),i.emitMatchIndex(c,t+1,g),g.length=0;continue}}}return i.finalize()}e.parseReplaceString=C}),define(ee[166],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const w=4278190080;class N{constructor(v){const C=Math.ceil(v/32);this.a=new Uint32Array(C)}get(v){const C=v/32|0,d=v%32;return(this.a[C]&1<<d)!==0}set(v,C){const d=v/32|0,g=v%32,i=this.a[d];C?this.a[d]=i|1<<g:this.a[d]=i&~(1<<g)}}class E{constructor(v,C,d){if(v.length!==C.length||v.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this.a=v,this.b=C,this.c=new N(v.length),this.d=new N(v.length),this.e=new N(v.length),this.g=d,this.f=!1}h(){if(!this.f){this.f=!0;const v=[],C=(d,g)=>{const i=v[v.length-1];return this.getStartLineNumber(i)<=d&&this.getEndLineNumber(i)>=g};for(let d=0,g=this.a.length;d<g;d++){const i=this.a[d],t=this.b[d];if(i>e.MAX_LINE_NUMBER||t>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;v.length>0&&!C(i,t);)v.pop();const n=v.length>0?v[v.length-1]:-1;v.push(d),this.a[d]=i+((n&255)<<24),this.b[d]=t+((n&65280)<<16)}}}get length(){return this.a.length}getStartLineNumber(v){return this.a[v]&e.MAX_LINE_NUMBER}getEndLineNumber(v){return this.b[v]&e.MAX_LINE_NUMBER}getType(v){return this.g?this.g[v]:void 0}hasTypes(){return!!this.g}isCollapsed(v){return this.c.get(v)}setCollapsed(v,C){this.c.set(v,C)}j(v){return this.d.get(v)}k(v,C){return this.d.set(v,C)}l(v){return this.e.get(v)}m(v,C){return this.e.set(v,C)}getSource(v){return this.j(v)?1:this.l(v)?2:0}setSource(v,C){C===1?(this.k(v,!0),this.m(v,!1)):C===2?(this.k(v,!1),this.m(v,!0)):(this.k(v,!1),this.m(v,!1))}setCollapsedAllOfType(v,C){let d=!1;if(this.g)for(let g=0;g<this.g.length;g++)this.g[g]===v&&(this.setCollapsed(g,C),d=!0);return d}toRegion(v){return new D(this,v)}getParentIndex(v){this.h();const C=((this.a[v]&w)>>>24)+((this.b[v]&w)>>>16);return C===e.MAX_FOLDING_REGIONS?-1:C}contains(v,C){return this.getStartLineNumber(v)<=C&&this.getEndLineNumber(v)>=C}n(v){let C=0,d=this.a.length;if(d===0)return-1;for(;C<d;){const g=Math.floor((C+d)/2);v<this.getStartLineNumber(g)?d=g:C=g+1}return C-1}findRange(v){let C=this.n(v);if(C>=0){if(this.getEndLineNumber(C)>=v)return C;for(C=this.getParentIndex(C);C!==-1;){if(this.contains(C,v))return C;C=this.getParentIndex(C)}}return-1}toString(){const v=[];for(let C=0;C<this.length;C++)v[C]=`[${e.foldSourceAbbr[this.getSource(C)]}${this.isCollapsed(C)?"+":"-"}] ${this.getStartLineNumber(C)}/${this.getEndLineNumber(C)}`;return v.join(", ")}toFoldRange(v){return{startLineNumber:this.a[v]&e.MAX_LINE_NUMBER,endLineNumber:this.b[v]&e.MAX_LINE_NUMBER,type:this.g?this.g[v]:void 0,isCollapsed:this.isCollapsed(v),source:this.getSource(v)}}static fromFoldRanges(v){const C=v.length,d=new Uint32Array(C),g=new Uint32Array(C);let i=[],t=!1;for(let a=0;a<C;a++){const r=v[a];d[a]=r.startLineNumber,g[a]=r.endLineNumber,i.push(r.type),r.type&&(t=!0)}t||(i=void 0);const n=new E(d,g,i);for(let a=0;a<C;a++)v[a].isCollapsed&&n.setCollapsed(a,!0),n.setSource(a,v[a].source);return n}static sanitizeAndMerge(v,C,d){d=d??Number.MAX_VALUE;const g=(h,f)=>Array.isArray(h)?S=>S<f?h[S]:void 0:S=>S<f?h.toFoldRange(S):void 0,i=g(v,v.length),t=g(C,C.length);let n=0,a=0,r=i(0),c=t(0);const u=[];let s,l=0;const o=[];for(;r||c;){let h;if(c&&(!r||r.startLineNumber>=c.startLineNumber))r&&r.startLineNumber===c.startLineNumber?(c.source===1?h=c:(h=r,h.isCollapsed=c.isCollapsed&&r.endLineNumber===c.endLineNumber,h.source=0),r=i(++n)):(h=c,c.isCollapsed&&c.source===0&&(h.source=2)),c=t(++a);else{let f=a,S=c;for(;;){if(!S||S.startLineNumber>r.endLineNumber){h=r;break}if(S.source===1&&S.endLineNumber>r.endLineNumber)break;S=t(++f)}r=i(++n)}if(h){for(;s&&s.endLineNumber<h.startLineNumber;)s=u.pop();h.endLineNumber>h.startLineNumber&&h.startLineNumber>l&&h.endLineNumber<=d&&(!s||s.endLineNumber>=h.endLineNumber)&&(o.push(h),l=h.startLineNumber,s&&u.push(s),s=h)}}return o}}e.FoldingRegions=E;class D{constructor(v,C){this.a=v,this.b=C}get startLineNumber(){return this.a.getStartLineNumber(this.b)}get endLineNumber(){return this.a.getEndLineNumber(this.b)}get regionIndex(){return this.b}get parentIndex(){return this.a.getParentIndex(this.b)}get isCollapsed(){return this.a.isCollapsed(this.b)}containedBy(v){return v.startLineNumber<=this.startLineNumber&&v.endLineNumber>=this.endLineNumber}containsLine(v){return this.startLineNumber<=v&&v<=this.endLineNumber}}e.FoldingRegion=D}),define(ee[491],te([1,0,191,166]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.IndentRangeProvider=void 0;const E=5e3,D="indent";class y{constructor(i,t,n){this.a=i,this.b=t,this.c=n,this.id=D}dispose(){}compute(i){const t=this.b.getLanguageConfiguration(this.a.getLanguageId()).foldingRules,n=t&&!!t.offSide,a=t&&t.markers;return Promise.resolve(d(this.a,n,a,this.c))}}e.IndentRangeProvider=y;class v{constructor(i){this.a=[],this.b=[],this.c=[],this.d=0,this.e=i}insertFirst(i,t,n){if(i>N.MAX_LINE_NUMBER||t>N.MAX_LINE_NUMBER)return;const a=this.d;this.a[a]=i,this.b[a]=t,this.d++,n<1e3&&(this.c[n]=(this.c[n]||0)+1)}toIndentRanges(i){const t=this.e.limit;if(this.d<=t){this.e.report({limited:!1,computed:this.d});const n=new Uint32Array(this.d),a=new Uint32Array(this.d);for(let r=this.d-1,c=0;r>=0;r--,c++)n[c]=this.a[r],a[c]=this.b[r];return new N.FoldingRegions(n,a)}else{this.e.report({limited:t,computed:this.d});let n=0,a=this.c.length;for(let s=0;s<this.c.length;s++){const l=this.c[s];if(l){if(l+n>t){a=s;break}n+=l}}const r=i.getOptions().tabSize,c=new Uint32Array(t),u=new Uint32Array(t);for(let s=this.d-1,l=0;s>=0;s--){const o=this.a[s],h=i.getLineContent(o),f=(0,w.computeIndentLevel)(h,r);(f<a||f===a&&n++<t)&&(c[l]=o,u[l]=this.b[s],l++)}return new N.FoldingRegions(c,u)}}}const C={limit:E,report:()=>{}};function d(g,i,t,n=C){const a=g.getOptions().tabSize,r=new v(n);let c;t&&(c=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const u=[],s=g.getLineCount()+1;u.push({indent:-1,endAbove:s,line:s});for(let l=g.getLineCount();l>0;l--){const o=g.getLineContent(l),h=(0,w.computeIndentLevel)(o,a);let f=u[u.length-1];if(h===-1){i&&(f.endAbove=l);continue}let S;if(c&&(S=o.match(c)))if(S[1]){let p=u.length-1;for(;p>0&&u[p].indent!==-2;)p--;if(p>0){u.length=p+1,f=u[p],r.insertFirst(l,f.line,h),f.line=l,f.indent=h,f.endAbove=l;continue}}else{u.push({indent:-2,endAbove:l,line:l});continue}if(f.indent>h){do u.pop(),f=u[u.length-1];while(f.indent>h);const p=f.endAbove-1;p-l>=1&&r.insertFirst(l,p,h)}f.indent===h?f.endAbove=l:u.push({indent:h,endAbove:l,line:l})}return r.toIndentRanges(g)}e.computeRanges=d}),define(ee[492],te([1,0,13,2,166]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},y="syntax";class v{constructor(t,n,a,r,c){this.a=t,this.b=n,this.handleFoldingRangesChange=a,this.c=r,this.d=c,this.id=y,this.disposables=new N.DisposableStore,c&&this.disposables.add(c);for(const u of n)typeof u.onDidChange=="function"&&this.disposables.add(u.onDidChange(a))}compute(t){return C(this.b,this.a,t).then(n=>{var a,r;return n?g(n,this.c):(r=(a=this.d)===null||a===void 0?void 0:a.compute(t))!==null&&r!==void 0?r:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=v;function C(i,t,n){let a=null;const r=i.map((c,u)=>Promise.resolve(c.provideFoldingRanges(t,D,n)).then(s=>{if(!n.isCancellationRequested&&Array.isArray(s)){Array.isArray(a)||(a=[]);const l=t.getLineCount();for(const o of s)o.start>0&&o.end>o.start&&o.end<=l&&a.push({start:o.start,end:o.end,rank:u,kind:o.kind})}},w.onUnexpectedExternalError));return Promise.all(r).then(c=>a)}class d{constructor(t){this.a=[],this.b=[],this.c=[],this.d=[],this.e=[],this.f=0,this.g=t}add(t,n,a,r){if(t>E.MAX_LINE_NUMBER||n>E.MAX_LINE_NUMBER)return;const c=this.f;this.a[c]=t,this.b[c]=n,this.c[c]=r,this.e[c]=a,this.f++,r<30&&(this.d[r]=(this.d[r]||0)+1)}toIndentRanges(){const t=this.g.limit;if(this.f<=t){this.g.report({limited:!1,computed:this.f});const n=new Uint32Array(this.f),a=new Uint32Array(this.f);for(let r=0;r<this.f;r++)n[r]=this.a[r],a[r]=this.b[r];return new E.FoldingRegions(n,a,this.e)}else{this.g.report({limited:t,computed:this.f});let n=0,a=this.d.length;for(let s=0;s<this.d.length;s++){const l=this.d[s];if(l){if(l+n>t){a=s;break}n+=l}}const r=new Uint32Array(t),c=new Uint32Array(t),u=[];for(let s=0,l=0;s<this.f;s++){const o=this.c[s];(o<a||o===a&&n++<t)&&(r[l]=this.a[s],c[l]=this.b[s],u[l]=this.e[s],l++)}return new E.FoldingRegions(r,c,u)}}}function g(i,t){const n=i.sort((u,s)=>{let l=u.start-s.start;return l===0&&(l=u.rank-s.rank),l}),a=new d(t);let r;const c=[];for(const u of n)if(!r)r=u,a.add(u.start,u.end,u.kind&&u.kind.value,c.length);else if(u.start>r.start)if(u.end<=r.end)c.push(r),r=u,a.add(u.start,u.end,u.kind&&u.kind.value,c.length);else{if(u.start>r.end){do r=c.pop();while(r&&u.start>r.end);r&&c.push(r),r=u}a.add(u.start,u.end,u.kind&&u.kind.value,c.length)}return a.toIndentRanges()}e.sanitizeRanges=g}),define(ee[261],te([1,0,64,3,112]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static a(v,C){let d;const g=[];for(const i of C)typeof i.eol=="number"&&(d=i.eol),i.range&&typeof i.text=="string"&&g.push(i);return typeof d=="number"&&v.hasModel()&&v.getModel().pushEOL(d),g}static b(v,C){if(!v.hasModel())return!1;const d=v.getModel(),g=d.validateRange(C.range);return d.getFullModelRange().equalsRange(g)}static execute(v,C,d){d&&v.pushUndoStop();const g=E.StableEditorScrollState.capture(v),i=D.a(v,C);i.length===1&&D.b(v,i[0])?v.executeEdits("formatEditsCommand",i.map(t=>w.EditOperation.replace(N.Range.lift(t.range),t.text))):v.executeEdits("formatEditsCommand",i.map(t=>w.EditOperation.replaceMove(N.Range.lift(t.range),t.text))),d&&v.pushUndoStop(),g.restoreRelativeVerticalPositionOfCursor(v)}}e.FormattingEdit=D}),define(ee[94],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class w{constructor(D,y,v,C){this.priority=D,this.range=y,this.initialMousePosX=v,this.initialMousePosY=C,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,y){return D.type===1&&y.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=w;class N{constructor(D,y,v,C,d,g){this.priority=D,this.owner=y,this.range=v,this.initialMousePosX=C,this.initialMousePosY=d,this.supportsMarkerHover=g,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,y){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=N,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ee[493],te([1,0,22]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class N{constructor(D,y,v){this.a=D,this.b=y,this.c=v}getEditOperations(D,y){y.addTrackedEditOperation(this.a,this.c)}computeCursorState(D,y){const C=y.getInverseEditOperations()[0].range;return this.b.isEmpty()?new w.Selection(C.endLineNumber,Math.min(this.b.positionColumn,C.endColumn),C.endLineNumber,Math.min(this.b.positionColumn,C.endColumn)):new w.Selection(C.endLineNumber,C.endColumn-this.c.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=N}),define(ee[262],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function w(E,D){let y=0;for(let v=0;v<E.length;v++)E.charAt(v)==="	"?y+=D:y++;return y}e.getSpaceCnt=w;function N(E,D,y){E=E<0?0:E;let v="";if(!y){const C=Math.floor(E/D);E=E%D;for(let d=0;d<C;d++)v+="	"}for(let C=0;C<E;C++)v+=" ";return v}e.generateIndent=N}),define(ee[195],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ee[196],te([1,0,3]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function N(C,d){return{object:C,dispose:()=>d?.dispose()}}e.createDisposableRef=N;function E(C,d){const g=new D(C),i=d.map(t=>{const n=w.Range.lift(t.range);return{startOffset:g.getOffset(n.getStartPosition()),endOffset:g.getOffset(n.getEndPosition()),text:t.text}});i.sort((t,n)=>n.startOffset-t.startOffset);for(const t of i)C=C.substring(0,t.startOffset)+t.text+C.substring(t.endOffset);return C}e.applyEdits=E;class D{constructor(d){this.c=[],this.c.push(0);for(let g=0;g<d.length;g++)d.charAt(g)===`
`&&this.c.push(g+1)}getOffset(d){return this.c[d.lineNumber-1]+d.column-1}}const y=[];function v(){return y}e.getReadonlyEmptyArray=v}),define(ee[494],te([1,0,3,22]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class E{constructor(y,v,C){this.a=y,this.b=v,this.c=C||!1,this.d=0,this.e=null,this.f=0,this.g=0}getEditOperations(y,v){let C=this.a;this.f=0,this.g=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this.g=1,C=C.setEndPosition(C.endLineNumber-1,y.getLineMaxColumn(C.endLineNumber-1)));const d=[];for(let i=C.startLineNumber;i<=C.endLineNumber;i++)d.push(y.getLineContent(i));const g=d.join(`
`);g===""&&this.b&&(this.f++,this.g++),this.c?v.addEditOperation(new w.Range(C.endLineNumber,y.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===y.getLineCount()?"":`
`):this.b?v.addEditOperation(new w.Range(C.startLineNumber,1,C.startLineNumber,1),g+`
`):v.addEditOperation(new w.Range(C.endLineNumber,y.getLineMaxColumn(C.endLineNumber),C.endLineNumber,y.getLineMaxColumn(C.endLineNumber)),`
`+g),this.e=v.trackSelection(C),this.d=this.a.getDirection()}computeCursorState(y,v){let C=v.getTrackedSelection(this.e);if(this.f!==0||this.g!==0){let d=C.startLineNumber,g=C.startColumn,i=C.endLineNumber,t=C.endColumn;this.f!==0&&(d=d+this.f,g=1),this.g!==0&&(i=i+this.g,t=1),C=N.Selection.createWithDirection(d,g,i,t,this.d)}return C}}e.CopyLinesCommand=E}),define(ee[495],te([1,0,64,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class E{static getCollator(){return E.a||(E.a=new Intl.Collator),E.a}constructor(C,d){this.b=C,this.c=d,this.d=null}getEditOperations(C,d){const g=y(C,this.b,this.c);g&&d.addEditOperation(g.range,g.text),this.d=d.trackSelection(this.b)}computeCursorState(C,d){return d.getTrackedSelection(this.d)}static canRun(C,d,g){if(C===null)return!1;const i=D(C,d,g);if(!i)return!1;for(let t=0,n=i.before.length;t<n;t++)if(i.before[t]!==i.after[t])return!0;return!1}}E.a=null,e.SortLinesCommand=E;function D(v,C,d){const g=C.startLineNumber;let i=C.endLineNumber;if(C.endColumn===1&&i--,g>=i)return null;const t=[];for(let a=g;a<=i;a++)t.push(v.getLineContent(a));let n=t.slice(0);return n.sort(E.getCollator().compare),d===!0&&(n=n.reverse()),{startLineNumber:g,endLineNumber:i,before:t,after:n}}function y(v,C,d){const g=D(v,C,d);return g?w.EditOperation.replace(new N.Range(g.startLineNumber,1,g.endLineNumber,v.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(ee[263],te([1,0,58,11,3]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(v,C){return Le(this,void 0,void 0,function*(){const d=[];for(const g of C){const i=[];d.push(i);const t=new Map;yield new Promise(n=>D.b(n,0,v,g,t)),yield new Promise(n=>D.c(n,0,v,g,t,i))}return d})}static b(v,C,d,g,i){const t=new Map,n=Date.now();for(;;){if(C>=D.a){v();break}if(!g){v();break}const a=d.bracketPairs.findNextBracket(g);if(!a){v();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D.b(v,C+1,d,g,i));break}if(a.bracketInfo.isOpeningBracket){const c=a.bracketInfo.bracketText,u=t.has(c)?t.get(c):0;t.set(c,u+1)}else{const c=a.bracketInfo.getClosedBrackets()[0].bracketText;let u=t.has(c)?t.get(c):0;if(u-=1,t.set(c,Math.max(0,u)),u<0){let s=i.get(c);s||(s=new w.LinkedList,i.set(c,s)),s.push(a.range)}}g=a.range.getEndPosition()}}static c(v,C,d,g,i,t){const n=new Map,a=Date.now();for(;;){if(C>=D.a&&i.size===0){v();break}if(!g){v();break}const r=d.bracketPairs.findPrevBracket(g);if(!r){v();break}if(Date.now()-a>D._maxDuration){setTimeout(()=>D.c(v,C+1,d,g,i,t));break}if(r.bracketInfo.isOpeningBracket){const u=r.bracketInfo.bracketText;let s=n.has(u)?n.get(u):0;if(s-=1,n.set(u,Math.max(0,s)),s<0){const l=i.get(u);if(l){const o=l.shift();l.size===0&&i.delete(u);const h=E.Range.fromPositions(r.range.getEndPosition(),o.getStartPosition()),f=E.Range.fromPositions(r.range.getStartPosition(),o.getEndPosition());t.push({range:h}),t.push({range:f}),D.e(d,f,t)}}}else{const u=r.bracketInfo.getClosedBrackets()[0].bracketText,s=n.has(u)?n.get(u):0;n.set(u,s+1)}g=r.range.getStartPosition()}}static e(v,C,d){if(C.startLineNumber===C.endLineNumber)return;const g=C.startLineNumber,i=v.getLineFirstNonWhitespaceColumn(g);i!==0&&i!==C.startColumn&&(d.push({range:E.Range.fromPositions(new N.Position(g,i),C.getEndPosition())}),d.push({range:E.Range.fromPositions(new N.Position(g,1),C.getEndPosition())}));const t=g-1;if(t>0){const n=v.getLineFirstNonWhitespaceColumn(t);n===C.startColumn&&n!==v.getLineLastNonWhitespaceColumn(t)&&(d.push({range:E.Range.fromPositions(new N.Position(t,n),C.getEndPosition())}),d.push({range:E.Range.fromPositions(new N.Position(t,1),C.getEndPosition())}))}}}D._maxDuration=30,D.a=2,e.BracketSelectionRangeProvider=D}),define(ee[496],te([1,0,9,3]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class E{provideSelectionRanges(y,v){const C=[];for(const d of v){const g=[];C.push(g),this.a(g,y,d),this.b(g,y,d),this.c(g,y,d),g.push({range:y.getFullModelRange()})}return C}a(y,v,C){const d=v.getWordAtPosition(C);if(!d)return;const{word:g,startColumn:i}=d,t=C.column-i;let n=t,a=t,r=0;for(;n>=0;n--){const c=g.charCodeAt(n);if(n!==t&&(c===95||c===45))break;if((0,w.isLowerAsciiLetter)(c)&&(0,w.isUpperAsciiLetter)(r))break;r=c}for(n+=1;a<g.length;a++){const c=g.charCodeAt(a);if((0,w.isUpperAsciiLetter)(c)&&(0,w.isLowerAsciiLetter)(r))break;if(c===95||c===45)break;r=c}n<a&&y.push({range:new N.Range(C.lineNumber,i+n,C.lineNumber,i+a)})}b(y,v,C){const d=v.getWordAtPosition(C);d&&y.push({range:new N.Range(C.lineNumber,d.startColumn,C.lineNumber,d.endColumn)})}c(y,v,C){v.getLineLength(C.lineNumber)>0&&v.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&v.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&y.push({range:new N.Range(C.lineNumber,1,C.lineNumber,v.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=E}),define(ee[95],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const r=this.pos;let c=0,u=this.value.charCodeAt(r),s;if(s=w.c[u],typeof s=="number")return this.pos+=1,{type:s,pos:r,len:1};if(w.isDigitCharacter(u)){s=8;do c+=1,u=this.value.charCodeAt(r+c);while(w.isDigitCharacter(u));return this.pos+=c,{type:s,pos:r,len:c}}if(w.isVariableCharacter(u)){s=9;do u=this.value.charCodeAt(r+ ++c);while(w.isVariableCharacter(u)||w.isDigitCharacter(u));return this.pos+=c,{type:s,pos:r,len:c}}s=10;do c+=1,u=this.value.charCodeAt(r+c);while(!isNaN(u)&&typeof w.c[u]>"u"&&!w.isDigitCharacter(u)&&!w.isVariableCharacter(u));return this.pos+=c,{type:s,pos:r,len:c}}}w.c={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13},e.Scanner=w;class N{constructor(){this.c=[]}appendChild(r){return r instanceof E&&this.c[this.c.length-1]instanceof E?this.c[this.c.length-1].value+=r.value:(r.parent=this,this.c.push(r)),this}replace(r,c){const{parent:u}=r,s=u.children.indexOf(r),l=u.children.slice(0);l.splice(s,1,...c),u.c=l,function o(h,f){for(const S of h)S.parent=f,o(S.children,S)}(c,u)}get children(){return this.c}get rightMostDescendant(){return this.c.length>0?this.c[this.c.length-1].rightMostDescendant:this}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof t)return r;r=r.parent}}toString(){return this.children.reduce((r,c)=>r+c.toString(),"")}len(){return 0}}e.Marker=N;class E extends N{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new E(this.value)}}e.Text=E;class D extends N{}e.TransformableMarker=D;class y extends D{static compareByIndex(r,c){return r.index===c.index?0:r.isFinalTabstop?1:c.isFinalTabstop||r.index<c.index?-1:r.index>c.index?1:0}constructor(r){super(),this.index=r}get isFinalTabstop(){return this.index===0}get choice(){return this.c.length===1&&this.c[0]instanceof v?this.c[0]:void 0}clone(){const r=new y(this.index);return this.transform&&(r.transform=this.transform.clone()),r.c=this.children.map(c=>c.clone()),r}}e.Placeholder=y;class v extends N{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof E&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new v;return this.options.forEach(r.appendChild,r),r}}e.Choice=v;class C extends N{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const c=this;let u=!1,s=r.replace(this.regexp,function(){return u=!0,c.d(Array.prototype.slice.call(arguments,0,-2))});return!u&&this.c.some(l=>l instanceof d&&Boolean(l.elseValue))&&(s=this.d([])),s}d(r){let c="";for(const u of this.c)if(u instanceof d){let s=r[u.index]||"";s=u.resolve(s),c+=s}else c+=u.toString();return c}toString(){return""}clone(){const r=new C;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r.c=this.children.map(c=>c.clone()),r}}e.Transform=C;class d extends N{constructor(r,c,u,s){super(),this.index=r,this.shorthandName=c,this.ifValue=u,this.elseValue=s}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this.d(r):"":this.shorthandName==="camelcase"?r?this.f(r):"":Boolean(r)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(r)&&typeof this.elseValue=="string"?this.elseValue:r||""}d(r){const c=r.match(/[a-z0-9]+/gi);return c?c.map(u=>u.charAt(0).toUpperCase()+u.substr(1)).join(""):r}f(r){const c=r.match(/[a-z0-9]+/gi);return c?c.map((u,s)=>s===0?u.charAt(0).toLowerCase()+u.substr(1):u.charAt(0).toUpperCase()+u.substr(1)).join(""):r}clone(){return new d(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=d;class g extends D{constructor(r){super(),this.name=r}resolve(r){let c=r.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this.c=[new E(c)],!0):!1}clone(){const r=new g(this.name);return this.transform&&(r.transform=this.transform.clone()),r.c=this.children.map(c=>c.clone()),r}}e.Variable=g;function i(a,r){const c=[...a];for(;c.length>0;){const u=c.shift();if(!r(u))break;c.unshift(...u.children)}}class t extends N{get placeholderInfo(){if(!this.d){const r=[];let c;this.walk(function(u){return u instanceof y&&(r.push(u),c=!c||c.index<u.index?u:c),!0}),this.d={all:r,last:c}}return this.d}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let c=0,u=!1;return this.walk(s=>s===r?(u=!0,!1):(c+=s.len(),!0)),u?c:-1}fullLen(r){let c=0;return i([r],u=>(c+=u.len(),!0)),c}enclosingPlaceholders(r){const c=[];let{parent:u}=r;for(;u;)u instanceof y&&c.push(u),u=u.parent;return c}resolveVariables(r){return this.walk(c=>(c instanceof g&&c.resolve(r)&&(this.d=void 0),!0)),this}appendChild(r){return this.d=void 0,super.appendChild(r)}replace(r,c){return this.d=void 0,super.replace(r,c)}clone(){const r=new t;return this.c=this.children.map(c=>c.clone()),r}walk(r){i(this.children,r)}}e.TextmateSnippet=t;class n{constructor(){this.c=new w,this.d={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,c,u){const s=new t;return this.parseFragment(r,s),this.ensureFinalTabstop(s,u??!1,c??!1),s}parseFragment(r,c){const u=c.children.length;for(this.c.text(r),this.d=this.c.next();this.i(c););const s=new Map,l=[];c.walk(f=>(f instanceof y&&(f.isFinalTabstop?s.set(0,void 0):!s.has(f.index)&&f.children.length>0?s.set(f.index,f.children):l.push(f)),!0));const o=(f,S)=>{const p=s.get(f.index);if(!p)return;const m=new y(f.index);m.transform=f.transform;for(const b of p){const L=b.clone();m.appendChild(L),L instanceof y&&s.has(L.index)&&!S.has(L.index)&&(S.add(L.index),o(L,S),S.delete(L.index))}c.replace(f,[m])},h=new Set;for(const f of l)o(f,h);return c.children.slice(u)}ensureFinalTabstop(r,c,u){(c||u&&r.placeholders.length>0)&&(r.placeholders.find(l=>l.index===0)||r.appendChild(new y(0)))}f(r,c){if(r===void 0||this.d.type===r){const u=c?this.c.tokenText(this.d):!0;return this.d=this.c.next(),u}return!1}g(r){return this.c.pos=r.pos+r.len,this.d=r,!1}h(r){const c=this.d;for(;this.d.type!==r;){if(this.d.type===14)return!1;if(this.d.type===5){const s=this.c.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this.d=this.c.next()}const u=this.c.value.substring(c.pos,this.d.pos).replace(/\\(\$|}|\\)/g,"$1");return this.d=this.c.next(),u}i(r){return this.j(r)||this.k(r)||this.l(r)||this.n(r)||this.r(r)}j(r){let c;return(c=this.f(5,!0))?(c=this.f(0,!0)||this.f(4,!0)||this.f(5,!0)||c,r.appendChild(new E(c)),!0):!1}k(r){let c;const u=this.d;return this.f(0)&&(c=this.f(9,!0)||this.f(8,!0))?(r.appendChild(/^\d+$/.test(c)?new y(Number(c)):new g(c)),!0):this.g(u)}l(r){let c;const u=this.d;if(!(this.f(0)&&this.f(3)&&(c=this.f(8,!0))))return this.g(u);const l=new y(Number(c));if(this.f(1))for(;;){if(this.f(4))return r.appendChild(l),!0;if(!this.i(l))return r.appendChild(new E("${"+c+":")),l.children.forEach(r.appendChild,r),!0}else if(l.index>0&&this.f(7)){const o=new v;for(;;){if(this.m(o)){if(this.f(2))continue;if(this.f(7)&&(l.appendChild(o),this.f(4)))return r.appendChild(l),!0}return this.g(u),!1}}else return this.f(6)?this.o(l)?(r.appendChild(l),!0):(this.g(u),!1):this.f(4)?(r.appendChild(l),!0):this.g(u)}m(r){const c=this.d,u=[];for(;!(this.d.type===2||this.d.type===7);){let s;if((s=this.f(5,!0))?s=this.f(2,!0)||this.f(7,!0)||this.f(5,!0)||s:s=this.f(void 0,!0),!s)return this.g(c),!1;u.push(s)}return u.length===0?(this.g(c),!1):(r.appendChild(new E(u.join(""))),!0)}n(r){let c;const u=this.d;if(!(this.f(0)&&this.f(3)&&(c=this.f(9,!0))))return this.g(u);const l=new g(c);if(this.f(1))for(;;){if(this.f(4))return r.appendChild(l),!0;if(!this.i(l))return r.appendChild(new E("${"+c+":")),l.children.forEach(r.appendChild,r),!0}else return this.f(6)?this.o(l)?(r.appendChild(l),!0):(this.g(u),!1):this.f(4)?(r.appendChild(l),!0):this.g(u)}o(r){const c=new C;let u="",s="";for(;!this.f(6);){let l;if(l=this.f(5,!0)){l=this.f(6,!0)||l,u+=l;continue}if(this.d.type!==14){u+=this.f(void 0,!0);continue}return!1}for(;!this.f(6);){let l;if(l=this.f(5,!0)){l=this.f(5,!0)||this.f(6,!0)||l,c.appendChild(new E(l));continue}if(!(this.q(c)||this.r(c)))return!1}for(;!this.f(4);){if(this.d.type!==14){s+=this.f(void 0,!0);continue}return!1}try{c.regexp=new RegExp(u,s)}catch{return!1}return r.transform=c,!0}q(r){const c=this.d;if(!this.f(0))return!1;let u=!1;this.f(3)&&(u=!0);const s=this.f(8,!0);if(s)if(u){if(this.f(4))return r.appendChild(new d(Number(s))),!0;if(!this.f(1))return this.g(c),!1}else return r.appendChild(new d(Number(s))),!0;else return this.g(c),!1;if(this.f(6)){const l=this.f(9,!0);return!l||!this.f(4)?(this.g(c),!1):(r.appendChild(new d(Number(s),l)),!0)}else if(this.f(11)){const l=this.h(4);if(l)return r.appendChild(new d(Number(s),void 0,l,void 0)),!0}else if(this.f(12)){const l=this.h(4);if(l)return r.appendChild(new d(Number(s),void 0,void 0,l)),!0}else if(this.f(13)){const l=this.h(1);if(l){const o=this.h(4);if(o)return r.appendChild(new d(Number(s),void 0,l,o)),!0}}else{const l=this.h(4);if(l)return r.appendChild(new d(Number(s),void 0,void 0,l)),!0}return this.g(c),!1}r(r){return this.d.type!==14?(r.appendChild(new E(this.c.tokenText(this.d))),this.f(void 0),!0):!1}}e.SnippetParser=n}),define(ee[264],te([1,0,17,63,9]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(C,d){this.leadingLineContent=C,this.characterCountDelta=d}}e.LineContext=D;class y{constructor(C,d,g,i,t,n,a=N.FuzzyScoreOptions.default,r=void 0){this.clipboardText=r,this.g=y.q,this.c=C,this.d=d,this.e=i,this.f=t,this.k=1,this.j=g,this.h=a,n==="top"?this.g=y.s:n==="bottom"&&(this.g=y.r)}get lineContext(){return this.j}set lineContext(C){(this.j.leadingLineContent!==C.leadingLineContent||this.j.characterCountDelta!==C.characterCountDelta)&&(this.k=this.j.characterCountDelta<C.characterCountDelta&&this.l?2:1,this.j=C)}get items(){return this.o(),this.l}getItemsByProvider(){return this.o(),this.m}getIncompleteProvider(){this.o();const C=new Set;for(const[d,g]of this.getItemsByProvider())g.length>0&&g[0].container.incomplete&&C.add(d);return C}get stats(){return this.o(),this.n}o(){this.k!==0&&this.p()}p(){this.m=new Map;const C=[],{leadingLineContent:d,characterCountDelta:g}=this.j;let i="",t="";const n=this.k===1?this.c:this.l,a=[],r=!this.f.filterGraceful||n.length>2e3?N.fuzzyScore:N.fuzzyScoreGracefulAggressive;for(let c=0;c<n.length;c++){const u=n[c];if(u.isInvalid)continue;const s=this.m.get(u.provider);s?s.push(u):this.m.set(u.provider,[u]);const l=u.position.column-u.editStart.column,o=l+g-(u.position.column-this.d);if(i.length!==o&&(i=o===0?"":d.slice(-o),t=i.toLowerCase()),u.word=i,o===0)u.score=N.FuzzyScore.Default;else{let h=0;for(;h<l;){const f=i.charCodeAt(h);if(f===32||f===9)h+=1;else break}if(h>=o)u.score=N.FuzzyScore.Default;else if(typeof u.completion.filterText=="string"){const f=r(i,t,h,u.completion.filterText,u.filterTextLow,0,this.h);if(!f)continue;(0,E.compareIgnoreCase)(u.completion.filterText,u.textLabel)===0?u.score=f:(u.score=(0,N.anyScore)(i,t,h,u.textLabel,u.labelLow,0),u.score[0]=f[0])}else{const f=r(i,t,h,u.textLabel,u.labelLow,0,this.h);if(!f)continue;u.score=f}}u.idx=c,u.distance=this.e.distance(u.position,u.completion),a.push(u),C.push(u.textLabel.length)}this.l=a.sort(this.g),this.k=0,this.n={pLabelLen:C.length?(0,w.quickSelect)(C.length-.85,C,(c,u)=>c-u):0}}static q(C,d){return C.score[0]>d.score[0]?-1:C.score[0]<d.score[0]?1:C.distance<d.distance?-1:C.distance>d.distance?1:C.idx<d.idx?-1:C.idx>d.idx?1:0}static r(C,d){if(C.completion.kind!==d.completion.kind){if(C.completion.kind===27)return 1;if(d.completion.kind===27)return-1}return y.q(C,d)}static s(C,d){if(C.completion.kind!==d.completion.kind){if(C.completion.kind===27)return-1;if(d.completion.kind===27)return 1}return y.q(C,d)}}e.CompletionModel=y}),define(ee[497],te([1,0,17,2,113]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(v,C,d,g){this.a=new N.DisposableStore,this.a.add(d.onDidSuggest(i=>{i.completionModel.items.length===0&&this.reset()})),this.a.add(d.onDidCancel(i=>{this.reset()})),this.a.add(C.onDidShow(()=>this.c(C.getFocusedItem()))),this.a.add(C.onDidFocus(this.c,this)),this.a.add(C.onDidHide(this.reset,this)),this.a.add(v.onWillType(i=>{if(this.b&&!C.isFrozen()&&d.state!==0){const t=i.charCodeAt(i.length-1);this.b.acceptCharacters.has(t)&&v.getOption(0)&&g(this.b.item)}}))}c(v){if(!v||!(0,w.isNonEmptyArray)(v.item.completion.commitCharacters)){this.reset();return}if(this.b&&this.b.item.item===v.item)return;const C=new E.CharacterSet;for(const d of v.item.completion.commitCharacters)d.length>0&&C.add(d.charCodeAt(0));this.b={acceptCharacters:C,item:v}}reset(){this.b=void 0}dispose(){this.a.dispose()}}e.CommitCharacterController=D}),define(ee[498],te([1,0,2]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class N{constructor(D,y){this.b=new w.DisposableStore,this.c=[],this.d=!1,this.b.add(D.onWillType(()=>{if(this.d||!D.hasModel())return;const v=D.getSelections(),C=v.length;let d=!1;for(let i=0;i<C;i++)if(!v[i].isEmpty()){d=!0;break}if(!d){this.c.length!==0&&(this.c.length=0);return}this.c=[];const g=D.getModel();for(let i=0;i<C;i++){const t=v[i];if(g.getValueLengthInRange(t)>N.a)return;this.c[i]={value:g.getValueInRange(t),multiline:t.startLineNumber!==t.endLineNumber}}})),this.b.add(y.onDidTrigger(v=>{this.d=!0})),this.b.add(y.onDidCancel(v=>{this.d=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this.c.length)return this.c[D]}dispose(){this.b.dispose()}}N.a=51200,e.OvertypingCapturer=N}),define(ee[265],te([1,0,17,3,263]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(v,C){return Le(this,void 0,void 0,function*(){if(!C.getOption(112).localityBonus||!C.hasModel())return D.None;const d=C.getModel(),g=C.getPosition();if(!v.canComputeWordRanges(d.uri))return D.None;const[i]=yield new E.BracketSelectionRangeProvider().provideSelectionRanges(d,[g]);if(i.length===0)return D.None;const t=yield v.computeWordRanges(d.uri,i[0].range);if(!t)return D.None;const n=d.getWordUntilPosition(g);return delete t[n.word],new class extends D{distance(a,r){if(!g.equals(C.getPosition()))return 0;if(r.kind===17)return 2<<20;const c=typeof r.label=="string"?r.label:r.label.label,u=t[c];if((0,w.isFalsyOrEmpty)(u))return 2<<20;const s=(0,w.binarySearch)(u,N.Range.fromPositions(a),N.Range.compareRangesUsingStarts),l=s>=0?u[s]:u[Math.max(0,~s-1)];let o=i.length;for(const h of i){if(!N.Range.containsRange(h.range,l))break;o-=1}return o}}})}}D.None=new class extends D{distance(){return 0}},e.WordDistance=D}),define(ee[266],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function w(a){return Array.isArray(a)}e.isFuzzyActionArr=w;function N(a){return!w(a)}e.isFuzzyAction=N;function E(a){return typeof a=="string"}e.isString=E;function D(a){return!E(a)}e.isIAction=D;function y(a){return!a}e.empty=y;function v(a,r){return a.ignoreCase&&r?r.toLowerCase():r}e.fixCase=v;function C(a){return a.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function d(a,r){console.log(`${a.languageId}: ${r}`)}e.log=d;function g(a,r){return new Error(`${a.languageId}: ${r}`)}e.createError=g;function i(a,r,c,u,s){const l=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return r.replace(l,function(h,f,S,p,m,b,L,k,I){return y(S)?y(p)?!y(m)&&m<u.length?v(a,u[m]):!y(L)&&a&&typeof a[L]=="string"?a[L]:(o===null&&(o=s.split("."),o.unshift(s)),!y(b)&&b<o.length?v(a,o[b]):""):v(a,c):"$"})}e.substituteMatches=i;function t(a,r){let c=r;for(;c&&c.length>0;){const u=a.tokenizer[c];if(u)return u;const s=c.lastIndexOf(".");s<0?c=null:c=c.substr(0,s)}return null}e.findRules=t;function n(a,r){let c=r;for(;c&&c.length>0;){if(a.stateNames[c])return!0;const s=c.lastIndexOf(".");s<0?c=null:c=c.substr(0,s)}return!1}e.stateExists=n}),define(ee[499],te([1,0,266]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function N(a,r){if(!r||!Array.isArray(r))return!1;for(const c of r)if(!a(c))return!1;return!0}function E(a,r){return typeof a=="boolean"?a:r}function D(a,r){return typeof a=="string"?a:r}function y(a){const r={};for(const c of a)r[c]=!0;return r}function v(a,r=!1){r&&(a=a.map(function(u){return u.toLowerCase()}));const c=y(a);return r?function(u){return c[u.toLowerCase()]!==void 0&&c.hasOwnProperty(u.toLowerCase())}:function(u){return c[u]!==void 0&&c.hasOwnProperty(u)}}function C(a,r){r=r.replace(/@@/g,"");let c=0,u;do u=!1,r=r.replace(/@(\w+)/g,function(l,o){u=!0;let h="";if(typeof a[o]=="string")h=a[o];else if(a[o]&&a[o]instanceof RegExp)h=a[o].source;else throw a[o]===void 0?w.createError(a,"language definition does not contain attribute '"+o+"', used at: "+r):w.createError(a,"attribute reference '"+o+"' must be a string, used at: "+r);return w.empty(h)?"":"(?:"+h+")"}),c++;while(u&&c<5);r=r.replace(/\x01/g,"@");const s=(a.ignoreCase?"i":"")+(a.unicode?"u":"");return new RegExp(r,s)}function d(a,r,c,u){if(u<0)return a;if(u<r.length)return r[u];if(u>=100){u=u-100;const s=c.split(".");if(s.unshift(c),u<s.length)return s[u]}return null}function g(a,r,c,u){let s=-1,l=c,o=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(s=parseInt(o[3]),o[2]&&(s=s+100)),l=o[4]);let h="~",f=l;!l||l.length===0?(h="!=",f=""):/^\w*$/.test(f)?h="==":(o=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(h=o[1],f=o[2]));let S;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(f)){const p=v(f.split("|"),a.ignoreCase);S=function(m){return h==="~"?p(m):!p(m)}}else if(h==="@"||h==="!@"){const p=a[f];if(!p)throw w.createError(a,"the @ match target '"+f+"' is not defined, in rule: "+r);if(!N(function(b){return typeof b=="string"},p))throw w.createError(a,"the @ match target '"+f+"' must be an array of strings, in rule: "+r);const m=v(p,a.ignoreCase);S=function(b){return h==="@"?m(b):!m(b)}}else if(h==="~"||h==="!~")if(f.indexOf("$")<0){const p=C(a,"^"+f+"$");S=function(m){return h==="~"?p.test(m):!p.test(m)}}else S=function(p,m,b,L){return C(a,"^"+w.substituteMatches(a,f,m,b,L)+"$").test(p)};else if(f.indexOf("$")<0){const p=w.fixCase(a,f);S=function(m){return h==="=="?m===p:m!==p}}else{const p=w.fixCase(a,f);S=function(m,b,L,k,I){const M=w.substituteMatches(a,p,b,L,k);return h==="=="?m===M:m!==M}}return s===-1?{name:c,value:u,test:function(p,m,b,L){return S(p,p,m,b,L)}}:{name:c,value:u,test:function(p,m,b,L){const k=d(p,m,b,s);return S(k||"",p,m,b,L)}}}function i(a,r,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw w.createError(a,"a 'token' attribute must be of type string, in rule: "+r);{const u={token:c.token};if(c.token.indexOf("$")>=0&&(u.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")u.bracket=1;else if(c.bracket==="@close")u.bracket=-1;else throw w.createError(a,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(c.next){if(typeof c.next!="string")throw w.createError(a,"the next state must be a string value in rule: "+r);{let s=c.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!w.stateExists(a,w.substituteMatches(a,s,"",[],""))))throw w.createError(a,"the next state '"+c.next+"' is not defined in rule: "+r);u.next=s}}return typeof c.goBack=="number"&&(u.goBack=c.goBack),typeof c.switchTo=="string"&&(u.switchTo=c.switchTo),typeof c.log=="string"&&(u.log=c.log),typeof c.nextEmbedded=="string"&&(u.nextEmbedded=c.nextEmbedded,a.usesEmbedded=!0),u}}else if(Array.isArray(c)){const u=[];for(let s=0,l=c.length;s<l;s++)u[s]=i(a,r,c[s]);return{group:u}}else if(c.cases){const u=[];for(const l in c.cases)if(c.cases.hasOwnProperty(l)){const o=i(a,r,c.cases[l]);l==="@default"||l==="@"||l===""?u.push({test:void 0,value:o,name:l}):l==="@eos"?u.push({test:function(h,f,S,p){return p},value:o,name:l}):u.push(g(a,r,l,o))}const s=a.defaultToken;return{test:function(l,o,h,f){for(const S of u)if(!S.test||S.test(l,o,h,f))return S.value;return s}}}else throw w.createError(a,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class t{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,c){let u;if(typeof c=="string")u=c;else if(c instanceof RegExp)u=c.source;else throw w.createError(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=u.length>0&&u[0]==="^",this.name=this.name+": "+u,this.regex=C(r,"^(?:"+(this.matchOnlyAtLineStart?u.substr(1):u)+")")}setAction(r,c){this.action=i(r,this.name,c)}}function n(a,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=a,c.includeLF=E(r.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof r.start=="string"?r.start:null,c.ignoreCase=E(r.ignoreCase,!1),c.unicode=E(r.unicode,!1),c.tokenPostfix=D(r.tokenPostfix,"."+c.languageId),c.defaultToken=D(r.defaultToken,"source"),c.usesEmbedded=!1;const u=r;u.languageId=a,u.includeLF=c.includeLF,u.ignoreCase=c.ignoreCase,u.unicode=c.unicode,u.noThrow=c.noThrow,u.usesEmbedded=c.usesEmbedded,u.stateNames=r.tokenizer,u.defaultToken=c.defaultToken;function s(o,h,f){for(const S of f){let p=S.include;if(p){if(typeof p!="string")throw w.createError(c,"an 'include' attribute must be a string at: "+o);if(p[0]==="@"&&(p=p.substr(1)),!r.tokenizer[p])throw w.createError(c,"include target '"+p+"' is not defined at: "+o);s(o+"."+p,h,r.tokenizer[p])}else{const m=new t(o);if(Array.isArray(S)&&S.length>=1&&S.length<=3)if(m.setRegex(u,S[0]),S.length>=3)if(typeof S[1]=="string")m.setAction(u,{token:S[1],next:S[2]});else if(typeof S[1]=="object"){const b=S[1];b.next=S[2],m.setAction(u,b)}else throw w.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else m.setAction(u,S[1]);else{if(!S.regex)throw w.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);S.name&&typeof S.name=="string"&&(m.name=S.name),S.matchOnlyAtStart&&(m.matchOnlyAtLineStart=E(S.matchOnlyAtLineStart,!1)),m.setRegex(u,S.regex),m.setAction(u,S.action)}h.push(m)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw w.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const o in r.tokenizer)if(r.tokenizer.hasOwnProperty(o)){c.start||(c.start=o);const h=r.tokenizer[o];c.tokenizer[o]=new Array,s("tokenizer."+o,c.tokenizer[o],h)}if(c.usesEmbedded=u.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw w.createError(c,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const l=[];for(const o of r.brackets){let h=o;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw w.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")l.push({token:h.token+c.tokenPostfix,open:w.fixCase(c,h.open),close:w.fixCase(c,h.close)});else throw w.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=l,c.noThrow=!0,c}e.compile=n}),define(ee[500],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[501],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[502],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ee[503],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[504],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[505],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[506],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[507],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ee[508],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ee[509],te([4,5]),function(K,e){return K.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[510],te([4,5]),function(K,e){return K.create("vs/base/common/actions",e)}),define(ee[511],te([4,5]),function(K,e){return K.create("vs/base/common/errorMessage",e)}),define(ee[512],te([1,0,17,18,511]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(d,g){return g&&(d.stack||d.stacktrace)?E.localize(0,null,v(d),y(d.stack)||y(d.stacktrace)):v(d)}function y(d){return Array.isArray(d)?d.join(`
`):d}function v(d){return typeof d.code=="string"&&typeof d.errno=="number"&&typeof d.syscall=="string"?E.localize(1,null,d.message):d.message||E.localize(2,null)}function C(d=null,g=!1){if(!d)return E.localize(3,null);if(Array.isArray(d)){const i=w.coalesce(d),t=C(i[0],g);return i.length>1?E.localize(4,null,t,i.length):t}if(N.isString(d))return d;if(d.detail){const i=d.detail;if(i.error)return D(i.error,g);if(i.exception)return D(i.exception,g)}return d.stack?D(d,g):d.message?d.message:E.localize(5,null)}e.toErrorMessage=C}),define(ee[513],te([4,5]),function(K,e){return K.create("vs/base/common/keybindingLabels",e)}),define(ee[197],te([1,0,513]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class N{constructor(y,v,C=v){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=v,this.modifierLabels[3]=C}toLabel(y,v,C){if(v.length===0)return null;const d=[];for(let g=0,i=v.length;g<i;g++){const t=v[g],n=C(t);if(n===null)return null;d[g]=E(t,n,this.modifierLabels[y])}return d.join(" ")}}e.ModifierLabelProvider=N,e.UILabelProvider=new N({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.localize(0,null),shiftKey:w.localize(1,null),altKey:w.localize(2,null),metaKey:w.localize(3,null),separator:"+"},{ctrlKey:w.localize(4,null),shiftKey:w.localize(5,null),altKey:w.localize(6,null),metaKey:w.localize(7,null),separator:"+"}),e.AriaLabelProvider=new N({ctrlKey:w.localize(8,null),shiftKey:w.localize(9,null),altKey:w.localize(10,null),metaKey:w.localize(11,null),separator:"+"},{ctrlKey:w.localize(12,null),shiftKey:w.localize(13,null),altKey:w.localize(14,null),metaKey:w.localize(15,null),separator:"+"},{ctrlKey:w.localize(16,null),shiftKey:w.localize(17,null),altKey:w.localize(18,null),metaKey:w.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new N({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new N({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(D,y,v){if(y===null)return"";const C=[];return D.ctrlKey&&C.push(v.ctrlKey),D.shiftKey&&C.push(v.shiftKey),D.altKey&&C.push(v.altKey),D.metaKey&&C.push(v.metaKey),y!==""&&C.push(y),C.join(v.separator)}}),define(ee[514],te([4,5]),function(K,e){return K.create("vs/base/common/platform",e)}),define(ee[16],te([1,0,514]),function(K,e,w){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let E=!1,D=!1,y=!1,v=!1,C=!1,d=!1,g=!1,i=!1,t=!1,n=!1,a,r=e.LANGUAGE_DEFAULT,c,u;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let s;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?s=e.globals.vscode.process:typeof process<"u"&&(s=process);const l=typeof((N=s?.versions)===null||N===void 0?void 0:N.electron)=="string",o=l&&s?.type==="renderer";if(typeof navigator=="object"&&!o)u=navigator.userAgent,E=u.indexOf("Windows")>=0,D=u.indexOf("Macintosh")>=0,i=(u.indexOf("Macintosh")>=0||u.indexOf("iPad")>=0||u.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,y=u.indexOf("Linux")>=0,n=u?.indexOf("Mobi")>=0,d=!0,a=w.getConfiguredDefaultLocale(w.localize(0,null))||e.LANGUAGE_DEFAULT,r=a;else if(typeof s=="object"){E=s.platform==="win32",D=s.platform==="darwin",y=s.platform==="linux",v=y&&!!s.env.SNAP&&!!s.env.SNAP_REVISION,g=l,t=!!s.env.CI||!!s.env.BUILD_ARTIFACTSTAGINGDIRECTORY,a=e.LANGUAGE_DEFAULT,r=e.LANGUAGE_DEFAULT;const m=s.env.VSCODE_NLS_CONFIG;if(m)try{const b=JSON.parse(m),L=b.availableLanguages["*"];a=b.locale,r=L||e.LANGUAGE_DEFAULT,c=b._translationsConfigFile}catch{}C=!0}else console.error("Unable to resolve platform.");let h=0;D?h=1:E?h=3:y&&(h=2),e.isWindows=E,e.isMacintosh=D,e.isLinux=y,e.isNative=C,e.isWeb=d,e.isWebWorker=d&&typeof e.globals.importScripts=="function",e.isIOS=i,e.isMobile=n,e.userAgent=u,e.language=r,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const m=[];e.globals.addEventListener("message",L=>{if(L.data&&L.data.vscodeScheduleAsyncWork)for(let k=0,I=m.length;k<I;k++){const M=m[k];if(M.id===L.data.vscodeScheduleAsyncWork){m.splice(k,1),M.callback();return}}});let b=0;return L=>{const k=++b;m.push({id:k,callback:L}),e.globals.postMessage({vscodeScheduleAsyncWork:k},"*")}}return m=>setTimeout(m)})(),e.OS=D||i?2:E?1:3;let f=!0,S=!1;function p(){if(!S){S=!0;const m=new Uint8Array(2);m[0]=1,m[1]=2,f=new Uint16Array(m.buffer)[0]===(2<<8)+1}return f}e.isLittleEndian=p,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ee[515],te([1,0,16]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let N;if(typeof w.globals.vscode<"u"&&typeof w.globals.vscode.process<"u"){const E=w.globals.vscode.process;N={get platform(){return E.platform},get arch(){return E.arch},get env(){return E.env},cwd(){return E.cwd()}}}else typeof process<"u"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:N={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=N.cwd,e.env=N.env,e.platform=N.platform}),define(ee[88],te([1,0,515]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const N=65,E=97,D=90,y=122,v=46,C=47,d=92,g=58,i=63;class t extends Error{constructor(S,p,m){let b;typeof p=="string"&&p.indexOf("not ")===0?(b="must not be",p=p.replace(/^not /,"")):b="must be";const L=S.indexOf(".")!==-1?"property":"argument";let k=`The "${S}" ${L} ${b} of type ${p}`;k+=`. Received type ${typeof m}`,super(k),this.code="ERR_INVALID_ARG_TYPE"}}function n(f,S){if(f===null||typeof f!="object")throw new t(S,"Object",f)}function a(f,S){if(typeof f!="string")throw new t(S,"string",f)}const r=w.platform==="win32";function c(f){return f===C||f===d}function u(f){return f===C}function s(f){return f>=N&&f<=D||f>=E&&f<=y}function l(f,S,p,m){let b="",L=0,k=-1,I=0,M=0;for(let B=0;B<=f.length;++B){if(B<f.length)M=f.charCodeAt(B);else{if(m(M))break;M=C}if(m(M)){if(!(k===B-1||I===1))if(I===2){if(b.length<2||L!==2||b.charCodeAt(b.length-1)!==v||b.charCodeAt(b.length-2)!==v){if(b.length>2){const z=b.lastIndexOf(p);z===-1?(b="",L=0):(b=b.slice(0,z),L=b.length-1-b.lastIndexOf(p)),k=B,I=0;continue}else if(b.length!==0){b="",L=0,k=B,I=0;continue}}S&&(b+=b.length>0?`${p}..`:"..",L=2)}else b.length>0?b+=`${p}${f.slice(k+1,B)}`:b=f.slice(k+1,B),L=B-k-1;k=B,I=0}else M===v&&I!==-1?++I:I=-1}return b}function o(f,S){n(S,"pathObject");const p=S.dir||S.root,m=S.base||`${S.name||""}${S.ext||""}`;return p?p===S.root?`${p}${m}`:`${p}${f}${m}`:m}e.win32={resolve(...f){let S="",p="",m=!1;for(let b=f.length-1;b>=-1;b--){let L;if(b>=0){if(L=f[b],a(L,"path"),L.length===0)continue}else S.length===0?L=w.cwd():(L=w.env[`=${S}`]||w.cwd(),(L===void 0||L.slice(0,2).toLowerCase()!==S.toLowerCase()&&L.charCodeAt(2)===d)&&(L=`${S}\\`));const k=L.length;let I=0,M="",B=!1;const z=L.charCodeAt(0);if(k===1)c(z)&&(I=1,B=!0);else if(c(z))if(B=!0,c(L.charCodeAt(1))){let P=2,A=P;for(;P<k&&!c(L.charCodeAt(P));)P++;if(P<k&&P!==A){const T=L.slice(A,P);for(A=P;P<k&&c(L.charCodeAt(P));)P++;if(P<k&&P!==A){for(A=P;P<k&&!c(L.charCodeAt(P));)P++;(P===k||P!==A)&&(M=`\\\\${T}\\${L.slice(A,P)}`,I=P)}}}else I=1;else s(z)&&L.charCodeAt(1)===g&&(M=L.slice(0,2),I=2,k>2&&c(L.charCodeAt(2))&&(B=!0,I=3));if(M.length>0)if(S.length>0){if(M.toLowerCase()!==S.toLowerCase())continue}else S=M;if(m){if(S.length>0)break}else if(p=`${L.slice(I)}\\${p}`,m=B,B&&S.length>0)break}return p=l(p,!m,"\\",c),m?`${S}\\${p}`:`${S}${p}`||"."},normalize(f){a(f,"path");const S=f.length;if(S===0)return".";let p=0,m,b=!1;const L=f.charCodeAt(0);if(S===1)return u(L)?"\\":f;if(c(L))if(b=!0,c(f.charCodeAt(1))){let I=2,M=I;for(;I<S&&!c(f.charCodeAt(I));)I++;if(I<S&&I!==M){const B=f.slice(M,I);for(M=I;I<S&&c(f.charCodeAt(I));)I++;if(I<S&&I!==M){for(M=I;I<S&&!c(f.charCodeAt(I));)I++;if(I===S)return`\\\\${B}\\${f.slice(M)}\\`;I!==M&&(m=`\\\\${B}\\${f.slice(M,I)}`,p=I)}}}else p=1;else s(L)&&f.charCodeAt(1)===g&&(m=f.slice(0,2),p=2,S>2&&c(f.charCodeAt(2))&&(b=!0,p=3));let k=p<S?l(f.slice(p),!b,"\\",c):"";return k.length===0&&!b&&(k="."),k.length>0&&c(f.charCodeAt(S-1))&&(k+="\\"),m===void 0?b?`\\${k}`:k:b?`${m}\\${k}`:`${m}${k}`},isAbsolute(f){a(f,"path");const S=f.length;if(S===0)return!1;const p=f.charCodeAt(0);return c(p)||S>2&&s(p)&&f.charCodeAt(1)===g&&c(f.charCodeAt(2))},join(...f){if(f.length===0)return".";let S,p;for(let L=0;L<f.length;++L){const k=f[L];a(k,"path"),k.length>0&&(S===void 0?S=p=k:S+=`\\${k}`)}if(S===void 0)return".";let m=!0,b=0;if(typeof p=="string"&&c(p.charCodeAt(0))){++b;const L=p.length;L>1&&c(p.charCodeAt(1))&&(++b,L>2&&(c(p.charCodeAt(2))?++b:m=!1))}if(m){for(;b<S.length&&c(S.charCodeAt(b));)b++;b>=2&&(S=`\\${S.slice(b)}`)}return e.win32.normalize(S)},relative(f,S){if(a(f,"from"),a(S,"to"),f===S)return"";const p=e.win32.resolve(f),m=e.win32.resolve(S);if(p===m||(f=p.toLowerCase(),S=m.toLowerCase(),f===S))return"";let b=0;for(;b<f.length&&f.charCodeAt(b)===d;)b++;let L=f.length;for(;L-1>b&&f.charCodeAt(L-1)===d;)L--;const k=L-b;let I=0;for(;I<S.length&&S.charCodeAt(I)===d;)I++;let M=S.length;for(;M-1>I&&S.charCodeAt(M-1)===d;)M--;const B=M-I,z=k<B?k:B;let P=-1,A=0;for(;A<z;A++){const O=f.charCodeAt(b+A);if(O!==S.charCodeAt(I+A))break;O===d&&(P=A)}if(A!==z){if(P===-1)return m}else{if(B>z){if(S.charCodeAt(I+A)===d)return m.slice(I+A+1);if(A===2)return m.slice(I+A)}k>z&&(f.charCodeAt(b+A)===d?P=A:A===2&&(P=3)),P===-1&&(P=0)}let T="";for(A=b+P+1;A<=L;++A)(A===L||f.charCodeAt(A)===d)&&(T+=T.length===0?"..":"\\..");return I+=P,T.length>0?`${T}${m.slice(I,M)}`:(m.charCodeAt(I)===d&&++I,m.slice(I,M))},toNamespacedPath(f){if(typeof f!="string"||f.length===0)return f;const S=e.win32.resolve(f);if(S.length<=2)return f;if(S.charCodeAt(0)===d){if(S.charCodeAt(1)===d){const p=S.charCodeAt(2);if(p!==i&&p!==v)return`\\\\?\\UNC\\${S.slice(2)}`}}else if(s(S.charCodeAt(0))&&S.charCodeAt(1)===g&&S.charCodeAt(2)===d)return`\\\\?\\${S}`;return f},dirname(f){a(f,"path");const S=f.length;if(S===0)return".";let p=-1,m=0;const b=f.charCodeAt(0);if(S===1)return c(b)?f:".";if(c(b)){if(p=m=1,c(f.charCodeAt(1))){let I=2,M=I;for(;I<S&&!c(f.charCodeAt(I));)I++;if(I<S&&I!==M){for(M=I;I<S&&c(f.charCodeAt(I));)I++;if(I<S&&I!==M){for(M=I;I<S&&!c(f.charCodeAt(I));)I++;if(I===S)return f;I!==M&&(p=m=I+1)}}}}else s(b)&&f.charCodeAt(1)===g&&(p=S>2&&c(f.charCodeAt(2))?3:2,m=p);let L=-1,k=!0;for(let I=S-1;I>=m;--I)if(c(f.charCodeAt(I))){if(!k){L=I;break}}else k=!1;if(L===-1){if(p===-1)return".";L=p}return f.slice(0,L)},basename(f,S){S!==void 0&&a(S,"ext"),a(f,"path");let p=0,m=-1,b=!0,L;if(f.length>=2&&s(f.charCodeAt(0))&&f.charCodeAt(1)===g&&(p=2),S!==void 0&&S.length>0&&S.length<=f.length){if(S===f)return"";let k=S.length-1,I=-1;for(L=f.length-1;L>=p;--L){const M=f.charCodeAt(L);if(c(M)){if(!b){p=L+1;break}}else I===-1&&(b=!1,I=L+1),k>=0&&(M===S.charCodeAt(k)?--k===-1&&(m=L):(k=-1,m=I))}return p===m?m=I:m===-1&&(m=f.length),f.slice(p,m)}for(L=f.length-1;L>=p;--L)if(c(f.charCodeAt(L))){if(!b){p=L+1;break}}else m===-1&&(b=!1,m=L+1);return m===-1?"":f.slice(p,m)},extname(f){a(f,"path");let S=0,p=-1,m=0,b=-1,L=!0,k=0;f.length>=2&&f.charCodeAt(1)===g&&s(f.charCodeAt(0))&&(S=m=2);for(let I=f.length-1;I>=S;--I){const M=f.charCodeAt(I);if(c(M)){if(!L){m=I+1;break}continue}b===-1&&(L=!1,b=I+1),M===v?p===-1?p=I:k!==1&&(k=1):p!==-1&&(k=-1)}return p===-1||b===-1||k===0||k===1&&p===b-1&&p===m+1?"":f.slice(p,b)},format:o.bind(null,"\\"),parse(f){a(f,"path");const S={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return S;const p=f.length;let m=0,b=f.charCodeAt(0);if(p===1)return c(b)?(S.root=S.dir=f,S):(S.base=S.name=f,S);if(c(b)){if(m=1,c(f.charCodeAt(1))){let P=2,A=P;for(;P<p&&!c(f.charCodeAt(P));)P++;if(P<p&&P!==A){for(A=P;P<p&&c(f.charCodeAt(P));)P++;if(P<p&&P!==A){for(A=P;P<p&&!c(f.charCodeAt(P));)P++;P===p?m=P:P!==A&&(m=P+1)}}}}else if(s(b)&&f.charCodeAt(1)===g){if(p<=2)return S.root=S.dir=f,S;if(m=2,c(f.charCodeAt(2))){if(p===3)return S.root=S.dir=f,S;m=3}}m>0&&(S.root=f.slice(0,m));let L=-1,k=m,I=-1,M=!0,B=f.length-1,z=0;for(;B>=m;--B){if(b=f.charCodeAt(B),c(b)){if(!M){k=B+1;break}continue}I===-1&&(M=!1,I=B+1),b===v?L===-1?L=B:z!==1&&(z=1):L!==-1&&(z=-1)}return I!==-1&&(L===-1||z===0||z===1&&L===I-1&&L===k+1?S.base=S.name=f.slice(k,I):(S.name=f.slice(k,L),S.base=f.slice(k,I),S.ext=f.slice(L,I))),k>0&&k!==m?S.dir=f.slice(0,k-1):S.dir=S.root,S},sep:"\\",delimiter:";",win32:null,posix:null};const h=(()=>{if(r){const f=/\\/g;return()=>{const S=w.cwd().replace(f,"/");return S.slice(S.indexOf("/"))}}return()=>w.cwd()})();e.posix={resolve(...f){let S="",p=!1;for(let m=f.length-1;m>=-1&&!p;m--){const b=m>=0?f[m]:h();a(b,"path"),b.length!==0&&(S=`${b}/${S}`,p=b.charCodeAt(0)===C)}return S=l(S,!p,"/",u),p?`/${S}`:S.length>0?S:"."},normalize(f){if(a(f,"path"),f.length===0)return".";const S=f.charCodeAt(0)===C,p=f.charCodeAt(f.length-1)===C;return f=l(f,!S,"/",u),f.length===0?S?"/":p?"./":".":(p&&(f+="/"),S?`/${f}`:f)},isAbsolute(f){return a(f,"path"),f.length>0&&f.charCodeAt(0)===C},join(...f){if(f.length===0)return".";let S;for(let p=0;p<f.length;++p){const m=f[p];a(m,"path"),m.length>0&&(S===void 0?S=m:S+=`/${m}`)}return S===void 0?".":e.posix.normalize(S)},relative(f,S){if(a(f,"from"),a(S,"to"),f===S||(f=e.posix.resolve(f),S=e.posix.resolve(S),f===S))return"";const p=1,m=f.length,b=m-p,L=1,k=S.length-L,I=b<k?b:k;let M=-1,B=0;for(;B<I;B++){const P=f.charCodeAt(p+B);if(P!==S.charCodeAt(L+B))break;P===C&&(M=B)}if(B===I)if(k>I){if(S.charCodeAt(L+B)===C)return S.slice(L+B+1);if(B===0)return S.slice(L+B)}else b>I&&(f.charCodeAt(p+B)===C?M=B:B===0&&(M=0));let z="";for(B=p+M+1;B<=m;++B)(B===m||f.charCodeAt(B)===C)&&(z+=z.length===0?"..":"/..");return`${z}${S.slice(L+M)}`},toNamespacedPath(f){return f},dirname(f){if(a(f,"path"),f.length===0)return".";const S=f.charCodeAt(0)===C;let p=-1,m=!0;for(let b=f.length-1;b>=1;--b)if(f.charCodeAt(b)===C){if(!m){p=b;break}}else m=!1;return p===-1?S?"/":".":S&&p===1?"//":f.slice(0,p)},basename(f,S){S!==void 0&&a(S,"ext"),a(f,"path");let p=0,m=-1,b=!0,L;if(S!==void 0&&S.length>0&&S.length<=f.length){if(S===f)return"";let k=S.length-1,I=-1;for(L=f.length-1;L>=0;--L){const M=f.charCodeAt(L);if(M===C){if(!b){p=L+1;break}}else I===-1&&(b=!1,I=L+1),k>=0&&(M===S.charCodeAt(k)?--k===-1&&(m=L):(k=-1,m=I))}return p===m?m=I:m===-1&&(m=f.length),f.slice(p,m)}for(L=f.length-1;L>=0;--L)if(f.charCodeAt(L)===C){if(!b){p=L+1;break}}else m===-1&&(b=!1,m=L+1);return m===-1?"":f.slice(p,m)},extname(f){a(f,"path");let S=-1,p=0,m=-1,b=!0,L=0;for(let k=f.length-1;k>=0;--k){const I=f.charCodeAt(k);if(I===C){if(!b){p=k+1;break}continue}m===-1&&(b=!1,m=k+1),I===v?S===-1?S=k:L!==1&&(L=1):S!==-1&&(L=-1)}return S===-1||m===-1||L===0||L===1&&S===m-1&&S===p+1?"":f.slice(S,m)},format:o.bind(null,"/"),parse(f){a(f,"path");const S={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return S;const p=f.charCodeAt(0)===C;let m;p?(S.root="/",m=1):m=0;let b=-1,L=0,k=-1,I=!0,M=f.length-1,B=0;for(;M>=m;--M){const z=f.charCodeAt(M);if(z===C){if(!I){L=M+1;break}continue}k===-1&&(I=!1,k=M+1),z===v?b===-1?b=M:B!==1&&(B=1):b!==-1&&(B=-1)}if(k!==-1){const z=L===0&&p?1:L;b===-1||B===0||B===1&&b===k-1&&b===L+1?S.base=S.name=f.slice(z,k):(S.name=f.slice(z,b),S.base=f.slice(z,k),S.ext=f.slice(b,k))}return L>0?S.dir=f.slice(0,L-1):p&&(S.dir="/"),S},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=r?e.win32.normalize:e.posix.normalize,e.resolve=r?e.win32.resolve:e.posix.resolve,e.relative=r?e.win32.relative:e.posix.relative,e.dirname=r?e.win32.dirname:e.posix.dirname,e.basename=r?e.win32.basename:e.posix.basename,e.extname=r?e.win32.extname:e.posix.extname,e.sep=r?e.win32.sep:e.posix.sep}),define(ee[198],te([1,0,88,16,9]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(t){return t===47||t===92}e.isPathSeparator=D;function y(t){return t.replace(/[\\/]/g,w.posix.sep)}e.toSlashes=y;function v(t){return t.indexOf("/")===-1&&(t=y(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}e.toPosixPath=v;function C(t,n=w.posix.sep){if(!t)return"";const a=t.length,r=t.charCodeAt(0);if(D(r)){if(D(t.charCodeAt(1))&&!D(t.charCodeAt(2))){let u=3;const s=u;for(;u<a&&!D(t.charCodeAt(u));u++);if(s!==u&&!D(t.charCodeAt(u+1))){for(u+=1;u<a;u++)if(D(t.charCodeAt(u)))return t.slice(0,u+1).replace(/[\\/]/g,n)}}return n}else if(g(r)&&t.charCodeAt(1)===58)return D(t.charCodeAt(2))?t.slice(0,2)+n:t.slice(0,2);let c=t.indexOf("://");if(c!==-1){for(c+=3;c<a;c++)if(D(t.charCodeAt(c)))return t.slice(0,c+1)}return""}e.getRoot=C;function d(t,n,a,r=w.sep){if(t===n)return!0;if(!t||!n||n.length>t.length)return!1;if(a){if(!(0,E.startsWithIgnoreCase)(t,n))return!1;if(n.length===t.length)return!0;let u=n.length;return n.charAt(n.length-1)===r&&u--,t.charAt(u)===r}return n.charAt(n.length-1)!==r&&(n+=r),t.indexOf(n)===0}e.isEqualOrParent=d;function g(t){return t>=65&&t<=90||t>=97&&t<=122}e.isWindowsDriveLetter=g;function i(t,n=N.isWindows){return n?g(t.charCodeAt(0))&&t.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(ee[516],te([1,0,63,88,16,9]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const y=[void 0,[]];function v(s,l,o=0,h=0){const f=l;return f.values&&f.values.length>1?C(s,f.values,o,h):d(s,l,o,h)}e.scoreFuzzy2=v;function C(s,l,o,h){let f=0;const S=[];for(const p of l){const[m,b]=d(s,p,o,h);if(typeof m!="number")return y;f+=m,S.push(...b)}return[f,i(S)]}function d(s,l,o,h){const f=(0,w.fuzzyScore)(l.original,l.originalLowercase,o,s,s.toLowerCase(),h,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return f?[f[0],(0,w.createMatches)(f)]:y}const g=Object.freeze({score:0});function i(s){const l=s.sort((f,S)=>f.start-S.start),o=[];let h;for(const f of l)!h||!t(h,f)?(h=f,o.push(f)):(h.start=Math.min(h.start,f.start),h.end=Math.max(h.end,f.end));return o}function t(s,l){return!(s.end<l.start||l.end<s.start)}function n(s){return s.startsWith('"')&&s.endsWith('"')}const a=" ";function r(s){typeof s!="string"&&(s="");const l=s.toLowerCase(),{pathNormalized:o,normalized:h,normalizedLowercase:f}=c(s),S=o.indexOf(N.sep)>=0,p=n(s);let m;const b=s.split(a);if(b.length>1)for(const L of b){const k=n(L),{pathNormalized:I,normalized:M,normalizedLowercase:B}=c(L);M&&(m||(m=[]),m.push({original:L,originalLowercase:L.toLowerCase(),pathNormalized:I,normalized:M,normalizedLowercase:B,expectContiguousMatch:k}))}return{original:s,originalLowercase:l,pathNormalized:o,normalized:h,normalizedLowercase:f,values:m,containsPathSeparator:S,expectContiguousMatch:p}}e.prepareQuery=r;function c(s){let l;E.isWindows?l=s.replace(/\//g,N.sep):l=s.replace(/\\/g,N.sep);const o=(0,D.stripWildcards)(l).replace(/\s|"/g,"");return{pathNormalized:l,normalized:o,normalizedLowercase:o.toLowerCase()}}function u(s){return Array.isArray(s)?r(s.map(l=>l.original).join(a)):r(s.original)}e.pieceToQuery=u}),define(ee[517],te([1,0,198,16]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function E(y,v=N.isWindows){return(0,w.hasDriveLetter)(y,v)?y.charAt(0).toUpperCase()+y.slice(1):y}e.normalizeDriveLetter=E;let D=Object.create(null)}),define(ee[59],te([1,0,16]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const N=w.globals.performance&&typeof w.globals.performance.now=="function";class E{static create(y=!0){return new E(y)}constructor(y){this.a=N&&y,this.b=this.d(),this.c=-1}stop(){this.c=this.d()}elapsed(){return this.c!==-1?this.c-this.b:this.d()-this.b}d(){return this.a?w.globals.performance.now():Date.now()}}e.StopWatch=E}),define(ee[6],te([1,0,13,92,2,58,59]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const v=!1,C=!1;var d;(function(m){m.None=()=>E.Disposable.None;function b(Y){if(C){const{onDidAddListener:Q}=Y,re=n.create();let oe=0;Y.onDidAddListener=()=>{++oe===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),re.print()),Q?.()}}}function L(Y,Q){return O(Y,()=>{},0,void 0,void 0,Q)}m.defer=L;function k(Y){return(Q,re=null,oe)=>{let G=!1,Z;return Z=Y(U=>{if(!G)return Z?Z.dispose():G=!0,Q.call(re,U)},null,oe),G&&Z.dispose(),Z}}m.once=k;function I(Y,Q,re){return T((oe,G=null,Z)=>Y(U=>oe.call(G,Q(U)),null,Z),re)}m.map=I;function M(Y,Q,re){return T((oe,G=null,Z)=>Y(U=>{Q(U),oe.call(G,U)},null,Z),re)}m.forEach=M;function B(Y,Q,re){return T((oe,G=null,Z)=>Y(U=>Q(U)&&oe.call(G,U),null,Z),re)}m.filter=B;function z(Y){return Y}m.signal=z;function P(...Y){return(Q,re=null,oe)=>(0,E.combinedDisposable)(...Y.map(G=>G(Z=>Q.call(re,Z),null,oe)))}m.any=P;function A(Y,Q,re,oe){let G=re;return I(Y,Z=>(G=Q(G,Z),G),oe)}m.reduce=A;function T(Y,Q){let re;const oe={onWillAddFirstListener(){re=Y(G.fire,G)},onDidRemoveLastListener(){re?.dispose()}};Q||b(oe);const G=new r(oe);return Q?.add(G),G.event}function O(Y,Q,re=100,oe=!1,G,Z){let U,j,H,_=0;const ce={leakWarningThreshold:G,onWillAddFirstListener(){U=Y(se=>{_++,j=Q(j,se),oe&&!H&&(ue.fire(j),j=void 0);const he=()=>{const me=j;j=void 0,H=void 0,(!oe||_>1)&&ue.fire(me),_=0};typeof re=="number"?(clearTimeout(H),H=setTimeout(he,re)):H===void 0&&(H=0,queueMicrotask(he))})},onDidRemoveLastListener(){U.dispose()}};Z||b(ce);const ue=new r(ce);return Z?.add(ue),ue.event}m.debounce=O;function F(Y,Q=0,re){return m.debounce(Y,(oe,G)=>oe?(oe.push(G),oe):[G],Q,void 0,void 0,re)}m.accumulate=F;function W(Y,Q=(oe,G)=>oe===G,re){let oe=!0,G;return B(Y,Z=>{const U=oe||!Q(Z,G);return oe=!1,G=Z,U},re)}m.latch=W;function V(Y,Q,re){return[m.filter(Y,Q,re),m.filter(Y,oe=>!Q(oe),re)]}m.split=V;function R(Y,Q=!1,re=[]){let oe=re.slice(),G=Y(j=>{oe?oe.push(j):U.fire(j)});const Z=()=>{oe?.forEach(j=>U.fire(j)),oe=null},U=new r({onWillAddFirstListener(){G||(G=Y(j=>U.fire(j)))},onDidAddFirstListener(){oe&&(Q?setTimeout(Z):Z())},onDidRemoveLastListener(){G&&G.dispose(),G=null}});return U.event}m.buffer=R;class ${constructor(Q){this.event=Q,this.c=new E.DisposableStore}map(Q){return new $(I(this.event,Q,this.c))}forEach(Q){return new $(M(this.event,Q,this.c))}filter(Q){return new $(B(this.event,Q,this.c))}reduce(Q,re){return new $(A(this.event,Q,re,this.c))}latch(){return new $(W(this.event,void 0,this.c))}debounce(Q,re=100,oe=!1,G){return new $(O(this.event,Q,re,oe,G,this.c))}on(Q,re,oe){return this.event(Q,re,oe)}once(Q,re,oe){return k(this.event)(Q,re,oe)}dispose(){this.c.dispose()}}function X(Y){return new $(Y)}m.chain=X;function ne(Y,Q,re=oe=>oe){const oe=(...j)=>U.fire(re(...j)),G=()=>Y.on(Q,oe),Z=()=>Y.removeListener(Q,oe),U=new r({onWillAddFirstListener:G,onDidRemoveLastListener:Z});return U.event}m.fromNodeEventEmitter=ne;function ae(Y,Q,re=oe=>oe){const oe=(...j)=>U.fire(re(...j)),G=()=>Y.addEventListener(Q,oe),Z=()=>Y.removeEventListener(Q,oe),U=new r({onWillAddFirstListener:G,onDidRemoveLastListener:Z});return U.event}m.fromDOMEventEmitter=ae;function ie(Y){return new Promise(Q=>k(Y)(Q))}m.toPromise=ie;function le(Y,Q){return Q(void 0),Y(re=>Q(re))}m.runAndSubscribe=le;function J(Y,Q){let re=null;function oe(Z){re?.dispose(),re=new E.DisposableStore,Q(Z,re)}oe(void 0);const G=Y(Z=>oe(Z));return(0,E.toDisposable)(()=>{G.dispose(),re?.dispose()})}m.runAndSubscribeWithStore=J;class x{constructor(Q,re){this.obs=Q,this.c=0,this.d=!1;const oe={onWillAddFirstListener:()=>{Q.addObserver(this)},onDidRemoveLastListener:()=>{Q.removeObserver(this)}};re||b(oe),this.emitter=new r(oe),re&&re.add(this.emitter)}beginUpdate(Q){this.c++}handleChange(Q,re){this.d=!0}endUpdate(Q){--this.c===0&&this.d&&(this.d=!1,this.emitter.fire(this.obs.get()))}}function q(Y,Q){return new x(Y,Q).emitter.event}m.fromObservable=q})(d=e.Event||(e.Event={}));class g{constructor(b){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${b}_${g.c++}`,g.all.add(this)}start(b){this.d=new y.StopWatch(!0),this.listenerCount=b}stop(){if(this.d){const b=this.d.elapsed();this.durations.push(b),this.elapsedOverall+=b,this.invocationCount+=1,this.d=void 0}}}g.all=new Set,g.c=0,e.EventProfiling=g;let i=-1;class t{constructor(b,L=Math.random().toString(18).slice(2,5)){this.threshold=b,this.name=L,this.d=0}dispose(){var b;(b=this.c)===null||b===void 0||b.clear()}check(b,L){const k=this.threshold;if(k<=0||L<k)return;this.c||(this.c=new Map);const I=this.c.get(b.value)||0;if(this.c.set(b.value,I+1),this.d-=1,this.d<=0){this.d=k*.5;let M,B=0;for(const[z,P]of this.c)(!M||B<P)&&(M=z,B=P);console.warn(`[${this.name}] potential listener LEAK detected, having ${L} listeners already. MOST frequent listener (${B}):`),console.warn(M)}return()=>{const M=this.c.get(b.value)||0;this.c.set(b.value,M-1)}}}class n{static create(){var b;return new n((b=new Error().stack)!==null&&b!==void 0?b:"")}constructor(b){this.value=b}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class a{constructor(b,L,k){this.callback=b,this.callbackThis=L,this.stack=k,this.subscription=new E.SafeDisposable}invoke(b){this.callback.call(this.callbackThis,b)}}class r{constructor(b){var L,k,I,M,B;this.j=!1,this.d=b,this.f=i>0||((L=this.d)===null||L===void 0?void 0:L.leakWarningThreshold)?new t((I=(k=this.d)===null||k===void 0?void 0:k.leakWarningThreshold)!==null&&I!==void 0?I:i):void 0,this.g=!((M=this.d)===null||M===void 0)&&M._profName?new g(this.d._profName):void 0,this.m=(B=this.d)===null||B===void 0?void 0:B.deliveryQueue}dispose(){var b,L,k,I;if(!this.j){if(this.j=!0,this.n){if(v){const M=Array.from(this.n);queueMicrotask(()=>{var B;for(const z of M)z.subscription.isset()&&(z.subscription.unset(),(B=z.stack)===null||B===void 0||B.print())})}this.n.clear()}(b=this.m)===null||b===void 0||b.clear(this),(k=(L=this.d)===null||L===void 0?void 0:L.onDidRemoveLastListener)===null||k===void 0||k.call(L),(I=this.f)===null||I===void 0||I.dispose()}}get event(){return this.l||(this.l=(b,L,k)=>{var I,M,B;if(this.n||(this.n=new D.LinkedList),this.f&&this.n.size>this.f.threshold*3)return console.warn(`[${this.f.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),E.Disposable.None;const z=this.n.isEmpty();z&&((I=this.d)===null||I===void 0?void 0:I.onWillAddFirstListener)&&this.d.onWillAddFirstListener(this);let P,A;this.f&&this.n.size>=Math.ceil(this.f.threshold*.2)&&(A=n.create(),P=this.f.check(A,this.n.size+1)),v&&(A=A??n.create());const T=new a(b,L,A),O=this.n.push(T);z&&((M=this.d)===null||M===void 0?void 0:M.onDidAddFirstListener)&&this.d.onDidAddFirstListener(this),!((B=this.d)===null||B===void 0)&&B.onDidAddListener&&this.d.onDidAddListener(this,b,L);const F=T.subscription.set(()=>{P?.(),this.j||(O(),this.d&&this.d.onDidRemoveLastListener&&(this.n&&!this.n.isEmpty()||this.d.onDidRemoveLastListener(this)))});return k instanceof E.DisposableStore?k.add(F):Array.isArray(k)&&k.push(F),F}),this.l}fire(b){var L,k;if(this.n){this.m||(this.m=new u);for(const I of this.n)this.m.push(this,I,b);(L=this.g)===null||L===void 0||L.start(this.m.size),this.m.deliver(),(k=this.g)===null||k===void 0||k.stop()}}hasListeners(){return this.n?!this.n.isEmpty():!1}}e.Emitter=r;class c{constructor(){this.c=new D.LinkedList}get size(){return this.c.size}push(b,L,k){this.c.push(new s(b,L,k))}clear(b){const L=new D.LinkedList;for(const k of this.c)k.emitter!==b&&L.push(k);this.c=L}deliver(){for(;this.c.size>0;){const b=this.c.shift();try{b.listener.invoke(b.event)}catch(L){(0,w.onUnexpectedError)(L)}}}}e.EventDeliveryQueue=c;class u extends c{clear(b){this.c.clear()}}class s{constructor(b,L,k){this.emitter=b,this.listener=L,this.event=k}}class l extends r{constructor(b){super(b),this.c=0,this.h=new D.LinkedList,this.k=b?.merge}pause(){this.c++}resume(){if(this.c!==0&&--this.c===0)if(this.k){if(this.h.size>0){const b=Array.from(this.h);this.h.clear(),super.fire(this.k(b))}}else for(;!this.c&&this.h.size!==0;)super.fire(this.h.shift())}fire(b){this.n&&(this.c!==0?this.h.push(b):super.fire(b))}}e.PauseableEmitter=l;class o extends l{constructor(b){var L;super(b),this.o=(L=b.delay)!==null&&L!==void 0?L:100}fire(b){this.p||(this.pause(),this.p=setTimeout(()=>{this.p=void 0,this.resume()},this.o)),super.fire(b)}}e.DebounceEmitter=o;class h extends r{constructor(b){super(b),this.c=[],this.h=b?.merge}fire(b){!this.hasListeners()||(this.c.push(b),this.c.length===1&&queueMicrotask(()=>{this.h?super.fire(this.h(this.c)):this.c.forEach(L=>super.fire(L)),this.c=[]}))}}e.MicrotaskEmitter=h;class f{constructor(){this.d=!1,this.f=[],this.c=new r({onWillAddFirstListener:()=>this.g(),onDidRemoveLastListener:()=>this.h()})}get event(){return this.c.event}add(b){const L={event:b,listener:null};this.f.push(L),this.d&&this.j(L);const k=()=>{this.d&&this.k(L);const I=this.f.indexOf(L);this.f.splice(I,1)};return(0,E.toDisposable)((0,N.once)(k))}g(){this.d=!0,this.f.forEach(b=>this.j(b))}h(){this.d=!1,this.f.forEach(b=>this.k(b))}j(b){b.listener=b.event(L=>this.c.fire(L))}k(b){b.listener&&b.listener.dispose(),b.listener=null}dispose(){this.c.dispose()}}e.EventMultiplexer=f;class S{constructor(){this.c=[]}wrapEvent(b){return(L,k,I)=>b(M=>{const B=this.c[this.c.length-1];B?B.push(()=>L.call(k,M)):L.call(k,M)},void 0,I)}bufferEvents(b){const L=[];this.c.push(L);const k=b();return this.c.pop(),L.forEach(I=>I()),k}}e.EventBufferer=S;class p{constructor(){this.c=!1,this.d=d.None,this.f=E.Disposable.None,this.g=new r({onDidAddFirstListener:()=>{this.c=!0,this.f=this.d(this.g.fire,this.g)},onDidRemoveLastListener:()=>{this.c=!1,this.f.dispose()}}),this.event=this.g.event}set input(b){this.d=b,this.c&&(this.f.dispose(),this.f=b(this.g.fire,this.g))}dispose(){this.f.dispose(),this.g.dispose()}}e.Relay=p}),define(ee[44],te([1,0,6,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class E{constructor(){this.a=1}getZoomFactor(){return this.a}}E.INSTANCE=new E;class D extends N.Disposable{constructor(){super(),this.a=this.q(new w.Emitter),this.onDidChange=this.a.event,this.b=()=>this.g(!0),this.c=null,this.g(!1)}g(a){var r;(r=this.c)===null||r===void 0||r.removeEventListener("change",this.b),this.c=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this.c.addEventListener("change",this.b),a&&this.a.fire()}}class y extends N.Disposable{get value(){return this.b}constructor(){super(),this.a=this.q(new w.Emitter),this.onDidChange=this.a.event,this.b=this.c();const a=this.q(new D);this.q(a.onDidChange(()=>{this.b=this.c(),this.a.fire(this.b)}))}c(){const a=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return r/c}}class v{constructor(){this.a=null}b(){return this.a||(this.a=(0,N.markAsSingleton)(new y)),this.a}get value(){return this.b().value}get onDidChange(){return this.b().onDidChange}}function C(n,a){typeof n=="string"&&(n=window.matchMedia(n)),n.addEventListener("change",a)}e.addMatchMediaChangeListener=C,e.PixelRatio=new v;function d(){return E.INSTANCE.getZoomFactor()}e.getZoomFactor=d;const g=navigator.userAgent;e.isFirefox=g.indexOf("Firefox")>=0,e.isWebKit=g.indexOf("AppleWebKit")>=0,e.isChrome=g.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&g.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=g.indexOf("Electron/")>=0,e.isAndroid=g.indexOf("Android")>=0;let i=!1;if(window.matchMedia){const n=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),a=window.matchMedia("(display-mode: fullscreen)");i=n.matches,C(n,({matches:r})=>{i&&a.matches||(i=r)})}function t(){return i}e.isStandalone=t}),define(ee[199],te([1,0,44,16]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:N.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:N.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>N.isNative||w.isStandalone()?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[81],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class N{get event(){return this.a.event}constructor(D,y,v){const C=d=>this.a.fire(d);this.a=new w.Emitter({onWillAddFirstListener:()=>D.addEventListener(y,C,v),onDidRemoveLastListener:()=>D.removeEventListener(y,C,v)})}dispose(){this.a.dispose()}}e.DomEmitter=N}),define(ee[45],te([1,0,44,57,110,16]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(t){if(t.charCode){const a=String.fromCharCode(t.charCode).toUpperCase();return N.KeyCodeUtils.fromString(a)}const n=t.keyCode;if(n===3)return 7;if(w.isFirefox){if(n===59)return 80;if(n===107)return 81;if(n===109)return 83;if(D.isMacintosh&&n===224)return 57}else if(w.isWebKit){if(n===91)return 57;if(D.isMacintosh&&n===93)return 57;if(!D.isMacintosh&&n===92)return 57}return N.EVENT_KEY_CODE_MAP[n]||0}const v=D.isMacintosh?256:2048,C=512,d=1024,g=D.isMacintosh?2048:256;class i{constructor(n){this._standardKeyboardEventBrand=!0;const a=n;this.browserEvent=a,this.target=a.target,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey,this.altGraphKey=a.getModifierState("AltGraph"),this.keyCode=y(a),this.code=a.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this.a=this.c(),this.b=this.d()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this.b}equals(n){return this.a===n}c(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let a=0;return this.ctrlKey&&(a|=v),this.altKey&&(a|=C),this.shiftKey&&(a|=d),this.metaKey&&(a|=g),a|=n,a}d(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new E.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=i}),define(ee[66],te([1,0,44,338,16]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);const d=N.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=d.left,this.posy-=d.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class y{constructor(C,d=0,g=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=g,this.deltaX=d,C){const i=C,t=C;if(typeof i.wheelDeltaY<"u")this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!E.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof i.wheelDeltaX<"u")w.isSafari&&E.isWindows?this.deltaX=-(i.wheelDeltaX/120):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!E.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){var C;(C=this.browserEvent)===null||C===void 0||C.preventDefault()}stopPropagation(){var C;(C=this.browserEvent)===null||C===void 0||C.stopPropagation()}}e.StandardWheelEvent=y}),define(ee[41],te([1,0,6,2,510]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends N.Disposable{constructor(t,n="",a="",r=!0,c){super(),this.a=this.q(new w.Emitter),this.onDidChange=this.a.event,this.i=!0,this.b=t,this.c=n,this.h=a,this.i=r,this.k=c}get id(){return this.b}get label(){return this.c}set label(t){this.l(t)}l(t){this.c!==t&&(this.c=t,this.a.fire({label:t}))}get tooltip(){return this.g||""}set tooltip(t){this.m(t)}m(t){this.g!==t&&(this.g=t,this.a.fire({tooltip:t}))}get class(){return this.h}set class(t){this.n(t)}n(t){this.h!==t&&(this.h=t,this.a.fire({class:t}))}get enabled(){return this.i}set enabled(t){this.p(t)}p(t){this.i!==t&&(this.i=t,this.a.fire({enabled:t}))}get checked(){return this.j}set checked(t){this.r(t)}r(t){this.j!==t&&(this.j=t,this.a.fire({checked:t}))}run(t,n){return Le(this,void 0,void 0,function*(){this.k&&(yield this.k(t))})}}e.Action=D;class y extends N.Disposable{constructor(){super(...arguments),this.b=this.q(new w.Emitter),this.onWillRun=this.b.event,this.c=this.q(new w.Emitter),this.onDidRun=this.c.event}run(t,n){return Le(this,void 0,void 0,function*(){if(!t.enabled)return;this.b.fire({action:t});let a;try{yield this.g(t,n)}catch(r){a=r}this.c.fire({action:t,error:a})})}g(t,n){return Le(this,void 0,void 0,function*(){yield t.run(n)})}}e.ActionRunner=y;class v{constructor(){this.id=v.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...t){let n=[];for(const a of t)a.length&&(n.length?n=[...n,new v,...a]:n=a);return n}run(){return Le(this,void 0,void 0,function*(){})}}v.ID="vs.actions.separator",e.Separator=v;class C{get actions(){return this.a}constructor(t,n,a,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=n,this.class=r,this.a=a}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class d extends D{constructor(){super(d.ID,E.localize(0,null),void 0,!1)}}d.ID="vs.actions.empty",e.EmptySubmenuAction=d;function g(i){var t,n;return{id:i.id,label:i.label,class:void 0,enabled:(t=i.enabled)!==null&&t!==void 0?t:!0,checked:(n=i.checked)!==null&&n!==void 0?n:!1,run:()=>Le(this,void 0,void 0,function*(){return i.run()}),tooltip:i.label}}e.toAction=g}),define(ee[20],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const N=Object.freeze(function(v,C){const d=setTimeout(v.bind(C),0);return{dispose(){clearTimeout(d)}}});var E;(function(v){function C(d){return d===v.None||d===v.Cancelled||d instanceof D?!0:!d||typeof d!="object"?!1:typeof d.isCancellationRequested=="boolean"&&typeof d.onCancellationRequested=="function"}v.isCancellationToken=C,v.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),v.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N})})(E=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this.a=!1,this.b=null}cancel(){this.a||(this.a=!0,this.b&&(this.b.fire(void 0),this.dispose()))}get isCancellationRequested(){return this.a}get onCancellationRequested(){return this.a?N:(this.b||(this.b=new w.Emitter),this.b.event)}dispose(){this.b&&(this.b.dispose(),this.b=null)}}class y{constructor(C){this.a=void 0,this.b=void 0,this.b=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this.a||(this.a=new D),this.a}cancel(){this.a?this.a instanceof D&&this.a.cancel():this.a=E.Cancelled}dispose(C=!1){var d;C&&this.cancel(),(d=this.b)===null||d===void 0||d.dispose(),this.a?this.a instanceof D&&this.a.dispose():this.a=E.None}}e.CancellationTokenSource=y});var yt=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],w;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),w={},N("next"),N("throw"),N("return"),w[Symbol.asyncIterator]=function(){return this},w);function N(D){w[D]=K[D]&&function(y){return new Promise(function(v,C){y=K[D](y),E(v,C,y.done,y.value)})}}function E(D,y,v,C){Promise.resolve(C).then(function(d){D({value:d,done:v})},y)}};define(ee[12],te([1,0,20,13,6,2,16,237]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function C(k){return!!k&&typeof k.then=="function"}e.isThenable=C;function d(k){const I=new w.CancellationTokenSource,M=k(I.token),B=new Promise((z,P)=>{const A=I.token.onCancellationRequested(()=>{A.dispose(),I.dispose(),P(new N.CancellationError)});Promise.resolve(M).then(T=>{A.dispose(),I.dispose(),z(T)},T=>{A.dispose(),I.dispose(),P(T)})});return new class{cancel(){I.cancel()}then(z,P){return B.then(z,P)}catch(z){return this.then(void 0,z)}finally(z){return B.finally(z)}}}e.createCancelablePromise=d;function g(k,I,M){return new Promise((B,z)=>{const P=I.onCancellationRequested(()=>{P.dispose(),B(M)});k.then(B,z).finally(()=>P.dispose())})}e.raceCancellation=g;class i{constructor(){this.a=null,this.b=null,this.d=null}queue(I){if(this.a){if(this.d=I,!this.b){const M=()=>{this.b=null;const B=this.queue(this.d);return this.d=null,B};this.b=new Promise(B=>{this.a.then(M,M).then(B)})}return new Promise((M,B)=>{this.b.then(M,B)})}return this.a=I(),new Promise((M,B)=>{this.a.then(z=>{this.a=null,M(z)},z=>{this.a=null,B(z)})})}}e.Throttler=i;const t=(k,I)=>{let M=!0;const B=setTimeout(()=>{M=!1,I()},k);return{isTriggered:()=>M,dispose:()=>{clearTimeout(B),M=!1}}},n=k=>{let I=!0;return queueMicrotask(()=>{I&&(I=!1,k())}),{isTriggered:()=>I,dispose:()=>{I=!1}}};class a{constructor(I){this.defaultDelay=I,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(I,M=this.defaultDelay){this.g=I,this.h(),this.b||(this.b=new Promise((z,P)=>{this.d=z,this.f=P}).then(()=>{if(this.b=null,this.d=null,this.g){const z=this.g;return this.g=null,z()}}));const B=()=>{var z;this.a=null,(z=this.d)===null||z===void 0||z.call(this,null)};return this.a=M===v.MicrotaskDelay?n(B):t(M,B),this.b}isTriggered(){var I;return!!(!((I=this.a)===null||I===void 0)&&I.isTriggered())}cancel(){var I;this.h(),this.b&&((I=this.f)===null||I===void 0||I.call(this,new N.CancellationError),this.b=null)}h(){var I;(I=this.a)===null||I===void 0||I.dispose(),this.a=null}dispose(){this.cancel()}}e.Delayer=a;class r{constructor(I){this.a=new a(I),this.b=new i}trigger(I,M){return this.a.trigger(()=>this.b.queue(I),M)}dispose(){this.a.dispose()}}e.ThrottledDelayer=r;function c(k,I){return I?new Promise((M,B)=>{const z=setTimeout(()=>{P.dispose(),M()},k),P=I.onCancellationRequested(()=>{clearTimeout(z),P.dispose(),B(new N.CancellationError)})}):d(M=>c(k,M))}e.timeout=c;function u(k,I=0){const M=setTimeout(k,I);return(0,D.toDisposable)(()=>clearTimeout(M))}e.disposableTimeout=u;function s(k,I=B=>!!B,M=null){let B=0;const z=k.length,P=()=>{if(B>=z)return Promise.resolve(M);const A=k[B++];return Promise.resolve(A()).then(O=>I(O)?Promise.resolve(O):P())};return P()}e.first=s;class l{constructor(I,M){this.a=-1,typeof I=="function"&&typeof M=="number"&&this.setIfNotSet(I,M)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(I,M){this.cancel(),this.a=setTimeout(()=>{this.a=-1,I()},M)}setIfNotSet(I,M){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,I()},M))}}e.TimeoutTimer=l;class o{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(I,M){this.cancel(),this.a=setInterval(()=>{I()},M)}}e.IntervalTimer=o;class h{constructor(I,M){this.b=-1,this.a=I,this.d=M,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(I=this.d){this.cancel(),this.b=setTimeout(this.f,I)}get delay(){return this.d}set delay(I){this.d=I}isScheduled(){return this.b!==-1}g(){this.b=-1,this.a&&this.h()}h(){var I;(I=this.a)===null||I===void 0||I.call(this)}}e.RunOnceScheduler=h,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=k=>{(0,y.setTimeout0)(()=>{if(I)return;const M=Date.now()+15;k(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.runWhenIdle=(k,I)=>{const M=requestIdleCallback(k,typeof I=="number"?{timeout:I}:void 0);let B=!1;return{dispose(){B||(B=!0,cancelIdleCallback(M))}}}}();class f{constructor(I){this.d=!1,this.a=()=>{try{this.f=I()}catch(M){this.g=M}finally{this.d=!0}},this.b=(0,e.runWhenIdle)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.IdleValue=f;class S{get isRejected(){return this.d}get isSettled(){return this.d||this.f}constructor(){this.d=!1,this.f=!1,this.p=new Promise((I,M)=>{this.a=I,this.b=M})}complete(I){return new Promise(M=>{this.a(I),this.f=!0,M()})}cancel(){new Promise(I=>{this.b(new N.CancellationError),this.d=!0,I()})}}e.DeferredPromise=S;var p;(function(k){function I(B){return Le(this,void 0,void 0,function*(){let z;const P=yield Promise.all(B.map(A=>A.then(T=>T,T=>{z||(z=T)})));if(typeof z<"u")throw z;return P})}k.settled=I;function M(B){return new Promise((z,P)=>Le(this,void 0,void 0,function*(){try{yield B(z,P)}catch(A){P(A)}}))}k.withAsyncBody=M})(p=e.Promises||(e.Promises={}));class m{static fromArray(I){return new m(M=>{M.emitMany(I)})}static fromPromise(I){return new m(M=>Le(this,void 0,void 0,function*(){M.emitMany(yield I)}))}static fromPromises(I){return new m(M=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(B=>Le(this,void 0,void 0,function*(){return M.emitOne(yield B)})))}))}static merge(I){return new m(M=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(B=>{var z,P,A;return Le(this,void 0,void 0,function*(){var T,O,F,W;try{for(z=!0,P=yt(B);A=yield P.next(),T=A.done,!T;){W=A.value,z=!1;try{const V=W;M.emitOne(V)}finally{z=!0}}}catch(V){O={error:V}}finally{try{!z&&!T&&(F=P.return)&&(yield F.call(P))}finally{if(O)throw O.error}}})}))}))}constructor(I){this.a=0,this.b=[],this.d=null,this.f=new E.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const M={emitOne:B=>this.g(B),emitMany:B=>this.h(B),reject:B=>this.k(B)};try{yield Promise.resolve(I(M)),this.j()}catch(B){this.k(B)}finally{M.emitOne=void 0,M.emitMany=void 0,M.reject=void 0}}))}[Symbol.asyncIterator](){let I=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this.a===2)throw this.d;if(I<this.b.length)return{done:!1,value:this.b[I++]};if(this.a===1)return{done:!0,value:void 0};yield E.Event.toPromise(this.f.event)}while(!0)})}}static map(I,M){return new m(B=>Le(this,void 0,void 0,function*(){var z,P,A,T;try{for(var O=!0,F=yt(I),W;W=yield F.next(),z=W.done,!z;){T=W.value,O=!1;try{const V=T;B.emitOne(M(V))}finally{O=!0}}}catch(V){P={error:V}}finally{try{!O&&!z&&(A=F.return)&&(yield A.call(F))}finally{if(P)throw P.error}}}))}map(I){return m.map(this,I)}static filter(I,M){return new m(B=>Le(this,void 0,void 0,function*(){var z,P,A,T;try{for(var O=!0,F=yt(I),W;W=yield F.next(),z=W.done,!z;){T=W.value,O=!1;try{const V=T;M(V)&&B.emitOne(V)}finally{O=!0}}}catch(V){P={error:V}}finally{try{!O&&!z&&(A=F.return)&&(yield A.call(F))}finally{if(P)throw P.error}}}))}filter(I){return m.filter(this,I)}static coalesce(I){return m.filter(I,M=>!!M)}coalesce(){return m.coalesce(this)}static toPromise(I){var M,B,z,P,A,T,O;return Le(this,void 0,void 0,function*(){const F=[];try{for(M=!0,B=yt(I);z=yield B.next(),P=z.done,!P;){O=z.value,M=!1;try{const W=O;F.push(W)}finally{M=!0}}}catch(W){A={error:W}}finally{try{!M&&!P&&(T=B.return)&&(yield T.call(B))}finally{if(A)throw A.error}}return F})}toPromise(){return m.toPromise(this)}g(I){this.a===0&&(this.b.push(I),this.f.fire())}h(I){this.a===0&&(this.b=this.b.concat(I),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(I){this.a===0&&(this.a=2,this.d=I,this.f.fire())}}m.EMPTY=m.fromArray([]),e.AsyncIterableObject=m;class b extends m{constructor(I,M){super(M),this.l=I}cancel(){this.l.cancel()}}e.CancelableAsyncIterableObject=b;function L(k){const I=new w.CancellationTokenSource,M=k(I.token);return new b(I,B=>Le(this,void 0,void 0,function*(){var z,P,A,T;const O=I.token.onCancellationRequested(()=>{O.dispose(),I.dispose(),B.reject(new N.CancellationError)});try{try{for(var F=!0,W=yt(M),V;V=yield W.next(),z=V.done,!z;){T=V.value,F=!1;try{const R=T;if(I.token.isCancellationRequested)return;B.emitOne(R)}finally{F=!0}}}catch(R){P={error:R}}finally{try{!F&&!z&&(A=W.return)&&(yield A.call(W))}finally{if(P)throw P.error}}O.dispose(),I.dispose()}catch(R){O.dispose(),I.dispose(),B.reject(R)}}))}e.createCancelableAsyncIterable=L}),define(ee[518],te([1,0,12,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class E extends N.Disposable{constructor(y,v,C){super(),this.a=y,this.b=v,this.c=C,this.g=null,this.k=!1,this.j=!1,this.h=!1,this.i=!1,this.l=this.q(new w.TimeoutTimer)}setVisibility(y){this.a!==y&&(this.a=y,this.n())}setShouldBeVisible(y){this.h=y,this.n()}m(){return this.a===2?!1:this.a===3?!0:this.h}n(){const y=this.m();this.i!==y&&(this.i=y,this.ensureVisibility())}setIsNeeded(y){this.j!==y&&(this.j=y,this.ensureVisibility())}setDomNode(y){this.g=y,this.g.setClassName(this.c),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this.j){this.r(!1);return}this.i?this.p():this.r(!0)}p(){this.k||(this.k=!0,this.l.setIfNotSet(()=>{var y;(y=this.g)===null||y===void 0||y.setClassName(this.b)},0))}r(y){var v;this.l.cancel(),this.k&&(this.k=!1,(v=this.g)===null||v===void 0||v.setClassName(this.c+(y?" fade":"")))}}e.ScrollbarVisibilityController=E}),define(ee[200],te([1,0,125,17,12,237,152,6,54]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function d(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=d;function g(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=g;function i(n){return typeof n.collapsible=="boolean"}class t{constructor(a,r,c,u={}){this.o=a,this.p=r,this.rootRef=[],this.d=new v.EventBufferer,this.f=new v.Emitter,this.onDidChangeCollapseState=this.d.wrapEvent(this.f.event),this.g=new v.Emitter,this.onDidChangeRenderNodeCount=this.d.wrapEvent(this.g.event),this.l=new v.Emitter,this.onDidSplice=this.l.event,this.m=new E.Delayer(D.MicrotaskDelay),this.h=typeof u.collapseByDefault>"u"?!1:u.collapseByDefault,this.j=u.filter,this.k=typeof u.autoExpandSingleChildren>"u"?!1:u.autoExpandSingleChildren,this.c={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,r,c=C.Iterable.empty(),u={}){if(a.length===0)throw new w.TreeError(this.o,"Invalid tree location");u.diffIdentityProvider?this.q(u.diffIdentityProvider,a,r,c,u):this.s(a,r,c,u)}q(a,r,c,u,s,l){var o;u===void 0&&(u=C.Iterable.empty()),l===void 0&&(l=(o=s.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:h}=this.G(r);if(!h.lastDiffIds)return this.s(r,c,u,s);const f=[...u],S=r[r.length-1],p=new y.LcsDiff({getElements:()=>h.lastDiffIds},{getElements:()=>[...h.children.slice(0,S),...f,...h.children.slice(S+c)].map(I=>a.getId(I.element).toString())}).ComputeDiff(!1);if(p.quitEarly)return h.lastDiffIds=void 0,this.s(r,c,f,s);const m=r.slice(0,-1),b=(I,M,B)=>{if(l>0)for(let z=0;z<B;z++)I--,M--,this.q(a,[...m,I,0],Number.MAX_SAFE_INTEGER,f[M].children,s,l-1)};let L=Math.min(h.children.length,S+c),k=f.length;for(const I of p.changes.sort((M,B)=>B.originalStart-M.originalStart))b(L,k,L-(I.originalStart+I.originalLength)),L=I.originalStart,k=I.modifiedStart-S,this.s([...m,L],I.originalLength,C.Iterable.slice(f,k,k+I.modifiedLength),s);b(L,k,L)}s(a,r,c=C.Iterable.empty(),{onDidCreateNode:u,onDidDeleteNode:s,diffIdentityProvider:l}){const{parentNode:o,listIndex:h,revealed:f,visible:S}=this.G(a),p=[],m=C.Iterable.map(c,O=>this.w(O,o,o.visible?1:0,f,p,u)),b=a[a.length-1],L=o.children.length>0;let k=0;for(let O=b;O>=0&&O<o.children.length;O--){const F=o.children[O];if(F.visible){k=F.visibleChildIndex;break}}const I=[];let M=0,B=0;for(const O of m)I.push(O),B+=O.renderNodeCount,O.visible&&(O.visibleChildIndex=k+M++);const z=(0,N.splice)(o.children,b,r,I);l?o.lastDiffIds?(0,N.splice)(o.lastDiffIds,b,r,I.map(O=>l.getId(O.element).toString())):o.lastDiffIds=o.children.map(O=>l.getId(O.element).toString()):o.lastDiffIds=void 0;let P=0;for(const O of z)O.visible&&P++;if(P!==0)for(let O=b+I.length;O<o.children.length;O++){const F=o.children[O];F.visible&&(F.visibleChildIndex-=P)}if(o.visibleChildrenCount+=M-P,f&&S){const O=z.reduce((F,W)=>F+(W.visible?W.renderNodeCount:0),0);this.B(o,B-O),this.p.splice(h,O,p)}if(z.length>0&&s){const O=F=>{s(F),F.children.forEach(O)};z.forEach(O)}this.l.fire({insertedNodes:I,deletedNodes:z});const A=o.children.length>0;L!==A&&this.setCollapsible(a.slice(0,-1),A);let T=o;for(;T;){if(T.visibility===2){this.m.trigger(()=>this.refilter());break}T=T.parent}}rerender(a){if(a.length===0)throw new w.TreeError(this.o,"Invalid tree location");const{node:r,listIndex:c,revealed:u}=this.F(a);r.visible&&u&&this.p.splice(c,1,[r])}has(a){return this.D(a)}getListIndex(a){const{listIndex:r,visible:c,revealed:u}=this.F(a);return c&&u?r:-1}getListRenderCount(a){return this.E(a).renderNodeCount}isCollapsible(a){return this.E(a).collapsible}setCollapsible(a,r){const c=this.E(a);typeof r>"u"&&(r=!c.collapsible);const u={collapsible:r};return this.d.bufferEvents(()=>this.t(a,u))}isCollapsed(a){return this.E(a).collapsed}setCollapsed(a,r,c){const u=this.E(a);typeof r>"u"&&(r=!u.collapsed);const s={collapsed:r,recursive:c||!1};return this.d.bufferEvents(()=>this.t(a,s))}t(a,r){const{node:c,listIndex:u,revealed:s}=this.F(a),l=this.u(c,u,s,r);if(c!==this.c&&this.k&&l&&!i(r)&&c.collapsible&&!c.collapsed&&!r.recursive){let o=-1;for(let h=0;h<c.children.length;h++)if(c.children[h].visible)if(o>-1){o=-1;break}else o=h;o>-1&&this.t([...a,o],r)}return l}u(a,r,c,u){const s=this.v(a,u,!1);if(!c||!a.visible||!s)return s;const l=a.renderNodeCount,o=this.x(a),h=l-(r===-1?0:1);return this.p.splice(r+1,h,o.slice(1)),s}v(a,r,c){let u;if(a===this.c?u=!1:(i(r)?(u=a.collapsible!==r.collapsible,a.collapsible=r.collapsible):a.collapsible?(u=a.collapsed!==r.collapsed,a.collapsed=r.collapsed):u=!1,u&&this.f.fire({node:a,deep:c})),!i(r)&&r.recursive)for(const s of a.children)u=this.v(s,r,!0)||u;return u}expandTo(a){this.d.bufferEvents(()=>{let r=this.E(a);for(;r.parent;)r=r.parent,a=a.slice(0,a.length-1),r.collapsed&&this.t(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.c.renderNodeCount,r=this.z(this.c);this.p.splice(0,a,r),this.m.cancel()}w(a,r,c,u,s,l){const o={parent:r,element:a.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed<"u",collapsed:typeof a.collapsed>"u"?this.h:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},h=this.C(o,c);o.visibility=h,u&&s.push(o);const f=a.children||C.Iterable.empty(),S=u&&h!==0&&!o.collapsed;let p=0,m=1;for(const b of f){const L=this.w(b,o,h,S,s,l);o.children.push(L),m+=L.renderNodeCount,L.visible&&(L.visibleChildIndex=p++)}return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=p,o.visible=h===2?p>0:h===1,o.visible?o.collapsed||(o.renderNodeCount=m):(o.renderNodeCount=0,u&&s.pop()),l?.(o),o}x(a){const r=a.renderNodeCount,c=[];return this.y(a,c),this.B(a.parent,c.length-r),c}y(a,r){if(a.visible===!1)return 0;if(r.push(a),a.renderNodeCount=1,!a.collapsed)for(const c of a.children)a.renderNodeCount+=this.y(c,r);return this.g.fire(a),a.renderNodeCount}z(a){const r=a.renderNodeCount,c=[];return this.A(a,a.visible?1:0,c),this.B(a.parent,c.length-r),c}A(a,r,c,u=!0){let s;if(a!==this.c){if(s=this.C(a,r),s===0)return a.visible=!1,a.renderNodeCount=0,!1;u&&c.push(a)}const l=c.length;a.renderNodeCount=a===this.c?0:1;let o=!1;if(!a.collapsed||s!==0){let h=0;for(const f of a.children)o=this.A(f,s,c,u&&!a.collapsed)||o,f.visible&&(f.visibleChildIndex=h++);a.visibleChildrenCount=h}else a.visibleChildrenCount=0;return a!==this.c&&(a.visible=s===2?o:s===1,a.visibility=s),a.visible?a.collapsed||(a.renderNodeCount+=c.length-l):(a.renderNodeCount=0,u&&c.pop()),this.g.fire(a),a.visible}B(a,r){if(r!==0)for(;a;)a.renderNodeCount+=r,this.g.fire(a),a=a.parent}C(a,r){const c=this.j?this.j.filter(a.element,r):1;return typeof c=="boolean"?(a.filterData=void 0,c?1:0):d(c)?(a.filterData=c.data,g(c.visibility)):(a.filterData=void 0,g(c))}D(a,r=this.c){if(!a||a.length===0)return!0;const[c,...u]=a;return c<0||c>r.children.length?!1:this.D(u,r.children[c])}E(a,r=this.c){if(!a||a.length===0)return r;const[c,...u]=a;if(c<0||c>r.children.length)throw new w.TreeError(this.o,"Invalid tree location");return this.E(u,r.children[c])}F(a){if(a.length===0)return{node:this.c,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:c,revealed:u,visible:s}=this.G(a),l=a[a.length-1];if(l<0||l>r.children.length)throw new w.TreeError(this.o,"Invalid tree location");const o=r.children[l];return{node:o,listIndex:c,revealed:u,visible:s&&o.visible}}G(a,r=this.c,c=0,u=!0,s=!0){const[l,...o]=a;if(l<0||l>r.children.length)throw new w.TreeError(this.o,"Invalid tree location");for(let h=0;h<l;h++)c+=r.children[h].renderNodeCount;return u=u&&!r.collapsed,s=s&&r.visible,o.length===0?{parentNode:r,listIndex:c,revealed:u,visible:s}:this.G(o,r.children[l],c+1,u,s)}getNode(a=[]){return this.E(a)}getNodeLocation(a){const r=[];let c=a;for(;c.parent;)r.push(c.parent.children.indexOf(c)),c=c.parent;return r.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:(0,N.tail2)(a)[0]}getFirstElementChild(a){const r=this.E(a);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=t}),define(ee[201],te([1,0,200,125,54]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(v,C,d={}){this.h=v,this.rootRef=null,this.d=new Map,this.e=new Map,this.c=new w.IndexTreeModel(v,C,null,d),this.onDidSplice=this.c.onDidSplice,this.onDidChangeCollapseState=this.c.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.c.onDidChangeRenderNodeCount,d.sorter&&(this.g={compare(g,i){return d.sorter.compare(g.element,i.element)}}),this.f=d.identityProvider}setChildren(v,C=E.Iterable.empty(),d={}){const g=this.k(v);this.i(g,this.j(C),d)}i(v,C=E.Iterable.empty(),d){const g=new Set,i=new Set,t=a=>{var r;if(a.element===null)return;const c=a;if(g.add(c.element),this.d.set(c.element,c),this.f){const u=this.f.getId(c.element).toString();i.add(u),this.e.set(u,c)}(r=d.onDidCreateNode)===null||r===void 0||r.call(d,c)},n=a=>{var r;if(a.element===null)return;const c=a;if(g.has(c.element)||this.d.delete(c.element),this.f){const u=this.f.getId(c.element).toString();i.has(u)||this.e.delete(u)}(r=d.onDidDeleteNode)===null||r===void 0||r.call(d,c)};this.c.splice([...v,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},d),{onDidCreateNode:t,onDidDeleteNode:n}))}j(v=E.Iterable.empty()){return this.g&&(v=[...v].sort(this.g.compare.bind(this.g))),E.Iterable.map(v,C=>{let d=this.d.get(C.element);if(!d&&this.f){const t=this.f.getId(C.element).toString();d=this.e.get(t)}if(!d)return Object.assign(Object.assign({},C),{children:this.j(C.children)});const g=typeof C.collapsible=="boolean"?C.collapsible:d.collapsible,i=typeof C.collapsed<"u"?C.collapsed:d.collapsed;return Object.assign(Object.assign({},C),{collapsible:g,collapsed:i,children:this.j(C.children)})})}rerender(v){const C=this.k(v);this.c.rerender(C)}getFirstElementChild(v=null){const C=this.k(v);return this.c.getFirstElementChild(C)}has(v){return this.d.has(v)}getListIndex(v){const C=this.k(v);return this.c.getListIndex(C)}getListRenderCount(v){const C=this.k(v);return this.c.getListRenderCount(C)}isCollapsible(v){const C=this.k(v);return this.c.isCollapsible(C)}setCollapsible(v,C){const d=this.k(v);return this.c.setCollapsible(d,C)}isCollapsed(v){const C=this.k(v);return this.c.isCollapsed(C)}setCollapsed(v,C,d){const g=this.k(v);return this.c.setCollapsed(g,C,d)}expandTo(v){const C=this.k(v);this.c.expandTo(C)}refilter(){this.c.refilter()}getNode(v=null){if(v===null)return this.c.getNode(this.c.rootRef);const C=this.d.get(v);if(!C)throw new N.TreeError(this.h,`Tree element not found: ${v}`);return C}getNodeLocation(v){return v.element}getParentNodeLocation(v){if(v===null)throw new N.TreeError(this.h,"Invalid getParentNodeLocation call");const C=this.d.get(v);if(!C)throw new N.TreeError(this.h,`Tree element not found: ${v}`);const d=this.c.getNodeLocation(C),g=this.c.getParentNodeLocation(d);return this.c.getNode(g).element}k(v){if(v===null)return[];const C=this.d.get(v);if(!C)throw new N.TreeError(this.h,`Tree element not found: ${v}`);return this.c.getNodeLocation(C)}}e.ObjectTreeModel=D}),define(ee[519],te([1,0,201,125,6,54]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function y(s){const l=[s.element],o=s.incompressible||!1;return{element:{elements:l,incompressible:o},children:D.Iterable.map(D.Iterable.from(s.children),y),collapsible:s.collapsible,collapsed:s.collapsed}}function v(s){const l=[s.element],o=s.incompressible||!1;let h,f;for(;[f,h]=D.Iterable.consume(D.Iterable.from(s.children),2),!(f.length!==1||f[0].incompressible);)s=f[0],l.push(s.element);return{element:{elements:l,incompressible:o},children:D.Iterable.map(D.Iterable.concat(f,h),v),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=v;function C(s,l=0){let o;return l<s.element.elements.length-1?o=[C(s,l+1)]:o=D.Iterable.map(D.Iterable.from(s.children),h=>C(h,0)),l===0&&s.element.incompressible?{element:s.element.elements[l],children:o,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[l],children:o,collapsible:s.collapsible,collapsed:s.collapsed}}function d(s){return C(s,0)}e.decompress=d;function g(s,l,o){return s.element===l?Object.assign(Object.assign({},s),{children:o}):Object.assign(Object.assign({},s),{children:D.Iterable.map(D.Iterable.from(s.children),h=>g(h,l,o))})}const i=s=>({getId(l){return l.elements.map(o=>s.getId(o).toString()).join("\0")}});class t{get onDidSplice(){return this.a.onDidSplice}get onDidChangeCollapseState(){return this.a.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.a.onDidChangeRenderNodeCount}constructor(l,o,h={}){this.f=l,this.rootRef=null,this.b=new Map,this.a=new w.ObjectTreeModel(l,o,h),this.c=typeof h.compressionEnabled>"u"?!0:h.compressionEnabled,this.d=h.identityProvider}setChildren(l,o=D.Iterable.empty(),h){const f=h.diffIdentityProvider&&i(h.diffIdentityProvider);if(l===null){const B=D.Iterable.map(o,this.c?v:y);this.g(null,B,{diffIdentityProvider:f,diffDepth:1/0});return}const S=this.b.get(l);if(!S)throw new N.TreeError(this.f,"Unknown compressed tree node");const p=this.a.getNode(S),m=this.a.getParentNodeLocation(S),b=this.a.getNode(m),L=d(p),k=g(L,l,o),I=(this.c?v:y)(k),M=b.children.map(B=>B===p?I:B);this.g(b.element,M,{diffIdentityProvider:f,diffDepth:p.depth-b.depth})}setCompressionEnabled(l){if(l===this.c)return;this.c=l;const h=this.a.getNode().children,f=D.Iterable.map(h,d),S=D.Iterable.map(f,l?v:y);this.g(null,S,{diffIdentityProvider:this.d,diffDepth:1/0})}g(l,o,h){const f=new Set,S=m=>{for(const b of m.element.elements)f.add(b),this.b.set(b,m.element)},p=m=>{for(const b of m.element.elements)f.has(b)||this.b.delete(b)};this.a.setChildren(l,o,Object.assign(Object.assign({},h),{onDidCreateNode:S,onDidDeleteNode:p}))}has(l){return this.b.has(l)}getListIndex(l){const o=this.getCompressedNode(l);return this.a.getListIndex(o)}getListRenderCount(l){const o=this.getCompressedNode(l);return this.a.getListRenderCount(o)}getNode(l){if(typeof l>"u")return this.a.getNode();const o=this.getCompressedNode(l);return this.a.getNode(o)}getNodeLocation(l){const o=this.a.getNodeLocation(l);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(l){const o=this.getCompressedNode(l),h=this.a.getParentNodeLocation(o);return h===null?null:h.elements[h.elements.length-1]}getFirstElementChild(l){const o=this.getCompressedNode(l);return this.a.getFirstElementChild(o)}isCollapsible(l){const o=this.getCompressedNode(l);return this.a.isCollapsible(o)}setCollapsible(l,o){const h=this.getCompressedNode(l);return this.a.setCollapsible(h,o)}isCollapsed(l){const o=this.getCompressedNode(l);return this.a.isCollapsed(o)}setCollapsed(l,o,h){const f=this.getCompressedNode(l);return this.a.setCollapsed(f,o,h)}expandTo(l){const o=this.getCompressedNode(l);this.a.expandTo(o)}rerender(l){const o=this.getCompressedNode(l);this.a.rerender(o)}refilter(){this.a.refilter()}getCompressedNode(l){if(l===null)return null;const o=this.b.get(l);if(!o)throw new N.TreeError(this.f,`Tree element not found: ${l}`);return o}}e.CompressedObjectTreeModel=t;const n=s=>s[s.length-1];e.DefaultElementMapper=n;class a{get element(){return this.b.element===null?null:this.a(this.b.element)}get children(){return this.b.children.map(l=>new a(this.a,l))}get depth(){return this.b.depth}get visibleChildrenCount(){return this.b.visibleChildrenCount}get visibleChildIndex(){return this.b.visibleChildIndex}get collapsible(){return this.b.collapsible}get collapsed(){return this.b.collapsed}get visible(){return this.b.visible}get filterData(){return this.b.filterData}constructor(l,o){this.a=l,this.b=o}}function r(s,l){return{splice(o,h,f){l.splice(o,h,f.map(S=>s.map(S)))},updateElementHeight(o,h){l.updateElementHeight(o,h)}}}function c(s,l){return Object.assign(Object.assign({},l),{identityProvider:l.identityProvider&&{getId(o){return l.identityProvider.getId(s(o))}},sorter:l.sorter&&{compare(o,h){return l.sorter.compare(o.elements[0],h.elements[0])}},filter:l.filter&&{filter(o,h){return l.filter.filter(s(o),h)}}})}class u{get onDidSplice(){return E.Event.map(this.c.onDidSplice,({insertedNodes:l,deletedNodes:o})=>({insertedNodes:l.map(h=>this.b.map(h)),deletedNodes:o.map(h=>this.b.map(h))}))}get onDidChangeCollapseState(){return E.Event.map(this.c.onDidChangeCollapseState,({node:l,deep:o})=>({node:this.b.map(l),deep:o}))}get onDidChangeRenderNodeCount(){return E.Event.map(this.c.onDidChangeRenderNodeCount,l=>this.b.map(l))}constructor(l,o,h={}){this.rootRef=null,this.a=h.elementMapper||e.DefaultElementMapper;const f=S=>this.a(S.elements);this.b=new N.WeakMapper(S=>new a(f,S)),this.c=new t(l,r(this.b,o),c(f,h))}setChildren(l,o=D.Iterable.empty(),h={}){this.c.setChildren(l,o,h)}setCompressionEnabled(l){this.c.setCompressionEnabled(l)}has(l){return this.c.has(l)}getListIndex(l){return this.c.getListIndex(l)}getListRenderCount(l){return this.c.getListRenderCount(l)}getNode(l){return this.b.map(this.c.getNode(l))}getNodeLocation(l){return l.element}getParentNodeLocation(l){return this.c.getParentNodeLocation(l)}getFirstElementChild(l){const o=this.c.getFirstElementChild(l);return o===null||typeof o>"u"?o:this.a(o.elements)}isCollapsible(l){return this.c.isCollapsible(l)}setCollapsible(l,o){return this.c.setCollapsible(l,o)}isCollapsed(l){return this.c.isCollapsed(l)}setCollapsed(l,o,h){return this.c.setCollapsed(l,o,h)}expandTo(l){return this.c.expandTo(l)}rerender(l){return this.c.rerender(l)}refilter(){return this.c.refilter()}getCompressedTreeNode(l=null){return this.c.getNode(l)}}e.CompressibleObjectTreeModel=u}),define(ee[267],te([1,0,12,198,55,88,16,9]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const C="[/\\\\]",d="[^/\\\\]",g=/\//g;function i(F,W){switch(F){case 0:return"";case 1:return`${d}*?`;default:return`(?:${C}|${d}+${C}${W?`|${C}${d}+`:""})*?`}}function t(F,W){if(!F)return[];const V=[];let R=!1,$=!1,X="";for(const ne of F){switch(ne){case W:if(!R&&!$){V.push(X),X="";continue}break;case"{":R=!0;break;case"}":R=!1;break;case"[":$=!0;break;case"]":$=!1;break}X+=ne}return X&&V.push(X),V}e.splitGlobAware=t;function n(F){if(!F)return"";let W="";const V=t(F,e.GLOB_SPLIT);if(V.every(R=>R===e.GLOBSTAR))W=".*";else{let R=!1;V.forEach(($,X)=>{if($===e.GLOBSTAR){if(R)return;W+=i(2,X===V.length-1)}else{let ne=!1,ae="",ie=!1,le="";for(const J of $){if(J!=="}"&&ne){ae+=J;continue}if(ie&&(J!=="]"||!le)){let x;J==="-"?x=J:(J==="^"||J==="!")&&!le?x="^":J===e.GLOB_SPLIT?x="":x=(0,v.escapeRegExpCharacters)(J),le+=x;continue}switch(J){case"{":ne=!0;continue;case"[":ie=!0;continue;case"}":{W+=`(?:${t(ae,",").map(Y=>n(Y)).join("|")})`,ne=!1,ae="";break}case"]":{W+="["+le+"]",ie=!1,le="";break}case"?":W+=d;continue;case"*":W+=i(1);continue;default:W+=(0,v.escapeRegExpCharacters)(J)}}X<V.length-1&&(V[X+1]!==e.GLOBSTAR||X+2<V.length)&&(W+=C)}R=$===e.GLOBSTAR})}return W}const a=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,u=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,o=new E.LRUCache(1e4),h=function(){return!1},f=function(){return null};function S(F,W){if(!F)return f;let V;typeof F!="string"?V=F.pattern:V=F,V=V.trim();const R=`${V}_${!!W.trimForExclusions}`;let $=o.get(R);if($)return p($,F);let X;return a.test(V)?$=b(V.substr(4),V):(X=r.exec(m(V,W)))?$=L(X[1],V):(W.trimForExclusions?u:c).test(V)?$=k(V,W):(X=s.exec(m(V,W)))?$=I(X[1].substr(1),V,!0):(X=l.exec(m(V,W)))?$=I(X[1],V,!1):$=M(V),o.set(R,$),p($,F)}function p(F,W){if(typeof W=="string")return F;const V=function(R,$){return(0,N.isEqualOrParent)(R,W.base,!y.isLinux)?F((0,v.ltrim)(R.substr(W.base.length),D.sep),$):null};return V.allBasenames=F.allBasenames,V.allPaths=F.allPaths,V.basenames=F.basenames,V.patterns=F.patterns,V}function m(F,W){return W.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function b(F,W){return function(V,R){return typeof V=="string"&&V.endsWith(F)?W:null}}function L(F,W){const V=`/${F}`,R=`\\${F}`,$=function(ne,ae){return typeof ne!="string"?null:ae?ae===F?W:null:ne===F||ne.endsWith(V)||ne.endsWith(R)?W:null},X=[F];return $.basenames=X,$.patterns=[W],$.allBasenames=X,$}function k(F,W){const V=O(F.slice(1,-1).split(",").map(ae=>S(ae,W)).filter(ae=>ae!==f),F),R=V.length;if(!R)return f;if(R===1)return V[0];const $=function(ae,ie){for(let le=0,J=V.length;le<J;le++)if(V[le](ae,ie))return F;return null},X=V.find(ae=>!!ae.allBasenames);X&&($.allBasenames=X.allBasenames);const ne=V.reduce((ae,ie)=>ie.allPaths?ae.concat(ie.allPaths):ae,[]);return ne.length&&($.allPaths=ne),$}function I(F,W,V){const R=D.sep===D.posix.sep,$=R?F:F.replace(g,D.sep),X=D.sep+$,ne=D.posix.sep+F;let ae;return V?ae=function(ie,le){return typeof ie=="string"&&(ie===$||ie.endsWith(X)||!R&&(ie===F||ie.endsWith(ne)))?W:null}:ae=function(ie,le){return typeof ie=="string"&&(ie===$||!R&&ie===F)?W:null},ae.allPaths=[(V?"*/":"./")+F],ae}function M(F){try{const W=new RegExp(`^${n(F)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?F:null}}catch{return f}}function B(F,W,V){return!F||typeof W!="string"?!1:z(F)(W,void 0,V)}e.match=B;function z(F,W={}){if(!F)return h;if(typeof F=="string"||P(F)){const V=S(F,W);if(V===f)return h;const R=function($,X){return!!V($,X)};return V.allBasenames&&(R.allBasenames=V.allBasenames),V.allPaths&&(R.allPaths=V.allPaths),R}return A(F,W)}e.parse=z;function P(F){const W=F;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=P;function A(F,W){const V=O(Object.getOwnPropertyNames(F).map(ae=>T(ae,F[ae],W)).filter(ae=>ae!==f)),R=V.length;if(!R)return f;if(!V.some(ae=>!!ae.requiresSiblings)){if(R===1)return V[0];const ae=function(J,x){let q;for(let Y=0,Q=V.length;Y<Q;Y++){const re=V[Y](J,x);if(typeof re=="string")return re;(0,w.isThenable)(re)&&(q||(q=[]),q.push(re))}return q?(()=>Le(this,void 0,void 0,function*(){for(const Y of q){const Q=yield Y;if(typeof Q=="string")return Q}return null}))():null},ie=V.find(J=>!!J.allBasenames);ie&&(ae.allBasenames=ie.allBasenames);const le=V.reduce((J,x)=>x.allPaths?J.concat(x.allPaths):J,[]);return le.length&&(ae.allPaths=le),ae}const $=function(ae,ie,le){let J,x;for(let q=0,Y=V.length;q<Y;q++){const Q=V[q];Q.requiresSiblings&&le&&(ie||(ie=(0,D.basename)(ae)),J||(J=ie.substr(0,ie.length-(0,D.extname)(ae).length)));const re=Q(ae,ie,J,le);if(typeof re=="string")return re;(0,w.isThenable)(re)&&(x||(x=[]),x.push(re))}return x?(()=>Le(this,void 0,void 0,function*(){for(const q of x){const Y=yield q;if(typeof Y=="string")return Y}return null}))():null},X=V.find(ae=>!!ae.allBasenames);X&&($.allBasenames=X.allBasenames);const ne=V.reduce((ae,ie)=>ie.allPaths?ae.concat(ie.allPaths):ae,[]);return ne.length&&($.allPaths=ne),$}function T(F,W,V){if(W===!1)return f;const R=S(F,V);if(R===f)return f;if(typeof W=="boolean")return R;if(W){const $=W.when;if(typeof $=="string"){const X=(ne,ae,ie,le)=>{if(!le||!R(ne,ae))return null;const J=$.replace("$(basename)",()=>ie),x=le(J);return(0,w.isThenable)(x)?x.then(q=>q?F:null):x?F:null};return X.requiresSiblings=!0,X}}return R}function O(F,W){const V=F.filter(ae=>!!ae.basenames);if(V.length<2)return F;const R=V.reduce((ae,ie)=>{const le=ie.basenames;return le?ae.concat(le):ae},[]);let $;if(W){$=[];for(let ae=0,ie=R.length;ae<ie;ae++)$.push(W)}else $=V.reduce((ae,ie)=>{const le=ie.patterns;return le?ae.concat(le):ae},[]);const X=function(ae,ie){if(typeof ae!="string")return null;if(!ie){let J;for(J=ae.length;J>0;J--){const x=ae.charCodeAt(J-1);if(x===47||x===92)break}ie=ae.substr(J)}const le=R.indexOf(ie);return le!==-1?$[le]:null};X.basenames=R,X.patterns=$,X.allBasenames=R;const ne=F.filter(ae=>!ae.basenames);return ne.push(X),ne}}),define(ee[268],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class N{constructor(){this.a=new w.Emitter,this.onDidChange=this.a.event,this.b=!0}get enabled(){return this.b}enable(){this.b=!0,this.a.fire()}disable(){this.b=!1,this.a.fire()}}e.IMEImpl=N,e.IME=new N}),define(ee[167],te([1,0,6,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class E{constructor(n,a,r,c,u,s,l){this.c=n,this._scrollStateBrand=void 0,this.c&&(a=a|0,r=r|0,c=c|0,u=u|0,s=s|0,l=l|0),this.rawScrollLeft=c,this.rawScrollTop=l,a<0&&(a=0),c+a>r&&(c=r-a),c<0&&(c=0),u<0&&(u=0),l+u>s&&(l=s-u),l<0&&(l=0),this.width=a,this.scrollWidth=r,this.scrollLeft=c,this.height=u,this.scrollHeight=s,this.scrollTop=l}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,a){return new E(this.c,typeof n.width<"u"?n.width:this.width,typeof n.scrollWidth<"u"?n.scrollWidth:this.scrollWidth,a?this.rawScrollLeft:this.scrollLeft,typeof n.height<"u"?n.height:this.height,typeof n.scrollHeight<"u"?n.scrollHeight:this.scrollHeight,a?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new E(this.c,this.width,this.scrollWidth,typeof n.scrollLeft<"u"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop<"u"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,a){const r=this.width!==n.width,c=this.scrollWidth!==n.scrollWidth,u=this.scrollLeft!==n.scrollLeft,s=this.height!==n.height,l=this.scrollHeight!==n.scrollHeight,o=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:a,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:c,scrollLeftChanged:u,heightChanged:s,scrollHeightChanged:l,scrollTopChanged:o}}}e.ScrollState=E;class D extends N.Disposable{constructor(n){super(),this._scrollableBrand=void 0,this.j=this.q(new w.Emitter),this.onScroll=this.j.event,this.c=n.smoothScrollDuration,this.g=n.scheduleAtNextAnimationFrame,this.h=new E(n.forceIntegerValues,0,0,0,0,0,0),this.i=null}dispose(){this.i&&(this.i.dispose(),this.i=null),super.dispose()}setSmoothScrollDuration(n){this.c=n}validateScrollPosition(n){return this.h.withScrollPosition(n)}getScrollDimensions(){return this.h}setScrollDimensions(n,a){var r;const c=this.h.withScrollDimensions(n,a);this.l(c,Boolean(this.i)),(r=this.i)===null||r===void 0||r.acceptScrollDimensions(this.h)}getFutureScrollPosition(){return this.i?this.i.to:this.h}getCurrentScrollPosition(){return this.h}setScrollPositionNow(n){const a=this.h.withScrollPosition(n);this.i&&(this.i.dispose(),this.i=null),this.l(a,!1)}setScrollPositionSmooth(n,a){if(this.c===0)return this.setScrollPositionNow(n);if(this.i){n={scrollLeft:typeof n.scrollLeft>"u"?this.i.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop>"u"?this.i.to.scrollTop:n.scrollTop};const r=this.h.withScrollPosition(n);if(this.i.to.scrollLeft===r.scrollLeft&&this.i.to.scrollTop===r.scrollTop)return;let c;a?c=new d(this.i.from,r,this.i.startTime,this.i.duration):c=this.i.combine(this.h,r,this.c),this.i.dispose(),this.i=c}else{const r=this.h.withScrollPosition(n);this.i=d.start(this.h,r,this.c)}this.i.animationFrameDisposable=this.g(()=>{!this.i||(this.i.animationFrameDisposable=null,this.k())})}k(){if(!this.i)return;const n=this.i.tick(),a=this.h.withScrollPosition(n);if(this.l(a,!0),!!this.i){if(n.isDone){this.i.dispose(),this.i=null;return}this.i.animationFrameDisposable=this.g(()=>{!this.i||(this.i.animationFrameDisposable=null,this.k())})}}l(n,a){const r=this.h;r.equals(n)||(this.h=n,this.j.fire(this.h.createScrollEvent(r,a)))}}e.Scrollable=D;class y{constructor(n,a,r){this.scrollLeft=n,this.scrollTop=a,this.isDone=r}}e.SmoothScrollingUpdate=y;function v(t,n){const a=n-t;return function(r){return t+a*i(r)}}function C(t,n,a){return function(r){return r<a?t(r/a):n((r-a)/(1-a))}}class d{constructor(n,a,r,c){this.from=n,this.to=a,this.duration=c,this.startTime=r,this.animationFrameDisposable=null,this.e()}e(){this.c=this.f(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.d=this.f(this.from.scrollTop,this.to.scrollTop,this.to.height)}f(n,a,r){if(Math.abs(n-a)>2.5*r){let u,s;return n<a?(u=n+.75*r,s=a-.75*r):(u=n-.75*r,s=a+.75*r),C(v(n,u),v(s,a),.33)}return v(n,a)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this.e()}tick(){return this.g(Date.now())}g(n){const a=(n-this.startTime)/this.duration;if(a<1){const r=this.c(a),c=this.d(a);return new y(r,c,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,a,r){return d.start(n,a,r)}static start(n,a,r){r=r+10;const c=Date.now()-10;return new d(n,a,c,r)}}e.SmoothScrollingOperation=d;function g(t){return Math.pow(t,3)}function i(t){return 1-g(1-t)}}),define(ee[21],te([1,0,88,16]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const E=/^\w[\w\d+.-]*$/,D=/^\//,y=/^\/\//;function v(p,m){if(!p.scheme&&m)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${p.authority}", path: "${p.path}", query: "${p.query}", fragment: "${p.fragment}"}`);if(p.scheme&&!E.test(p.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(p.path){if(p.authority){if(!D.test(p.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(p.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(p,m){return!p&&!m?"file":p}function d(p,m){switch(p){case"https":case"http":case"file":m?m[0]!==i&&(m=i+m):m=i;break}return m}const g="",i="/",t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{static isUri(m){return m instanceof n?!0:m?typeof m.authority=="string"&&typeof m.fragment=="string"&&typeof m.path=="string"&&typeof m.query=="string"&&typeof m.scheme=="string"&&typeof m.fsPath=="string"&&typeof m.with=="function"&&typeof m.toString=="function":!1}constructor(m,b,L,k,I,M=!1){typeof m=="object"?(this.scheme=m.scheme||g,this.authority=m.authority||g,this.path=m.path||g,this.query=m.query||g,this.fragment=m.fragment||g):(this.scheme=C(m,M),this.authority=b||g,this.path=d(this.scheme,L||g),this.query=k||g,this.fragment=I||g,v(this,M))}get fsPath(){return l(this,!1)}with(m){if(!m)return this;let{scheme:b,authority:L,path:k,query:I,fragment:M}=m;return b===void 0?b=this.scheme:b===null&&(b=g),L===void 0?L=this.authority:L===null&&(L=g),k===void 0?k=this.path:k===null&&(k=g),I===void 0?I=this.query:I===null&&(I=g),M===void 0?M=this.fragment:M===null&&(M=g),b===this.scheme&&L===this.authority&&k===this.path&&I===this.query&&M===this.fragment?this:new r(b,L,k,I,M)}static parse(m,b=!1){const L=t.exec(m);return L?new r(L[2]||g,S(L[4]||g),S(L[5]||g),S(L[7]||g),S(L[9]||g),b):new r(g,g,g,g,g)}static file(m){let b=g;if(N.isWindows&&(m=m.replace(/\\/g,i)),m[0]===i&&m[1]===i){const L=m.indexOf(i,2);L===-1?(b=m.substring(2),m=i):(b=m.substring(2,L),m=m.substring(L)||i)}return new r("file",b,m,g,g)}static from(m){const b=new r(m.scheme,m.authority,m.path,m.query,m.fragment);return v(b,!0),b}static joinPath(m,...b){if(!m.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return N.isWindows&&m.scheme==="file"?L=n.file(w.win32.join(l(m,!0),...b)).path:L=w.posix.join(m.path,...b),m.with({path:L})}toString(m=!1){return o(this,m)}toJSON(){return this}static revive(m){if(m){if(m instanceof n)return m;{const b=new r(m);return b._formatted=m.external,b._fsPath=m._sep===a?m.fsPath:null,b}}else return m}}e.URI=n;const a=N.isWindows?1:void 0;class r extends n{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l(this,!1)),this._fsPath}toString(m=!1){return m?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const m={$mid:1};return this._fsPath&&(m.fsPath=this._fsPath,m._sep=a),this._formatted&&(m.external=this._formatted),this.path&&(m.path=this.path),this.scheme&&(m.scheme=this.scheme),this.authority&&(m.authority=this.authority),this.query&&(m.query=this.query),this.fragment&&(m.fragment=this.fragment),m}}const c={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function u(p,m,b){let L,k=-1;for(let I=0;I<p.length;I++){const M=p.charCodeAt(I);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||m&&M===47||b&&M===91||b&&M===93||b&&M===58)k!==-1&&(L+=encodeURIComponent(p.substring(k,I)),k=-1),L!==void 0&&(L+=p.charAt(I));else{L===void 0&&(L=p.substr(0,I));const B=c[M];B!==void 0?(k!==-1&&(L+=encodeURIComponent(p.substring(k,I)),k=-1),L+=B):k===-1&&(k=I)}}return k!==-1&&(L+=encodeURIComponent(p.substring(k))),L!==void 0?L:p}function s(p){let m;for(let b=0;b<p.length;b++){const L=p.charCodeAt(b);L===35||L===63?(m===void 0&&(m=p.substr(0,b)),m+=c[L]):m!==void 0&&(m+=p[b])}return m!==void 0?m:p}function l(p,m){let b;return p.authority&&p.path.length>1&&p.scheme==="file"?b=`//${p.authority}${p.path}`:p.path.charCodeAt(0)===47&&(p.path.charCodeAt(1)>=65&&p.path.charCodeAt(1)<=90||p.path.charCodeAt(1)>=97&&p.path.charCodeAt(1)<=122)&&p.path.charCodeAt(2)===58?m?b=p.path.substr(1):b=p.path[1].toLowerCase()+p.path.substr(2):b=p.path,N.isWindows&&(b=b.replace(/\//g,"\\")),b}e.uriToFsPath=l;function o(p,m){const b=m?s:u;let L="",{scheme:k,authority:I,path:M,query:B,fragment:z}=p;if(k&&(L+=k,L+=":"),(I||k==="file")&&(L+=i,L+=i),I){let P=I.indexOf("@");if(P!==-1){const A=I.substr(0,P);I=I.substr(P+1),P=A.lastIndexOf(":"),P===-1?L+=b(A,!1,!1):(L+=b(A.substr(0,P),!1,!1),L+=":",L+=b(A.substr(P+1),!1,!0)),L+="@"}I=I.toLowerCase(),P=I.lastIndexOf(":"),P===-1?L+=b(I,!1,!0):(L+=b(I.substr(0,P),!1,!0),L+=I.substr(P))}if(M){if(M.length>=3&&M.charCodeAt(0)===47&&M.charCodeAt(2)===58){const P=M.charCodeAt(1);P>=65&&P<=90&&(M=`/${String.fromCharCode(P+32)}:${M.substr(3)}`)}else if(M.length>=2&&M.charCodeAt(1)===58){const P=M.charCodeAt(0);P>=65&&P<=90&&(M=`${String.fromCharCode(P+32)}:${M.substr(2)}`)}L+=b(M,!0,!1)}return B&&(L+="?",L+=b(B,!1,!1)),z&&(L+="#",L+=m?z:u(z,!1,!1)),L}function h(p){try{return decodeURIComponent(p)}catch{return p.length>3?p.substr(0,3)+h(p.substr(3)):p}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(p){return p.match(f)?p.replace(f,m=>h(m)):p}}),define(ee[202],te([1,0,126,21]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function E(y){let v=JSON.parse(y);return v=D(v),v}e.parse=E;function D(y,v=0){if(!y||v>200)return y;if(typeof y=="object"){switch(y.$mid){case 1:return N.URI.revive(y);case 2:return new RegExp(y.source,y.flags);case 16:return new Date(y.source)}if(y instanceof w.VSBuffer||y instanceof Uint8Array)return y;if(Array.isArray(y))for(let C=0;C<y.length;++C)y[C]=D(y[C],v+1);else for(const C in y)Object.hasOwnProperty.call(y,C)&&(y[C]=D(y[C],v+1))}return y}e.revive=D}),define(ee[47],te([1,0,13,16,21]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(d){d.inMemory="inmemory",d.vscode="vscode",d.internal="private",d.walkThrough="walkThrough",d.walkThroughSnippet="walkThroughSnippet",d.http="http",d.https="https",d.file="file",d.mailto="mailto",d.untitled="untitled",d.data="data",d.command="command",d.vscodeRemote="vscode-remote",d.vscodeRemoteResource="vscode-remote-resource",d.vscodeUserData="vscode-userdata",d.vscodeCustomEditor="vscode-custom-editor",d.vscodeNotebookCell="vscode-notebook-cell",d.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",d.vscodeNotebookCellOutput="vscode-notebook-cell-output",d.vscodeInteractive="vscode-interactive",d.vscodeInteractiveInput="vscode-interactive-input",d.vscodeSettings="vscode-settings",d.vscodeWorkspaceTrust="vscode-workspace-trust",d.vscodeTerminal="vscode-terminal",d.webviewPanel="webview-panel",d.vscodeWebview="vscode-webview",d.extension="extension",d.vscodeFileResource="vscode-file",d.tmp="tmp",d.vsls="vsls",d.vscodeSourceControl="vscode-scm"})(D=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class y{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(g){this.d=g}rewrite(g){if(this.e)try{return this.e(g)}catch(c){return w.onUnexpectedError(c),g}const i=g.authority;let t=this.a[i];t&&t.indexOf(":")!==-1&&t.indexOf("[")===-1&&(t=`[${t}]`);const n=this.b[i],a=this.c[i];let r=`path=${encodeURIComponent(g.path)}`;return typeof a=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(a)}`),E.URI.from({scheme:N.isWeb?this.d:D.vscodeRemoteResource,authority:`${t}:${n}`,path:this.f,query:r})}}e.RemoteAuthorities=new y;class v{uriToBrowserUri(g){return g.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===D.file&&(N.isNative||N.isWebWorker&&N.globals.origin===`${D.vscodeFileResource}://${v.a}`)?g.with({scheme:D.vscodeFileResource,authority:g.authority||v.a,query:null,fragment:null}):g}}v.a="vscode-app",e.FileAccess=new v;var C;(function(d){const g=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);d.CoopAndCoep=Object.freeze(g.get("3"));const i="vscode-coi";function t(a){let r;typeof a=="string"?r=new URL(a).searchParams:a instanceof URL?r=a.searchParams:E.URI.isUri(a)&&(r=new URL(a.toString(!0)).searchParams);const c=r?.get(i);if(!!c)return g.get(c)}d.getHeadersFromQuery=t;function n(a,r,c){if(!globalThis.crossOriginIsolated)return;const u=r&&c?"3":c?"2":"1";a instanceof URLSearchParams?a.set(i,u):a[i]=u}d.addSearchParam=n})(C=e.COI||(e.COI={}))}),define(ee[7],te([1,0,44,199,45,66,13,6,520,2,47,16]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function t(be){for(;be.firstChild;)be.firstChild.remove()}e.clearNode=t;function n(be){var Ce;return(Ce=be?.isConnected)!==null&&Ce!==void 0?Ce:!1}e.isInDOM=n;class a{constructor(Ce,Ee,Ae,Me){this.f=Ce,this.g=Ee,this.d=Ae,this.j=Me||!1,this.f.addEventListener(this.g,this.d,this.j)}dispose(){!this.d||(this.f.removeEventListener(this.g,this.d,this.j),this.f=null,this.d=null)}}function r(be,Ce,Ee,Ae){return new a(be,Ce,Ee,Ae)}e.addDisposableListener=r;function c(be){return function(Ce){return be(new D.StandardMouseEvent(Ce))}}function u(be){return function(Ce){return be(new E.StandardKeyboardEvent(Ce))}}const s=function(Ce,Ee,Ae,Me){let Re=Ae;return Ee==="click"||Ee==="mousedown"?Re=c(Ae):(Ee==="keydown"||Ee==="keypress"||Ee==="keyup")&&(Re=u(Ae)),r(Ce,Ee,Re,Me)};e.addStandardDisposableListener=s;const l=function(Ce,Ee,Ae){const Me=c(Ee);return h(Ce,Me,Ae)};e.addStandardDisposableGenericMouseDownListener=l;const o=function(Ce,Ee,Ae){const Me=c(Ee);return f(Ce,Me,Ae)};e.addStandardDisposableGenericMouseUpListener=o;function h(be,Ce,Ee){return r(be,i.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Ce,Ee)}e.addDisposableGenericMouseDownListener=h;function f(be,Ce,Ee){return r(be,i.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Ce,Ee)}e.addDisposableGenericMouseUpListener=f;class S{constructor(Ce,Ee=0){this.d=Ce,this.priority=Ee,this.f=!1}dispose(){this.f=!0}execute(){if(!this.f)try{this.d()}catch(Ce){(0,y.onUnexpectedError)(Ce)}}static sort(Ce,Ee){return Ee.priority-Ce.priority}}(function(){let be=[],Ce=null,Ee=!1,Ae=!1;const Me=()=>{for(Ee=!1,Ce=be,be=[],Ae=!0;Ce.length>0;)Ce.sort(S.sort),Ce.shift().execute();Ae=!1};e.scheduleAtNextAnimationFrame=(Re,ze=0)=>{const Fe=new S(Re,ze);return be.push(Fe),Ee||(Ee=!0,requestAnimationFrame(Me)),Fe},e.runAtThisOrScheduleAtNextAnimationFrame=(Re,ze)=>{if(Ae){const Fe=new S(Re,ze);return Ce.push(Fe),Fe}else return(0,e.scheduleAtNextAnimationFrame)(Re,ze)}})();function p(be){return document.defaultView.getComputedStyle(be,null)}e.getComputedStyle=p;function m(be){if(be!==document.body)return new L(be.clientWidth,be.clientHeight);if(i.isIOS&&window.visualViewport)return new L(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new L(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new L(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new L(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=m;class b{static d(Ce,Ee){return parseFloat(Ee)||0}static f(Ce,Ee,Ae){const Me=p(Ce),Re=Me?Me.getPropertyValue(Ee):"0";return b.d(Ce,Re)}static getBorderLeftWidth(Ce){return b.f(Ce,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ce){return b.f(Ce,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ce){return b.f(Ce,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ce){return b.f(Ce,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ce){return b.f(Ce,"padding-left","paddingLeft")}static getPaddingRight(Ce){return b.f(Ce,"padding-right","paddingRight")}static getPaddingTop(Ce){return b.f(Ce,"padding-top","paddingTop")}static getPaddingBottom(Ce){return b.f(Ce,"padding-bottom","paddingBottom")}static getMarginLeft(Ce){return b.f(Ce,"margin-left","marginLeft")}static getMarginTop(Ce){return b.f(Ce,"margin-top","marginTop")}static getMarginRight(Ce){return b.f(Ce,"margin-right","marginRight")}static getMarginBottom(Ce){return b.f(Ce,"margin-bottom","marginBottom")}}class L{constructor(Ce,Ee){this.width=Ce,this.height=Ee}with(Ce=this.width,Ee=this.height){return Ce!==this.width||Ee!==this.height?new L(Ce,Ee):this}static is(Ce){return typeof Ce=="object"&&typeof Ce.height=="number"&&typeof Ce.width=="number"}static lift(Ce){return Ce instanceof L?Ce:new L(Ce.width,Ce.height)}static equals(Ce,Ee){return Ce===Ee?!0:!Ce||!Ee?!1:Ce.width===Ee.width&&Ce.height===Ee.height}}L.None=new L(0,0),e.Dimension=L;function k(be){let Ce=be.offsetParent,Ee=be.offsetTop,Ae=be.offsetLeft;for(;(be=be.parentNode)!==null&&be!==document.body&&be!==document.documentElement;){Ee-=be.scrollTop;const Me=V(be)?null:p(be);Me&&(Ae-=Me.direction!=="rtl"?be.scrollLeft:-be.scrollLeft),be===Ce&&(Ae+=b.getBorderLeftWidth(be),Ee+=b.getBorderTopWidth(be),Ee+=be.offsetTop,Ae+=be.offsetLeft,Ce=be.offsetParent)}return{left:Ae,top:Ee}}e.getTopLeftOffset=k;function I(be,Ce,Ee){typeof Ce=="number"&&(be.style.width=`${Ce}px`),typeof Ee=="number"&&(be.style.height=`${Ee}px`)}e.size=I;function M(be){const Ce=be.getBoundingClientRect();return{left:Ce.left+window.scrollX,top:Ce.top+window.scrollY,width:Ce.width,height:Ce.height}}e.getDomNodePagePosition=M;function B(be){let Ce=be,Ee=1;do{const Ae=p(Ce).zoom;Ae!=null&&Ae!=="1"&&(Ee*=Ae),Ce=Ce.parentElement}while(Ce!==null&&Ce!==document.documentElement);return Ee}e.getDomNodeZoomLevel=B;function z(be){const Ce=b.getMarginLeft(be)+b.getMarginRight(be);return be.offsetWidth+Ce}e.getTotalWidth=z;function P(be){const Ce=b.getBorderLeftWidth(be)+b.getBorderRightWidth(be),Ee=b.getPaddingLeft(be)+b.getPaddingRight(be);return be.offsetWidth-Ce-Ee}e.getContentWidth=P;function A(be){const Ce=b.getBorderTopWidth(be)+b.getBorderBottomWidth(be),Ee=b.getPaddingTop(be)+b.getPaddingBottom(be);return be.offsetHeight-Ce-Ee}e.getContentHeight=A;function T(be){const Ce=b.getMarginTop(be)+b.getMarginBottom(be);return be.offsetHeight+Ce}e.getTotalHeight=T;function O(be,Ce){for(;be;){if(be===Ce)return!0;be=be.parentNode}return!1}e.isAncestor=O;function F(be,Ce,Ee){for(;be&&be.nodeType===be.ELEMENT_NODE;){if(be.classList.contains(Ce))return be;if(Ee){if(typeof Ee=="string"){if(be.classList.contains(Ee))return null}else if(be===Ee)return null}be=be.parentNode}return null}e.findParentWithClass=F;function W(be,Ce,Ee){return!!F(be,Ce,Ee)}e.hasParentWithClass=W;function V(be){return be&&!!be.host&&!!be.mode}e.isShadowRoot=V;function R(be){return!!$(be)}e.isInShadowDOM=R;function $(be){for(;be.parentNode;){if(be===document.body)return null;be=be.parentNode}return V(be)?be:null}e.getShadowRoot=$;function X(){let be=document.activeElement;for(;be?.shadowRoot;)be=be.shadowRoot.activeElement;return be}e.getActiveElement=X;function ne(be=document.getElementsByTagName("head")[0]){const Ce=document.createElement("style");return Ce.type="text/css",Ce.media="screen",be.appendChild(Ce),Ce}e.createStyleSheet=ne;let ae=null;function ie(){return ae||(ae=ne()),ae}function le(be){var Ce,Ee;return!((Ce=be?.sheet)===null||Ce===void 0)&&Ce.rules?be.sheet.rules:!((Ee=be?.sheet)===null||Ee===void 0)&&Ee.cssRules?be.sheet.cssRules:[]}function J(be,Ce,Ee=ie()){!Ee||!Ce||Ee.sheet.insertRule(be+"{"+Ce+"}",0)}e.createCSSRule=J;function x(be,Ce=ie()){if(!Ce)return;const Ee=le(Ce),Ae=[];for(let Me=0;Me<Ee.length;Me++)Ee[Me].selectorText.indexOf(be)!==-1&&Ae.push(Me);for(let Me=Ae.length-1;Me>=0;Me--)Ce.sheet.deleteRule(Ae[Me])}e.removeCSSRulesContainingSelector=x;function q(be){return typeof HTMLElement=="object"?be instanceof HTMLElement:be&&typeof be=="object"&&be.nodeType===1&&typeof be.nodeName=="string"}e.isHTMLElement=q,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:(be,Ce)=>(be.preventDefault(),Ce&&be.stopPropagation(),be)};function Y(be){const Ce=[];for(let Ee=0;be&&be.nodeType===be.ELEMENT_NODE;Ee++)Ce[Ee]=be.scrollTop,be=be.parentNode;return Ce}e.saveParentsScrollTop=Y;function Q(be,Ce){for(let Ee=0;be&&be.nodeType===be.ELEMENT_NODE;Ee++)be.scrollTop!==Ce[Ee]&&(be.scrollTop=Ce[Ee]),be=be.parentNode}e.restoreParentsScrollTop=Q;class re extends d.Disposable{static m(Ce){const Ee=$(Ce),Ae=Ee?Ee.activeElement:document.activeElement;return O(Ae,Ce)}constructor(Ce){super(),this.g=this.q(new v.Emitter),this.onDidFocus=this.g.event,this.j=this.q(new v.Emitter),this.onDidBlur=this.j.event;let Ee=re.m(Ce),Ae=!1;const Me=()=>{Ae=!1,Ee||(Ee=!0,this.g.fire())},Re=()=>{Ee&&(Ae=!0,window.setTimeout(()=>{Ae&&(Ae=!1,Ee=!1,this.j.fire())},0))};this.l=()=>{re.m(Ce)!==Ee&&(Ee?Re():Me())},this.q(r(Ce,e.EventType.FOCUS,Me,!0)),this.q(r(Ce,e.EventType.BLUR,Re,!0)),this.q(r(Ce,e.EventType.FOCUS_IN,()=>this.l())),this.q(r(Ce,e.EventType.FOCUS_OUT,()=>this.l()))}}function oe(be){return new re(be)}e.trackFocus=oe;function G(be,...Ce){if(be.append(...Ce),Ce.length===1&&typeof Ce[0]!="string")return Ce[0]}e.append=G;function Z(be,Ce){return be.insertBefore(Ce,be.firstChild),Ce}e.prepend=Z;function U(be,...Ce){be.innerText="",G(be,...Ce)}e.reset=U;const j=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var H;(function(be){be.HTML="http://www.w3.org/1999/xhtml",be.SVG="http://www.w3.org/2000/svg"})(H=e.Namespace||(e.Namespace={}));function _(be,Ce,Ee,...Ae){const Me=j.exec(Ce);if(!Me)throw new Error("Bad use of emmet");const Re=Me[1]||"div";let ze;return be!==H.HTML?ze=document.createElementNS(be,Re):ze=document.createElement(Re),Me[3]&&(ze.id=Me[3]),Me[4]&&(ze.className=Me[4].replace(/\./g," ").trim()),Ee&&Object.entries(Ee).forEach(([Fe,Ve])=>{typeof Ve>"u"||(/^on\w+$/.test(Fe)?ze[Fe]=Ve:Fe==="selected"?Ve&&ze.setAttribute(Fe,"true"):ze.setAttribute(Fe,Ve))}),ze.append(...Ae),ze}function ce(be,Ce,...Ee){return _(H.HTML,be,Ce,...Ee)}e.$=ce,ce.SVG=function(be,Ce,...Ee){return _(H.SVG,be,Ce,...Ee)};function ue(...be){for(const Ce of be)Ce.style.display="",Ce.removeAttribute("aria-hidden")}e.show=ue;function se(...be){for(const Ce of be)Ce.style.display="none",Ce.setAttribute("aria-hidden","true")}e.hide=se;function he(be){const Ce=window.devicePixelRatio*be;return Math.max(1,Math.floor(Ce))/window.devicePixelRatio}e.computeScreenAwareSize=he;function me(be){window.open(be,"_blank","noopener")}e.windowOpenNoOpener=me;function Se(be){const Ce=()=>{be(),Ee=(0,e.scheduleAtNextAnimationFrame)(Ce)};let Ee=(0,e.scheduleAtNextAnimationFrame)(Ce);return(0,d.toDisposable)(()=>Ee.dispose())}e.animate=Se,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ye(be){return be?`url('${g.FileAccess.uriToBrowserUri(be).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=ye;function ke(be){return`'${be.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ke;function Te(be,Ce){if(be!==void 0){const Ee=be.match(/^\s*var\((.+)\)$/);if(Ee){const Ae=Ee[1].split(",",2);return Ae.length===2&&(Ce=Te(Ae[1].trim(),Ce)),`var(${Ae[0]}, ${Ce})`}return be}return Ce}e.asCssValueWithDefault=Te;function Pe(be,Ce=!1){const Ee=document.createElement("a");return C.addHook("afterSanitizeAttributes",Ae=>{for(const Me of["href","src"])if(Ae.hasAttribute(Me)){const Re=Ae.getAttribute(Me);if(Me==="href"&&Re.startsWith("#"))continue;if(Ee.href=Re,!be.includes(Ee.protocol.replace(/:$/,""))){if(Ce&&Me==="src"&&Ee.href.startsWith("data:"))continue;Ae.removeAttribute(Me)}}}),(0,d.toDisposable)(()=>{C.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Pe,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const Ie=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class ve extends v.Emitter{constructor(){super(),this.p=new d.DisposableStore,this.q={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this.p.add(r(window,"keydown",Ce=>{if(Ce.defaultPrevented)return;const Ee=new E.StandardKeyboardEvent(Ce);if(!(Ee.keyCode===6&&Ce.repeat)){if(Ce.altKey&&!this.q.altKey)this.q.lastKeyPressed="alt";else if(Ce.ctrlKey&&!this.q.ctrlKey)this.q.lastKeyPressed="ctrl";else if(Ce.metaKey&&!this.q.metaKey)this.q.lastKeyPressed="meta";else if(Ce.shiftKey&&!this.q.shiftKey)this.q.lastKeyPressed="shift";else if(Ee.keyCode!==6)this.q.lastKeyPressed=void 0;else return;this.q.altKey=Ce.altKey,this.q.ctrlKey=Ce.ctrlKey,this.q.metaKey=Ce.metaKey,this.q.shiftKey=Ce.shiftKey,this.q.lastKeyPressed&&(this.q.event=Ce,this.fire(this.q))}},!0)),this.p.add(r(window,"keyup",Ce=>{Ce.defaultPrevented||(!Ce.altKey&&this.q.altKey?this.q.lastKeyReleased="alt":!Ce.ctrlKey&&this.q.ctrlKey?this.q.lastKeyReleased="ctrl":!Ce.metaKey&&this.q.metaKey?this.q.lastKeyReleased="meta":!Ce.shiftKey&&this.q.shiftKey?this.q.lastKeyReleased="shift":this.q.lastKeyReleased=void 0,this.q.lastKeyPressed!==this.q.lastKeyReleased&&(this.q.lastKeyPressed=void 0),this.q.altKey=Ce.altKey,this.q.ctrlKey=Ce.ctrlKey,this.q.metaKey=Ce.metaKey,this.q.shiftKey=Ce.shiftKey,this.q.lastKeyReleased&&(this.q.event=Ce,this.fire(this.q)))},!0)),this.p.add(r(document.body,"mousedown",()=>{this.q.lastKeyPressed=void 0},!0)),this.p.add(r(document.body,"mouseup",()=>{this.q.lastKeyPressed=void 0},!0)),this.p.add(r(document.body,"mousemove",Ce=>{Ce.buttons&&(this.q.lastKeyPressed=void 0)},!0)),this.p.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this.q}resetKeyStatus(){this.t(),this.fire(this.q)}t(){this.q={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ve.s||(ve.s=new ve),ve.s}dispose(){super.dispose(),this.p.dispose()}}e.ModifierKeyEmitter=ve;class ge extends d.Disposable{constructor(Ce,Ee){super(),this.l=Ce,this.m=Ee,this.g=0,this.j=0,this.n()}n(){this.q(r(this.l,e.EventType.DRAG_ENTER,Ce=>{this.g++,this.j=Ce.timeStamp,this.m.onDragEnter(Ce)})),this.q(r(this.l,e.EventType.DRAG_OVER,Ce=>{var Ee,Ae;Ce.preventDefault(),(Ae=(Ee=this.m).onDragOver)===null||Ae===void 0||Ae.call(Ee,Ce,Ce.timeStamp-this.j)})),this.q(r(this.l,e.EventType.DRAG_LEAVE,Ce=>{this.g--,this.g===0&&(this.j=0,this.m.onDragLeave(Ce))})),this.q(r(this.l,e.EventType.DRAG_END,Ce=>{this.g=0,this.j=0,this.m.onDragEnd(Ce)})),this.q(r(this.l,e.EventType.DROP,Ce=>{this.g=0,this.j=0,this.m.onDrop(Ce)}))}}e.DragAndDropObserver=ge;const we=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function de(be,...Ce){let Ee,Ae;Array.isArray(Ce[0])?(Ee={},Ae=Ce[0]):(Ee=Ce[0]||{},Ae=Ce[1]);const Me=we.exec(be);if(!Me||!Me.groups)throw new Error("Bad use of h");const Re=Me.groups.tag||"div",ze=document.createElement(Re);Me.groups.id&&(ze.id=Me.groups.id);const Fe=[];if(Me.groups.class)for(const Ue of Me.groups.class.split("."))Ue!==""&&Fe.push(Ue);if(Ee.className!==void 0)for(const Ue of Ee.className.split("."))Ue!==""&&Fe.push(Ue);Fe.length>0&&(ze.className=Fe.join(" "));const Ve={};if(Me.groups.name&&(Ve[Me.groups.name]=ze),Ae)for(const Ue of Ae)Ue instanceof HTMLElement?ze.appendChild(Ue):typeof Ue=="string"?ze.append(Ue):(Object.assign(Ve,Ue),ze.appendChild(Ue.root));for(const[Ue,Je]of Object.entries(Ee))if(Ue!=="className")if(Ue==="style")for(const[it,rt]of Object.entries(Je))ze.style.setProperty(pe(it),typeof rt=="number"?rt+"px":""+rt);else Ue==="tabIndex"?ze.tabIndex=Je:ze.setAttribute(pe(Ue),Je.toString());return Ve.root=ze,Ve}e.h=de;function pe(be){return be.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ee[203],te([1,0,7]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function N(i,t={}){const n=D(t);return n.textContent=i,n}e.renderText=N;function E(i,t={}){const n=D(t);return v(n,C(i,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),n}e.renderFormattedText=E;function D(i){const t=i.inline?"span":"div",n=document.createElement(t);return i.className&&(n.className=i.className),n}e.createElement=D;class y{constructor(t){this.b=t,this.c=0}eos(){return this.c>=this.b.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.b[this.c]}advance(){this.c++}}function v(i,t,n,a){let r;if(t.type===2)r=document.createTextNode(t.content||"");else if(t.type===3)r=document.createElement("b");else if(t.type===4)r=document.createElement("i");else if(t.type===7&&a)r=document.createElement("code");else if(t.type===5&&n){const c=document.createElement("a");n.disposables.add(w.addStandardDisposableListener(c,"click",u=>{n.callback(String(t.index),u)})),r=c}else t.type===8?r=document.createElement("br"):t.type===1&&(r=i);r&&i!==r&&i.appendChild(r),r&&Array.isArray(t.children)&&t.children.forEach(c=>{v(r,c,n,a)})}function C(i,t){const n={type:1,children:[]};let a=0,r=n;const c=[],u=new y(i);for(;!u.eos();){let s=u.next();const l=s==="\\"&&g(u.peek(),t)!==0;if(l&&(s=u.next()),!l&&d(s,t)&&s===u.peek()){u.advance(),r.type===2&&(r=c.pop());const o=g(s,t);if(r.type===o||r.type===5&&o===6)r=c.pop();else{const h={type:o,children:[]};o===5&&(h.index=a,a++),r.children.push(h),c.push(r),r=h}}else if(s===`
`)r.type===2&&(r=c.pop()),r.children.push({type:8});else if(r.type!==2){const o={type:2,content:s};r.children.push(o),c.push(r),r=o}else r.content+=s}return r.type===2&&(r=c.pop()),c.length,n}function d(i,t){return g(i,t)!==0}function g(i,t){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}}),define(ee[136],te([1,0,7,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class E{constructor(){this.a=new N.DisposableStore,this.b=null,this.c=null}dispose(){this.stopMonitoring(!1),this.a.dispose()}stopMonitoring(y,v){if(!this.isMonitoring())return;this.a.clear(),this.b=null;const C=this.c;this.c=null,y&&C&&C(v)}isMonitoring(){return!!this.b}startMonitoring(y,v,C,d,g){this.isMonitoring()&&this.stopMonitoring(!1),this.b=d,this.c=g;let i=y;try{y.setPointerCapture(v),this.a.add((0,N.toDisposable)(()=>{try{y.releasePointerCapture(v)}catch{}}))}catch{i=window}this.a.add(w.addDisposableListener(i,w.EventType.POINTER_MOVE,t=>{if(t.buttons!==C){this.stopMonitoring(!0);return}t.preventDefault(),this.b(t)})),this.a.add(w.addDisposableListener(i,w.EventType.POINTER_UP,t=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=E});var De=this&&this.__decorate||function(K,e,w,N){var E=arguments.length,D=E<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,w):N,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(K,e,w,N);else for(var v=K.length-1;v>=0;v--)(y=K[v])&&(D=(E<3?y(D):E>3?y(e,w,D):y(e,w))||D);return E>3&&D&&Object.defineProperty(e,w,D),D};define(ee[60],te([1,0,7,17,109,2,58]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var v;(function(d){d.Tap="-monaco-gesturetap",d.Change="-monaco-gesturechange",d.Start="-monaco-gesturestart",d.End="-monaco-gesturesend",d.Contextmenu="-monaco-gesturecontextmenu"})(v=e.EventType||(e.EventType={}));class C extends D.Disposable{constructor(){super(),this.g=!1,this.h=new y.LinkedList,this.j=new y.LinkedList,this.l={},this.k=null,this.m=0,this.q(w.addDisposableListener(document,"touchstart",g=>this.p(g),{passive:!1})),this.q(w.addDisposableListener(document,"touchend",g=>this.r(g))),this.q(w.addDisposableListener(document,"touchmove",g=>this.w(g),{passive:!1}))}static addTarget(g){if(!C.isTouchDevice())return D.Disposable.None;C.b||(C.b=new C);const i=C.b.h.push(g);return(0,D.toDisposable)(i)}static ignoreTarget(g){if(!C.isTouchDevice())return D.Disposable.None;C.b||(C.b=new C);const i=C.b.j.push(g);return(0,D.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.k&&(this.k.dispose(),this.k=null),super.dispose()}p(g){const i=Date.now();this.k&&(this.k.dispose(),this.k=null);for(let t=0,n=g.targetTouches.length;t<n;t++){const a=g.targetTouches.item(t);this.l[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:i,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[i],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};const r=this.s(v.Start,a.target);r.pageX=a.pageX,r.pageY=a.pageY,this.u(r)}this.g&&(g.preventDefault(),g.stopPropagation(),this.g=!1)}r(g){const i=Date.now(),t=Object.keys(this.l).length;for(let n=0,a=g.changedTouches.length;n<a;n++){const r=g.changedTouches.item(n);if(!this.l.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const c=this.l[r.identifier],u=Date.now()-c.initialTimeStamp;if(u<C.c&&Math.abs(c.initialPageX-N.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-N.tail(c.rollingPageY))<30){const s=this.s(v.Tap,c.initialTarget);s.pageX=N.tail(c.rollingPageX),s.pageY=N.tail(c.rollingPageY),this.u(s)}else if(u>=C.c&&Math.abs(c.initialPageX-N.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-N.tail(c.rollingPageY))<30){const s=this.s(v.Contextmenu,c.initialTarget);s.pageX=N.tail(c.rollingPageX),s.pageY=N.tail(c.rollingPageY),this.u(s)}else if(t===1){const s=N.tail(c.rollingPageX),l=N.tail(c.rollingPageY),o=N.tail(c.rollingTimestamps)-c.rollingTimestamps[0],h=s-c.rollingPageX[0],f=l-c.rollingPageY[0],S=[...this.h].filter(p=>c.initialTarget instanceof Node&&p.contains(c.initialTarget));this.v(S,i,Math.abs(h)/o,h>0?1:-1,s,Math.abs(f)/o,f>0?1:-1,l)}this.u(this.s(v.End,c.initialTarget)),delete this.l[r.identifier]}this.g&&(g.preventDefault(),g.stopPropagation(),this.g=!1)}s(g,i){const t=document.createEvent("CustomEvent");return t.initEvent(g,!1,!0),t.initialTarget=i,t.tapCount=0,t}u(g){if(g.type===v.Tap){const i=new Date().getTime();let t=0;i-this.m>C.n?t=1:t=2,this.m=i,g.tapCount=t}else(g.type===v.Change||g.type===v.Contextmenu)&&(this.m=0);if(g.initialTarget instanceof Node){for(const i of this.j)if(i.contains(g.initialTarget))return;for(const i of this.h)i.contains(g.initialTarget)&&(i.dispatchEvent(g),this.g=!0)}}v(g,i,t,n,a,r,c,u){this.k=w.scheduleAtNextAnimationFrame(()=>{const s=Date.now(),l=s-i;let o=0,h=0,f=!0;t+=C.a*l,r+=C.a*l,t>0&&(f=!1,o=n*t*l),r>0&&(f=!1,h=c*r*l);const S=this.s(v.Change);S.translationX=o,S.translationY=h,g.forEach(p=>p.dispatchEvent(S)),f||this.v(g,s,t,n,a+o,r,c,u+h)})}w(g){const i=Date.now();for(let t=0,n=g.changedTouches.length;t<n;t++){const a=g.changedTouches.item(t);if(!this.l.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}const r=this.l[a.identifier],c=this.s(v.Change,r.initialTarget);c.translationX=a.pageX-N.tail(r.rollingPageX),c.translationY=a.pageY-N.tail(r.rollingPageY),c.pageX=a.pageX,c.pageY=a.pageY,this.u(c),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(a.pageX),r.rollingPageY.push(a.pageY),r.rollingTimestamps.push(i)}this.g&&(g.preventDefault(),g.stopPropagation(),this.g=!1)}}C.a=-.005,C.c=700,C.n=400,De([E.memoize],C,"isTouchDevice",null),e.Gesture=C}),define(ee[50],te([1,0,7,16,349]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const E=2e4;let D,y,v,C,d;function g(a){D=document.createElement("div"),D.className="monaco-aria-container";const r=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),D.appendChild(u),u};y=r(),v=r();const c=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("role","complementary"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),D.appendChild(u),u};C=c(),d=c(),a.appendChild(D)}e.setARIAContainer=g;function i(a){!D||(y.textContent!==a?(w.clearNode(v),n(y,a)):(w.clearNode(y),n(v,a)))}e.alert=i;function t(a){!D||(N.isMacintosh?i(a):C.textContent!==a?(w.clearNode(d),n(C,a)):(w.clearNode(C),n(d,a)))}e.status=t;function n(a,r){w.clearNode(a),r.length>E&&(r=r.substr(0,E)),a.textContent=r,a.style.visibility="hidden",a.style.visibility="visible"}}),define(ee[269],te([1,0,199,7,2,16,151,353]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var v;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(v=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(i,t,n){const a=n.mode===v.ALIGN?n.offset:n.offset+n.size,r=n.mode===v.ALIGN?n.offset+n.size:n.offset;return n.position===0?t<=i-a?a:t<=r?r-t:Math.max(i-t,0):t<=r?r-t:t<=i-a?a:0}e.layout=C;class d extends E.Disposable{constructor(t,n){super(),this.c=null,this.j=null,this.k=E.Disposable.None,this.l=E.Disposable.None,this.m=null,this.n=null,this.g=N.$(".context-view"),this.h=!1,this.i=!1,N.hide(this.g),this.setContainer(t,n),this.q((0,E.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,n){var a;if(this.c&&(this.l.dispose(),this.m?(this.m.removeChild(this.g),this.m=null,(a=this.n)===null||a===void 0||a.remove(),this.n=null):this.c.removeChild(this.g),this.c=null),t){if(this.c=t,this.h=n!==1,this.i=n===3,this.i){this.n=N.$(".shadow-root-host"),this.c.appendChild(this.n),this.m=this.n.attachShadow({mode:"open"});const c=document.createElement("style");c.textContent=g,this.m.appendChild(c),this.m.appendChild(this.g),this.m.appendChild(N.$("slot"))}else this.c.appendChild(this.g);const r=new E.DisposableStore;d.a.forEach(c=>{r.add(N.addStandardDisposableListener(this.c,c,u=>{this.s(u,!1)}))}),d.b.forEach(c=>{r.add(N.addStandardDisposableListener(this.c,c,u=>{this.s(u,!0)},!0))}),this.l=r}}show(t){var n,a;this.r()&&this.hide(),N.clearNode(this.g),this.g.className="context-view",this.g.style.top="0px",this.g.style.left="0px",this.g.style.zIndex="2575",this.g.style.position=this.h?"fixed":"absolute",N.show(this.g),this.k=t.render(this.g)||E.Disposable.None,this.j=t,this.p(),(a=(n=this.j).focus)===null||a===void 0||a.call(n)}getViewElement(){return this.g}layout(){if(!!this.r()){if(this.j.canRelayout===!1&&!(D.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.j.layout&&this.j.layout(),this.p()}}p(){if(!this.r())return;const t=this.j.getAnchor();let n;if(N.isHTMLElement(t)){const f=N.getDomNodePagePosition(t),S=N.getDomNodeZoomLevel(t);n={top:f.top*S,left:f.left*S,width:f.width*S,height:f.height*S}}else n={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const a=N.getTotalWidth(this.g),r=N.getTotalHeight(this.g),c=this.j.anchorPosition||0,u=this.j.anchorAlignment||0,s=this.j.anchorAxisAlignment||0;let l,o;if(s===0){const f={offset:n.top-window.pageYOffset,size:n.height,position:c===0?0:1},S={offset:n.left,size:n.width,position:u===0?0:1,mode:v.ALIGN};l=C(window.innerHeight,r,f)+window.pageYOffset,y.Range.intersects({start:l,end:l+r},{start:f.offset,end:f.offset+f.size})&&(S.mode=v.AVOID),o=C(window.innerWidth,a,S)}else{const f={offset:n.left,size:n.width,position:u===0?0:1},S={offset:n.top,size:n.height,position:c===0?0:1,mode:v.ALIGN};o=C(window.innerWidth,a,f),y.Range.intersects({start:o,end:o+a},{start:f.offset,end:f.offset+f.size})&&(S.mode=v.AVOID),l=C(window.innerHeight,r,S)+window.pageYOffset}this.g.classList.remove("top","bottom","left","right"),this.g.classList.add(c===0?"bottom":"top"),this.g.classList.add(u===0?"left":"right"),this.g.classList.toggle("fixed",this.h);const h=N.getDomNodePagePosition(this.c);this.g.style.top=`${l-(this.h?N.getDomNodePagePosition(this.g).top:h.top)}px`,this.g.style.left=`${o-(this.h?N.getDomNodePagePosition(this.g).left:h.left)}px`,this.g.style.width="initial"}hide(t){const n=this.j;this.j=null,n?.onHide&&n.onHide(t),this.k.dispose(),N.hide(this.g)}r(){return!!this.j}s(t,n){this.j&&(this.j.onDOMEvent?this.j.onDOMEvent(t,document.activeElement):n&&!N.isAncestor(t.target,this.c)&&this.hide())}dispose(){this.hide(),super.dispose()}}d.a=["click","keydown","focus","blur"],d.b=["click"],e.ContextView=d;const g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[270],te([1,0,7,9,354]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class E{constructor(y,v,C){this.e=v,this.f=C,this.b=0,this.a=(0,w.append)(y,(0,w.$)(".monaco-count-badge")),this.c=this.e.countFormat||"{0}",this.d=this.e.titleFormat||"",this.setCount(this.e.count||0)}setCount(y){this.b=y,this.g()}setTitleFormat(y){this.d=y,this.g()}g(){var y,v;this.a.textContent=(0,N.format)(this.c,this.b),this.a.title=(0,N.format)(this.d,this.b),this.a.style.backgroundColor=(y=this.f.badgeBackground)!==null&&y!==void 0?y:"",this.a.style.color=(v=this.f.badgeForeground)!==null&&v!==void 0?v:"",this.f.badgeBorder&&(this.a.style.border=`1px solid ${this.f.badgeBorder}`)}}e.CountBadge=E}),define(ee[521],te([1,0,7,45,60,41,6,240]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class v extends D.ActionRunner{constructor(g,i){super(),this.l=this.q(new y.Emitter),this.onDidChangeVisibility=this.l.event,this.a=(0,w.append)(g,(0,w.$)(".monaco-dropdown")),this.i=(0,w.append)(this.a,(0,w.$)(".dropdown-label"));let t=i.labelRenderer;t||(t=a=>(a.textContent=i.label||"",null));for(const a of[w.EventType.CLICK,w.EventType.MOUSE_DOWN,E.EventType.Tap])this.q((0,w.addDisposableListener)(this.element,a,r=>w.EventHelper.stop(r,!0)));for(const a of[w.EventType.MOUSE_DOWN,E.EventType.Tap])this.q((0,w.addDisposableListener)(this.i,a,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.k?this.hide():this.show())}));this.q((0,w.addDisposableListener)(this.i,w.EventType.KEY_UP,a=>{const r=new N.StandardKeyboardEvent(a);(r.equals(3)||r.equals(10))&&(w.EventHelper.stop(a,!0),this.k?this.hide():this.show())}));const n=t(this.i);n&&this.q(n),this.q(E.Gesture.addTarget(this.i))}get element(){return this.a}show(){this.k||(this.k=!0,this.l.fire(!0))}hide(){this.k&&(this.k=!1,this.l.fire(!1))}dispose(){super.dispose(),this.hide(),this.h&&(this.h.remove(),this.h=void 0),this.j&&(this.j.remove(),this.j=void 0),this.i&&(this.i.remove(),this.i=void 0)}}class C extends v{constructor(g,i){super(g,i),this.p=[],this.m=i.contextMenuProvider,this.u=i.actions||[],this.r=i.actionProvider,this.s=i.menuClassName||"",this.t=!!i.menuAsChild}set menuOptions(g){this.n=g}get menuOptions(){return this.n}get u(){return this.r?this.r.getActions():this.p}set u(g){this.p=g}show(){super.show(),this.element.classList.add("active"),this.m.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.u,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(g,i)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g,i):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.s,onHide:()=>this.v(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.t?this.element:void 0})}hide(){super.hide()}v(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(ee[271],te([1,0,7,12,20,71,111,2,18,504]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(n,a){(0,C.isString)(a)?n.title=(0,y.stripIcons)(a):a?.markdownNotSupportedFallback?n.title=a.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=g;class i{constructor(a,r,c){this.c=a,this.d=r,this.f=c}update(a,r,c){var u;return Le(this,void 0,void 0,function*(){if(this.b&&(this.b.dispose(!0),this.b=void 0),this.isDisposed)return;let s;if(a===void 0||(0,C.isString)(a)||a instanceof HTMLElement)s=a;else if(!(0,C.isFunction)(a.markdown))s=(u=a.markdown)!==null&&u!==void 0?u:a.markdownNotSupportedFallback;else{this.a||this.g((0,d.localize)(0,null),r),this.b=new E.CancellationTokenSource;const l=this.b.token;if(s=yield a.markdown(l),s===void 0&&(s=a.markdownNotSupportedFallback),this.isDisposed||l.isCancellationRequested)return}this.g(s,r,c)})}g(a,r,c){const u=this.a;if(this.h(a)){const s=Object.assign({content:a,target:this.d,showPointer:this.c.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.f||!!u},c);this.a=this.c.showHover(s,r)}u?.dispose()}h(a){return a?(0,D.isMarkdownString)(a)?!!a.value:!0:!1}get isDisposed(){var a;return(a=this.a)===null||a===void 0?void 0:a.isDisposed}dispose(){var a,r;(a=this.a)===null||a===void 0||a.dispose(),(r=this.b)===null||r===void 0||r.dispose(!0),this.b=void 0}}function t(n,a,r,c){let u,s;const l=(p,m)=>{var b;p&&(s?.dispose(),s=void 0),m&&(u?.dispose(),u=void 0),(b=n.onDidHideHover)===null||b===void 0||b.call(n)},o=(p,m,b)=>new N.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!s||s.isDisposed)&&(s=new i(n,b||a,p>0),yield s.update(r,m,c))}),p),h=()=>{if(u)return;const p=new v.DisposableStore,m=k=>l(!1,k.fromElement===a);p.add(w.addDisposableListener(a,w.EventType.MOUSE_LEAVE,m,!0));const b=()=>l(!0,!0);p.add(w.addDisposableListener(a,w.EventType.MOUSE_DOWN,b,!0));const L={targetElements:[a],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const k=I=>{L.x=I.x+10,I.target instanceof HTMLElement&&I.target.classList.contains("action-label")&&l(!0,!0)};p.add(w.addDisposableListener(a,w.EventType.MOUSE_MOVE,k,!0))}p.add(o(n.delay,!1,L)),u=p},f=w.addDisposableListener(a,w.EventType.MOUSE_OVER,h,!0);return{show:p=>{l(!1,!0),o(0,p)},hide:()=>{l(!0,!0)},update:(p,m)=>Le(this,void 0,void 0,function*(){r=p,yield s?.update(r,void 0,m)}),dispose:()=>{f.dispose(),l(!0,!0)}}}e.setupCustomHover=t}),define(ee[137],te([1,0,7,31]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const E=new RegExp(`(\\\\)?\\$\\((${N.ThemeIcon.iconNameExpression}(?:${N.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(v){const C=new Array;let d,g=0,i=0;for(;(d=E.exec(v))!==null;){i=d.index||0,g<i&&C.push(v.substring(g,i)),g=(d.index||0)+d[0].length;const[,t,n]=d;C.push(t?`$(${n})`:y({id:n}))}return g<v.length&&C.push(v.substring(g)),C}e.renderLabelWithIcons=D;function y(v){const C=w.$("span");return C.classList.add(...N.ThemeIcon.asClassNameArray(v)),C}e.renderIcon=y}),define(ee[522],te([1,0,7,45,60,137,36,6,2,350]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:y.Color.white.toString(),buttonForeground:y.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class d extends C.Disposable{get onDidClick(){return this.h.event}constructor(i,t){super(),this.h=this.q(new v.Emitter),this.a=t,this.b=document.createElement("a"),this.b.classList.add("monaco-button"),this.b.tabIndex=0,this.b.setAttribute("role","button");const n=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,a=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this.b.style.color=a||"",this.b.style.backgroundColor=n||"",t.supportShortLabel&&(this.g=document.createElement("div"),this.g.classList.add("monaco-button-label-short"),this.b.appendChild(this.g),this.c=document.createElement("div"),this.c.classList.add("monaco-button-label"),this.b.appendChild(this.c),this.b.classList.add("monaco-text-button-with-short-label")),i.appendChild(this.b),this.q(E.Gesture.addTarget(this.b)),[w.EventType.CLICK,E.EventType.Tap].forEach(r=>{this.q((0,w.addDisposableListener)(this.b,r,c=>{if(!this.enabled){w.EventHelper.stop(c);return}this.h.fire(c)}))}),this.q((0,w.addDisposableListener)(this.b,w.EventType.KEY_DOWN,r=>{const c=new N.StandardKeyboardEvent(r);let u=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this.h.fire(r),u=!0):c.equals(9)&&(this.b.blur(),u=!0),u&&w.EventHelper.stop(c,!0)})),this.q((0,w.addDisposableListener)(this.b,w.EventType.MOUSE_OVER,r=>{this.b.classList.contains("disabled")||this.k(!0)})),this.q((0,w.addDisposableListener)(this.b,w.EventType.MOUSE_OUT,r=>{this.k(!1)})),this.i=this.q((0,w.trackFocus)(this.b)),this.q(this.i.onDidFocus(()=>{this.enabled&&this.k(!0)})),this.q(this.i.onDidBlur(()=>{this.enabled&&this.k(!1)}))}j(i){const t=[];for(let n of(0,D.renderLabelWithIcons)(i))if(typeof n=="string"){if(n=n.trim(),n==="")continue;const a=document.createElement("span");a.textContent=n,t.push(a)}else t.push(n);return t}k(i){let t;this.a.secondary?t=i?this.a.buttonSecondaryHoverBackground:this.a.buttonSecondaryBackground:t=i?this.a.buttonHoverBackground:this.a.buttonBackground,t&&(this.b.style.backgroundColor=t)}get element(){return this.b}set label(i){this.b.classList.add("monaco-text-button");const t=this.a.supportShortLabel?this.c:this.b;this.a.supportIcons?(0,w.reset)(t,...this.j(i)):t.textContent=i,typeof this.a.title=="string"?this.b.title=this.a.title:this.a.title&&(this.b.title=i)}set enabled(i){i?(this.b.classList.remove("disabled"),this.b.setAttribute("aria-disabled",String(!1)),this.b.tabIndex=0):(this.b.classList.add("disabled"),this.b.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this.b.classList.contains("disabled")}}e.Button=d}),define(ee[204],te([1,0,7,137,46]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(v,C){var d;this.b="",this.c="",this.d=[],this.f=!1,this.e=(d=C?.supportIcons)!==null&&d!==void 0?d:!1,this.a=w.append(v,w.$("span.monaco-highlighted-label"))}get element(){return this.a}set(v,C=[],d="",g){v||(v=""),g&&(v=D.escapeNewLines(v,C)),!(this.f&&this.b===v&&this.c===d&&E.equals(this.d,C))&&(this.b=v,this.c=d,this.d=C,this.g())}g(){const v=[];let C=0;for(const d of this.d){if(d.end===d.start)continue;if(C<d.start){const t=this.b.substring(C,d.start);this.e?v.push(...(0,N.renderLabelWithIcons)(t)):v.push(t),C=d.start}const g=this.b.substring(C,d.end),i=w.$("span.highlight",void 0,...this.e?(0,N.renderLabelWithIcons)(g):[g]);d.extraClasses&&i.classList.add(...d.extraClasses),v.push(i),C=d.end}if(C<this.b.length){const d=this.b.substring(C);this.e?v.push(...(0,N.renderLabelWithIcons)(d)):v.push(d)}w.reset(this.a,...v),this.c?this.a.title=this.c:this.a.removeAttribute("title"),this.f=!0}static escapeNewLines(v,C){let d=0,g=0;return v.replace(/\r\n|\r|\n/g,(i,t)=>{g=i===`\r
`?-1:0,t+=d;for(const n of C)n.end<=t||(n.start>=t&&(n.start+=g),n.end>=t&&(n.end+=g));return d+=g,"\u23CE"})}}e.HighlightedLabel=D}),define(ee[205],te([1,0,7,204,271,2,46,151,356]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(a){this.e=a}get element(){return this.e}set textContent(a){this.a||a===this.b||(this.b=a,this.e.textContent=a)}set className(a){this.a||a===this.c||(this.c=a,this.e.className=a)}set empty(a){this.a||a===this.d||(this.d=a,this.e.style.marginLeft=a?"0":"")}dispose(){this.a=!0}}class d extends D.Disposable{constructor(a,r){super(),this.k=new Map,this.a=r,this.b=this.q(new C(w.append(a,w.$(".monaco-icon-label")))),this.h=w.append(this.b.element,w.$(".monaco-icon-label-container"));const c=w.append(this.h,w.$("span.monaco-icon-name-container"));r?.supportHighlights||r?.supportIcons?this.c=new t(c,!!r.supportIcons):this.c=new g(c),this.j=r?.hoverDelegate}get element(){return this.b.element}setLabel(a,r,c){const u=["monaco-icon-label"],s=["monaco-icon-label-container"];if(c&&(c.extraClasses&&u.push(...c.extraClasses),c.italic&&u.push("italic"),c.strikethrough&&u.push("strikethrough"),c.disabledCommand&&s.push("disabled")),this.b.className=u.join(" "),this.h.className=s.join(" "),this.n(c?.descriptionTitle?this.h:this.element,c?.title),this.c.setLabel(a,c),r||this.g){const l=this.p();l instanceof N.HighlightedLabel?(l.set(r||"",c?c.descriptionMatches:void 0,void 0,c?.labelEscapeNewLines),this.n(l.element,c?.descriptionTitle)):(l.textContent=r&&c?.labelEscapeNewLines?N.HighlightedLabel.escapeNewLines(r,[]):r||"",this.n(l.element,c?.descriptionTitle||""),l.empty=!r)}}n(a,r){const c=this.k.get(a);if(c&&(c.dispose(),this.k.delete(a)),!r){a.removeAttribute("title");return}if(!this.j)(0,E.setupNativeHover)(a,r);else{const u=(0,E.setupCustomHover)(this.j,a,r);u&&this.k.set(a,u)}}dispose(){super.dispose();for(const a of this.k.values())a.dispose();this.k.clear()}p(){var a;if(!this.g){const r=this.q(new C(w.append(this.h,w.$("span.monaco-icon-description-container"))));!((a=this.a)===null||a===void 0)&&a.supportDescriptionHighlights?this.g=new N.HighlightedLabel(w.append(r.element,w.$("span.label-description")),{supportIcons:!!this.a.supportIcons}):this.g=this.q(new C(w.append(r.element,w.$("span.label-description"))))}return this.g}}e.IconLabel=d;class g{constructor(a){this.d=a,this.a=void 0,this.b=void 0}setLabel(a,r){if(!(this.a===a&&(0,y.equals)(this.c,r)))if(this.a=a,this.c=r,typeof a=="string")this.b||(this.d.innerText="",this.d.classList.remove("multiple"),this.b=w.append(this.d,w.$("a.label-name",{id:r?.domId}))),this.b.textContent=a;else{this.d.innerText="",this.d.classList.add("multiple"),this.b=void 0;for(let c=0;c<a.length;c++){const u=a[c],s=r?.domId&&`${r?.domId}_${c}`;w.append(this.d,w.$("a.label-name",{id:s,"data-icon-label-count":a.length,"data-icon-label-index":c,role:"treeitem"},u)),c<a.length-1&&w.append(this.d,w.$("span.label-separator",void 0,r?.separator||"/"))}}}}function i(n,a,r){if(!r)return;let c=0;return n.map(u=>{const s={start:c,end:c+u.length},l=r.map(o=>v.Range.intersect(s,o)).filter(o=>!v.Range.isEmpty(o)).map(({start:o,end:h})=>({start:o-c,end:h-c}));return c=s.end+a.length,l})}class t{constructor(a,r){this.d=a,this.e=r,this.a=void 0,this.b=void 0}setLabel(a,r){if(!(this.a===a&&(0,y.equals)(this.c,r)))if(this.a=a,this.c=r,typeof a=="string")this.b||(this.d.innerText="",this.d.classList.remove("multiple"),this.b=new N.HighlightedLabel(w.append(this.d,w.$("a.label-name",{id:r?.domId})),{supportIcons:this.e})),this.b.set(a,r?.matches,void 0,r?.labelEscapeNewLines);else{this.d.innerText="",this.d.classList.add("multiple"),this.b=void 0;const c=r?.separator||"/",u=i(a,c,r?.matches);for(let s=0;s<a.length;s++){const l=a[s],o=u?u[s]:void 0,h=r?.domId&&`${r?.domId}_${s}`,f=w.$("a.label-name",{id:h,"data-icon-label-count":a.length,"data-icon-label-index":s,role:"treeitem"});new N.HighlightedLabel(w.append(this.d,f),{supportIcons:this.e}).set(l,o,void 0,r?.labelEscapeNewLines),s<a.length-1&&w.append(f,w.$("span.label-separator",void 0,c))}}}}}),define(ee[206],te([1,0,7,197,46,506,358]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const y=w.$;class v{constructor(d,g,i){this.m=g,this.e=new Set,this.d=i||Object.create(null),this.i=this.d.keybindingLabelBackground,this.j=this.d.keybindingLabelBorder,this.k=this.d.keybindingLabelBottomBorder,this.l=this.d.keybindingLabelShadow;const t=this.d.keybindingLabelForeground;this.c=w.append(d,y(".monaco-keybinding")),t&&(this.c.style.color=t),this.h=!1,d.appendChild(this.c)}get element(){return this.c}set(d,g){this.h&&this.f===d&&v.t(this.g,g)||(this.f=d,this.g=g,this.n())}n(){var d;if(this.o(),this.f){const[g,i]=this.f.getChords();g&&this.p(this.c,g,this.g?this.g.firstPart:null),i&&(w.append(this.c,y("span.monaco-keybinding-key-chord-separator",void 0," ")),this.p(this.c,i,this.g?this.g.chordPart:null));const t=(d=this.d.disableTitle)!==null&&d!==void 0&&d?void 0:this.f.getAriaLabel()||void 0;t!==void 0?this.c.title=t:this.c.removeAttribute("title")}else this.d&&this.d.renderUnboundKeybindings&&this.r(this.c);this.h=!0}o(){w.clearNode(this.c),this.e.clear()}p(d,g,i){const t=N.UILabelProvider.modifierLabels[this.m];g.ctrlKey&&this.q(d,t.ctrlKey,Boolean(i?.ctrlKey),t.separator),g.shiftKey&&this.q(d,t.shiftKey,Boolean(i?.shiftKey),t.separator),g.altKey&&this.q(d,t.altKey,Boolean(i?.altKey),t.separator),g.metaKey&&this.q(d,t.metaKey,Boolean(i?.metaKey),t.separator);const n=g.keyLabel;n&&this.q(d,n,Boolean(i?.keyCode),"")}q(d,g,i,t){w.append(d,this.s(g,i?".highlight":"")),t&&w.append(d,y("span.monaco-keybinding-key-separator",void 0,t))}r(d){w.append(d,this.s((0,D.localize)(0,null)))}s(d,g=""){const i=y("span.monaco-keybinding-key"+g,void 0,d);return this.e.add(i),this.i&&(i.style.backgroundColor=this.i),this.j&&(i.style.borderColor=this.j),this.k&&(i.style.borderBottomColor=this.k),this.l&&(i.style.boxShadow=`inset 0 -1px 0 ${this.l}`),i}static t(d,g){return d===g||!d&&!g?!0:!!d&&!!g&&(0,E.equals)(d.firstPart,g.firstPart)&&(0,E.equals)(d.chordPart,g.chordPart)}}e.KeybindingLabel=v}),define(ee[523],te([1,0,7]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function N(D){var y;try{(y=D.parentElement)===null||y===void 0||y.removeChild(D)}catch{}}class E{constructor(y){this.d=y,this.a=new Map,this.b=new Set,this.c=!1}alloc(y){let v=this.h(y).pop(),C=!1;if(v)C=this.b.has(v.domNode),C&&this.b.delete(v.domNode);else{const d=(0,w.$)(".monaco-list-row"),i=this.i(y).renderTemplate(d);v={domNode:d,templateId:y,templateData:i}}return{row:v,isReusingConnectedDomNode:C}}release(y){!y||this.f(y)}transact(y){if(this.c)throw new Error("Already in transaction");this.c=!0;try{y()}finally{for(const v of this.b)this.g(v);this.b.clear(),this.c=!1}}f(y){const{domNode:v,templateId:C}=y;v&&(this.c?this.b.add(v):this.g(v)),this.h(C).push(y)}g(y){y.classList.remove("scrolling"),N(y)}h(y){let v=this.a.get(y);return v||(v=[],this.a.set(y,v)),v}dispose(){this.a.forEach((y,v)=>{for(const C of y)this.i(v).disposeTemplate(C.templateData),C.templateData=null}),this.a.clear(),this.b.clear()}i(y){const v=this.d.get(y);if(!v)throw new Error(`No renderer found for ${y}`);return v}}e.RowCache=E}),define(ee[524],te([1,0,7,12,2,360]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",y="active",v="infinite",C="infinite-long-running",d="discrete";class g extends E.Disposable{constructor(t,n){super(),this.b=0,this.i=this.q(new N.RunOnceScheduler(()=>(0,w.show)(this.c),0)),this.j=this.q(new N.RunOnceScheduler(()=>this.n(),g.a)),this.k(t,n)}k(t,n){this.c=document.createElement("div"),this.c.classList.add("monaco-progress-container"),this.c.setAttribute("role","progressbar"),this.c.setAttribute("aria-valuemin","0"),t.appendChild(this.c),this.g=document.createElement("div"),this.g.classList.add("progress-bit"),this.g.style.backgroundColor=n?.progressBarBackground||"#0E70C0",this.c.appendChild(this.g)}l(){this.g.style.width="inherit",this.g.style.opacity="1",this.c.classList.remove(y,v,C,d),this.b=0,this.h=void 0,this.j.cancel()}stop(){return this.m(!1)}m(t){return this.c.classList.add(D),this.c.classList.contains(v)?(this.g.style.opacity="0",t?setTimeout(()=>this.l(),200):this.l()):(this.g.style.width="inherit",t?setTimeout(()=>this.l(),200):this.l()),this}infinite(){return this.g.style.width="2%",this.g.style.opacity="1",this.c.classList.remove(d,D,C),this.c.classList.add(y,v),this.j.schedule(),this}n(){this.c.classList.add(C)}getContainer(){return this.c}}g.a=1e4,e.ProgressBar=g}),define(ee[138],te([1,0,7,81,60,12,109,6,2,16,361]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const g=!1;var i;(function(h){h.North="north",h.South="south",h.East="east",h.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let t=4;const n=new v.Emitter;let a=300;const r=new v.Emitter;class c{constructor(){this.a=new C.DisposableStore}get onPointerMove(){return this.a.add(new N.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.a.add(new N.DomEmitter(window,"mouseup")).event}dispose(){this.a.dispose()}}De([y.memoize],c.prototype,"onPointerMove",null),De([y.memoize],c.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.a.add(new N.DomEmitter(this.b,E.EventType.Change)).event}get onPointerUp(){return this.a.add(new N.DomEmitter(this.b,E.EventType.End)).event}constructor(f){this.b=f,this.a=new C.DisposableStore}dispose(){this.a.dispose()}}De([y.memoize],u.prototype,"onPointerMove",null),De([y.memoize],u.prototype,"onPointerUp",null);class s{get onPointerMove(){return this.a.onPointerMove}get onPointerUp(){return this.a.onPointerUp}constructor(f){this.a=f}dispose(){}}De([y.memoize],s.prototype,"onPointerMove",null),De([y.memoize],s.prototype,"onPointerUp",null);const l="pointer-events-disabled";class o extends C.Disposable{get state(){return this.j}get orthogonalStartSash(){return this.s}get orthogonalEndSash(){return this.w}set state(f){this.j!==f&&(this.a.classList.toggle("disabled",f===0),this.a.classList.toggle("minimum",f===1),this.a.classList.toggle("maximum",f===2),this.j=f,this.k.fire(f))}set orthogonalStartSash(f){if(this.t.clear(),this.r.clear(),f){const S=p=>{this.t.clear(),p!==0&&(this.u=(0,w.append)(this.a,(0,w.$)(".orthogonal-drag-handle.start")),this.t.add((0,C.toDisposable)(()=>this.u.remove())),this.t.add(new N.DomEmitter(this.u,"mouseenter")).event(()=>o.D(f),void 0,this.t),this.t.add(new N.DomEmitter(this.u,"mouseleave")).event(()=>o.F(f),void 0,this.t))};this.r.add(f.k.event(S,this)),S(f.state)}this.s=f}set orthogonalEndSash(f){if(this.y.clear(),this.v.clear(),f){const S=p=>{this.y.clear(),p!==0&&(this.z=(0,w.append)(this.a,(0,w.$)(".orthogonal-drag-handle.end")),this.y.add((0,C.toDisposable)(()=>this.z.remove())),this.y.add(new N.DomEmitter(this.z,"mouseenter")).event(()=>o.D(f),void 0,this.y),this.y.add(new N.DomEmitter(this.z,"mouseleave")).event(()=>o.F(f),void 0,this.y))};this.v.add(f.k.event(S,this)),S(f.state)}this.w=f}constructor(f,S,p){super(),this.h=a,this.i=this.q(new D.Delayer(this.h)),this.j=3,this.k=this.q(new v.Emitter),this.l=this.q(new v.Emitter),this.m=this.q(new v.Emitter),this.n=this.q(new v.Emitter),this.p=this.q(new v.Emitter),this.r=this.q(new C.DisposableStore),this.t=this.q(new C.DisposableStore),this.v=this.q(new C.DisposableStore),this.y=this.q(new C.DisposableStore),this.onDidStart=this.l.event,this.onDidChange=this.m.event,this.onDidReset=this.n.event,this.onDidEnd=this.p.event,this.linkedSash=void 0,this.a=(0,w.append)(f,(0,w.$)(".monaco-sash")),p.orthogonalEdge&&this.a.classList.add(`orthogonal-edge-${p.orthogonalEdge}`),d.isMacintosh&&this.a.classList.add("mac");const m=this.q(new N.DomEmitter(this.a,"mousedown")).event;this.q(m(z=>this.B(z,new c),this));const b=this.q(new N.DomEmitter(this.a,"dblclick")).event;this.q(b(this.C,this));const L=this.q(new N.DomEmitter(this.a,"mouseenter")).event;this.q(L(()=>o.D(this)));const k=this.q(new N.DomEmitter(this.a,"mouseleave")).event;this.q(k(()=>o.F(this))),this.q(E.Gesture.addTarget(this.a));const I=this.q(new N.DomEmitter(this.a,E.EventType.Start)).event;this.q(I(z=>this.B(z,new u(this.a)),this));const M=this.q(new N.DomEmitter(this.a,E.EventType.Tap)).event;let B;this.q(M(z=>{if(B){clearTimeout(B),B=void 0,this.C(z);return}clearTimeout(B),B=setTimeout(()=>B=void 0,250)},this)),typeof p.size=="number"?(this.g=p.size,p.orientation===0?this.a.style.width=`${this.g}px`:this.a.style.height=`${this.g}px`):(this.g=t,this.q(n.event(z=>{this.g=z,this.layout()}))),this.q(r.event(z=>this.h=z)),this.b=S,this.orthogonalStartSash=p.orthogonalStartSash,this.orthogonalEndSash=p.orthogonalEndSash,this.c=p.orientation||0,this.c===1?(this.a.classList.add("horizontal"),this.a.classList.remove("vertical")):(this.a.classList.remove("horizontal"),this.a.classList.add("vertical")),this.a.classList.toggle("debug",g),this.layout()}B(f,S){w.EventHelper.stop(f);let p=!1;if(!f.__orthogonalSashEvent){const T=this.G(f);T&&(p=!0,f.__orthogonalSashEvent=!0,T.B(f,new s(S)))}if(this.linkedSash&&!f.__linkedSashEvent&&(f.__linkedSashEvent=!0,this.linkedSash.B(f,new s(S))),!this.state)return;const m=document.getElementsByTagName("iframe");for(const T of m)T.classList.add(l);const b=f.pageX,L=f.pageY,k=f.altKey,I={startX:b,currentX:b,startY:L,currentY:L,altKey:k};this.a.classList.add("active"),this.l.fire(I);const M=(0,w.createStyleSheet)(this.a),B=()=>{let T="";p?T="all-scroll":this.c===1?this.state===1?T="s-resize":this.state===2?T="n-resize":T=d.isMacintosh?"row-resize":"ns-resize":this.state===1?T="e-resize":this.state===2?T="w-resize":T=d.isMacintosh?"col-resize":"ew-resize",M.textContent=`* { cursor: ${T} !important; }`},z=new C.DisposableStore;B(),p||this.k.event(B,null,z);const P=T=>{w.EventHelper.stop(T,!1);const O={startX:b,currentX:T.pageX,startY:L,currentY:T.pageY,altKey:k};this.m.fire(O)},A=T=>{w.EventHelper.stop(T,!1),this.a.removeChild(M),this.a.classList.remove("active"),this.p.fire(),z.dispose();for(const O of m)O.classList.remove(l)};S.onPointerMove(P,null,z),S.onPointerUp(A,null,z),z.add(S)}C(f){const S=this.G(f);S&&S.n.fire(),this.linkedSash&&this.linkedSash.n.fire(),this.n.fire()}static D(f,S=!1){f.a.classList.contains("active")?(f.i.cancel(),f.a.classList.add("hover")):f.i.trigger(()=>f.a.classList.add("hover"),f.h).then(void 0,()=>{}),!S&&f.linkedSash&&o.D(f.linkedSash,!0)}static F(f,S=!1){f.i.cancel(),f.a.classList.remove("hover"),!S&&f.linkedSash&&o.F(f.linkedSash,!0)}clearSashHoverState(){o.F(this)}layout(){if(this.c===0){const f=this.b;this.a.style.left=f.getVerticalSashLeft(this)-this.g/2+"px",f.getVerticalSashTop&&(this.a.style.top=f.getVerticalSashTop(this)+"px"),f.getVerticalSashHeight&&(this.a.style.height=f.getVerticalSashHeight(this)+"px")}else{const f=this.b;this.a.style.top=f.getHorizontalSashTop(this)-this.g/2+"px",f.getHorizontalSashLeft&&(this.a.style.left=f.getHorizontalSashLeft(this)+"px"),f.getHorizontalSashWidth&&(this.a.style.width=f.getHorizontalSashWidth(this)+"px")}}G(f){var S;const p=(S=f.initialTarget)!==null&&S!==void 0?S:f.target;if(!(!p||!(p instanceof HTMLElement))&&p.classList.contains("orthogonal-drag-handle"))return p.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.a.remove()}}e.Sash=o}),define(ee[272],te([1,0,7,138,6,2]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this.a=new E.Emitter,this.onDidWillResize=this.a.event,this.b=new E.Emitter,this.onDidResize=this.b.event,this.h=new D.DisposableStore,this.i=new w.Dimension(0,0),this.j=new w.Dimension(0,0),this.k=new w.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this.d=new N.Sash(this.domNode,{getVerticalSashLeft:()=>this.i.width},{orientation:0}),this.g=new N.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this.c=new N.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:N.OrthogonalEdge.North}),this.f=new N.Sash(this.domNode,{getHorizontalSashTop:()=>this.i.height},{orientation:1,orthogonalEdge:N.OrthogonalEdge.South}),this.c.orthogonalStartSash=this.g,this.c.orthogonalEndSash=this.d,this.f.orthogonalStartSash=this.g,this.f.orthogonalEndSash=this.d;let C,d=0,g=0;this.h.add(E.Event.any(this.c.onDidStart,this.d.onDidStart,this.f.onDidStart,this.g.onDidStart)(()=>{C===void 0&&(this.a.fire(),C=this.i,d=0,g=0)})),this.h.add(E.Event.any(this.c.onDidEnd,this.d.onDidEnd,this.f.onDidEnd,this.g.onDidEnd)(()=>{C!==void 0&&(C=void 0,d=0,g=0,this.b.fire({dimension:this.i,done:!0}))})),this.h.add(this.d.onDidChange(i=>{C&&(g=i.currentX-i.startX,this.layout(C.height+d,C.width+g),this.b.fire({dimension:this.i,done:!1,east:!0}))})),this.h.add(this.g.onDidChange(i=>{C&&(g=-(i.currentX-i.startX),this.layout(C.height+d,C.width+g),this.b.fire({dimension:this.i,done:!1,west:!0}))})),this.h.add(this.c.onDidChange(i=>{C&&(d=-(i.currentY-i.startY),this.layout(C.height+d,C.width+g),this.b.fire({dimension:this.i,done:!1,north:!0}))})),this.h.add(this.f.onDidChange(i=>{C&&(d=i.currentY-i.startY,this.layout(C.height+d,C.width+g),this.b.fire({dimension:this.i,done:!1,south:!0}))})),this.h.add(E.Event.any(this.d.onDidReset,this.g.onDidReset)(i=>{this.l&&(this.layout(this.i.height,this.l.width),this.b.fire({dimension:this.i,done:!0}))})),this.h.add(E.Event.any(this.c.onDidReset,this.f.onDidReset)(i=>{this.l&&(this.layout(this.l.height,this.i.width),this.b.fire({dimension:this.i,done:!0}))}))}dispose(){this.c.dispose(),this.f.dispose(),this.d.dispose(),this.g.dispose(),this.h.dispose(),this.b.dispose(),this.a.dispose(),this.domNode.remove()}enableSashes(C,d,g,i){this.c.state=C?3:0,this.d.state=d?3:0,this.f.state=g?3:0,this.g.state=i?3:0}layout(C=this.size.height,d=this.size.width){const{height:g,width:i}=this.j,{height:t,width:n}=this.k;C=Math.max(g,Math.min(t,C)),d=Math.max(i,Math.min(n,d));const a=new w.Dimension(d,C);w.Dimension.equals(a,this.i)||(this.domNode.style.height=C+"px",this.domNode.style.width=d+"px",this.i=a,this.c.layout(),this.d.layout(),this.f.layout(),this.g.layout())}clearSashHoverState(){this.d.clearSashHoverState(),this.g.clearSashHoverState(),this.c.clearSashHoverState(),this.f.clearSashHoverState()}get size(){return this.i}set maxSize(C){this.k=C}get maxSize(){return this.k}set minSize(C){this.j=C}get minSize(){return this.j}set preferredSize(C){this.l=C}get preferredSize(){return this.l}}e.ResizableHTMLElement=y}),define(ee[525],te([1,0,7,60,17,6,2,16]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class C extends y.Disposable{constructor(g,i,t,n){super(),this.g=0,this.b=n||Object.create(null),this.c=[],this.a=document.createElement("select"),this.a.className="monaco-select-box",typeof this.b.ariaLabel=="string"&&this.a.setAttribute("aria-label",this.b.ariaLabel),typeof this.b.ariaDescription=="string"&&this.a.setAttribute("aria-description",this.b.ariaDescription),this.h=this.q(new D.Emitter),this.i=t,this.j(),this.setOptions(g,i)}j(){this.q(N.Gesture.addTarget(this.a)),[N.EventType.Tap].forEach(g=>{this.q(w.addDisposableListener(this.a,g,i=>{this.a.focus()}))}),this.q(w.addStandardDisposableListener(this.a,"click",g=>{w.EventHelper.stop(g,!0)})),this.q(w.addStandardDisposableListener(this.a,"change",g=>{this.a.title=g.target.value,this.h.fire({index:g.target.selectedIndex,selected:g.target.value})})),this.q(w.addStandardDisposableListener(this.a,"keydown",g=>{let i=!1;v.isMacintosh?(g.keyCode===18||g.keyCode===16||g.keyCode===10)&&(i=!0):(g.keyCode===18&&g.altKey||g.keyCode===10||g.keyCode===3)&&(i=!0),i&&g.stopPropagation()}))}get onDidSelect(){return this.h.event}setOptions(g,i){(!this.c||!E.equals(this.c,g))&&(this.c=g,this.a.options.length=0,this.c.forEach((t,n)=>{this.a.add(this.k(t.text,n,t.isDisabled))})),i!==void 0&&this.select(i)}select(g){this.c.length===0?this.g=0:g>=0&&g<this.c.length?this.g=g:g>this.c.length-1?this.select(this.c.length-1):this.g<0&&(this.g=0),this.a.selectedIndex=this.g,this.g<this.c.length&&typeof this.c[this.g].text=="string"?this.a.title=this.c[this.g].text:this.a.title=""}focus(){this.a&&(this.a.tabIndex=0,this.a.focus())}blur(){this.a&&(this.a.tabIndex=-1,this.a.blur())}setFocusable(g){this.a.tabIndex=g?0:-1}render(g){g.classList.add("select-container"),g.appendChild(this.a),this.setOptions(this.c,this.g),this.applyStyles()}applyStyles(){var g,i,t;this.a&&(this.a.style.backgroundColor=(g=this.i.selectBackground)!==null&&g!==void 0?g:"",this.a.style.color=(i=this.i.selectForeground)!==null&&i!==void 0?i:"",this.a.style.borderColor=(t=this.i.selectBorder)!==null&&t!==void 0?t:"")}k(g,i,t){const n=document.createElement("option");return n.value=g,n.text=g,n.disabled=!!t,n}}e.SelectBoxNative=C}),define(ee[67],te([1,0,7,45,66,60,2]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class v extends y.Disposable{c(d,g){this.q(w.addDisposableListener(d,w.EventType.CLICK,i=>g(new E.StandardMouseEvent(i))))}j(d,g){this.q(w.addDisposableListener(d,w.EventType.MOUSE_DOWN,i=>g(new E.StandardMouseEvent(i))))}k(d,g){this.q(w.addDisposableListener(d,w.EventType.MOUSE_OVER,i=>g(new E.StandardMouseEvent(i))))}m(d,g){this.q(w.addDisposableListener(d,w.EventType.MOUSE_LEAVE,i=>g(new E.StandardMouseEvent(i))))}n(d,g){this.q(w.addDisposableListener(d,w.EventType.KEY_DOWN,i=>g(new N.StandardKeyboardEvent(i))))}p(d,g){this.q(w.addDisposableListener(d,w.EventType.KEY_UP,i=>g(new N.StandardKeyboardEvent(i))))}u(d,g){this.q(w.addDisposableListener(d,w.EventType.INPUT,g))}y(d,g){this.q(w.addDisposableListener(d,w.EventType.BLUR,g))}z(d,g){this.q(w.addDisposableListener(d,w.EventType.FOCUS,g))}B(d){return D.Gesture.ignoreTarget(d)}}e.Widget=v}),define(ee[207],te([1,0,136,67,12,31,7]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class v extends N.Widget{constructor(d){super(),this.a=d.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=d.bgWidth+"px",this.bgDomNode.style.height=d.bgHeight+"px",typeof d.top<"u"&&(this.bgDomNode.style.top="0px"),typeof d.left<"u"&&(this.bgDomNode.style.left="0px"),typeof d.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof d.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=d.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(d.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof d.top<"u"&&(this.domNode.style.top=d.top+"px"),typeof d.left<"u"&&(this.domNode.style.left=d.left+"px"),typeof d.bottom<"u"&&(this.domNode.style.bottom=d.bottom+"px"),typeof d.right<"u"&&(this.domNode.style.right=d.right+"px"),this.h=this.q(new w.GlobalPointerMoveMonitor),this.q(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,g=>this.i(g))),this.q(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,g=>this.i(g))),this.b=this.q(new E.IntervalTimer),this.g=this.q(new E.TimeoutTimer)}i(d){if(!d.target||!(d.target instanceof Element))return;const g=()=>{this.b.cancelAndSet(()=>this.a(),1e3/24)};this.a(),this.b.cancel(),this.g.cancelAndSet(g,200),this.h.startMonitoring(d.target,d.pointerId,d.buttons,i=>{},()=>{this.b.cancel(),this.g.cancel()}),d.preventDefault()}}e.ScrollbarArrow=v}),define(ee[273],te([1,0,7,35,136,207,518,67,16]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const d=140;class g extends v.Widget{constructor(t){super(),this.h=t.lazyRender,this.a=t.host,this.b=t.scrollable,this.g=t.scrollByPage,this.i=t.scrollbarState,this.l=this.q(new y.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this.l.setIsNeeded(this.i.isNeeded()),this.r=this.q(new E.GlobalPointerMoveMonitor),this.s=!0,this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.l.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.q(w.addDisposableListener(this.domNode.domNode,w.EventType.POINTER_DOWN,n=>this.F(n)))}t(t){const n=this.q(new D.ScrollbarArrow(t));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}v(t,n,a,r){this.slider=(0,N.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(n),typeof a=="number"&&this.slider.setWidth(a),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.q(w.addDisposableListener(this.slider.domNode,w.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this.H(c))})),this.c(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}w(t){return this.i.setVisibleSize(t)&&(this.l.setIsNeeded(this.i.isNeeded()),this.s=!0,this.h||this.render()),this.s}C(t){return this.i.setScrollSize(t)&&(this.l.setIsNeeded(this.i.isNeeded()),this.s=!0,this.h||this.render()),this.s}D(t){return this.i.setScrollPosition(t)&&(this.l.setIsNeeded(this.i.isNeeded()),this.s=!0,this.h||this.render()),this.s}beginReveal(){this.l.setShouldBeVisible(!0)}beginHide(){this.l.setShouldBeVisible(!1)}render(){!this.s||(this.s=!1,this.J(this.i.getRectangleLargeSize(),this.i.getRectangleSmallSize()),this.L(this.i.getSliderSize(),this.i.getArrowSize()+this.i.getSliderPosition()))}F(t){t.target===this.domNode.domNode&&this.G(t)}delegatePointerDown(t){const n=this.domNode.domNode.getClientRects()[0].top,a=n+this.i.getSliderPosition(),r=n+this.i.getSliderPosition()+this.i.getSliderSize(),c=this.N(t);a<=c&&c<=r?t.button===0&&(t.preventDefault(),this.H(t)):this.G(t)}G(t){let n,a;if(t.target===this.domNode.domNode&&typeof t.offsetX=="number"&&typeof t.offsetY=="number")n=t.offsetX,a=t.offsetY;else{const c=w.getDomNodePagePosition(this.domNode.domNode);n=t.pageX-c.left,a=t.pageY-c.top}const r=this.M(n,a);this.I(this.g?this.i.getDesiredScrollPositionFromOffsetPaged(r):this.i.getDesiredScrollPositionFromOffset(r)),t.button===0&&(t.preventDefault(),this.H(t))}H(t){if(!t.target||!(t.target instanceof Element))return;const n=this.N(t),a=this.O(t),r=this.i.clone();this.slider.toggleClassName("active",!0),this.r.startMonitoring(t.target,t.pointerId,t.buttons,c=>{const u=this.O(c),s=Math.abs(u-a);if(C.isWindows&&s>d){this.I(r.getScrollPosition());return}const o=this.N(c)-n;this.I(r.getDesiredScrollPositionFromDelta(o))},()=>{this.slider.toggleClassName("active",!1),this.a.onDragEnd()}),this.a.onDragStart()}I(t){const n={};this.writeScrollPosition(n,t),this.b.setScrollPositionNow(n)}updateScrollbarSize(t){this.P(t),this.i.setScrollbarSize(t),this.s=!0,this.h||this.render()}isNeeded(){return this.i.isNeeded()}}e.AbstractScrollbar=g}),define(ee[526],te([1,0,66,273,207,235,27]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class v extends N.AbstractScrollbar{constructor(d,g,i){const t=d.getScrollDimensions(),n=d.getCurrentScrollPosition();if(super({lazyRender:g.lazyRender,host:i,scrollbarState:new D.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,t.width,t.scrollWidth,n.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:d,scrollByPage:g.scrollByPage}),g.horizontalHasArrows){const a=(g.arrowSize-E.ARROW_IMG_SIZE)/2,r=(g.horizontalScrollbarSize-E.ARROW_IMG_SIZE)/2;this.t({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:r,left:a,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this.a.onMouseWheel(new w.StandardWheelEvent(null,1,0))}),this.t({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:r,left:void 0,bottom:void 0,right:a,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this.a.onMouseWheel(new w.StandardWheelEvent(null,-1,0))})}this.v(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}L(d,g){this.slider.setWidth(d),this.slider.setLeft(g)}J(d,g){this.domNode.setWidth(d),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(d){return this.s=this.C(d.scrollWidth)||this.s,this.s=this.D(d.scrollLeft)||this.s,this.s=this.w(d.width)||this.s,this.s}M(d,g){return d}N(d){return d.pageX}O(d){return d.pageY}P(d){this.slider.setHeight(d)}writeScrollPosition(d,g){d.scrollLeft=g}updateOptions(d){this.updateScrollbarSize(d.horizontal===2?0:d.horizontalScrollbarSize),this.i.setOppositeScrollbarSize(d.vertical===2?0:d.verticalScrollbarSize),this.l.setVisibility(d.horizontal),this.g=d.scrollByPage}}e.HorizontalScrollbar=v}),define(ee[527],te([1,0,66,273,207,235,27]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class v extends N.AbstractScrollbar{constructor(d,g,i){const t=d.getScrollDimensions(),n=d.getCurrentScrollPosition();if(super({lazyRender:g.lazyRender,host:i,scrollbarState:new D.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,t.height,t.scrollHeight,n.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:d,scrollByPage:g.scrollByPage}),g.verticalHasArrows){const a=(g.arrowSize-E.ARROW_IMG_SIZE)/2,r=(g.verticalScrollbarSize-E.ARROW_IMG_SIZE)/2;this.t({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:a,left:r,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this.a.onMouseWheel(new w.StandardWheelEvent(null,0,1))}),this.t({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:r,bottom:a,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this.a.onMouseWheel(new w.StandardWheelEvent(null,0,-1))})}this.v(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}L(d,g){this.slider.setHeight(d),this.slider.setTop(g)}J(d,g){this.domNode.setWidth(g),this.domNode.setHeight(d),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(d){return this.s=this.C(d.scrollHeight)||this.s,this.s=this.D(d.scrollTop)||this.s,this.s=this.w(d.height)||this.s,this.s}M(d,g){return g}N(d){return d.pageY}O(d){return d.pageX}P(d){this.slider.setWidth(d)}writeScrollPosition(d,g){d.scrollTop=g}updateOptions(d){this.updateScrollbarSize(d.vertical===2?0:d.verticalScrollbarSize),this.i.setOppositeScrollbarSize(0),this.l.setVisibility(d.vertical),this.g=d.scrollByPage}}e.VerticalScrollbar=v}),define(ee[74],te([1,0,44,7,35,66,526,527,67,12,6,2,16,167,362]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const a=500,r=50,c=!0;class u{constructor(m,b,L){this.timestamp=m,this.deltaX=b,this.deltaY=L,this.score=0}}class s{constructor(){this.a=5,this.b=[],this.c=-1,this.d=-1}isPhysicalMouseWheel(){if(this.c===-1&&this.d===-1)return!1;let m=1,b=0,L=1,k=this.d;do{const I=k===this.c?m:Math.pow(2,-L);if(m-=I,b+=this.b[k].score*I,k===this.c)break;k=(this.a+k-1)%this.a,L++}while(!0);return b<=.5}acceptStandardWheelEvent(m){const b=window.devicePixelRatio/(0,w.getZoomFactor)();t.isWindows||t.isLinux?this.accept(Date.now(),m.deltaX/b,m.deltaY/b):this.accept(Date.now(),m.deltaX,m.deltaY)}accept(m,b,L){const k=new u(m,b,L);k.score=this.f(k),this.c===-1&&this.d===-1?(this.b[0]=k,this.c=0,this.d=0):(this.d=(this.d+1)%this.a,this.d===this.c&&(this.c=(this.c+1)%this.a),this.b[this.d]=k)}f(m){if(Math.abs(m.deltaX)>0&&Math.abs(m.deltaY)>0)return 1;let b=.5;const L=this.c===-1&&this.d===-1?null:this.b[this.d];return(!this.g(m.deltaX)||!this.g(m.deltaY))&&(b+=.25),Math.min(Math.max(b,0),1)}g(m){return Math.abs(Math.round(m)-m)<.01}}s.INSTANCE=new s,e.MouseWheelClassifier=s;class l extends C.Widget{get options(){return this.a}constructor(m,b,L){super(),this.H=this.q(new g.Emitter),this.onScroll=this.H.event,this.I=this.q(new g.Emitter),m.style.overflow="hidden",this.a=S(b),this.b=L,this.q(this.b.onScroll(I=>{this.I.fire(I),this.M(I),this.H.fire(I)}));const k={onMouseWheel:I=>this.L(I),onDragStart:()=>this.O(),onDragEnd:()=>this.P()};this.g=this.q(new v.VerticalScrollbar(this.b,this.a,k)),this.h=this.q(new y.HorizontalScrollbar(this.b,this.a,k)),this.i=document.createElement("div"),this.i.className="monaco-scrollable-element "+this.a.className,this.i.setAttribute("role","presentation"),this.i.style.position="relative",this.i.style.overflow="hidden",this.i.appendChild(m),this.i.appendChild(this.h.domNode.domNode),this.i.appendChild(this.g.domNode.domNode),this.a.useShadows?(this.l=(0,E.createFastDomNode)(document.createElement("div")),this.l.setClassName("shadow"),this.i.appendChild(this.l.domNode),this.r=(0,E.createFastDomNode)(document.createElement("div")),this.r.setClassName("shadow"),this.i.appendChild(this.r.domNode),this.s=(0,E.createFastDomNode)(document.createElement("div")),this.s.setClassName("shadow"),this.i.appendChild(this.s.domNode)):(this.l=null,this.r=null,this.s=null),this.t=this.a.listenOnDomNode||this.i,this.v=[],this.J(this.a.handleMouseWheel),this.k(this.t,I=>this.R(I)),this.m(this.t,I=>this.Q(I)),this.D=this.q(new d.TimeoutTimer),this.w=!1,this.C=!1,this.F=!0,this.G=!0}dispose(){this.v=(0,i.dispose)(this.v),super.dispose()}getDomNode(){return this.i}getOverviewRulerLayoutInfo(){return{parent:this.i,insertBefore:this.g.domNode.domNode}}delegateVerticalScrollbarPointerDown(m){this.g.delegatePointerDown(m)}getScrollDimensions(){return this.b.getScrollDimensions()}setScrollDimensions(m){this.b.setScrollDimensions(m,!1)}updateClassName(m){this.a.className=m,t.isMacintosh&&(this.a.className+=" mac"),this.i.className="monaco-scrollable-element "+this.a.className}updateOptions(m){typeof m.handleMouseWheel<"u"&&(this.a.handleMouseWheel=m.handleMouseWheel,this.J(this.a.handleMouseWheel)),typeof m.mouseWheelScrollSensitivity<"u"&&(this.a.mouseWheelScrollSensitivity=m.mouseWheelScrollSensitivity),typeof m.fastScrollSensitivity<"u"&&(this.a.fastScrollSensitivity=m.fastScrollSensitivity),typeof m.scrollPredominantAxis<"u"&&(this.a.scrollPredominantAxis=m.scrollPredominantAxis),typeof m.horizontal<"u"&&(this.a.horizontal=m.horizontal),typeof m.vertical<"u"&&(this.a.vertical=m.vertical),typeof m.horizontalScrollbarSize<"u"&&(this.a.horizontalScrollbarSize=m.horizontalScrollbarSize),typeof m.verticalScrollbarSize<"u"&&(this.a.verticalScrollbarSize=m.verticalScrollbarSize),typeof m.scrollByPage<"u"&&(this.a.scrollByPage=m.scrollByPage),this.h.updateOptions(this.a),this.g.updateOptions(this.a),this.a.lazyRender||this.N()}delegateScrollFromMouseWheelEvent(m){this.L(new D.StandardWheelEvent(m))}J(m){if(this.v.length>0!==m&&(this.v=(0,i.dispose)(this.v),m)){const L=k=>{this.L(new D.StandardWheelEvent(k))};this.v.push(N.addDisposableListener(this.t,N.EventType.MOUSE_WHEEL,L,{passive:!1}))}}L(m){const b=s.INSTANCE;c&&b.acceptStandardWheelEvent(m);let L=!1;if(m.deltaY||m.deltaX){let I=m.deltaY*this.a.mouseWheelScrollSensitivity,M=m.deltaX*this.a.mouseWheelScrollSensitivity;this.a.scrollPredominantAxis&&(Math.abs(I)>=Math.abs(M)?M=0:I=0),this.a.flipAxes&&([I,M]=[M,I]);const B=!t.isMacintosh&&m.browserEvent&&m.browserEvent.shiftKey;(this.a.scrollYToX||B)&&!M&&(M=I,I=0),m.browserEvent&&m.browserEvent.altKey&&(M=M*this.a.fastScrollSensitivity,I=I*this.a.fastScrollSensitivity);const z=this.b.getFutureScrollPosition();let P={};if(I){const A=r*I,T=z.scrollTop-(A<0?Math.floor(A):Math.ceil(A));this.g.writeScrollPosition(P,T)}if(M){const A=r*M,T=z.scrollLeft-(A<0?Math.floor(A):Math.ceil(A));this.h.writeScrollPosition(P,T)}P=this.b.validateScrollPosition(P),(z.scrollLeft!==P.scrollLeft||z.scrollTop!==P.scrollTop)&&(c&&this.a.mouseWheelSmoothScroll&&b.isPhysicalMouseWheel()?this.b.setScrollPositionSmooth(P):this.b.setScrollPositionNow(P),L=!0)}let k=L;!k&&this.a.alwaysConsumeMouseWheel&&(k=!0),!k&&this.a.consumeMouseWheelIfScrollbarIsNeeded&&(this.g.isNeeded()||this.h.isNeeded())&&(k=!0),k&&(m.preventDefault(),m.stopPropagation())}M(m){this.F=this.h.onDidScroll(m)||this.F,this.F=this.g.onDidScroll(m)||this.F,this.a.useShadows&&(this.F=!0),this.G&&this.S(),this.a.lazyRender||this.N()}renderNow(){if(!this.a.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this.N()}N(){if(!!this.F&&(this.F=!1,this.h.render(),this.g.render(),this.a.useShadows)){const m=this.b.getCurrentScrollPosition(),b=m.scrollTop>0,L=m.scrollLeft>0,k=L?" left":"",I=b?" top":"",M=L||b?" top-left-corner":"";this.l.setClassName(`shadow${k}`),this.r.setClassName(`shadow${I}`),this.s.setClassName(`shadow${M}${I}${k}`)}}O(){this.w=!0,this.S()}P(){this.w=!1,this.U()}Q(m){this.C=!1,this.U()}R(m){this.C=!0,this.S()}S(){this.g.beginReveal(),this.h.beginReveal(),this.W()}U(){!this.C&&!this.w&&(this.g.beginHide(),this.h.beginHide())}W(){!this.C&&!this.w&&this.D.cancelAndSet(()=>this.U(),a)}}e.AbstractScrollableElement=l;class o extends l{constructor(m,b){b=b||{},b.mouseWheelSmoothScroll=!1;const L=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:k=>N.scheduleAtNextAnimationFrame(k)});super(m,b,L),this.q(L)}setScrollPosition(m){this.b.setScrollPositionNow(m)}}e.ScrollableElement=o;class h extends l{constructor(m,b,L){super(m,b,L)}setScrollPosition(m){m.reuseAnimation?this.b.setScrollPositionSmooth(m,m.reuseAnimation):this.b.setScrollPositionNow(m)}getScrollPosition(){return this.b.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class f extends l{constructor(m,b){b=b||{},b.mouseWheelSmoothScroll=!1;const L=new n.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:k=>N.scheduleAtNextAnimationFrame(k)});super(m,b,L),this.q(L),this.X=m,this.onScroll(k=>{k.scrollTopChanged&&(this.X.scrollTop=k.scrollTop),k.scrollLeftChanged&&(this.X.scrollLeft=k.scrollLeft)}),this.scanDomNode()}setScrollPosition(m){this.b.setScrollPositionNow(m)}getScrollPosition(){return this.b.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this.X.clientWidth,scrollWidth:this.X.scrollWidth,height:this.X.clientHeight,scrollHeight:this.X.scrollHeight}),this.setScrollPosition({scrollLeft:this.X.scrollLeft,scrollTop:this.X.scrollTop})}}e.DomScrollableElement=f;function S(p){const m={lazyRender:typeof p.lazyRender<"u"?p.lazyRender:!1,className:typeof p.className<"u"?p.className:"",useShadows:typeof p.useShadows<"u"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel<"u"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes<"u"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded<"u"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel<"u"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX<"u"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity<"u"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity<"u"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis<"u"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll<"u"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize<"u"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode<"u"?p.listenOnDomNode:null,horizontal:typeof p.horizontal<"u"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize<"u"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize<"u"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows<"u"?p.horizontalHasArrows:!1,vertical:typeof p.vertical<"u"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize<"u"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows<"u"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize<"u"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage<"u"?p.scrollByPage:!1};return m.horizontalSliderSize=typeof p.horizontalSliderSize<"u"?p.horizontalSliderSize:m.horizontalScrollbarSize,m.verticalSliderSize=typeof p.verticalSliderSize<"u"?p.verticalSliderSize:m.verticalScrollbarSize,t.isMacintosh&&(m.className+=" mac"),m}}),define(ee[274],te([1,0,7,45,74,2,355]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const y=w.$;class v extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this.q(new E.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=v;class C extends D.Disposable{static render(g,i,t){return new C(g,i,t)}constructor(g,i,t){super(),this.a=w.append(g,y("div.action-container")),this.a.setAttribute("tabindex","0"),this.b=w.append(this.a,y("a.action")),this.b.setAttribute("role","button"),i.iconClass&&w.append(this.b,y(`span.icon.${i.iconClass}`));const n=w.append(this.b,y("span"));n.textContent=t?`${i.label} (${t})`:i.label,this.q(w.addDisposableListener(this.a,w.EventType.CLICK,a=>{a.stopPropagation(),a.preventDefault(),i.run(this.a)})),this.q(w.addDisposableListener(this.a,w.EventType.KEY_DOWN,a=>{const r=new N.StandardKeyboardEvent(a);(r.equals(3)||r.equals(10))&&(a.stopPropagation(),a.preventDefault(),i.run(this.a))})),this.setEnabled(!0)}setEnabled(g){g?(this.a.classList.remove("disabled"),this.a.removeAttribute("aria-disabled")):(this.a.classList.add("disabled"),this.a.setAttribute("aria-disabled","true"))}}e.HoverAction=C}),define(ee[208],te([1,0,127,7,81,60,74,17,12,109,6,2,151,167,347,523,13]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const u={CurrentDragAndDropData:void 0},s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(m){return[m]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class l{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=l;class o{constructor(b){this.elements=b}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class h{constructor(){this.types=[],this.files=[]}update(b){if(b.types&&this.types.splice(0,this.types.length,...b.types),b.files){this.files.splice(0,this.files.length);for(let L=0;L<b.files.length;L++){const k=b.files.item(L);k&&(k.size||k.type)&&this.files.push(k)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function f(m,b){return Array.isArray(m)&&Array.isArray(b)?(0,v.equals)(m,b):m===b}class S{constructor(b){b?.getSetSize?this.getSetSize=b.getSetSize.bind(b):this.getSetSize=(L,k,I)=>I,b?.getPosInSet?this.getPosInSet=b.getPosInSet.bind(b):this.getPosInSet=(L,k)=>k+1,b?.getRole?this.getRole=b.getRole.bind(b):this.getRole=L=>"listitem",b?.isChecked?this.isChecked=b.isChecked.bind(b):this.isChecked=L=>{}}}class p{get contentHeight(){return this.g.size}get O(){return this.N}set O(b){if(b!==this.N){if(b&&this.B)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this.N=b,this.domNode.classList.toggle("horizontal-scrolling",this.N),this.N){for(const L of this.d)this.X(L);this.U(),this.q.setScrollDimensions({width:(0,N.getContentWidth)(this.domNode)}),this.o.style.width=`${Math.max(this.E||0,this.n)}px`}else this.u.cancel(),this.q.setScrollDimensions({width:this.n,scrollWidth:this.n}),this.o.style.width=""}}constructor(b,L,k,I=s){var M,B,z,P,A,T,O,F,W,V,R,$;if(this.P=L,this.domId=`list_id_${++p.c}`,this.j=new Map,this.n=0,this.s=0,this.t=null,this.u=new C.Delayer(50),this.v=!1,this.x=i.Disposable.None,this.y=0,this.G=!1,this.J=i.Disposable.None,this.K=i.Disposable.None,this.L=new i.DisposableStore,this.M=new g.Emitter,this.N=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.d=[],this.f=0,this.g=new a.RangeMap;for(const ne of k)this.j.set(ne.templateId,ne);this.h=this.L.add(new r.RowCache(this.j)),this.k=0,this.m=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this.N=(M=I.horizontalScrolling)!==null&&M!==void 0?M:s.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this.N),this.C=typeof I.additionalScrollHeight>"u"?0:I.additionalScrollHeight,this.D=new S(I.accessibilityProvider),this.o=document.createElement("div"),this.o.className="monaco-list-rows",((B=I.transformOptimization)!==null&&B!==void 0?B:s.transformOptimization)&&(this.o.style.transform="translate3d(0px, 0px, 0px)",this.o.style.overflow="hidden",this.o.style.contain="strict"),this.L.add(D.Gesture.addTarget(this.o)),this.p=new n.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(z=I.smoothScrolling)!==null&&z!==void 0&&z?125:0,scheduleAtNextAnimationFrame:ne=>(0,N.scheduleAtNextAnimationFrame)(ne)}),this.q=this.L.add(new y.SmoothScrollableElement(this.o,{alwaysConsumeMouseWheel:(P=I.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:s.alwaysConsumeMouseWheel,horizontal:1,vertical:(A=I.verticalScrollMode)!==null&&A!==void 0?A:s.verticalScrollMode,useShadows:(T=I.useShadows)!==null&&T!==void 0?T:s.useShadows,mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity,scrollByPage:I.scrollByPage},this.p)),this.domNode.appendChild(this.q.getDomNode()),b.appendChild(this.domNode),this.q.onScroll(this.fb,this,this.L),this.L.add((0,N.addDisposableListener)(this.o,D.EventType.Change,ne=>this.gb(ne))),this.L.add((0,N.addDisposableListener)(this.q.getDomNode(),"scroll",ne=>ne.target.scrollTop=0)),this.L.add((0,N.addDisposableListener)(this.domNode,"dragover",ne=>this.ib(this.eb(ne)))),this.L.add((0,N.addDisposableListener)(this.domNode,"drop",ne=>this.kb(this.eb(ne)))),this.L.add((0,N.addDisposableListener)(this.domNode,"dragleave",ne=>this.jb(this.eb(ne)))),this.L.add((0,N.addDisposableListener)(this.domNode,"dragend",ne=>this.lb(ne))),this.z=(O=I.setRowLineHeight)!==null&&O!==void 0?O:s.setRowLineHeight,this.A=(F=I.setRowHeight)!==null&&F!==void 0?F:s.setRowHeight,this.B=(W=I.supportDynamicHeights)!==null&&W!==void 0?W:s.supportDynamicHeights,this.F=(V=I.dnd)!==null&&V!==void 0?V:s.dnd,this.layout((R=I.initialSize)===null||R===void 0?void 0:R.height,($=I.initialSize)===null||$===void 0?void 0:$.width)}updateOptions(b){b.additionalScrollHeight!==void 0&&(this.C=b.additionalScrollHeight,this.q.setScrollDimensions({scrollHeight:this.scrollHeight})),b.smoothScrolling!==void 0&&this.p.setSmoothScrollDuration(b.smoothScrolling?125:0),b.horizontalScrolling!==void 0&&(this.O=b.horizontalScrolling);let L;b.scrollByPage!==void 0&&(L=Object.assign(Object.assign({},L??{}),{scrollByPage:b.scrollByPage})),b.mouseWheelScrollSensitivity!==void 0&&(L=Object.assign(Object.assign({},L??{}),{mouseWheelScrollSensitivity:b.mouseWheelScrollSensitivity})),b.fastScrollSensitivity!==void 0&&(L=Object.assign(Object.assign({},L??{}),{fastScrollSensitivity:b.fastScrollSensitivity})),L&&this.q.updateOptions(L)}splice(b,L,k=[]){if(this.v)throw new Error("Can't run recursive splices.");this.v=!0;try{return this.Q(b,L,k)}finally{this.v=!1,this.M.fire(this.contentHeight)}}Q(b,L,k=[]){const I=this.rb(this.k,this.m),M={start:b,end:b+L},B=t.Range.intersect(I,M),z=new Map;for(let J=B.end-1;J>=B.start;J--){const x=this.d[J];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let q=z.get(x.templateId);q||(q=[],z.set(x.templateId,q));const Y=this.j.get(x.templateId);Y&&Y.disposeElement&&Y.disposeElement(x.element,J,x.row.templateData,x.size),q.push(x.row)}x.row=null}const P={start:b+L,end:this.d.length},A=t.Range.intersect(P,I),T=t.Range.relativeComplement(P,I),O=k.map(J=>({id:String(this.f++),element:J,templateId:this.P.getTemplateId(J),size:this.P.getHeight(J),width:void 0,hasDynamicHeight:!!this.P.hasDynamicHeight&&this.P.hasDynamicHeight(J),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:i.Disposable.None,checkedDisposable:i.Disposable.None}));let F;b===0&&L>=this.d.length?(this.g=new a.RangeMap,this.g.splice(0,0,O),F=this.d,this.d=O):(this.g.splice(b,L,O),F=this.d.splice(b,L,...O));const W=k.length-L,V=this.rb(this.k,this.m),R=(0,a.shift)(A,W),$=t.Range.intersect(V,R);for(let J=$.start;J<$.end;J++)this.Y(this.d[J],J);const X=t.Range.relativeComplement(R,V);for(const J of X)for(let x=J.start;x<J.end;x++)this.Z(x);const ne=T.map(J=>(0,a.shift)(J,W)),ie=[{start:b,end:b+k.length},...ne].map(J=>t.Range.intersect(V,J)),le=this.ub(ie);for(const J of ie)for(let x=J.start;x<J.end;x++){const q=this.d[x],Y=z.get(q.templateId),Q=Y?.pop();this.W(x,le,Q)}for(const J of z.values())for(const x of J)this.h.release(x);return this.R(),this.B&&this.sb(this.scrollTop,this.renderHeight),F.map(J=>J.element)}R(){this.s=this.contentHeight,this.o.style.height=`${this.s}px`,this.t||(this.t=(0,N.scheduleAtNextAnimationFrame)(()=>{this.q.setScrollDimensions({scrollHeight:this.scrollHeight}),this.U(),this.t=null}))}S(){if(!this.O){this.u.cancel();return}this.u.trigger(()=>this.U())}U(){if(!this.O)return;let b=0;for(const L of this.d)typeof L.width<"u"&&(b=Math.max(b,L.width));this.E=b,this.q.setScrollDimensions({scrollWidth:b===0?0:b+10})}rerender(){if(!!this.B){for(const b of this.d)b.lastDynamicHeightWidth=void 0;this.sb(this.k,this.m)}}get length(){return this.d.length}get renderHeight(){return this.q.getScrollDimensions().height}get firstVisibleIndex(){const b=this.rb(this.k,this.m),L=this.g.positionAt(b.start),k=this.g.positionAt(b.start+1);return k!==-1&&(k-L)/2+L<this.scrollTop?b.start+1:b.start}element(b){return this.d[b].element}domElement(b){const L=this.d[b].row;return L&&L.domNode}elementHeight(b){return this.d[b].size}elementTop(b){return this.g.positionAt(b)}indexAt(b){return this.g.indexAt(b)}indexAfter(b){return this.g.indexAfter(b)}layout(b,L){const k={height:typeof b=="number"?b:(0,N.getContentHeight)(this.domNode)};this.t&&(this.t.dispose(),this.t=null,k.scrollHeight=this.scrollHeight),this.q.setScrollDimensions(k),typeof L<"u"&&(this.n=L,this.B&&this.sb(this.scrollTop,this.renderHeight)),this.O&&this.q.setScrollDimensions({width:typeof L=="number"?L:(0,N.getContentWidth)(this.domNode)})}V(b,L,k,I,M,B=!1){const z=this.rb(L,k),P=t.Range.relativeComplement(z,b),A=t.Range.relativeComplement(b,z),T=this.ub(P);if(B){const O=t.Range.intersect(b,z);for(let F=O.start;F<O.end;F++)this.Y(this.d[F],F)}this.h.transact(()=>{for(const O of A)for(let F=O.start;F<O.end;F++)this.Z(F);for(const O of P)for(let F=O.start;F<O.end;F++)this.W(F,T)}),I!==void 0&&(this.o.style.left=`-${I}px`),this.o.style.top=`-${L}px`,this.O&&M!==void 0&&(this.o.style.width=`${Math.max(M,this.n)}px`),this.k=L,this.m=k}W(b,L,k){const I=this.d[b];let M=!1;if(!I.row)if(k)I.row=k;else{const T=this.h.alloc(I.templateId);I.row=T.row,M=T.isReusingConnectedDomNode}const B=this.D.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",B);const z=this.D.isChecked(I.element);if(typeof z=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!z));else if(z){const T=O=>I.row.domNode.setAttribute("aria-checked",String(!!O));T(z.value),I.checkedDisposable=z.onDidChange(T)}(M||!I.row.domNode.parentElement)&&(L?this.o.insertBefore(I.row.domNode,L):this.o.appendChild(I.row.domNode)),this.Y(I,b);const P=this.j.get(I.templateId);if(!P)throw new Error(`No renderer found for template id ${I.templateId}`);P?.renderElement(I.element,b,I.row.templateData,I.size);const A=this.F.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!A,A&&(I.dragStartDisposable=(0,N.addDisposableListener)(I.row.domNode,"dragstart",T=>this.hb(I.element,A,T))),this.O&&(this.X(I),this.S())}X(b){if(!b.row||!b.row.domNode)return;b.row.domNode.style.width="fit-content",b.width=(0,N.getContentWidth)(b.row.domNode);const L=window.getComputedStyle(b.row.domNode);L.paddingLeft&&(b.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(b.width+=parseFloat(L.paddingRight)),b.row.domNode.style.width=""}Y(b,L){b.row.domNode.style.top=`${this.elementTop(L)}px`,this.A&&(b.row.domNode.style.height=`${b.size}px`),this.z&&(b.row.domNode.style.lineHeight=`${b.size}px`),b.row.domNode.setAttribute("data-index",`${L}`),b.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),b.row.domNode.setAttribute("data-parity",L%2===0?"even":"odd"),b.row.domNode.setAttribute("aria-setsize",String(this.D.getSetSize(b.element,L,this.length))),b.row.domNode.setAttribute("aria-posinset",String(this.D.getPosInSet(b.element,L))),b.row.domNode.setAttribute("id",this.getElementDomId(L)),b.row.domNode.classList.toggle("drop-target",b.dropTarget)}Z(b){const L=this.d[b];if(L.dragStartDisposable.dispose(),L.checkedDisposable.dispose(),L.row){const k=this.j.get(L.templateId);k&&k.disposeElement&&k.disposeElement(L.element,b,L.row.templateData,L.size),this.h.release(L.row),L.row=null}this.O&&this.S()}getScrollTop(){return this.q.getScrollPosition().scrollTop}setScrollTop(b,L){this.t&&(this.t.dispose(),this.t=null,this.q.setScrollDimensions({scrollHeight:this.scrollHeight})),this.q.setScrollPosition({scrollTop:b,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(b){this.setScrollTop(b)}get scrollHeight(){return this.s+(this.O?10:0)+this.C}get onMouseClick(){return g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"click")).event,b=>this.ab(b),this.L)}get onMouseDblClick(){return g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"dblclick")).event,b=>this.ab(b),this.L)}get onMouseMiddleClick(){return g.Event.filter(g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"auxclick")).event,b=>this.ab(b),this.L),b=>b.browserEvent.button===1,this.L)}get onMouseDown(){return g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"mousedown")).event,b=>this.ab(b),this.L)}get onMouseOver(){return g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"mouseover")).event,b=>this.ab(b),this.L)}get onContextMenu(){return g.Event.any(g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"contextmenu")).event,b=>this.ab(b),this.L),g.Event.map(this.L.add(new E.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,b=>this.db(b),this.L))}get onTouchStart(){return g.Event.map(this.L.add(new E.DomEmitter(this.domNode,"touchstart")).event,b=>this.bb(b),this.L)}get onTap(){return g.Event.map(this.L.add(new E.DomEmitter(this.o,D.EventType.Tap)).event,b=>this.db(b),this.L)}ab(b){const L=this.qb(b.target||null),k=typeof L>"u"?void 0:this.d[L],I=k&&k.element;return{browserEvent:b,index:L,element:I}}bb(b){const L=this.qb(b.target||null),k=typeof L>"u"?void 0:this.d[L],I=k&&k.element;return{browserEvent:b,index:L,element:I}}db(b){const L=this.qb(b.initialTarget||null),k=typeof L>"u"?void 0:this.d[L],I=k&&k.element;return{browserEvent:b,index:L,element:I}}eb(b){const L=this.qb(b.target||null),k=typeof L>"u"?void 0:this.d[L],I=k&&k.element;return{browserEvent:b,index:L,element:I}}fb(b){try{const L=this.rb(this.k,this.m);this.V(L,b.scrollTop,b.height,b.scrollLeft,b.scrollWidth),this.B&&this.sb(b.scrollTop,b.height,b.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",b),L}}gb(b){b.preventDefault(),b.stopPropagation(),this.scrollTop-=b.translationY}hb(b,L,k){var I,M;if(!k.dataTransfer)return;const B=this.F.getDragElements(b);if(k.dataTransfer.effectAllowed="copyMove",k.dataTransfer.setData(w.DataTransfers.TEXT,L),k.dataTransfer.setDragImage){let z;this.F.getDragLabel&&(z=this.F.getDragLabel(B,k)),typeof z>"u"&&(z=String(B.length));const P=(0,N.$)(".monaco-drag-image");P.textContent=z;const T=(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||document.body})(this.domNode);T.appendChild(P),k.dataTransfer.setDragImage(P,-10,-10),setTimeout(()=>T.removeChild(P),0)}this.domNode.classList.add("dragging"),this.H=new l(B),u.CurrentDragAndDropData=new o(B),(M=(I=this.F).onDragStart)===null||M===void 0||M.call(I,this.H,k)}ib(b){var L;if(b.browserEvent.preventDefault(),this.K.dispose(),u.CurrentDragAndDropData&&u.CurrentDragAndDropData.getData()==="vscode-ui"||(this.nb(b.browserEvent),!b.browserEvent.dataTransfer))return!1;if(!this.H)if(u.CurrentDragAndDropData)this.H=u.CurrentDragAndDropData;else{if(!b.browserEvent.dataTransfer.types)return!1;this.H=new h}const k=this.F.onDragOver(this.H,b.element,b.index,b.browserEvent);if(this.G=typeof k=="boolean"?k:k.accept,!this.G)return this.I=void 0,this.J.dispose(),!1;b.browserEvent.dataTransfer.dropEffect=typeof k!="boolean"&&k.effect===0?"copy":"move";let I;if(typeof k!="boolean"&&k.feedback?I=k.feedback:typeof b.index>"u"?I=[-1]:I=[b.index],I=(0,v.distinct)(I).filter(M=>M>=-1&&M<this.length).sort((M,B)=>M-B),I=I[0]===-1?[-1]:I,f(this.I,I))return!0;if(this.I=I,this.J.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.o.classList.add("drop-target"),this.J=(0,i.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.o.classList.remove("drop-target")});else{for(const M of I){const B=this.d[M];B.dropTarget=!0,(L=B.row)===null||L===void 0||L.domNode.classList.add("drop-target")}this.J=(0,i.toDisposable)(()=>{var M;for(const B of I){const z=this.d[B];z.dropTarget=!1,(M=z.row)===null||M===void 0||M.domNode.classList.remove("drop-target")}})}return!0}jb(b){var L,k;this.K.dispose(),this.K=(0,C.disposableTimeout)(()=>this.mb(),100),this.H&&((k=(L=this.F).onDragLeave)===null||k===void 0||k.call(L,this.H,b.element,b.index,b.browserEvent))}kb(b){if(!this.G)return;const L=this.H;this.pb(),this.mb(),this.domNode.classList.remove("dragging"),this.H=void 0,u.CurrentDragAndDropData=void 0,!(!L||!b.browserEvent.dataTransfer)&&(b.browserEvent.preventDefault(),L.update(b.browserEvent.dataTransfer),this.F.drop(L,b.element,b.index,b.browserEvent))}lb(b){var L,k;this.G=!1,this.pb(),this.mb(),this.domNode.classList.remove("dragging"),this.H=void 0,u.CurrentDragAndDropData=void 0,(k=(L=this.F).onDragEnd)===null||k===void 0||k.call(L,b)}mb(){this.I=void 0,this.J.dispose(),this.J=i.Disposable.None}nb(b){if(!this.w){const L=(0,N.getTopLeftOffset)(this.domNode).top;this.w=(0,N.animate)(this.ob.bind(this,L))}this.x.dispose(),this.x=(0,C.disposableTimeout)(()=>{this.w&&(this.w.dispose(),this.w=void 0)},1e3),this.y=b.pageY}ob(b){if(this.y===void 0)return;const L=this.y-b,k=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>k&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-k))))}pb(){this.x.dispose(),this.w&&(this.w.dispose(),this.w=void 0)}qb(b){const L=this.q.getDomNode();let k=b;for(;k instanceof HTMLElement&&k!==this.o&&L.contains(k);){const I=k.getAttribute("data-index");if(I){const M=Number(I);if(!isNaN(M))return M}k=k.parentElement}}rb(b,L){return{start:this.g.indexAt(b),end:this.g.indexAfter(b+L-1)}}sb(b,L,k){const I=this.rb(b,L);let M,B;b===this.elementTop(I.start)?(M=I.start,B=0):I.end-I.start>1&&(M=I.start+1,B=this.elementTop(M)-b);let z=0;for(;;){const P=this.rb(b,L);let A=!1;for(let T=P.start;T<P.end;T++){const O=this.tb(T);O!==0&&this.g.splice(T,1,[this.d[T]]),z+=O,A=A||O!==0}if(!A){z!==0&&this.R();const T=t.Range.relativeComplement(I,P);for(const F of T)for(let W=F.start;W<F.end;W++)this.d[W].row&&this.Z(W);const O=t.Range.relativeComplement(P,I);for(const F of O)for(let W=F.start;W<F.end;W++){const V=W+1,R=V<this.d.length?this.d[V].row:null,$=R?R.domNode:null;this.W(W,$)}for(let F=P.start;F<P.end;F++)this.d[F].row&&this.Y(this.d[F],F);if(typeof M=="number"){const F=this.p.getFutureScrollPosition().scrollTop-b,W=this.elementTop(M)-B+F;this.setScrollTop(W,k)}this.M.fire(this.contentHeight);return}}}tb(b){var L,k,I;const M=this.d[b];if(this.P.getDynamicHeight){const A=this.P.getDynamicHeight(M.element);if(A!==null){const T=M.size;return M.size=A,M.lastDynamicHeightWidth=this.n,A-T}}if(!M.hasDynamicHeight||M.lastDynamicHeightWidth===this.n||!!this.P.hasDynamicHeight&&!this.P.hasDynamicHeight(M.element))return 0;const B=M.size;if(M.row)return M.row.domNode.style.height="",M.size=M.row.domNode.offsetHeight,M.lastDynamicHeightWidth=this.n,M.size-B;const{row:z}=this.h.alloc(M.templateId);z.domNode.style.height="",this.o.appendChild(z.domNode);const P=this.j.get(M.templateId);if(!P)throw new c.BugIndicatingError("Missing renderer for templateId: "+M.templateId);return P.renderElement(M.element,b,z.templateData,void 0),M.size=z.domNode.offsetHeight,(L=P.disposeElement)===null||L===void 0||L.call(P,M.element,b,z.templateData,void 0),(I=(k=this.P).setDynamicHeight)===null||I===void 0||I.call(k,M.element,M.size),M.lastDynamicHeightWidth=this.n,this.o.removeChild(z.domNode),this.h.release(z),M.size-B}ub(b){const L=b[b.length-1];if(!L)return null;const k=this.d[L.end];return!k||!k.row?null:k.row.domNode}getElementDomId(b){return`${this.domId}_${b}`}dispose(){var b;if(this.d){for(const L of this.d)if(L.row){const k=this.j.get(L.row.templateId);k&&((b=k.disposeElement)===null||b===void 0||b.call(k,L.element,-1,L.row.templateData,void 0),k.disposeTemplate(L.row.templateData))}this.d=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,i.dispose)(this.L)}}p.c=0,De([d.memoize],p.prototype,"onMouseClick",null),De([d.memoize],p.prototype,"onMouseDblClick",null),De([d.memoize],p.prototype,"onMouseMiddleClick",null),De([d.memoize],p.prototype,"onMouseDown",null),De([d.memoize],p.prototype,"onMouseOver",null),De([d.memoize],p.prototype,"onContextMenu",null),De([d.memoize],p.prototype,"onTouchStart",null),De([d.memoize],p.prototype,"onTap",null),e.ListView=p}),define(ee[105],te([1,0,7,81,45,60,50,340,17,12,36,109,6,63,2,128,16,18,339,208,242]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class o{constructor(x){this.d=x,this.c=[]}get templateId(){return`template:${this.d.name}`}renderTemplate(x){return x}renderElement(x,q,Y){const Q=this.c.findIndex(re=>re.templateData===Y);if(Q>=0){const re=this.c[Q];this.d.unrender(Y),re.index=q}else{const re={index:q,templateData:Y};this.c.push(re)}this.d.renderIndex(q,Y)}splice(x,q,Y){const Q=[];for(const re of this.c)re.index<x?Q.push(re):re.index>=x+q&&Q.push({index:re.index+Y-q,templateData:re.templateData});this.c=Q}renderIndexes(x){for(const{index:q,templateData:Y}of this.c)x.indexOf(q)>-1&&this.d.renderIndex(q,Y)}disposeTemplate(x){const q=this.c.findIndex(Y=>Y.templateData===x);q<0||this.c.splice(q,1)}}class h{get name(){return this.h}get renderer(){return new o(this)}constructor(x){this.h=x,this.c=0,this.d=[],this.f=[],this.g=new t.Emitter,this.onChange=this.g.event}splice(x,q,Y){var Q;q=Math.max(0,Math.min(q,this.c-x));const re=Y.length-q,oe=x+q,G=[...this.f.filter(U=>U<x),...Y.map((U,j)=>U?j+x:-1).filter(U=>U!==-1),...this.f.filter(U=>U>=oe).map(U=>U+re)],Z=this.c+re;if(this.f.length>0&&G.length===0&&Z>0){const U=(Q=this.f.find(j=>j>=x))!==null&&Q!==void 0?Q:Z-1;G.push(Math.min(U,Z-1))}this.renderer.splice(x,q,Y.length),this.k(G,G),this.c=Z}renderIndex(x,q){q.classList.toggle(this.h,this.contains(x))}unrender(x){x.classList.remove(this.h)}set(x,q){return this.k(x,[...x].sort(X),q)}k(x,q,Y){const Q=this.d,re=this.f;this.d=x,this.f=q;const oe=R(re,x);return this.renderer.renderIndexes(oe),this.g.fire({indexes:x,browserEvent:Y}),Q}get(){return this.d}contains(x){return(0,C.binarySearch)(this.f,x,X)>=0}dispose(){(0,a.dispose)(this.g)}}De([i.memoize],h.prototype,"renderer",null);class f extends h{constructor(x){super("selected"),this.l=x}renderIndex(x,q){super.renderIndex(x,q),this.l&&(this.contains(x)?q.setAttribute("aria-selected","true"):q.setAttribute("aria-selected","false"))}}class S{constructor(x,q,Y){this.c=x,this.d=q,this.f=Y}splice(x,q,Y){if(!this.f)return this.c.splice(x,q,Y.map(()=>!1));const Q=this.c.get().map(oe=>this.f.getId(this.d.element(oe)).toString()),re=Y.map(oe=>Q.indexOf(this.f.getId(oe).toString())>-1);this.c.splice(x,q,re)}}function p(J){return J.tagName==="INPUT"||J.tagName==="TEXTAREA"}e.isInputElement=p;function m(J){return J.classList.contains("monaco-editor")?!0:J.classList.contains("monaco-list")||!J.parentElement?!1:m(J.parentElement)}e.isMonacoEditor=m;function b(J){return J.tagName==="A"&&J.classList.contains("monaco-button")||J.tagName==="DIV"&&J.classList.contains("monaco-button-dropdown")?!0:J.classList.contains("monaco-list")||!J.parentElement?!1:b(J.parentElement)}e.isButton=b;class L{get f(){return this.c.add(t.Event.chain(this.c.add(new N.DomEmitter(this.h.domNode,"keydown")).event).filter(x=>!p(x.target)).map(x=>new E.StandardKeyboardEvent(x)))}constructor(x,q,Y){this.g=x,this.h=q,this.c=new a.DisposableStore,this.d=new a.DisposableStore,this.f.filter(Q=>Q.keyCode===3).on(this.k,this,this.c),this.f.filter(Q=>Q.keyCode===16).on(this.l,this,this.c),this.f.filter(Q=>Q.keyCode===18).on(this.o,this,this.c),this.f.filter(Q=>Q.keyCode===11).on(this.p,this,this.c),this.f.filter(Q=>Q.keyCode===12).on(this.q,this,this.c),this.f.filter(Q=>Q.keyCode===9).on(this.t,this,this.c),Y.multipleSelectionSupport!==!1&&this.f.filter(Q=>(c.isMacintosh?Q.metaKey:Q.ctrlKey)&&Q.keyCode===31).on(this.s,this,this.d)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.d.clear(),x.multipleSelectionSupport&&this.f.filter(q=>(c.isMacintosh?q.metaKey:q.ctrlKey)&&q.keyCode===31).on(this.s,this,this.d))}k(x){x.preventDefault(),x.stopPropagation(),this.g.setSelection(this.g.getFocus(),x.browserEvent)}l(x){x.preventDefault(),x.stopPropagation(),this.g.focusPrevious(1,!1,x.browserEvent);const q=this.g.getFocus()[0];this.g.setAnchor(q),this.g.reveal(q),this.h.domNode.focus()}o(x){x.preventDefault(),x.stopPropagation(),this.g.focusNext(1,!1,x.browserEvent);const q=this.g.getFocus()[0];this.g.setAnchor(q),this.g.reveal(q),this.h.domNode.focus()}p(x){x.preventDefault(),x.stopPropagation(),this.g.focusPreviousPage(x.browserEvent);const q=this.g.getFocus()[0];this.g.setAnchor(q),this.g.reveal(q),this.h.domNode.focus()}q(x){x.preventDefault(),x.stopPropagation(),this.g.focusNextPage(x.browserEvent);const q=this.g.getFocus()[0];this.g.setAnchor(q),this.g.reveal(q),this.h.domNode.focus()}s(x){x.preventDefault(),x.stopPropagation(),this.g.setSelection((0,C.range)(this.g.length),x.browserEvent),this.g.setAnchor(void 0),this.h.domNode.focus()}t(x){this.g.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.g.setSelection([],x.browserEvent),this.g.setAnchor(void 0),this.h.domNode.focus())}dispose(){this.c.dispose(),this.d.dispose()}}De([i.memoize],L.prototype,"f",null);var k;(function(J){J[J.Automatic=0]="Automatic",J[J.Trigger=1]="Trigger"})(k=e.TypeNavigationMode||(e.TypeNavigationMode={}));var I;(function(J){J[J.Idle=0]="Idle",J[J.Typing=1]="Typing"})(I||(I={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(J){return J.ctrlKey||J.metaKey||J.altKey?!1:J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30||J.keyCode>=93&&J.keyCode<=102||J.keyCode>=80&&J.keyCode<=90}};class M{constructor(x,q,Y,Q,re){this.o=x,this.p=q,this.q=Y,this.s=Q,this.t=re,this.c=!1,this.d=I.Idle,this.f=k.Automatic,this.g=!1,this.h=-1,this.k=new a.DisposableStore,this.l=new a.DisposableStore,this.updateOptions(x.options)}updateOptions(x){var q,Y;!((q=x.typeNavigationEnabled)!==null&&q!==void 0)||q?this.u():this.v(),this.f=(Y=x.typeNavigationMode)!==null&&Y!==void 0?Y:k.Automatic}u(){if(this.c)return;let x=!1;const q=this.k.add(t.Event.chain(this.k.add(new N.DomEmitter(this.p.domNode,"keydown")).event)).filter(re=>!p(re.target)).filter(()=>this.f===k.Automatic||this.g).map(re=>new E.StandardKeyboardEvent(re)).filter(re=>x||this.s(re)).filter(re=>this.t.mightProducePrintableCharacter(re)).forEach(re=>w.EventHelper.stop(re,!0)).map(re=>re.browserEvent.key).event,Y=t.Event.debounce(q,()=>null,800,void 0,void 0,this.k);t.Event.reduce(t.Event.any(q,Y),(re,oe)=>oe===null?null:(re||"")+oe,void 0,this.k)(this.z,this,this.k),Y(this.w,this,this.k),q(()=>x=!0,void 0,this.k),Y(()=>x=!1,void 0,this.k),this.c=!0,this.g=!1}v(){!this.c||(this.k.clear(),this.c=!1,this.g=!1)}w(){var x;const q=this.o.getFocus();if(q.length>0&&q[0]===this.h){const Y=(x=this.o.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.o.element(q[0]));Y&&(0,y.alert)(Y)}this.h=-1}z(x){if(!x){this.d=I.Idle,this.g=!1;return}const q=this.o.getFocus(),Y=q.length>0?q[0]:0,Q=this.d===I.Idle?1:0;this.d=I.Typing;for(let re=0;re<this.o.length;re++){const oe=(Y+re+Q)%this.o.length,G=this.q.getKeyboardNavigationLabel(this.p.element(oe)),Z=G&&G.toString();if(typeof Z>"u"||(0,n.matchesPrefix)(x,Z)){this.h=Y,this.o.setFocus([oe]),this.o.reveal(oe);return}}}dispose(){this.v(),this.k.dispose(),this.l.dispose()}}class B{constructor(x,q){this.d=x,this.f=q,this.c=new a.DisposableStore,this.c.add(t.Event.chain(this.c.add(new N.DomEmitter(q.domNode,"keydown")).event)).filter(Q=>!p(Q.target)).map(Q=>new E.StandardKeyboardEvent(Q)).filter(Q=>Q.keyCode===2&&!Q.ctrlKey&&!Q.metaKey&&!Q.shiftKey&&!Q.altKey).on(this.g,this,this.c)}g(x){if(x.target!==this.f.domNode)return;const q=this.d.getFocus();if(q.length===0)return;const Y=this.f.domElement(q[0]);if(!Y)return;const Q=Y.querySelector("[tabIndex]");if(!Q||!(Q instanceof HTMLElement)||Q.tabIndex===-1)return;const re=window.getComputedStyle(Q);re.visibility==="hidden"||re.display==="none"||(x.preventDefault(),x.stopPropagation(),Q.focus())}dispose(){this.c.dispose()}}function z(J){return c.isMacintosh?J.browserEvent.metaKey:J.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=z;function P(J){return J.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function A(J){return J instanceof MouseEvent&&J.button===2}const T={isSelectionSingleChangeEvent:z,isSelectionRangeChangeEvent:P};class O{constructor(x){this.k=x,this.f=new a.DisposableStore,this.g=new t.Emitter,this.onPointer=this.g.event,x.options.multipleSelectionSupport!==!1&&(this.c=this.k.options.multipleSelectionController||T),this.d=typeof x.options.mouseSupport>"u"||!!x.options.mouseSupport,this.d&&(x.onMouseDown(this.s,this,this.f),x.onContextMenu(this.t,this,this.f),x.onMouseDblClick(this.v,this,this.f),x.onTouchStart(this.s,this,this.f),this.f.add(D.Gesture.addTarget(x.getHTMLElement()))),t.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.u,this,this.f)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.c=void 0,x.multipleSelectionSupport&&(this.c=this.k.options.multipleSelectionController||T))}o(x){return this.c?this.c.isSelectionSingleChangeEvent(x):!1}p(x){return this.c?this.c.isSelectionRangeChangeEvent(x):!1}q(x){return this.o(x)||this.p(x)}s(x){m(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.k.domFocus()}t(x){if(p(x.browserEvent.target)||m(x.browserEvent.target))return;const q=typeof x.index>"u"?[]:[x.index];this.k.setFocus(q,x.browserEvent)}u(x){if(!this.d||p(x.browserEvent.target)||m(x.browserEvent.target))return;const q=x.index;if(typeof q>"u"){this.k.setFocus([],x.browserEvent),this.k.setSelection([],x.browserEvent),this.k.setAnchor(void 0);return}if(this.p(x))return this.w(x);if(this.q(x))return this.w(x);this.k.setFocus([q],x.browserEvent),this.k.setAnchor(q),A(x.browserEvent)||this.k.setSelection([q],x.browserEvent),this.g.fire(x)}v(x){if(p(x.browserEvent.target)||m(x.browserEvent.target)||this.q(x))return;const q=this.k.getFocus();this.k.setSelection(q,x.browserEvent)}w(x){const q=x.index;let Y=this.k.getAnchor();if(this.p(x)){if(typeof Y>"u"){const j=this.k.getFocus()[0];Y=j??q,this.k.setAnchor(Y)}const Q=Math.min(Y,q),re=Math.max(Y,q),oe=(0,C.range)(Q,re+1),G=this.k.getSelection(),Z=V(R(G,[Y]),Y);if(Z.length===0)return;const U=R(oe,$(G,Z));this.k.setSelection(U,x.browserEvent),this.k.setFocus([q],x.browserEvent)}else if(this.o(x)){const Q=this.k.getSelection(),re=Q.filter(oe=>oe!==q);this.k.setFocus([q]),this.k.setAnchor(q),Q.length===re.length?this.k.setSelection([...re,q],x.browserEvent):this.k.setSelection(re,x.browserEvent)}}dispose(){this.f.dispose()}}e.MouseController=O;class F{constructor(x,q){this.c=x,this.d=q}style(x){var q,Y;const Q=this.d&&`.${this.d}`,re=[];x.listBackground&&re.push(`.monaco-list${Q} .monaco-list-rows { background: ${x.listBackground}; }`),x.listFocusBackground&&(re.push(`.monaco-list${Q}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),re.push(`.monaco-list${Q}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&re.push(`.monaco-list${Q}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(re.push(`.monaco-list${Q}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),re.push(`.monaco-list${Q}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&re.push(`.monaco-list${Q}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&re.push(`.monaco-list${Q}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&re.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&re.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(re.push(`.monaco-list${Q} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),re.push(`.monaco-list${Q} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&re.push(`.monaco-list${Q} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(re.push(`.monaco-list${Q} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),re.push(`.monaco-list${Q} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(re.push(`.monaco-list${Q} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),re.push(`.monaco-list${Q} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&re.push(`.monaco-list${Q} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&re.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&re.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`);const oe=(0,w.asCssValueWithDefault)(x.listFocusAndSelectionOutline,(0,w.asCssValueWithDefault)(x.listSelectionOutline,(q=x.listFocusOutline)!==null&&q!==void 0?q:""));oe&&re.push(`.monaco-list${Q}:focus .monaco-list-row.focused.selected { outline: 1px solid ${oe}; outline-offset: -1px;}`),x.listFocusOutline&&re.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`);const G=(0,w.asCssValueWithDefault)(x.listSelectionOutline,(Y=x.listInactiveFocusOutline)!==null&&Y!==void 0?Y:"");G&&re.push(`.monaco-list${Q} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`),x.listSelectionOutline&&re.push(`.monaco-list${Q} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listInactiveFocusOutline&&re.push(`.monaco-list${Q} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&re.push(`.monaco-list${Q} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&re.push(`
				.monaco-list${Q}.drop-target,
				.monaco-list${Q} .monaco-list-rows.drop-target,
				.monaco-list${Q} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.tableColumnsBorder&&re.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),x.tableOddRowsBackgroundColor&&re.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.c.textContent=re.join(`
`)}}e.DefaultStyleController=F,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:g.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function V(J,x){const q=J.indexOf(x);if(q===-1)return[];const Y=[];let Q=q-1;for(;Q>=0&&J[Q]===x-(q-Q);)Y.push(J[Q--]);for(Y.reverse(),Q=q;Q<J.length&&J[Q]===x+(Q-q);)Y.push(J[Q++]);return Y}function R(J,x){const q=[];let Y=0,Q=0;for(;Y<J.length||Q<x.length;)if(Y>=J.length)q.push(x[Q++]);else if(Q>=x.length)q.push(J[Y++]);else if(J[Y]===x[Q]){q.push(J[Y]),Y++,Q++;continue}else J[Y]<x[Q]?q.push(J[Y++]):q.push(x[Q++]);return q}function $(J,x){const q=[];let Y=0,Q=0;for(;Y<J.length||Q<x.length;)if(Y>=J.length)q.push(x[Q++]);else if(Q>=x.length)q.push(J[Y++]);else if(J[Y]===x[Q]){Y++,Q++;continue}else J[Y]<x[Q]?q.push(J[Y++]):Q++;return q}const X=(J,x)=>J-x;class ne{constructor(x,q){this.c=x,this.d=q}get templateId(){return this.c}renderTemplate(x){return this.d.map(q=>q.renderTemplate(x))}renderElement(x,q,Y,Q){let re=0;for(const oe of this.d)oe.renderElement(x,q,Y[re++],Q)}disposeElement(x,q,Y,Q){var re;let oe=0;for(const G of this.d)(re=G.disposeElement)===null||re===void 0||re.call(G,x,q,Y[oe],Q),oe+=1}disposeTemplate(x){let q=0;for(const Y of this.d)Y.disposeTemplate(x[q++])}}class ae{constructor(x){this.c=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,q,Y){const Q=this.c.getAriaLabel(x);Q?Y.setAttribute("aria-label",Q):Y.removeAttribute("aria-label");const re=this.c.getAriaLevel&&this.c.getAriaLevel(x);typeof re=="number"?Y.setAttribute("aria-level",`${re}`):Y.removeAttribute("aria-level")}disposeTemplate(x){}}class ie{constructor(x,q){this.c=x,this.d=q}getDragElements(x){const q=this.c.getSelectedElements();return q.indexOf(x)>-1?q:[x]}getDragURI(x){return this.d.getDragURI(x)}getDragLabel(x,q){if(this.d.getDragLabel)return this.d.getDragLabel(x,q)}onDragStart(x,q){var Y,Q;(Q=(Y=this.d).onDragStart)===null||Q===void 0||Q.call(Y,x,q)}onDragOver(x,q,Y,Q){return this.d.onDragOver(x,q,Y,Q)}onDragLeave(x,q,Y,Q){var re,oe;(oe=(re=this.d).onDragLeave)===null||oe===void 0||oe.call(re,x,q,Y,Q)}onDragEnd(x){var q,Y;(Y=(q=this.d).onDragEnd)===null||Y===void 0||Y.call(q,x)}drop(x,q,Y,Q){this.d.drop(x,q,Y,Q)}}class le{get onDidChangeFocus(){return t.Event.map(this.g.wrapEvent(this.c.onChange),x=>this.G(x),this.w)}get onDidChangeSelection(){return t.Event.map(this.g.wrapEvent(this.d.onChange),x=>this.G(x),this.w)}get domId(){return this.k.domId}get onMouseClick(){return this.k.onMouseClick}get onMouseDblClick(){return this.k.onMouseDblClick}get onMouseMiddleClick(){return this.k.onMouseMiddleClick}get onPointer(){return this.u.onPointer}get onMouseDown(){return this.k.onMouseDown}get onMouseOver(){return this.k.onMouseOver}get onTouchStart(){return this.k.onTouchStart}get onTap(){return this.k.onTap}get onContextMenu(){let x=!1;const q=this.w.add(t.Event.chain(this.w.add(new N.DomEmitter(this.k.domNode,"keydown")).event)).map(re=>new E.StandardKeyboardEvent(re)).filter(re=>x=re.keyCode===58||re.shiftKey&&re.keyCode===68).map(re=>w.EventHelper.stop(re,!0)).filter(()=>!1).event,Y=this.w.add(t.Event.chain(this.w.add(new N.DomEmitter(this.k.domNode,"keyup")).event)).forEach(()=>x=!1).map(re=>new E.StandardKeyboardEvent(re)).filter(re=>re.keyCode===58||re.shiftKey&&re.keyCode===68).map(re=>w.EventHelper.stop(re,!0)).map(({browserEvent:re})=>{const oe=this.getFocus(),G=oe.length?oe[0]:void 0,Z=typeof G<"u"?this.k.element(G):void 0,U=typeof G<"u"?this.k.domElement(G):this.k.domNode;return{index:G,element:Z,anchor:U,browserEvent:re}}).event,Q=this.w.add(t.Event.chain(this.k.onContextMenu)).filter(re=>!x).map(({element:re,index:oe,browserEvent:G})=>({element:re,index:oe,anchor:{x:G.pageX+1,y:G.pageY},browserEvent:G})).event;return t.Event.any(q,Y,Q)}get onKeyDown(){return this.w.add(new N.DomEmitter(this.k.domNode,"keydown")).event}get onDidFocus(){return t.Event.signal(this.w.add(new N.DomEmitter(this.k.domNode,"focus",!0)).event)}constructor(x,q,Y,Q,re=W){var oe,G,Z,U;this.A=x,this.B=re,this.c=new h("focused"),this.f=new h("anchor"),this.g=new t.EventBufferer,this.v="",this.w=new a.DisposableStore,this.z=new t.Emitter,this.onDidDispose=this.z.event;const j=this.B.accessibilityProvider&&this.B.accessibilityProvider.getWidgetRole?(oe=this.B.accessibilityProvider)===null||oe===void 0?void 0:oe.getWidgetRole():"list";this.d=new f(j!=="listbox");const H=[this.c.renderer,this.d.renderer];this.s=re.accessibilityProvider,this.s&&(H.push(new ae(this.s)),(Z=(G=this.s).onDidChangeActiveDescendant)===null||Z===void 0||Z.call(G,this.I,this,this.w)),Q=Q.map(ce=>new ne(ce.templateId,[...H,ce]));const _=Object.assign(Object.assign({},re),{dnd:re.dnd&&new ie(this,re.dnd)});if(this.k=this.C(q,Y,Q,_),this.k.domNode.setAttribute("role",j),re.styleController)this.p=re.styleController(this.k.domId);else{const ce=(0,w.createStyleSheet)(this.k.domNode);this.p=new F(ce,this.k.domId)}if(this.o=new v.CombinedSpliceable([new S(this.c,this.k,re.identityProvider),new S(this.d,this.k,re.identityProvider),new S(this.f,this.k,re.identityProvider),this.k]),this.w.add(this.c),this.w.add(this.d),this.w.add(this.f),this.w.add(this.k),this.w.add(this.z),this.w.add(new B(this,this.k)),(typeof re.keyboardSupport!="boolean"||re.keyboardSupport)&&(this.t=new L(this,this.k,re),this.w.add(this.t)),re.keyboardNavigationLabelProvider){const ce=re.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.q=new M(this,this.k,re.keyboardNavigationLabelProvider,(U=re.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,ce),this.w.add(this.q)}this.u=this.D(re),this.w.add(this.u),this.onDidChangeFocus(this.H,this,this.w),this.onDidChangeSelection(this.J,this,this.w),this.s&&(this.ariaLabel=this.s.getWidgetAriaLabel()),this.B.multipleSelectionSupport!==!1&&this.k.domNode.setAttribute("aria-multiselectable","true")}C(x,q,Y,Q){return new l.ListView(x,q,Y,Q)}D(x){return new O(this)}updateOptions(x={}){var q,Y;this.B=Object.assign(Object.assign({},this.B),x),(q=this.q)===null||q===void 0||q.updateOptions(this.B),this.B.multipleSelectionController!==void 0&&(this.B.multipleSelectionSupport?this.k.domNode.setAttribute("aria-multiselectable","true"):this.k.domNode.removeAttribute("aria-multiselectable")),this.u.updateOptions(x),(Y=this.t)===null||Y===void 0||Y.updateOptions(x),this.k.updateOptions(x)}get options(){return this.B}splice(x,q,Y=[]){if(x<0||x>this.k.length)throw new s.ListError(this.A,`Invalid start index: ${x}`);if(q<0)throw new s.ListError(this.A,`Invalid delete count: ${q}`);q===0&&Y.length===0||this.g.bufferEvents(()=>this.o.splice(x,q,Y))}rerender(){this.k.rerender()}element(x){return this.k.element(x)}get length(){return this.k.length}get contentHeight(){return this.k.contentHeight}get scrollTop(){return this.k.getScrollTop()}set scrollTop(x){this.k.setScrollTop(x)}get scrollHeight(){return this.k.scrollHeight}get firstVisibleIndex(){return this.k.firstVisibleIndex}get ariaLabel(){return this.v}set ariaLabel(x){this.v=x,this.k.domNode.setAttribute("aria-label",x)}domFocus(){this.k.domNode.focus({preventScroll:!0})}layout(x,q){this.k.layout(x,q)}setSelection(x,q){for(const Y of x)if(Y<0||Y>=this.length)throw new s.ListError(this.A,`Invalid index ${Y}`);this.d.set(x,q)}getSelection(){return this.d.get()}getSelectedElements(){return this.getSelection().map(x=>this.k.element(x))}setAnchor(x){if(typeof x>"u"){this.f.set([]);return}if(x<0||x>=this.length)throw new s.ListError(this.A,`Invalid index ${x}`);this.f.set([x])}getAnchor(){return(0,C.firstOrDefault)(this.f.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x>"u"?void 0:this.element(x)}setFocus(x,q){for(const Y of x)if(Y<0||Y>=this.length)throw new s.ListError(this.A,`Invalid index ${Y}`);this.c.set(x,q)}focusNext(x=1,q=!1,Y,Q){if(this.length===0)return;const re=this.c.get(),oe=this.E(re.length>0?re[0]+x:0,q,Q);oe>-1&&this.setFocus([oe],Y)}focusPrevious(x=1,q=!1,Y,Q){if(this.length===0)return;const re=this.c.get(),oe=this.F(re.length>0?re[0]-x:0,q,Q);oe>-1&&this.setFocus([oe],Y)}focusNextPage(x,q){return Le(this,void 0,void 0,function*(){let Y=this.k.indexAt(this.k.getScrollTop()+this.k.renderHeight);Y=Y===0?0:Y-1;const Q=this.getFocus()[0];if(Q!==Y&&(Q===void 0||Y>Q)){const re=this.F(Y,!1,q);re>-1&&Q!==re?this.setFocus([re],x):this.setFocus([Y],x)}else{const re=this.k.getScrollTop();let oe=re+this.k.renderHeight;Y>Q&&(oe-=this.k.elementHeight(Y)),this.k.setScrollTop(oe),this.k.getScrollTop()!==re&&(this.setFocus([]),yield(0,d.timeout)(0),yield this.focusNextPage(x,q))}})}focusPreviousPage(x,q){return Le(this,void 0,void 0,function*(){let Y;const Q=this.k.getScrollTop();Q===0?Y=this.k.indexAt(Q):Y=this.k.indexAfter(Q-1);const re=this.getFocus()[0];if(re!==Y&&(re===void 0||re>=Y)){const oe=this.E(Y,!1,q);oe>-1&&re!==oe?this.setFocus([oe],x):this.setFocus([Y],x)}else{const oe=Q;this.k.setScrollTop(Q-this.k.renderHeight),this.k.getScrollTop()!==oe&&(this.setFocus([]),yield(0,d.timeout)(0),yield this.focusPreviousPage(x,q))}})}focusLast(x,q){if(this.length===0)return;const Y=this.F(this.length-1,!1,q);Y>-1&&this.setFocus([Y],x)}focusFirst(x,q){this.focusNth(0,x,q)}focusNth(x,q,Y){if(this.length===0)return;const Q=this.E(x,!1,Y);Q>-1&&this.setFocus([Q],q)}E(x,q=!1,Y){for(let Q=0;Q<this.length;Q++){if(x>=this.length&&!q)return-1;if(x=x%this.length,!Y||Y(this.element(x)))return x;x++}return-1}F(x,q=!1,Y){for(let Q=0;Q<this.length;Q++){if(x<0&&!q)return-1;if(x=(this.length+x%this.length)%this.length,!Y||Y(this.element(x)))return x;x--}return-1}getFocus(){return this.c.get()}getFocusedElements(){return this.getFocus().map(x=>this.k.element(x))}reveal(x,q){if(x<0||x>=this.length)throw new s.ListError(this.A,`Invalid index ${x}`);const Y=this.k.getScrollTop(),Q=this.k.elementTop(x),re=this.k.elementHeight(x);if((0,u.isNumber)(q)){const oe=re-this.k.renderHeight;this.k.setScrollTop(oe*(0,r.clamp)(q,0,1)+Q)}else{const oe=Q+re,G=Y+this.k.renderHeight;Q<Y&&oe>=G||(Q<Y||oe>=G&&re>=this.k.renderHeight?this.k.setScrollTop(Q):oe>=G&&this.k.setScrollTop(oe-this.k.renderHeight))}}getHTMLElement(){return this.k.domNode}getElementID(x){return this.k.getElementDomId(x)}style(x){this.p.style(x)}G({indexes:x,browserEvent:q}){return{indexes:x,elements:x.map(Y=>this.k.element(Y)),browserEvent:q}}H(){const x=this.c.get();this.k.domNode.classList.toggle("element-focused",x.length>0),this.I()}I(){var x;const q=this.c.get();if(q.length>0){let Y;!((x=this.s)===null||x===void 0)&&x.getActiveDescendantId&&(Y=this.s.getActiveDescendantId(this.k.element(q[0]))),this.k.domNode.setAttribute("aria-activedescendant",Y||this.k.getElementDomId(q[0]))}else this.k.domNode.removeAttribute("aria-activedescendant")}J(){const x=this.d.get();this.k.domNode.classList.toggle("selection-none",x.length===0),this.k.domNode.classList.toggle("selection-single",x.length===1),this.k.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this.z.fire(),this.w.dispose(),this.z.dispose()}}De([i.memoize],le.prototype,"onDidChangeFocus",null),De([i.memoize],le.prototype,"onDidChangeSelection",null),De([i.memoize],le.prototype,"onContextMenu",null),De([i.memoize],le.prototype,"onKeyDown",null),De([i.memoize],le.prototype,"onDidFocus",null),e.List=le}),define(ee[528],te([1,0,17,20,6,2,105,242]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class v{get templateId(){return this.a.templateId}constructor(t,n){this.a=t,this.b=n}renderTemplate(t){return{data:this.a.renderTemplate(t),disposable:D.Disposable.None}}renderElement(t,n,a,r){var c;if((c=a.disposable)===null||c===void 0||c.dispose(),!a.data)return;const u=this.b();if(u.isResolved(t))return this.a.renderElement(u.get(t),t,a.data,r);const s=new N.CancellationTokenSource,l=u.resolve(t,s.token);a.disposable={dispose:()=>s.cancel()},this.a.renderPlaceholder(t,a.data),l.then(o=>this.a.renderElement(o,t,a.data,r))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.a.disposeTemplate(t.data),t.data=void 0)}}class C{constructor(t,n){this.a=t,this.b=n}getWidgetAriaLabel(){return this.b.getWidgetAriaLabel()}getAriaLabel(t){const n=this.a();return n.isResolved(t)?this.b.getAriaLabel(n.get(t)):null}}function d(i,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new C(i,t.accessibilityProvider)})}class g{constructor(t,n,a,r,c={}){const u=()=>this.model,s=r.map(l=>new v(l,u));this.a=new y.List(t,n,a,s,d(u,c))}updateOptions(t){this.a.updateOptions(t)}getHTMLElement(){return this.a.getHTMLElement()}get onDidFocus(){return this.a.onDidFocus}get onDidDispose(){return this.a.onDidDispose}get onMouseDblClick(){return E.Event.map(this.a.onMouseDblClick,({element:t,index:n,browserEvent:a})=>({element:t===void 0?void 0:this.b.get(t),index:n,browserEvent:a}))}get onPointer(){return E.Event.map(this.a.onPointer,({element:t,index:n,browserEvent:a})=>({element:t===void 0?void 0:this.b.get(t),index:n,browserEvent:a}))}get onDidChangeSelection(){return E.Event.map(this.a.onDidChangeSelection,({elements:t,indexes:n,browserEvent:a})=>({elements:t.map(r=>this.b.get(r)),indexes:n,browserEvent:a}))}get model(){return this.b}set model(t){this.b=t,this.a.splice(0,this.a.length,(0,w.range)(t.length))}getFocus(){return this.a.getFocus()}getSelection(){return this.a.getSelection()}getSelectedElements(){return this.getSelection().map(t=>this.model.get(t))}style(t){this.a.style(t)}dispose(){this.a.dispose()}}e.PagedList=g}),define(ee[275],te([1,0,7,81,138,74,17,36,6,2,128,167,18,365]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:v.Color.transparent};class a{set size(h){this.a=h}get size(){return this.a}get visible(){return typeof this.b>"u"}setVisible(h,f){var S,p;h!==this.visible&&(h?(this.size=(0,g.clamp)(this.b,this.viewMinimumSize,this.viewMaximumSize),this.b=void 0):(this.b=typeof f=="number"?f:this.size,this.size=0),this.c.classList.toggle("visible",h),(p=(S=this.d).setVisible)===null||p===void 0||p.call(S,h))}get minimumSize(){return this.visible?this.d.minimumSize:0}get viewMinimumSize(){return this.d.minimumSize}get maximumSize(){return this.visible?this.d.maximumSize:0}get viewMaximumSize(){return this.d.maximumSize}get priority(){return this.d.priority}get proportionalLayout(){var h;return(h=this.d.proportionalLayout)!==null&&h!==void 0?h:!0}get snap(){return!!this.d.snap}set enabled(h){this.c.style.pointerEvents=h?"":"none"}constructor(h,f,S,p){this.c=h,this.d=f,this.f=p,this.b=void 0,typeof S=="number"?(this.a=S,this.b=void 0,h.classList.add("visible")):(this.a=0,this.b=S.cachedVisibleSize)}layout(h,f){this.layoutContainer(h),this.d.layout(this.size,h,f)}dispose(){return this.f.dispose(),this.d}}class r extends a{layoutContainer(h){this.c.style.top=`${h}px`,this.c.style.height=`${this.size}px`}}class c extends a{layoutContainer(h){this.c.style.left=`${h}px`,this.c.style.width=`${this.size}px`}}var u;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(u||(u={}));var s;(function(o){o.Distribute={type:"distribute"};function h(S){return{type:"split",index:S}}o.Split=h;function f(S){return{type:"invisible",cachedVisibleSize:S}}o.Invisible=f})(s=e.Sizing||(e.Sizing={}));class l extends d.Disposable{get orthogonalStartSash(){return this.z}get orthogonalEndSash(){return this.B}get startSnappingEnabled(){return this.C}get endSnappingEnabled(){return this.D}set orthogonalStartSash(h){for(const f of this.sashItems)f.sash.orthogonalStartSash=h;this.z=h}set orthogonalEndSash(h){for(const f of this.sashItems)f.sash.orthogonalEndSash=h;this.B=h}set startSnappingEnabled(h){this.C!==h&&(this.C=h,this.R())}set endSnappingEnabled(h){this.D!==h&&(this.D=h,this.R())}constructor(h,f={}){var S,p,m,b,L;super(),this.h=0,this.k=0,this.l=void 0,this.m=[],this.sashItems=[],this.p=u.Idle,this.w=this.q(new C.Emitter),this.y=this.q(new C.Emitter),this.C=!0,this.D=!0,this.onDidSashChange=this.w.event,this.onDidSashReset=this.y.event,this.orientation=(S=f.orientation)!==null&&S!==void 0?S:0,this.t=(p=f.inverseAltBehavior)!==null&&p!==void 0?p:!1,this.u=(m=f.proportionalLayout)!==null&&m!==void 0?m:!0,this.v=f.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.a=(0,w.append)(this.el,(0,w.$)(".sash-container")),this.b=(0,w.$)(".split-view-container"),this.c=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:w.scheduleAtNextAnimationFrame}),this.g=this.q(new D.SmoothScrollableElement(this.b,{vertical:this.orientation===0?(b=f.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(L=f.scrollbarVisibility)!==null&&L!==void 0?L:1:2},this.c));const k=this.q(new N.DomEmitter(this.b,"scroll")).event;this.q(k(I=>{const M=this.g.getScrollPosition(),B=Math.abs(this.b.scrollLeft-M.scrollLeft)<=1?void 0:this.b.scrollLeft,z=Math.abs(this.b.scrollTop-M.scrollTop)<=1?void 0:this.b.scrollTop;(B!==void 0||z!==void 0)&&this.g.setScrollPosition({scrollLeft:B,scrollTop:z})})),this.onDidScroll=this.g.onScroll,this.q(this.onDidScroll(I=>{I.scrollTopChanged&&(this.b.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.b.scrollLeft=I.scrollLeft)})),(0,w.append)(this.el,this.g.getDomNode()),this.style(f.styles||n),f.descriptor&&(this.h=f.descriptor.size,f.descriptor.views.forEach((I,M)=>{const B=t.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},z=I.view;this.L(z,B,M,!0)}),this.k=this.m.reduce((I,M)=>I+M.size,0),this.F())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,f,S=this.m.length,p){this.L(h,f,S,p)}layout(h,f){const S=Math.max(this.h,this.k);if(this.h=h,this.j=f,this.l){let p=0;for(let m=0;m<this.m.length;m++){const b=this.m[m],L=this.l[m];typeof L=="number"?p+=L:h-=b.size}for(let m=0;m<this.m.length;m++){const b=this.m[m],L=this.l[m];typeof L=="number"&&(b.size=(0,g.clamp)(Math.round(L*h/p),b.minimumSize,b.maximumSize))}}else{const p=(0,y.range)(this.m.length),m=p.filter(L=>this.m[L].priority===1),b=p.filter(L=>this.m[L].priority===2);this.N(this.m.length-1,h-S,void 0,m,b)}this.O(),this.P()}F(){this.u&&this.k>0&&(this.l=this.m.map(h=>h.proportionalLayout?h.size/this.k:void 0))}G({sash:h,start:f,alt:S}){for(const L of this.m)L.enabled=!1;const p=this.sashItems.findIndex(L=>L.sash===h),m=(0,d.combinedDisposable)((0,w.addDisposableListener)(document.body,"keydown",L=>b(this.n.current,L.altKey)),(0,w.addDisposableListener)(document.body,"keyup",()=>b(this.n.current,!1))),b=(L,k)=>{const I=this.m.map(A=>A.size);let M=Number.NEGATIVE_INFINITY,B=Number.POSITIVE_INFINITY;if(this.t&&(k=!k),k)if(p===this.sashItems.length-1){const T=this.m[p];M=(T.minimumSize-T.size)/2,B=(T.maximumSize-T.size)/2}else{const T=this.m[p+1];M=(T.size-T.maximumSize)/2,B=(T.size-T.minimumSize)/2}let z,P;if(!k){const A=(0,y.range)(p,-1),T=(0,y.range)(p+1,this.m.length),O=A.reduce((ae,ie)=>ae+(this.m[ie].minimumSize-I[ie]),0),F=A.reduce((ae,ie)=>ae+(this.m[ie].viewMaximumSize-I[ie]),0),W=T.length===0?Number.POSITIVE_INFINITY:T.reduce((ae,ie)=>ae+(I[ie]-this.m[ie].minimumSize),0),V=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((ae,ie)=>ae+(I[ie]-this.m[ie].viewMaximumSize),0),R=Math.max(O,V),$=Math.min(W,F),X=this.U(A),ne=this.U(T);if(typeof X=="number"){const ae=this.m[X],ie=Math.floor(ae.viewMinimumSize/2);z={index:X,limitDelta:ae.visible?R-ie:R+ie,size:ae.size}}if(typeof ne=="number"){const ae=this.m[ne],ie=Math.floor(ae.viewMinimumSize/2);P={index:ne,limitDelta:ae.visible?$+ie:$-ie,size:ae.size}}}this.n={start:L,current:L,index:p,sizes:I,minDelta:M,maxDelta:B,alt:k,snapBefore:z,snapAfter:P,disposable:m}};b(f,S)}H({current:h}){const{index:f,start:S,sizes:p,alt:m,minDelta:b,maxDelta:L,snapBefore:k,snapAfter:I}=this.n;this.n.current=h;const M=h-S,B=this.N(f,M,p,void 0,void 0,b,L,k,I);if(m){const z=f===this.sashItems.length-1,P=this.m.map(V=>V.size),A=z?f:f+1,T=this.m[A],O=T.size-T.maximumSize,F=T.size-T.minimumSize,W=z?f-1:f+1;this.N(W,-B,P,void 0,void 0,O,F)}this.O(),this.P()}I(h){this.w.fire(h),this.n.disposable.dispose(),this.F();for(const f of this.m)f.enabled=!0}J(h,f){const S=this.m.indexOf(h);S<0||S>=this.m.length||(f=typeof f=="number"?f:h.size,f=(0,g.clamp)(f,h.minimumSize,h.maximumSize),this.t&&S>0?(this.N(S-1,Math.floor((h.size-f)/2)),this.O(),this.P()):(h.size=f,this.M([S],void 0)))}resizeView(h,f){if(this.p!==u.Idle)throw new Error("Cant modify splitview");if(this.p=u.Busy,h<0||h>=this.m.length)return;const S=(0,y.range)(this.m.length).filter(L=>L!==h),p=[...S.filter(L=>this.m[L].priority===1),h],m=S.filter(L=>this.m[L].priority===2),b=this.m[h];f=Math.round(f),f=(0,g.clamp)(f,b.minimumSize,Math.min(b.maximumSize,this.h)),b.size=f,this.M(p,m),this.p=u.Idle}distributeViewSizes(){const h=[];let f=0;for(const L of this.m)L.maximumSize-L.minimumSize>0&&(h.push(L),f+=L.size);const S=Math.floor(f/h.length);for(const L of h)L.size=(0,g.clamp)(S,L.minimumSize,L.maximumSize);const p=(0,y.range)(this.m.length),m=p.filter(L=>this.m[L].priority===1),b=p.filter(L=>this.m[L].priority===2);this.M(m,b)}getViewSize(h){return h<0||h>=this.m.length?-1:this.m[h].size}L(h,f,S=this.m.length,p){if(this.p!==u.Idle)throw new Error("Cant modify splitview");this.p=u.Busy;const m=(0,w.$)(".split-view-view");S===this.m.length?this.b.appendChild(m):this.b.insertBefore(m,this.b.children.item(S));const b=h.onDidChange(z=>this.J(M,z)),L=(0,d.toDisposable)(()=>this.b.removeChild(m)),k=(0,d.combinedDisposable)(b,L);let I;typeof f=="number"?I=f:f.type==="split"?I=this.getViewSize(f.index)/2:f.type==="invisible"?I={cachedVisibleSize:f.cachedVisibleSize}:I=h.minimumSize;const M=this.orientation===0?new r(m,h,I,k):new c(m,h,I,k);if(this.m.splice(S,0,M),this.m.length>1){const z={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},P=this.orientation===0?new E.Sash(this.a,{getHorizontalSashTop:ae=>this.S(ae),getHorizontalSashWidth:this.v},Object.assign(Object.assign({},z),{orientation:1})):new E.Sash(this.a,{getVerticalSashLeft:ae=>this.S(ae),getVerticalSashHeight:this.v},Object.assign(Object.assign({},z),{orientation:0})),A=this.orientation===0?ae=>({sash:P,start:ae.startY,current:ae.currentY,alt:ae.altKey}):ae=>({sash:P,start:ae.startX,current:ae.currentX,alt:ae.altKey}),O=C.Event.map(P.onDidStart,A)(this.G,this),W=C.Event.map(P.onDidChange,A)(this.H,this),R=C.Event.map(P.onDidEnd,()=>this.sashItems.findIndex(ae=>ae.sash===P))(this.I,this),$=P.onDidReset(()=>{const ae=this.sashItems.findIndex(q=>q.sash===P),ie=(0,y.range)(ae,-1),le=(0,y.range)(ae+1,this.m.length),J=this.U(ie),x=this.U(le);typeof J=="number"&&!this.m[J].visible||typeof x=="number"&&!this.m[x].visible||this.y.fire(ae)}),X=(0,d.combinedDisposable)(O,W,R,$,P),ne={sash:P,disposable:X};this.sashItems.splice(S-1,0,ne)}m.appendChild(h.element);let B;typeof f!="number"&&f.type==="split"&&(B=[f.index]),p||this.M([S],B),this.p=u.Idle,!p&&typeof f!="number"&&f.type==="distribute"&&this.distributeViewSizes()}M(h,f){const S=this.m.reduce((p,m)=>p+m.size,0);this.N(this.m.length-1,this.h-S,void 0,h,f),this.O(),this.P(),this.F()}N(h,f,S=this.m.map(M=>M.size),p,m,b=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,k,I){if(h<0||h>=this.m.length)return 0;const M=(0,y.range)(h,-1),B=(0,y.range)(h+1,this.m.length);if(m)for(const ne of m)(0,y.pushToStart)(M,ne),(0,y.pushToStart)(B,ne);if(p)for(const ne of p)(0,y.pushToEnd)(M,ne),(0,y.pushToEnd)(B,ne);const z=M.map(ne=>this.m[ne]),P=M.map(ne=>S[ne]),A=B.map(ne=>this.m[ne]),T=B.map(ne=>S[ne]),O=M.reduce((ne,ae)=>ne+(this.m[ae].minimumSize-S[ae]),0),F=M.reduce((ne,ae)=>ne+(this.m[ae].maximumSize-S[ae]),0),W=B.length===0?Number.POSITIVE_INFINITY:B.reduce((ne,ae)=>ne+(S[ae]-this.m[ae].minimumSize),0),V=B.length===0?Number.NEGATIVE_INFINITY:B.reduce((ne,ae)=>ne+(S[ae]-this.m[ae].maximumSize),0),R=Math.max(O,V,b),$=Math.min(W,F,L);let X=!1;if(k){const ne=this.m[k.index],ae=f>=k.limitDelta;X=ae!==ne.visible,ne.setVisible(ae,k.size)}if(!X&&I){const ne=this.m[I.index],ae=f<I.limitDelta;X=ae!==ne.visible,ne.setVisible(ae,I.size)}if(X)return this.N(h,f,S,p,m,b,L);f=(0,g.clamp)(f,R,$);for(let ne=0,ae=f;ne<z.length;ne++){const ie=z[ne],le=(0,g.clamp)(P[ne]+ae,ie.minimumSize,ie.maximumSize);ae-=le-P[ne],ie.size=le}for(let ne=0,ae=f;ne<A.length;ne++){const ie=A[ne],le=(0,g.clamp)(T[ne]-ae,ie.minimumSize,ie.maximumSize);ae+=le-T[ne],ie.size=le}return f}O(h){const f=this.m.reduce((L,k)=>L+k.size,0);let S=this.h-f;const p=(0,y.range)(this.m.length-1,-1),m=p.filter(L=>this.m[L].priority===1),b=p.filter(L=>this.m[L].priority===2);for(const L of b)(0,y.pushToStart)(p,L);for(const L of m)(0,y.pushToEnd)(p,L);typeof h=="number"&&(0,y.pushToEnd)(p,h);for(let L=0;S!==0&&L<p.length;L++){const k=this.m[p[L]],I=(0,g.clamp)(k.size+S,k.minimumSize,k.maximumSize);S-=I-k.size,k.size=I}}P(){this.k=this.m.reduce((f,S)=>f+S.size,0);let h=0;for(const f of this.m)f.layout(h,this.j),h+=f.size;this.sashItems.forEach(f=>f.sash.layout()),this.R(),this.Q()}Q(){this.orientation===0?this.g.setScrollDimensions({height:this.h,scrollHeight:this.k}):this.g.setScrollDimensions({width:this.h,scrollWidth:this.k})}R(){let h=!1;const f=this.m.map(k=>h=k.size-k.minimumSize>0||h);h=!1;const S=this.m.map(k=>h=k.maximumSize-k.size>0||h),p=[...this.m].reverse();h=!1;const m=p.map(k=>h=k.size-k.minimumSize>0||h).reverse();h=!1;const b=p.map(k=>h=k.maximumSize-k.size>0||h).reverse();let L=0;for(let k=0;k<this.sashItems.length;k++){const{sash:I}=this.sashItems[k];L+=this.m[k].size;const B=!(f[k]&&b[k+1]),z=!(S[k]&&m[k+1]);if(B&&z){const P=(0,y.range)(k,-1),A=(0,y.range)(k+1,this.m.length),T=this.U(P),O=this.U(A),F=typeof T=="number"&&!this.m[T].visible,W=typeof O=="number"&&!this.m[O].visible;F&&m[k]&&(L>0||this.startSnappingEnabled)?I.state=1:W&&f[k]&&(L<this.k||this.endSnappingEnabled)?I.state=2:I.state=0}else B&&!z?I.state=1:!B&&z?I.state=2:I.state=3}}S(h){let f=0;for(let S=0;S<this.sashItems.length;S++)if(f+=this.m[S].size,this.sashItems[S].sash===h)return f;return 0}U(h){for(const f of h){const S=this.m[f];if(!!S.visible&&S.snap)return f}for(const f of h){const S=this.m[f];if(S.visible&&S.maximumSize-S.minimumSize>0)return;if(!S.visible&&S.snap)return f}}dispose(){super.dispose(),(0,d.dispose)(this.m),this.m=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=l}),define(ee[529],te([1,0,7,105,275,6,2,366]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class v{constructor(t,n,a){this.f=t,this.g=a,this.templateId=v.TemplateId,this.e=new Set;const r=new Map(n.map(c=>[c.templateId,c]));this.d=[];for(const c of t){const u=r.get(c.templateId);if(!u)throw new Error(`Table cell renderer for template id ${c.templateId} not found.`);this.d.push(u)}}renderTemplate(t){const n=(0,w.append)(t,(0,w.$)(".monaco-table-tr")),a=[],r=[];for(let u=0;u<this.f.length;u++){const s=this.d[u],l=(0,w.append)(n,(0,w.$)(".monaco-table-td",{"data-col-index":u}));l.style.width=`${this.g(u)}px`,a.push(l),r.push(s.renderTemplate(l))}const c={container:t,cellContainers:a,cellTemplateData:r};return this.e.add(c),c}renderElement(t,n,a,r){for(let c=0;c<this.f.length;c++){const s=this.f[c].project(t);this.d[c].renderElement(s,n,a.cellTemplateData[c],r)}}disposeElement(t,n,a,r){for(let c=0;c<this.f.length;c++){const u=this.d[c];if(u.disposeElement){const l=this.f[c].project(t);u.disposeElement(l,n,a.cellTemplateData[c],r)}}}disposeTemplate(t){for(let n=0;n<this.f.length;n++)this.d[n].disposeTemplate(t.cellTemplateData[n]);(0,w.clearNode)(t.container),this.e.delete(t)}layoutColumn(t,n){for(const{cellContainers:a}of this.e)a[t].style.width=`${n}px`}}v.TemplateId="row";function C(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return v.TemplateId}}}class d{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:D.Event.None}constructor(t,n){this.column=t,this.e=n,this.d=new D.Emitter,this.onDidLayout=this.d.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":n,title:t.tooltip},t.label)}layout(t){this.d.fire([this.e,t])}}class g{get onDidChangeFocus(){return this.g.onDidChangeFocus}get onDidChangeSelection(){return this.g.onDidChangeSelection}get onMouseDblClick(){return this.g.onMouseDblClick}get onPointer(){return this.g.onPointer}get onDidFocus(){return this.g.onDidFocus}get onDidDispose(){return this.g.onDidDispose}constructor(t,n,a,r,c,u){this.o=a,this.domId=`table_id_${++g.d}`,this.k=new y.DisposableStore,this.m=0,this.n=0,this.domNode=(0,w.append)(n,(0,w.$)(`.monaco-table.${this.domId}`));const s=r.map((h,f)=>new d(h,f)),l={size:s.reduce((h,f)=>h+f.column.weight,0),views:s.map(h=>({size:h.column.weight,view:h}))};this.f=this.k.add(new E.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.n,descriptor:l})),this.f.el.style.height=`${a.headerRowHeight}px`,this.f.el.style.lineHeight=`${a.headerRowHeight}px`;const o=new v(r,c,h=>this.f.getViewSize(h));this.g=this.k.add(new N.List(t,this.domNode,C(a),[o],u)),D.Event.any(...s.map(h=>h.onDidLayout))(([h,f])=>o.layoutColumn(h,f),null,this.k),this.f.onDidSashReset(h=>{const f=r.reduce((p,m)=>p+m.weight,0),S=r[h].weight/f*this.m;this.f.resizeView(h,S)},null,this.k),this.j=(0,w.createStyleSheet)(this.domNode),this.style(N.unthemedListStyles)}updateOptions(t){this.g.updateOptions(t)}splice(t,n,a=[]){this.g.splice(t,n,a)}getHTMLElement(){return this.domNode}style(t){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.o.headerRowHeight+1}px;
			height: calc(100% - ${this.o.headerRowHeight}px);
		}`),this.j.textContent=n.join(`
`),this.g.style(t)}getSelectedElements(){return this.g.getSelectedElements()}getSelection(){return this.g.getSelection()}getFocus(){return this.g.getFocus()}dispose(){this.k.dispose()}}g.d=0,e.Table=g}),define(ee[139],te([1,0,67,31,6,367]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends w.Widget{constructor(v){super(),this.a=this.q(new E.Emitter),this.onChange=this.a.event,this.b=this.q(new E.Emitter),this.onKeyDown=this.b.event,this.g=v,this.t=this.g.isChecked;const C=["monaco-custom-toggle"];this.g.icon&&(this.s=this.g.icon,C.push(...N.ThemeIcon.asClassNameArray(this.s))),this.g.actionClassName&&C.push(...this.g.actionClassName.split(" ")),this.t&&C.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this.g.title,this.domNode.classList.add(...C),this.g.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this.t)),this.domNode.setAttribute("aria-label",this.g.title),this.v(),this.c(this.domNode,d=>{this.enabled&&(this.checked=!this.t,this.a.fire(!1),d.preventDefault())}),this.q(this.B(this.domNode)),this.n(this.domNode,d=>{if(d.keyCode===10||d.keyCode===3){this.checked=!this.t,this.a.fire(!0),d.preventDefault(),d.stopPropagation();return}this.b.fire(d)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this.t}set checked(v){this.t=v,this.domNode.setAttribute("aria-checked",String(this.t)),this.domNode.classList.toggle("checked",this.t),this.v()}width(){return 2+2+2+16}v(){this.domNode&&(this.domNode.style.borderColor=this.t&&this.g.inputActiveOptionBorder||"",this.domNode.style.color=this.t&&this.g.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this.t&&this.g.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(ee[276],te([1,0,139,27,502]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=E.localize(0,null),y=E.localize(1,null),v=E.localize(2,null);class C extends w.Toggle{constructor(t){super({icon:N.Codicon.caseSensitive,title:D+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.CaseSensitiveToggle=C;class d extends w.Toggle{constructor(t){super({icon:N.Codicon.wholeWord,title:y+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.WholeWordsToggle=d;class g extends w.Toggle{constructor(t){super({icon:N.Codicon.regex,title:v+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.RegexToggle=g}),define(ee[43],te([1,0,198,47,88,16,9,21]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(i){return(0,v.uriToFsPath)(i,!0)}e.originalFSPath=C;class d{constructor(t){this.a=t}compare(t,n,a=!1){return t===n?0:(0,y.compare)(this.getComparisonKey(t,a),this.getComparisonKey(n,a))}isEqual(t,n,a=!1){return t===n?!0:!t||!n?!1:this.getComparisonKey(t,a)===this.getComparisonKey(n,a)}getComparisonKey(t,n=!1){return t.with({path:this.a(t)?t.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(t,n,a=!1){if(t.scheme===n.scheme){if(t.scheme===N.Schemas.file)return w.isEqualOrParent(C(t),C(n),this.a(t))&&t.query===n.query&&(a||t.fragment===n.fragment);if((0,e.isEqualAuthority)(t.authority,n.authority))return w.isEqualOrParent(t.path,n.path,this.a(t),"/")&&t.query===n.query&&(a||t.fragment===n.fragment)}return!1}joinPath(t,...n){return v.URI.joinPath(t,...n)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return E.posix.basename(t.path)}extname(t){return E.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let n;return t.scheme===N.Schemas.file?n=v.URI.file(E.dirname(C(t))).path:(n=E.posix.dirname(t.path),t.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),n="/")),t.with({path:n})}normalizePath(t){if(!t.path.length)return t;let n;return t.scheme===N.Schemas.file?n=v.URI.file(E.normalize(C(t))).path:n=E.posix.normalize(t.path),t.with({path:n})}relativePath(t,n){if(t.scheme!==n.scheme||!(0,e.isEqualAuthority)(t.authority,n.authority))return;if(t.scheme===N.Schemas.file){const c=E.relative(C(t),C(n));return D.isWindows?w.toSlashes(c):c}let a=t.path||"/";const r=n.path||"/";if(this.a(t)){let c=0;for(const u=Math.min(a.length,r.length);c<u&&!(a.charCodeAt(c)!==r.charCodeAt(c)&&a.charAt(c).toLowerCase()!==r.charAt(c).toLowerCase());c++);a=r.substr(0,c)+a.substr(c)}return E.posix.relative(a,r)}resolvePath(t,n){if(t.scheme===N.Schemas.file){const a=v.URI.file(E.resolve(C(t),n));return t.with({authority:a.authority,path:a.path})}return n=w.toPosixPath(n),t.with({path:E.posix.resolve(t.path,n)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,n){return t===n||t!==void 0&&n!==void 0&&(0,y.equalsIgnoreCase)(t,n)}hasTrailingPathSeparator(t,n=E.sep){if(t.scheme===N.Schemas.file){const a=C(t);return a.length>w.getRoot(a).length&&a[a.length-1]===n}else{const a=t.path;return a.length>1&&a.charCodeAt(a.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,n=E.sep){return(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,n=E.sep){let a=!1;if(t.scheme===N.Schemas.file){const r=C(t);a=r!==void 0&&r.length===w.getRoot(r).length&&r[r.length-1]===n}else{n="/";const r=t.path;a=r.length===1&&r.charCodeAt(r.length-1)===47}return!a&&!(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path+"/"}):t}}e.ExtUri=d,e.extUri=new d(()=>!1),e.extUriBiasedIgnorePathCase=new d(i=>i.scheme===N.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new d(i=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function t(n){const a=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(u=>{const[s,l]=u.split(":");s&&l&&a.set(s,l)});const c=n.path.substring(0,n.path.indexOf(";"));return c&&a.set(i.META_DATA_MIME,c),a}i.parseMetaData=t})(g=e.DataUri||(e.DataUri={}))}),define(ee[277],te([1,0,7,520,81,203,45,66,137,13,6,71,111,150,100,2,344,202,47,46,43,9,21]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=e.renderMarkdown=void 0;const S=Object.freeze({image:(B,z,P)=>{let A=[],T=[];return B&&({href:B,dimensions:A}=(0,i.parseHrefAndDimensions)(B),T.push(`src="${(0,i.escapeDoubleQuotes)(B)}"`)),P&&T.push(`alt="${(0,i.escapeDoubleQuotes)(P)}"`),z&&T.push(`title="${(0,i.escapeDoubleQuotes)(z)}"`),A.length&&(T=T.concat(A)),"<img "+T.join(" ")+">"},paragraph:B=>`<p>${B}</p>`,link:(B,z,P)=>typeof B!="string"?"":(B===P&&(P=(0,i.removeMarkdownEscapes)(P)),z=typeof z=="string"?(0,i.escapeDoubleQuotes)((0,i.removeMarkdownEscapes)(z)):"",B=(0,i.removeMarkdownEscapes)(B),B=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${B}" title="${z||B}">${P}</a>`)});function p(B,z={},P={}){var A;const T=new r.DisposableStore;let O=!1;const F=(0,D.createElement)(z),W=function(le){let J;try{J=(0,u.parse)(decodeURIComponent(le))}catch{}return J?(J=(0,l.cloneAndChange)(J,x=>{if(B.uris&&B.uris[x])return f.URI.revive(B.uris[x])}),encodeURIComponent(JSON.stringify(J))):le},V=function(le,J){const x=B.uris&&B.uris[le];let q=f.URI.revive(x);return J?le.startsWith(s.Schemas.data+":")?le:(q||(q=f.URI.parse(le)),s.FileAccess.uriToBrowserUri(q).toString(!0)):!q||f.URI.parse(le).toString()===q.toString()?le:(q.query&&(q=q.with({query:W(q.query)})),q.toString())},R=new c.marked.Renderer;R.image=S.image,R.link=S.link,R.paragraph=S.paragraph;const $=[];if(z.codeBlockRenderer&&(R.code=(le,J)=>{const x=n.defaultGenerator.nextId(),q=z.codeBlockRenderer(m(J),le);return $.push(q.then(Y=>[x,Y])),`<div class="code" data-code="${x}">${(0,h.escape)(le)}</div>`}),z.actionHandler){const le=function(q){let Y=q.target;if(!(Y.tagName!=="A"&&(Y=Y.parentElement,!Y||Y.tagName!=="A")))try{let Q=Y.dataset.href;Q&&(B.baseUri&&(Q=b(f.URI.from(B.baseUri),Q)),z.actionHandler.callback(Q,q))}catch(Q){(0,d.onUnexpectedError)(Q)}finally{q.preventDefault()}},J=z.actionHandler.disposables.add(new E.DomEmitter(F,"click")),x=z.actionHandler.disposables.add(new E.DomEmitter(F,"auxclick"));z.actionHandler.disposables.add(g.Event.any(J.event,x.event)(q=>{const Y=new v.StandardMouseEvent(q);!Y.leftButton&&!Y.middleButton||le(Y)})),z.actionHandler.disposables.add(w.addDisposableListener(F,"keydown",q=>{const Y=new y.StandardKeyboardEvent(q);!Y.equals(10)&&!Y.equals(3)||le(Y)}))}B.supportHtml||(P.sanitizer=le=>(B.isTrusted?le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?le:"",P.sanitize=!0,P.silent=!0),P.renderer=R;let X=(A=B.value)!==null&&A!==void 0?A:"";X.length>1e5&&(X=`${X.substr(0,1e5)}\u2026`),B.supportThemeIcons&&(X=(0,t.markdownEscapeEscapedIcons)(X));let ne=c.marked.parse(X,P);B.supportThemeIcons&&(ne=(0,C.renderLabelWithIcons)(ne).map(J=>typeof J=="string"?J:J.outerHTML).join(""));const ie=new DOMParser().parseFromString(L(B,ne),"text/html");if(ie.body.querySelectorAll("img").forEach(le=>{const J=le.getAttribute("src");if(J){let x=J;try{B.baseUri&&(x=b(f.URI.from(B.baseUri),x))}catch{}le.src=V(x,!0)}}),ie.body.querySelectorAll("a").forEach(le=>{const J=le.getAttribute("href");if(le.removeAttribute("href"),!J||/^data:|javascript:/i.test(J)||/^command:/i.test(J)&&!B.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(J))le.replaceWith(...le.childNodes);else{let x=V(J,!1);B.baseUri&&(x=b(f.URI.from(B.baseUri),J)),le.dataset.href=x}}),F.innerHTML=L(B,ie.body.innerHTML),$.length>0&&Promise.all($).then(le=>{var J,x;if(O)return;const q=new Map(le),Y=F.querySelectorAll("div[data-code]");for(const Q of Y){const re=q.get((J=Q.dataset.code)!==null&&J!==void 0?J:"");re&&w.reset(Q,re)}(x=z.asyncRenderCallback)===null||x===void 0||x.call(z)}),z.asyncRenderCallback)for(const le of F.getElementsByTagName("img")){const J=T.add(w.addDisposableListener(le,"load",()=>{J.dispose(),z.asyncRenderCallback()}))}return{element:F,dispose:()=>{O=!0,T.dispose()}}}e.renderMarkdown=p;function m(B){if(!B)return"";const z=B.split(/[\s+|:|,|\{|\?]/,1);return z.length?z[0]:B}function b(B,z){return/^\w[\w\d+.-]*:/.test(z)?z:B.path.endsWith("/")?(0,o.resolvePath)(B,z).toString():(0,o.resolvePath)((0,o.dirname)(B),z).toString()}function L(B,z){const{config:P,allowedSchemes:A}=k(B);N.addHook("uponSanitizeAttribute",(O,F)=>{if(F.attrName==="style"||F.attrName==="class"){if(O.tagName==="SPAN"){if(F.attrName==="style"){F.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(F.attrValue);return}else if(F.attrName==="class"){F.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(F.attrValue);return}}F.keepAttr=!1;return}});const T=w.hookDomPurifyHrefAndSrcSanitizer(A);try{return N.sanitize(z,Object.assign(Object.assign({},P),{RETURN_TRUSTED_TYPE:!0}))}finally{N.removeHook("uponSanitizeAttribute"),T.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width"];function k(B){const z=[s.Schemas.http,s.Schemas.https,s.Schemas.mailto,s.Schemas.data,s.Schemas.file,s.Schemas.vscodeFileResource,s.Schemas.vscodeRemote,s.Schemas.vscodeRemoteResource];return B.isTrusted&&z.push(s.Schemas.command),{config:{ALLOWED_TAGS:[...w.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:z}}const I=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),M=new a.Lazy(()=>{const B=new c.marked.Renderer;return B.code=z=>z,B.blockquote=z=>z,B.html=z=>"",B.heading=(z,P,A)=>z+`
`,B.hr=()=>"",B.list=(z,P)=>z,B.listitem=z=>z+`
`,B.paragraph=z=>z+`
`,B.table=(z,P)=>z+P+`
`,B.tablerow=z=>z,B.tablecell=(z,P)=>z+" ",B.strong=z=>z,B.em=z=>z,B.codespan=z=>z,B.br=()=>`
`,B.del=z=>z,B.image=(z,P,A)=>"",B.text=z=>z,B.link=(z,P,A)=>A,B})}),define(ee[530],te([1,0,7,81,45,277,105,17,6,57,2,16,507,364]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=w.$,a="selectOption.entry.template";class r{get templateId(){return a}renderTemplate(s){const l=Object.create(null);return l.root=s,l.text=w.append(s,n(".option-text")),l.detail=w.append(s,n(".option-detail")),l.decoratorRight=w.append(s,n(".option-decorator-right")),l}renderElement(s,l,o){const h=o,f=s.text,S=s.detail,p=s.decoratorRight,m=s.isDisabled;h.text.textContent=f,h.detail.textContent=S||"",h.decoratorRight.innerText=p||"",m?h.root.classList.add("option-disabled"):h.root.classList.remove("option-disabled")}disposeTemplate(s){}}class c extends g.Disposable{constructor(s,l,o,h,f){super(),this.l=[],this.z=0,this.C=!1,this.F=!1,this.H=!1,this.g=!1,this.p=h,this.h=f||Object.create(null),typeof this.h.minBottomMargin!="number"?this.h.minBottomMargin=c.a:this.h.minBottomMargin<0&&(this.h.minBottomMargin=0),this.j=document.createElement("select"),this.j.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.h.ariaLabel=="string"&&this.j.setAttribute("aria-label",this.h.ariaLabel),typeof this.h.ariaDescription=="string"&&this.j.setAttribute("aria-description",this.h.ariaDescription),this.n=new C.Emitter,this.q(this.n),this.J(),this.I(o),this.m=l||0,s&&this.setOptions(s,l),this.M()}getHeight(){return 22}getTemplateId(){return a}I(s){this.s=s,this.t=w.$(".monaco-select-box-dropdown-container"),this.t.classList.add("monaco-select-box-dropdown-padding"),this.D=w.append(this.t,n(".select-box-details-pane"));const l=w.append(this.t,n(".select-box-dropdown-container-width-control")),o=w.append(l,n(".width-control-div"));this.y=document.createElement("span"),this.y.className="option-text-width-control",w.append(o,this.y),this.B=0,this.u=w.createStyleSheet(this.t),this.t.setAttribute("draggable","true"),this.q(w.addDisposableListener(this.t,w.EventType.DRAG_START,h=>{w.EventHelper.stop(h,!0)}))}J(){this.q(w.addStandardDisposableListener(this.j,"change",l=>{this.m=l.target.selectedIndex,this.n.fire({index:l.target.selectedIndex,selected:l.target.value}),!!this.l[this.m]&&!!this.l[this.m].text&&(this.j.title=this.l[this.m].text)})),this.q(w.addDisposableListener(this.j,w.EventType.CLICK,l=>{w.EventHelper.stop(l),this.g?this.R(!0):this.Q()})),this.q(w.addDisposableListener(this.j,w.EventType.MOUSE_DOWN,l=>{w.EventHelper.stop(l)}));let s;this.q(w.addDisposableListener(this.j,"touchstart",l=>{s=this.g})),this.q(w.addDisposableListener(this.j,"touchend",l=>{w.EventHelper.stop(l),s?this.R(!0):this.Q()})),this.q(w.addDisposableListener(this.j,w.EventType.KEY_DOWN,l=>{const o=new E.StandardKeyboardEvent(l);let h=!1;i.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(h=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(h=!0),h&&(this.Q(),w.EventHelper.stop(l,!0))}))}get onDidSelect(){return this.n.event}setOptions(s,l){v.equals(this.l,s)||(this.l=s,this.j.options.length=0,this.C=!1,this.G=void 0,this.l.forEach((o,h)=>{this.j.add(this.P(o.text,h,o.isDisabled)),typeof o.description=="string"&&(this.C=!0)})),l!==void 0&&(this.select(l),this.z=this.m)}L(){var s;(s=this.v)===null||s===void 0||s.splice(0,this.v.length,this.l)}select(s){s>=0&&s<this.l.length?this.m=s:s>this.l.length-1?this.select(this.l.length-1):this.m<0&&(this.m=0),this.j.selectedIndex=this.m,!!this.l[this.m]&&!!this.l[this.m].text&&(this.j.title=this.l[this.m].text)}focus(){this.j&&(this.j.tabIndex=0,this.j.focus())}blur(){this.j&&(this.j.tabIndex=-1,this.j.blur())}setFocusable(s){this.j.tabIndex=s?0:-1}render(s){this.k=s,s.classList.add("select-container"),s.appendChild(this.j),this.N()}M(){const s=[];this.p.listFocusBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.p.listFocusBackground} !important; }`),this.p.listFocusForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.p.listFocusForeground} !important; }`),this.p.decoratorRightForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.p.decoratorRightForeground}; }`),this.p.selectBackground&&this.p.selectBorder&&this.p.selectBorder!==this.p.selectBackground?(s.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.p.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.p.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.p.selectBorder} } `)):this.p.selectListBorder&&(s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.p.selectListBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.p.selectListBorder} } `)),this.p.listHoverForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.p.listHoverForeground} !important; }`),this.p.listHoverBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.p.listHoverBackground} !important; }`),this.p.listFocusOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.p.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.p.listHoverOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.p.listHoverOutline} !important; outline-offset: -1.6px !important; }`),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.u.textContent=s.join(`
`)}N(){var s,l,o;const h=(s=this.p.selectBackground)!==null&&s!==void 0?s:"",f=(l=this.p.selectForeground)!==null&&l!==void 0?l:"",S=(o=this.p.selectBorder)!==null&&o!==void 0?o:"";this.j.style.backgroundColor=h,this.j.style.color=f,this.j.style.borderColor=S}O(){var s,l;const o=(s=this.p.selectBackground)!==null&&s!==void 0?s:"",h=w.asCssValueWithDefault(this.p.selectListBackground,o);this.w.style.backgroundColor=h,this.D.style.backgroundColor=h;const f=(l=this.p.focusBorder)!==null&&l!==void 0?l:"";this.t.style.outlineColor=f,this.t.style.outlineOffset="-1px",this.v.style(this.p)}P(s,l,o){const h=document.createElement("option");return h.value=s,h.text=s,h.disabled=!!o,h}Q(){this.D.innerText="",!(!this.s||this.g)&&(this.Y(this.t),this.L(),this.s.showContextView({getAnchor:()=>this.j,render:s=>this.S(s,!0),layout:()=>{this.W()},onHide:()=>{this.t.classList.remove("visible"),this.j.classList.remove("synthetic-focus")},anchorPosition:this.B},this.h.optionsAsChildren?this.k:void 0),this.g=!0,this.R(!1),this.s.showContextView({getAnchor:()=>this.j,render:s=>this.S(s),layout:()=>this.W(),onHide:()=>{this.t.classList.remove("visible"),this.j.classList.remove("synthetic-focus")},anchorPosition:this.B},this.h.optionsAsChildren?this.k:void 0),this.z=this.m,this.g=!0,this.j.setAttribute("aria-expanded","true"))}R(s){!this.s||!this.g||(this.g=!1,this.j.setAttribute("aria-expanded","false"),s&&this.j.focus(),this.s.hideContextView())}S(s,l){return s.appendChild(this.t),this.W(l),{dispose:()=>{try{s.removeChild(this.t)}catch{}}}}U(){let s=0;return this.l.forEach((l,o)=>{this.db(o),this.D.offsetHeight>s&&(s=this.D.offsetHeight)}),s}W(s){if(this.F)return!1;if(this.v){this.t.classList.add("visible");const l=w.getDomNodePagePosition(this.j),o=getComputedStyle(this.j),h=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),f=window.innerHeight-l.top-l.height-(this.h.minBottomMargin||0),S=l.top-c.b,p=this.j.offsetWidth,m=this.X(this.y),b=Math.max(m,Math.round(p)).toString()+"px";this.t.style.width=b,this.v.getHTMLElement().style.height="",this.v.layout();let L=this.v.contentHeight;this.C&&this.G===void 0&&(this.G=this.U());const k=this.C?this.G:0,I=L+h+k,M=Math.floor((f-h-k)/this.getHeight()),B=Math.floor((S-h-k)/this.getHeight());if(s)return l.top+l.height>window.innerHeight-22||l.top<c.b||M<1&&B<1?!1:(M<c.c&&B>M&&this.l.length>M?(this.B=1,this.t.removeChild(this.w),this.t.removeChild(this.D),this.t.appendChild(this.D),this.t.appendChild(this.w),this.D.classList.remove("border-top"),this.D.classList.add("border-bottom")):(this.B=0,this.t.removeChild(this.w),this.t.removeChild(this.D),this.t.appendChild(this.w),this.t.appendChild(this.D),this.D.classList.remove("border-bottom"),this.D.classList.add("border-top")),!0);if(l.top+l.height>window.innerHeight-22||l.top<c.b||this.B===0&&M<1||this.B===1&&B<1)return this.R(!0),!1;if(this.B===0){if(this.g&&M+B<1)return this.R(!0),!1;I>f&&(L=M*this.getHeight())}else I>S&&(L=B*this.getHeight());return this.v.layout(L),this.v.domFocus(),this.v.length>0&&(this.v.setFocus([this.m||0]),this.v.reveal(this.v.getFocus()[0]||0)),this.C?(this.v.getHTMLElement().style.height=L+h+"px",this.t.style.height=""):this.t.style.height=L+h+"px",this.db(this.m),this.t.style.width=b,this.w.setAttribute("tabindex","0"),this.j.classList.add("synthetic-focus"),this.t.classList.add("synthetic-focus"),!0}else return!1}X(s){let l=0;if(s){let o=0,h=0;this.l.forEach((f,S)=>{const p=f.detail?f.detail.length:0,m=f.decoratorRight?f.decoratorRight.length:0,b=f.text.length+p+m;b>h&&(o=S,h=b)}),s.textContent=this.l[o].text+(this.l[o].decoratorRight?this.l[o].decoratorRight+" ":""),l=w.getTotalWidth(s)}return l}Y(s){if(this.v)return;this.w=w.append(s,n(".select-box-dropdown-list-container")),this.r=new r,this.v=new y.List("SelectBoxCustom",this.w,this,[this.r],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:h=>{let f=h.text;return h.detail&&(f+=`. ${h.detail}`),h.decoratorRight&&(f+=`. ${h.decoratorRight}`),h.description&&(f+=`. ${h.description}`),f},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>"option",getWidgetRole:()=>"listbox"}}),this.h.ariaLabel&&(this.v.ariaLabel=this.h.ariaLabel);const l=this.q(new N.DomEmitter(this.w,"keydown")),o=C.Event.chain(l.event).filter(()=>this.v.length>0).map(h=>new E.StandardKeyboardEvent(h));this.q(o.filter(h=>h.keyCode===3).on(h=>this.fb(h),this)),this.q(o.filter(h=>h.keyCode===2).on(h=>this.fb(h),this)),this.q(o.filter(h=>h.keyCode===9).on(h=>this.eb(h),this)),this.q(o.filter(h=>h.keyCode===16).on(h=>this.hb(h),this)),this.q(o.filter(h=>h.keyCode===18).on(h=>this.gb(h),this)),this.q(o.filter(h=>h.keyCode===12).on(this.jb,this)),this.q(o.filter(h=>h.keyCode===11).on(this.ib,this)),this.q(o.filter(h=>h.keyCode===14).on(this.kb,this)),this.q(o.filter(h=>h.keyCode===13).on(this.lb,this)),this.q(o.filter(h=>h.keyCode>=21&&h.keyCode<=56||h.keyCode>=80&&h.keyCode<=108).on(this.mb,this)),this.q(w.addDisposableListener(this.v.getHTMLElement(),w.EventType.POINTER_UP,h=>this.Z(h))),this.q(this.v.onMouseOver(h=>typeof h.index<"u"&&this.v.setFocus([h.index]))),this.q(this.v.onDidChangeFocus(h=>this.cb(h))),this.q(w.addDisposableListener(this.t,w.EventType.FOCUS_OUT,h=>{!this.g||w.isAncestor(h.relatedTarget,this.t)||this.ab()})),this.v.getHTMLElement().setAttribute("aria-label",this.h.ariaLabel||""),this.v.getHTMLElement().setAttribute("aria-expanded","true"),this.O()}Z(s){if(!this.v.length)return;w.EventHelper.stop(s);const l=s.target;if(!l||l.classList.contains("slider"))return;const o=l.closest(".monaco-list-row");if(!o)return;const h=Number(o.getAttribute("data-index")),f=o.classList.contains("option-disabled");h>=0&&h<this.l.length&&!f&&(this.m=h,this.select(this.m),this.v.setFocus([this.m]),this.v.reveal(this.v.getFocus()[0]),this.m!==this.z&&(this.z=this.m,this.n.fire({index:this.j.selectedIndex,selected:this.l[this.m].text}),!!this.l[this.m]&&!!this.l[this.m].text&&(this.j.title=this.l[this.m].text)),this.R(!0))}ab(){this.H||(this.m!==this.z&&this.select(this.z),this.R(!1))}bb(s,l){const o=f=>{for(let S=0;S<f.childNodes.length;S++){const p=f.childNodes.item(S);(p.tagName&&p.tagName.toLowerCase())==="img"?f.removeChild(p):o(p)}},h=(0,D.renderMarkdown)({value:s,supportThemeIcons:!0},{actionHandler:l});return h.element.classList.add("select-box-description-markdown"),o(h.element),h.element}cb(s){!this.g||!this.C||this.db(s.indexes[0])}db(s){var l,o;this.D.innerText="";const h=this.l[s],f=(l=h?.description)!==null&&l!==void 0?l:"",S=(o=h?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(f){if(S){const p=h.descriptionMarkdownActionHandler;this.D.appendChild(this.bb(f,p))}else this.D.innerText=f;this.D.style.display="block"}else this.D.style.display="none";this.F=!0,this.s.layout(),this.F=!1}eb(s){w.EventHelper.stop(s),this.select(this.z),this.R(!0)}fb(s){w.EventHelper.stop(s),this.m!==this.z&&(this.z=this.m,this.n.fire({index:this.j.selectedIndex,selected:this.l[this.m].text}),!!this.l[this.m]&&!!this.l[this.m].text&&(this.j.title=this.l[this.m].text)),this.R(!0)}gb(s){if(this.m<this.l.length-1){w.EventHelper.stop(s,!0);const l=this.l[this.m+1].isDisabled;if(l&&this.l.length>this.m+2)this.m+=2;else{if(l)return;this.m++}this.select(this.m),this.v.setFocus([this.m]),this.v.reveal(this.v.getFocus()[0])}}hb(s){this.m>0&&(w.EventHelper.stop(s,!0),this.l[this.m-1].isDisabled&&this.m>1?this.m-=2:this.m--,this.select(this.m),this.v.setFocus([this.m]),this.v.reveal(this.v.getFocus()[0]))}ib(s){w.EventHelper.stop(s),this.v.focusPreviousPage(),setTimeout(()=>{this.m=this.v.getFocus()[0],this.l[this.m].isDisabled&&this.m<this.l.length-1&&(this.m++,this.v.setFocus([this.m])),this.v.reveal(this.m),this.select(this.m)},1)}jb(s){w.EventHelper.stop(s),this.v.focusNextPage(),setTimeout(()=>{this.m=this.v.getFocus()[0],this.l[this.m].isDisabled&&this.m>0&&(this.m--,this.v.setFocus([this.m])),this.v.reveal(this.m),this.select(this.m)},1)}kb(s){w.EventHelper.stop(s),!(this.l.length<2)&&(this.m=0,this.l[this.m].isDisabled&&this.m>1&&this.m++,this.v.setFocus([this.m]),this.v.reveal(this.m),this.select(this.m))}lb(s){w.EventHelper.stop(s),!(this.l.length<2)&&(this.m=this.l.length-1,this.l[this.m].isDisabled&&this.m>1&&this.m--,this.v.setFocus([this.m]),this.v.reveal(this.m),this.select(this.m))}mb(s){const l=d.KeyCodeUtils.toString(s.keyCode);let o=-1;for(let h=0;h<this.l.length-1;h++)if(o=(h+this.m+1)%this.l.length,this.l[o].text.charAt(0).toUpperCase()===l&&!this.l[o].isDisabled){this.select(o),this.v.setFocus([o]),this.v.reveal(this.v.getFocus()[0]),w.EventHelper.stop(s);break}}dispose(){this.R(!1),super.dispose()}}c.a=32,c.b=2,c.c=3,e.SelectBoxList=c}),define(ee[531],te([1,0,530,525,67,16,363]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends E.Widget{constructor(C,d,g,i,t){super(),D.isMacintosh&&!t?.useCustomDrawn?this.a=new N.SelectBoxNative(C,d,i,t):this.a=new w.SelectBoxList(C,d,g,i,t),this.q(this.a)}get onDidSelect(){return this.a.onDidSelect}setOptions(C,d){this.a.setOptions(C,d)}select(C){this.a.select(C)}focus(){this.a.focus()}blur(){this.a.blur()}setFocusable(C){this.a.setFocusable(C)}render(C){this.a.render(C)}}e.SelectBox=y}),define(ee[140],te([1,0,44,127,7,60,271,531,41,2,16,18,500,239]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class n extends d.Disposable{get action(){return this._action}constructor(u,s,l={}){super(),this.l=l,this._context=u||this,this._action=s,s instanceof C.Action&&this.q(s.onDidChange(o=>{!this.element||this.m(o)}))}m(u){u.enabled!==void 0&&this.n(),u.checked!==void 0&&this.w(),u.class!==void 0&&this.v(),u.label!==void 0&&(this.p(),this.t()),u.tooltip!==void 0&&this.t()}get actionRunner(){return this.j||(this.j=this.q(new C.ActionRunner)),this.j}set actionRunner(u){this.j=u}isEnabled(){return this._action.enabled}setActionContext(u){this._context=u}render(u){const s=this.element=u;this.q(D.Gesture.addTarget(u));const l=this.l&&this.l.draggable;l&&(u.draggable=!0,w.isFirefox&&this.q((0,E.addDisposableListener)(u,E.EventType.DRAG_START,o=>{var h;return(h=o.dataTransfer)===null||h===void 0?void 0:h.setData(N.DataTransfers.TEXT,this._action.label)}))),this.q((0,E.addDisposableListener)(s,D.EventType.Tap,o=>this.onClick(o,!0))),this.q((0,E.addDisposableListener)(s,E.EventType.MOUSE_DOWN,o=>{l||E.EventHelper.stop(o,!0),this._action.enabled&&o.button===0&&s.classList.add("active")})),g.isMacintosh&&this.q((0,E.addDisposableListener)(s,E.EventType.CONTEXT_MENU,o=>{o.button===0&&o.ctrlKey===!0&&this.onClick(o)})),this.q((0,E.addDisposableListener)(s,E.EventType.CLICK,o=>{E.EventHelper.stop(o,!0),this.l&&this.l.isMenu||this.onClick(o)})),this.q((0,E.addDisposableListener)(s,E.EventType.DBLCLICK,o=>{E.EventHelper.stop(o,!0)})),[E.EventType.MOUSE_UP,E.EventType.MOUSE_OUT].forEach(o=>{this.q((0,E.addDisposableListener)(s,o,h=>{E.EventHelper.stop(h),s.classList.remove("active")}))})}onClick(u,s=!1){var l;E.EventHelper.stop(u,!0);const o=i.isUndefinedOrNull(this._context)?!((l=this.l)===null||l===void 0)&&l.useEventAsContext?u:{preserveFocus:s}:this._context;this.actionRunner.run(this._action,o)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(u){this.element&&(this.element.tabIndex=u?0:-1)}get trapsArrowNavigation(){return!1}n(){}p(){}r(){return this.action.tooltip}t(){var u;if(!this.element)return;const s=(u=this.r())!==null&&u!==void 0?u:"";this.u(),this.l.hoverDelegate?(this.element.title="",this.b?this.b.update(s):(this.b=(0,y.setupCustomHover)(this.l.hoverDelegate,this.element,s),this.f.add(this.b))):this.element.title=s}u(){var u;if(this.element){const s=(u=this.r())!==null&&u!==void 0?u:"";this.element.setAttribute("aria-label",s)}}v(){}w(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=n;class a extends n{constructor(u,s,l){super(u,s,l),this.l=l,this.l.icon=l.icon!==void 0?l.icon:!1,this.l.label=l.label!==void 0?l.label:!0,this.z=""}render(u){super.render(u),this.element&&(this.s=(0,E.append)(this.element,(0,E.$)("a.action-label"))),this.s&&(this._action.id===C.Separator.ID?this.s.setAttribute("role","presentation"):this.l.isMenu?this.s.setAttribute("role","menuitem"):this.s.setAttribute("role","button")),this.l.label&&this.l.keybinding&&this.element&&((0,E.append)(this.element,(0,E.$)("span.keybinding")).textContent=this.l.keybinding),this.v(),this.p(),this.t(),this.n(),this.w()}focus(){this.s&&(this.s.tabIndex=0,this.s.focus())}blur(){this.s&&(this.s.tabIndex=-1)}setFocusable(u){this.s&&(this.s.tabIndex=u?0:-1)}p(){this.l.label&&this.s&&(this.s.textContent=this.action.label)}r(){let u=null;return this.action.tooltip?u=this.action.tooltip:!this.l.label&&this.action.label&&this.l.icon&&(u=this.action.label,this.l.keybinding&&(u=t.localize(0,null,u,this.l.keybinding))),u??void 0}v(){var u;this.z&&this.s&&this.s.classList.remove(...this.z.split(" ")),this.l.icon?(this.z=this.action.class,this.s&&(this.s.classList.add("codicon"),this.z&&this.s.classList.add(...this.z.split(" "))),this.n()):(u=this.s)===null||u===void 0||u.classList.remove("codicon")}n(){var u,s;this.action.enabled?(this.s&&(this.s.removeAttribute("aria-disabled"),this.s.classList.remove("disabled")),(u=this.element)===null||u===void 0||u.classList.remove("disabled")):(this.s&&(this.s.setAttribute("aria-disabled","true"),this.s.classList.add("disabled")),(s=this.element)===null||s===void 0||s.classList.add("disabled"))}u(){var u;if(this.s){const s=(u=this.r())!==null&&u!==void 0?u:"";this.s.setAttribute("aria-label",s)}}w(){this.s&&(this.action.checked?this.s.classList.add("checked"):this.s.classList.remove("checked"))}}e.ActionViewItem=a;class r extends n{constructor(u,s,l,o,h,f,S){super(u,s),this.c=new v.SelectBox(l,o,h,f,S),this.c.setFocusable(!1),this.q(this.c),this.g()}select(u){this.c.select(u)}g(){this.q(this.c.onDidSelect(u=>this.h(u.selected,u.index)))}h(u,s){this.actionRunner.run(this._action,this.i(u,s))}i(u,s){return u}setFocusable(u){this.c.setFocusable(u)}focus(){var u;(u=this.c)===null||u===void 0||u.focus()}blur(){var u;(u=this.c)===null||u===void 0||u.blur()}render(u){this.c.render(u)}}e.SelectActionViewItem=r}),define(ee[68],te([1,0,7,45,140,41,6,2,18,239]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class d extends v.Disposable{constructor(i,t={}){var n,a,r,c,u,s;super(),this.h=this.q(new v.DisposableStore),this.m=this.q(new v.DisposableMap),this.s=!1,this.t=!0,this.v=this.q(new y.Emitter),this.onDidBlur=this.v.event,this.w=this.q(new y.Emitter({onWillAddFirstListener:()=>this.y=!0})),this.onDidCancel=this.w.event,this.y=!1,this.z=this.q(new y.Emitter),this.onDidRun=this.z.event,this.B=this.q(new y.Emitter),this.onWillRun=this.B.event,this.b=t,this.j=(n=t.context)!==null&&n!==void 0?n:null,this.k=(a=this.b.orientation)!==null&&a!==void 0?a:0,this.l={keyDown:(c=(r=this.b.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&c!==void 0?c:!1,keys:(s=(u=this.b.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&s!==void 0?s:[3,10]},this.b.actionRunner?this.g=this.b.actionRunner:(this.g=new D.ActionRunner,this.h.add(this.g)),this.h.add(this.g.onDidRun(h=>this.z.fire(h))),this.h.add(this.g.onWillRun(h=>this.B.fire(h))),this.viewItems=[],this.p=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let l,o;switch(this.k){case 0:l=[15],o=[17];break;case 1:l=[16],o=[18],this.domNode.className+=" vertical";break}this.q(w.addDisposableListener(this.domNode,w.EventType.KEY_DOWN,h=>{const f=new N.StandardKeyboardEvent(h);let S=!0;const p=typeof this.p=="number"?this.viewItems[this.p]:void 0;l&&(f.equals(l[0])||f.equals(l[1]))?S=this.J():o&&(f.equals(o[0])||f.equals(o[1]))?S=this.I():f.equals(9)&&this.y?this.w.fire():f.equals(14)?S=this.G():f.equals(13)?S=this.H():f.equals(2)&&p instanceof E.BaseActionViewItem&&p.trapsArrowNavigation?S=this.I():this.D(f)?this.l.keyDown?this.M(f):this.s=!0:S=!1,S&&(f.preventDefault(),f.stopPropagation())})),this.q(w.addDisposableListener(this.domNode,w.EventType.KEY_UP,h=>{const f=new N.StandardKeyboardEvent(h);this.D(f)?(!this.l.keyDown&&this.s&&(this.s=!1,this.M(f)),f.preventDefault(),f.stopPropagation()):(f.equals(2)||f.equals(1026))&&this.F()})),this.r=this.q(w.trackFocus(this.domNode)),this.q(this.r.onDidBlur(()=>{(w.getActiveElement()===this.domNode||!w.isAncestor(w.getActiveElement(),this.domNode))&&(this.v.fire(),this.p=void 0,this.n=void 0,this.s=!1)})),this.q(this.r.onDidFocus(()=>this.F())),this.u=document.createElement("ul"),this.u.className="actions-container",this.u.setAttribute("role",this.b.ariaRole||"toolbar"),this.b.ariaLabel&&this.u.setAttribute("aria-label",this.b.ariaLabel),this.domNode.appendChild(this.u),i.appendChild(this.domNode)}C(){this.length()>=2?this.u.setAttribute("role",this.b.ariaRole||"toolbar"):this.u.setAttribute("role","presentation")}setFocusable(i){if(this.t=i,this.t){const t=this.viewItems.find(n=>n instanceof E.BaseActionViewItem&&n.isEnabled());t instanceof E.BaseActionViewItem&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof E.BaseActionViewItem&&t.setFocusable(!1)})}D(i){let t=!1;return this.l.keys.forEach(n=>{t=t||i.equals(n)}),t}F(){for(let i=0;i<this.u.children.length;i++){const t=this.u.children[i];if(w.isAncestor(w.getActiveElement(),t)){this.p=i;break}}}get context(){return this.j}set context(i){this.j=i,this.viewItems.forEach(t=>t.setActionContext(i))}get actionRunner(){return this.g}set actionRunner(i){this.g=i,this.h.clear(),this.h.add(this.g.onDidRun(t=>this.z.fire(t))),this.h.add(this.g.onWillRun(t=>this.B.fire(t))),this.viewItems.forEach(t=>t.actionRunner=i)}getContainer(){return this.domNode}getAction(i){var t;if(typeof i=="number")return(t=this.viewItems[i])===null||t===void 0?void 0:t.action;if(i instanceof HTMLElement){for(;i.parentElement!==this.u;){if(!i.parentElement)return;i=i.parentElement}for(let n=0;n<this.u.childNodes.length;n++)if(this.u.childNodes[n]===i)return this.viewItems[n].action}}push(i,t={}){const n=Array.isArray(i)?i:[i];let a=C.isNumber(t.index)?t.index:null;n.forEach(r=>{const c=document.createElement("li");c.className="action-item",c.setAttribute("role","presentation");let u;const s=Object.assign({hoverDelegate:this.b.hoverDelegate},t);this.b.actionViewItemProvider&&(u=this.b.actionViewItemProvider(r,s)),u||(u=new E.ActionViewItem(this.context,r,s)),this.b.allowContextMenu||this.m.set(u,w.addDisposableListener(c,w.EventType.CONTEXT_MENU,l=>{w.EventHelper.stop(l,!0)})),u.actionRunner=this.g,u.setActionContext(this.context),u.render(c),this.t&&u instanceof E.BaseActionViewItem&&this.viewItems.length===0&&u.setFocusable(!0),a===null||a<0||a>=this.u.children.length?(this.u.appendChild(c),this.viewItems.push(u)):(this.u.insertBefore(c,this.u.children[a]),this.viewItems.splice(a,0,u),a++)}),typeof this.p=="number"&&this.focus(this.p),this.C()}clear(){this.isEmpty()||(this.viewItems=(0,v.dispose)(this.viewItems),this.m.clearAndDisposeAll(),w.clearNode(this.u),this.C())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(i){let t=!1,n;if(i===void 0?t=!0:typeof i=="number"?n=i:typeof i=="boolean"&&(t=i),t&&typeof this.p>"u"){const a=this.viewItems.findIndex(r=>r.isEnabled());this.p=a===-1?void 0:a,this.L(void 0,void 0,!0)}else n!==void 0&&(this.p=n),this.L(void 0,void 0,!0)}G(){return this.p=this.length()-1,this.I(!0)}H(){return this.p=0,this.J(!0)}I(i){if(typeof this.p>"u")this.p=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.p;let n;do{if(!i&&this.b.preventLoopNavigation&&this.p+1>=this.viewItems.length)return this.p=t,!1;this.p=(this.p+1)%this.viewItems.length,n=this.viewItems[this.p]}while(this.p!==t&&(this.b.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.L(),!0}J(i){if(typeof this.p>"u")this.p=0;else if(this.viewItems.length<=1)return!1;const t=this.p;let n;do{if(this.p=this.p-1,this.p<0){if(!i&&this.b.preventLoopNavigation)return this.p=t,!1;this.p=this.viewItems.length-1}n=this.viewItems[this.p]}while(this.p!==t&&(this.b.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===D.Separator.ID));return this.L(!0),!0}L(i,t,n=!1){var a;typeof this.p>"u"&&this.u.focus({preventScroll:t}),this.n!==void 0&&this.n!==this.p&&((a=this.viewItems[this.n])===null||a===void 0||a.blur());const r=this.p!==void 0&&this.viewItems[this.p];if(r){let c=!0;C.isFunction(r.focus)||(c=!1),this.b.focusOnlyEnabledItems&&C.isFunction(r.isEnabled)&&!r.isEnabled()&&(c=!1),r.action.id===D.Separator.ID&&(c=!1),c?(n||this.n!==this.p)&&(r.focus(i),this.n=this.p):(this.u.focus({preventScroll:t}),this.n=void 0)}}M(i){if(typeof this.p>"u")return;const t=this.viewItems[this.p];if(t instanceof E.BaseActionViewItem){const n=t._context===null||t._context===void 0?i:t._context;this.run(t._action,n)}}run(i,t){return Le(this,void 0,void 0,function*(){yield this.g.run(i,t)})}dispose(){this.j=void 0,this.viewItems=(0,v.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=d}),define(ee[278],te([1,0,7,140,521,6,240]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class y extends N.BaseActionViewItem{constructor(C,d,g,i=Object.create(null)){super(null,C,i),this.k=null,this.y=this.q(new D.Emitter),this.onDidChangeVisibility=this.y.event,this.g=d,this.i=g,this.l=i,this.l.actionRunner&&(this.actionRunner=this.l.actionRunner)}render(C){this.k=C;const d=t=>{this.element=(0,w.append)(t,(0,w.$)("a.action-label"));let n=[];return typeof this.l.classNames=="string"?n=this.l.classNames.split(/\s+/g).filter(a=>!!a):this.l.classNames&&(n=this.l.classNames),n.find(a=>a==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},g=Array.isArray(this.g),i={contextMenuProvider:this.i,labelRenderer:d,menuAsChild:this.l.menuAsChild,actions:g?this.g:void 0,actionProvider:g?void 0:this.g};if(this.h=this.q(new E.DropdownMenu(C,i)),this.q(this.h.onDidChangeVisibility(t=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${t}`),this.y.fire(t)})),this.h.menuOptions={actionViewItemProvider:this.l.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.l.keybindingProvider,context:this._context},this.l.anchorAlignmentProvider){const t=this;this.h.menuOptions=Object.assign(Object.assign({},this.h.menuOptions),{get anchorAlignment(){return t.l.anchorAlignmentProvider()}})}this.t(),this.n()}r(){let C=null;return this.action.tooltip?C=this.action.tooltip:this.action.label&&(C=this.action.label),C??void 0}setActionContext(C){super.setActionContext(C),this.h&&(this.h.menuOptions?this.h.menuOptions.context=C:this.h.menuOptions={context:C})}show(){var C;(C=this.h)===null||C===void 0||C.show()}n(){var C,d;const g=!this.action.enabled;(C=this.k)===null||C===void 0||C.classList.toggle("disabled",g),(d=this.element)===null||d===void 0||d.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=y}),define(ee[209],te([1,0,7,81,203,68,50,74,67,6,346,505,357]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const t=w.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class n extends C.Widget{constructor(c,u,s){var l;super(),this.v="idle",this.F=Number.POSITIVE_INFINITY,this.H=this.q(new d.Emitter),this.onDidChange=this.H.event,this.I=this.q(new d.Emitter),this.onDidHeightChange=this.I.event,this.a=u,this.h=s,this.i=null,this.l=this.h.placeholder||"",this.r=(l=this.h.tooltip)!==null&&l!==void 0?l:this.l||"",this.s=this.h.ariaLabel||"",this.h.validationOptions&&(this.t=this.h.validationOptions.validation),this.element=w.append(c,t(".monaco-inputbox.idle"));const o=this.h.flexibleHeight?"textarea":"input",h=w.append(this.element,t(".ibwrapper"));if(this.b=w.append(h,t(o+".input.empty")),this.b.setAttribute("autocorrect","off"),this.b.setAttribute("autocapitalize","off"),this.b.setAttribute("spellcheck","false"),this.z(this.b,()=>this.element.classList.add("synthetic-focus")),this.y(this.b,()=>this.element.classList.remove("synthetic-focus")),this.h.flexibleHeight){this.F=typeof this.h.flexibleMaxHeight=="number"?this.h.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.w=w.append(h,t("div.mirror")),this.w.innerText="\xA0",this.G=new v.ScrollableElement(this.element,{vertical:1}),this.h.flexibleWidth&&(this.b.setAttribute("wrap","off"),this.w.style.whiteSpace="pre",this.w.style.wordWrap="initial"),w.append(c,this.G.getDomNode()),this.q(this.G),this.q(this.G.onScroll(p=>this.b.scrollTop=p.scrollTop));const f=this.q(new N.DomEmitter(document,"selectionchange")),S=d.Event.filter(f.event,()=>{const p=document.getSelection();return p?.anchorNode===h});this.q(S(this.M,this)),this.q(this.onDidHeightChange(this.M,this))}else this.b.type=this.h.type||"text",this.b.setAttribute("wrap","off");this.s&&this.b.setAttribute("aria-label",this.s),this.l&&!this.h.showPlaceholderOnFocus&&this.setPlaceHolder(this.l),this.r&&this.setTooltip(this.r),this.u(this.b,()=>this.Q()),this.y(this.b,()=>this.J()),this.z(this.b,()=>this.L()),this.q(this.B(this.b)),setTimeout(()=>this.R(),0),this.h.actions&&(this.g=this.q(new D.ActionBar(this.element)),this.g.push(this.h.actions,{icon:!0,label:!1})),this.S()}J(){this.P(),this.h.showPlaceholderOnFocus&&this.b.setAttribute("placeholder","")}L(){this.O(),this.h.showPlaceholderOnFocus&&this.b.setAttribute("placeholder",this.l||"")}setPlaceHolder(c){this.l=c,this.b.setAttribute("placeholder",c)}setTooltip(c){this.r=c,this.b.title=c}setAriaLabel(c){this.s=c,c?this.b.setAttribute("aria-label",this.s):this.b.removeAttribute("aria-label")}getAriaLabel(){return this.s}get inputElement(){return this.b}get value(){return this.b.value}set value(c){this.b.value!==c&&(this.b.value=c,this.Q())}get height(){return typeof this.C=="number"?this.C:w.getTotalHeight(this.element)}focus(){this.b.focus()}blur(){this.b.blur()}hasFocus(){return document.activeElement===this.b}select(c=null){this.b.select(),c&&(this.b.setSelectionRange(c.start,c.end),c.end===this.b.value.length&&(this.b.scrollLeft=this.b.scrollWidth))}isSelectionAtEnd(){return this.b.selectionEnd===this.b.value.length&&this.b.selectionStart===this.b.selectionEnd}enable(){this.b.removeAttribute("disabled")}disable(){this.blur(),this.b.disabled=!0,this.P()}set paddingRight(c){this.b.style.width=`calc(100% - ${c}px)`,this.w&&(this.w.style.paddingRight=c+"px")}M(){if(typeof this.D!="number"||typeof this.C!="number"||!this.G)return;const c=this.D,u=this.C,s=this.b.scrollTop;this.G.setScrollDimensions({scrollHeight:c,height:u}),this.G.setScrollPosition({scrollTop:s})}showMessage(c,u){this.i=c,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.N(c.type));const s=this.stylesForType(this.i.type);this.element.style.border=`1px solid ${w.asCssValueWithDefault(s.border,"transparent")}`,this.i.content&&(this.hasFocus()||u)&&this.O()}hideMessage(){this.i=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this.P(),this.S()}validate(){let c=null;return this.t&&(c=this.t(this.value),c?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(c)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),c?.type}stylesForType(c){const u=this.h.inputBoxStyles;switch(c){case 1:return{border:u.inputValidationInfoBorder,background:u.inputValidationInfoBackground,foreground:u.inputValidationInfoForeground};case 2:return{border:u.inputValidationWarningBorder,background:u.inputValidationWarningBackground,foreground:u.inputValidationWarningForeground};default:return{border:u.inputValidationErrorBorder,background:u.inputValidationErrorBackground,foreground:u.inputValidationErrorForeground}}}N(c){switch(c){case 1:return"info";case 2:return"warning";default:return"error"}}O(){if(!this.a||!this.i)return;let c;const u=()=>c.style.width=w.getTotalWidth(this.element)+"px";this.a.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:l=>{var o,h;if(!this.i)return null;c=w.append(l,t(".monaco-inputbox-container")),u();const f={inline:!0,className:"monaco-inputbox-message"},S=this.i.formatContent?(0,E.renderFormattedText)(this.i.content,f):(0,E.renderText)(this.i.content,f);S.classList.add(this.N(this.i.type));const p=this.stylesForType(this.i.type);return S.style.backgroundColor=(o=p.background)!==null&&o!==void 0?o:"",S.style.color=(h=p.foreground)!==null&&h!==void 0?h:"",S.style.border=p.border?`1px solid ${p.border}`:"",w.append(c,S),null},onHide:()=>{this.v="closed"},layout:u});let s;this.i.type===3?s=i.localize(0,null,this.i.content):this.i.type===2?s=i.localize(1,null,this.i.content):s=i.localize(2,null,this.i.content),y.alert(s),this.v="open"}P(){!this.a||(this.v==="open"&&this.a.hideContextView(),this.v="idle")}Q(){this.H.fire(this.value),this.validate(),this.R(),this.b.classList.toggle("empty",!this.value),this.v==="open"&&this.a&&this.a.layout()}R(){if(!this.w)return;const c=this.value,s=c.charCodeAt(c.length-1)===10?" ":"";(c+s).replace(/\u000c/g,"")?this.w.textContent=c+s:this.w.innerText="\xA0",this.layout()}S(){var c,u,s;const l=this.h.inputBoxStyles,o=(c=l.inputBackground)!==null&&c!==void 0?c:"",h=(u=l.inputForeground)!==null&&u!==void 0?u:"",f=(s=l.inputBorder)!==null&&s!==void 0?s:"";this.element.style.backgroundColor=o,this.element.style.color=h,this.b.style.backgroundColor="inherit",this.b.style.color=h,this.element.style.border=`1px solid ${w.asCssValueWithDefault(f,"transparent")}`}layout(){if(!this.w)return;const c=this.D;this.D=w.getTotalHeight(this.w),c!==this.D&&(this.C=Math.min(this.D,this.F),this.b.style.height=this.C+"px",this.I.fire(this.D))}insertAtCursor(c){const u=this.inputElement,s=u.selectionStart,l=u.selectionEnd,o=u.value;s!==null&&l!==null&&(this.value=o.substr(0,s)+c+o.substr(l),u.setSelectionRange(s+1,s+1),this.layout())}dispose(){var c;this.P(),this.i=null,(c=this.g)===null||c===void 0||c.dispose(),super.dispose()}}e.InputBox=n;class a extends n{constructor(c,u,s){const l=i.localize(3,null),o=` or \u21C5 ${l}`,h=` (\u21C5 ${l})`;super(c,u,s),this.X=this.q(new d.Emitter),this.onDidFocus=this.X.event,this.Y=this.q(new d.Emitter),this.onDidBlur=this.Y.event,this.U=new g.HistoryNavigator(s.history,100);const f=()=>{if(s.showHistoryHint&&s.showHistoryHint()&&!this.l.endsWith(o)&&!this.l.endsWith(h)&&this.U.getHistory().length){const S=this.l.endsWith(")")?o:h,p=this.l+S;s.showPlaceholderOnFocus&&document.activeElement!==this.b?this.l=p:this.setPlaceHolder(p)}};this.W=new MutationObserver((S,p)=>{S.forEach(m=>{m.target.textContent||f()})}),this.W.observe(this.b,{attributeFilter:["class"]}),this.z(this.b,()=>f()),this.y(this.b,()=>{const S=p=>{if(this.l.endsWith(p)){const m=this.l.slice(0,this.l.length-p.length);return s.showPlaceholderOnFocus?this.l=m:this.setPlaceHolder(m),!0}else return!1};S(h)||S(o)})}dispose(){super.dispose(),this.W&&(this.W.disconnect(),this.W=void 0)}addToHistory(c){this.value&&(c||this.value!==this.bb())&&this.U.add(this.value)}isAtLastInHistory(){return this.U.isLast()}isNowhereInHistory(){return this.U.isNowhere()}showNextValue(){this.U.has(this.value)||this.addToHistory();let c=this.db();c&&(c=c===this.value?this.db():c),c&&(this.value=c,y.status(this.value))}showPreviousValue(){this.U.has(this.value)||this.addToHistory();let c=this.cb();c&&(c=c===this.value?this.cb():c),c&&(this.value=c,y.status(this.value))}J(){super.J(),this.Y.fire()}L(){super.L(),this.X.fire()}bb(){let c=this.U.current();return c||(c=this.U.last(),this.U.next()),c}cb(){return this.U.previous()||this.U.first()}db(){return this.U.next()||this.U.last()}}e.HistoryInputBox=a}),define(ee[210],te([1,0,7,276,209,67,6,501,2,241]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const d=v.localize(0,null);class g extends D.Widget{constructor(t,n,a){super(),this.i=!0,this.l=!1,this.s=new C.DisposableStore,this.F=[],this.G=this.q(new y.Emitter),this.onDidOptionChange=this.G.event,this.H=this.q(new y.Emitter),this.onKeyDown=this.H.event,this.I=this.q(new y.Emitter),this.onMouseDown=this.I.event,this.J=this.q(new y.Emitter),this.L=this.q(new y.Emitter),this.M=this.q(new y.Emitter),this.onCaseSensitiveKeyDown=this.M.event,this.N=this.q(new y.Emitter),this.onRegexKeyDown=this.N.event,this.O=0,this.a=a.placeholder||"",this.b=a.validation,this.g=a.label||d,this.h=!!a.showCommonFindToggles;const r=a.appendCaseSensitiveLabel||"",c=a.appendWholeWordsLabel||"",u=a.appendRegexLabel||"",s=a.history||[],l=!!a.flexibleHeight,o=!!a.flexibleWidth,h=a.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this.q(new E.HistoryInputBox(this.domNode,n,{placeholder:this.a||"",ariaLabel:this.g||"",validationOptions:{validation:this.b},history:s,showHistoryHint:a.showHistoryHint,flexibleHeight:l,flexibleWidth:o,flexibleMaxHeight:h,inputBoxStyles:a.inputBoxStyles})),this.h){this.w=this.q(new N.RegexToggle(Object.assign({appendTitle:u,isChecked:!1},a.toggleStyles))),this.q(this.w.onChange(S=>{this.G.fire(S),!S&&this.i&&this.inputBox.focus(),this.validate()})),this.q(this.w.onKeyDown(S=>{this.N.fire(S)})),this.C=this.q(new N.WholeWordsToggle(Object.assign({appendTitle:c,isChecked:!1},a.toggleStyles))),this.q(this.C.onChange(S=>{this.G.fire(S),!S&&this.i&&this.inputBox.focus(),this.validate()})),this.D=this.q(new N.CaseSensitiveToggle(Object.assign({appendTitle:r,isChecked:!1},a.toggleStyles))),this.q(this.D.onChange(S=>{this.G.fire(S),!S&&this.i&&this.inputBox.focus(),this.validate()})),this.q(this.D.onKeyDown(S=>{this.M.fire(S)}));const f=[this.D.domNode,this.C.domNode,this.w.domNode];this.n(this.domNode,S=>{if(S.equals(15)||S.equals(17)||S.equals(9)){const p=f.indexOf(document.activeElement);if(p>=0){let m=-1;S.equals(17)?m=(p+1)%f.length:S.equals(15)&&(p===0?m=f.length-1:m=p-1),S.equals(9)?(f[p].blur(),this.inputBox.focus()):m>=0&&f[m].focus(),w.EventHelper.stop(S,!0)}}})}this.v=document.createElement("div"),this.v.className="controls",this.v.style.display=this.h?"block":"none",this.D&&this.v.append(this.D.domNode),this.C&&this.v.appendChild(this.C.domNode),this.w&&this.v.appendChild(this.w.domNode),this.setAdditionalToggles(a?.additionalToggles),this.v&&this.domNode.appendChild(this.v),t?.appendChild(this.domNode),this.q(w.addDisposableListener(this.inputBox.inputElement,"compositionstart",f=>{this.l=!0})),this.q(w.addDisposableListener(this.inputBox.inputElement,"compositionend",f=>{this.l=!1,this.J.fire()})),this.n(this.inputBox.inputElement,f=>this.H.fire(f)),this.p(this.inputBox.inputElement,f=>this.L.fire(f)),this.u(this.inputBox.inputElement,f=>this.J.fire()),this.j(this.inputBox.inputElement,f=>this.I.fire(f))}get onDidChange(){return this.inputBox.onDidChange}enable(){var t,n,a;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(t=this.w)===null||t===void 0||t.enable(),(n=this.C)===null||n===void 0||n.enable(),(a=this.D)===null||a===void 0||a.enable();for(const r of this.F)r.enable()}disable(){var t,n,a;this.domNode.classList.add("disabled"),this.inputBox.disable(),(t=this.w)===null||t===void 0||t.disable(),(n=this.C)===null||n===void 0||n.disable(),(a=this.D)===null||a===void 0||a.disable();for(const r of this.F)r.disable()}setFocusInputOnOptionClick(t){this.i=t}setEnabled(t){t?this.enable():this.disable()}setAdditionalToggles(t){var n,a,r,c,u,s;for(const l of this.F)l.domNode.remove();this.F=[],this.s.dispose(),this.s=new C.DisposableStore;for(const l of t??[])this.s.add(l),this.v.appendChild(l.domNode),this.s.add(l.onChange(o=>{this.G.fire(o),!o&&this.i&&this.inputBox.focus()})),this.F.push(l);this.F.length>0&&(this.v.style.display="block"),this.inputBox.paddingRight=((a=(n=this.D)===null||n===void 0?void 0:n.width())!==null&&a!==void 0?a:0)+((c=(r=this.C)===null||r===void 0?void 0:r.width())!==null&&c!==void 0?c:0)+((s=(u=this.w)===null||u===void 0?void 0:u.width())!==null&&s!==void 0?s:0)+this.F.reduce((l,o)=>l+o.width(),0)}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var t,n;return(n=(t=this.D)===null||t===void 0?void 0:t.checked)!==null&&n!==void 0?n:!1}setCaseSensitive(t){this.D&&(this.D.checked=t)}getWholeWords(){var t,n;return(n=(t=this.C)===null||t===void 0?void 0:t.checked)!==null&&n!==void 0?n:!1}setWholeWords(t){this.C&&(this.C.checked=t)}getRegex(){var t,n;return(n=(t=this.w)===null||t===void 0?void 0:t.checked)!==null&&n!==void 0?n:!1}setRegex(t){this.w&&(this.w.checked=t,this.validate())}focusOnCaseSensitive(){var t;(t=this.D)===null||t===void 0||t.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this.O),this.O=1-this.O,this.domNode.classList.add("highlight-"+this.O)}validate(){this.inputBox.validate()}showMessage(t){this.inputBox.showMessage(t)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=g}),define(ee[532],te([1,0,7,139,209,67,27,6,503,241]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const d=C.localize(0,null),g=C.localize(1,null);class i extends N.Toggle{constructor(a){super({icon:y.Codicon.preserveCase,title:g+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class t extends D.Widget{constructor(a,r,c,u){super(),this.F=c,this.i=!0,this.r=0,this.s=this.q(new v.Emitter),this.onDidOptionChange=this.s.event,this.t=this.q(new v.Emitter),this.onKeyDown=this.t.event,this.v=this.q(new v.Emitter),this.w=this.q(new v.Emitter),this.C=this.q(new v.Emitter),this.D=this.q(new v.Emitter),this.onPreserveCaseKeyDown=this.D.event,this.a=r,this.b=u.placeholder||"",this.g=u.validation,this.h=u.label||d;const s=u.appendPreserveCaseLabel||"",l=u.history||[],o=!!u.flexibleHeight,h=!!u.flexibleWidth,f=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this.q(new E.HistoryInputBox(this.domNode,this.a,{ariaLabel:this.h||"",placeholder:this.b||"",validationOptions:{validation:this.g},history:l,showHistoryHint:u.showHistoryHint,flexibleHeight:o,flexibleWidth:h,flexibleMaxHeight:f,inputBoxStyles:u.inputBoxStyles})),this.l=this.q(new i(Object.assign({appendTitle:s,isChecked:!1},u.toggleStyles))),this.q(this.l.onChange(m=>{this.s.fire(m),!m&&this.i&&this.inputBox.focus(),this.validate()})),this.q(this.l.onKeyDown(m=>{this.D.fire(m)})),this.F?this.r=this.l.width():this.r=0;const S=[this.l.domNode];this.n(this.domNode,m=>{if(m.equals(15)||m.equals(17)||m.equals(9)){const b=S.indexOf(document.activeElement);if(b>=0){let L=-1;m.equals(17)?L=(b+1)%S.length:m.equals(15)&&(b===0?L=S.length-1:L=b-1),m.equals(9)?(S[b].blur(),this.inputBox.focus()):L>=0&&S[L].focus(),w.EventHelper.stop(m,!0)}}});const p=document.createElement("div");p.className="controls",p.style.display=this.F?"block":"none",p.appendChild(this.l.domNode),this.domNode.appendChild(p),a?.appendChild(this.domNode),this.n(this.inputBox.inputElement,m=>this.t.fire(m)),this.p(this.inputBox.inputElement,m=>this.C.fire(m)),this.u(this.inputBox.inputElement,m=>this.w.fire()),this.j(this.inputBox.inputElement,m=>this.v.fire(m))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.l.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.l.disable()}setEnabled(a){a?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.l.checked}setPreserveCase(a){this.l.checked=a}focusOnPreserve(){this.l.focus()}validate(){var a;(a=this.inputBox)===null||a===void 0||a.validate()}set width(a){this.inputBox.paddingRight=this.r,this.domNode.style.width=a+"px"}dispose(){super.dispose()}}e.ReplaceInput=t}),define(ee[533],te([1,0,44,60,7,45,66,68,140,269,74,41,12,27,31,111,2,16,9]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(L){L[L.Right=0]="Right",L[L.Left=1]="Left"})(l=e.Direction||(e.Direction={}));class o extends v.ActionBar{constructor(k,I,M,B){k.classList.add("monaco-menu-container"),k.setAttribute("role","presentation");const z=document.createElement("div");z.classList.add("monaco-menu"),z.setAttribute("role","presentation"),super(z,{orientation:1,actionViewItemProvider:T=>this.ab(T,M,P),context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.S=B,this.Q=z,this.u.tabIndex=0,this.O=this.q(new c.DisposableStore),this.U(k,B),this.q(N.Gesture.addTarget(z)),(0,E.addDisposableListener)(z,E.EventType.KEY_DOWN,T=>{new D.StandardKeyboardEvent(T).equals(2)&&T.preventDefault()}),M.enableMnemonics&&this.O.add((0,E.addDisposableListener)(z,E.EventType.KEY_DOWN,T=>{const O=T.key.toLocaleLowerCase();if(this.N.has(O)){E.EventHelper.stop(T,!0);const F=this.N.get(O);if(F.length===1&&(F[0]instanceof f&&F[0].container&&this.X(F[0].container),F[0].onClick(T)),F.length>1){const W=F.shift();W&&W.container&&(this.X(W.container),F.push(W)),this.N.set(O,F)}}})),u.isLinux&&this.q((0,E.addDisposableListener)(z,E.EventType.KEY_DOWN,T=>{const O=new D.StandardKeyboardEvent(T);O.equals(14)||O.equals(11)?(this.p=this.viewItems.length-1,this.I(),E.EventHelper.stop(T,!0)):(O.equals(13)||O.equals(12))&&(this.p=0,this.J(),E.EventHelper.stop(T,!0))})),this.q((0,E.addDisposableListener)(this.domNode,E.EventType.MOUSE_OUT,T=>{const O=T.relatedTarget;(0,E.isAncestor)(O,this.domNode)||(this.p=void 0,this.L(),T.stopPropagation())})),this.q((0,E.addDisposableListener)(this.u,E.EventType.MOUSE_OVER,T=>{let O=T.target;if(!(!O||!(0,E.isAncestor)(O,this.u)||O===this.u)){for(;O.parentElement!==this.u&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const F=this.p;this.Y(O),F!==this.p&&this.L()}}})),this.q(N.Gesture.addTarget(this.u)),this.q((0,E.addDisposableListener)(this.u,N.EventType.Tap,T=>{let O=T.initialTarget;if(!(!O||!(0,E.isAncestor)(O,this.u)||O===this.u)){for(;O.parentElement!==this.u&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const F=this.p;this.Y(O),F!==this.p&&this.L()}}}));const P={parent:this};this.N=new Map,this.P=this.q(new g.DomScrollableElement(z,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const A=this.P.getDomNode();A.style.position="",this.W(A,B),this.q((0,E.addDisposableListener)(z,N.EventType.Change,T=>{E.EventHelper.stop(T,!0);const O=this.P.getScrollPosition().scrollTop;this.P.setScrollPosition({scrollTop:O-T.translationY})})),this.q((0,E.addDisposableListener)(A,E.EventType.MOUSE_UP,T=>{T.preventDefault()})),z.style.maxHeight=`${Math.max(10,window.innerHeight-k.getBoundingClientRect().top-35)}px`,I=I.filter(T=>{var O;return!((O=M.submenuIds)===null||O===void 0)&&O.has(T.id)?(console.warn(`Found submenu cycle: ${T.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),k.appendChild(this.P.getDomNode()),this.P.scanDomNode(),this.viewItems.filter(T=>!(T instanceof S)).forEach((T,O,F)=>{T.updatePositionInSet(O+1,F.length)})}U(k,I){this.R||((0,E.isInShadowDOM)(k)?this.R=(0,E.createStyleSheet)(k):(o.globalStyleSheet||(o.globalStyleSheet=(0,E.createStyleSheet)()),this.R=o.globalStyleSheet)),this.R.textContent=b(I,(0,E.isInShadowDOM)(k))}W(k,I){var M,B;const z=(M=I.foregroundColor)!==null&&M!==void 0?M:"",P=(B=I.backgroundColor)!==null&&B!==void 0?B:"",A=I.borderColor?`1px solid ${I.borderColor}`:"",T="5px",O=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";k.style.outline=A,k.style.borderRadius=T,k.style.color=z,k.style.backgroundColor=P,k.style.boxShadow=O}getContainer(){return this.P.getDomNode()}get onScroll(){return this.P.onScroll}X(k){const I=this.p;this.Y(k),I!==this.p&&this.L()}Y(k){for(let I=0;I<this.u.children.length;I++){const M=this.u.children[I];if(k===M){this.p=I;break}}}L(k){super.L(k,!0,!0),typeof this.p<"u"&&this.P.setScrollPosition({scrollTop:Math.round(this.Q.scrollTop)})}ab(k,I,M){if(k instanceof i.Separator)return new S(I.context,k,{icon:!0},this.S);if(k instanceof i.SubmenuAction){const B=new f(k,k.actions,M,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],k.id])}),this.S);if(I.enableMnemonics){const z=B.getMnemonic();if(z&&B.isEnabled()){let P=[];this.N.has(z)&&(P=this.N.get(z)),P.push(B),this.N.set(z,P)}}return B}else{const B={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const P=I.getKeyBinding(k);if(P){const A=P.getLabel();A&&(B.keybinding=A)}}const z=new h(I.context,k,B,this.S);if(I.enableMnemonics){const P=z.getMnemonic();if(P&&z.isEnabled()){let A=[];this.N.has(P)&&(A=this.N.get(P)),A.push(z),this.N.set(P,A)}}return z}}}e.Menu=o;class h extends C.BaseActionViewItem{constructor(k,I,M,B){if(M.isMenu=!0,super(I,I,M),this.C=B,this.l=M,this.l.icon=M.icon!==void 0?M.icon:!1,this.l.label=M.label!==void 0?M.label:!0,this.B="",this.l.label&&M.enableMnemonics){const z=this.action.label;if(z){const P=e.MENU_MNEMONIC_REGEX.exec(z);P&&(this.z=(P[1]?P[1]:P[3]).toLocaleLowerCase())}}this.k=new t.RunOnceScheduler(()=>{!this.element||(this.q((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_UP,z=>{if(E.EventHelper.stop(z,!0),w.isFirefox){if(new y.StandardMouseEvent(z).rightButton)return;this.onClick(z)}else setTimeout(()=>{this.onClick(z)},0)})),this.q((0,E.addDisposableListener)(this.element,E.EventType.CONTEXT_MENU,z=>{E.EventHelper.stop(z,!0)})))},100),this.q(this.k)}render(k){super.render(k),this.element&&(this.container=k,this.h=(0,E.append)(this.element,(0,E.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.h.setAttribute("role","presentation"):(this.h.setAttribute("role","menuitem"),this.z&&this.h.setAttribute("aria-keyshortcuts",`${this.z}`)),this.y=(0,E.append)(this.h,(0,E.$)("span.menu-item-check"+a.ThemeIcon.asCSSSelector(n.Codicon.menuSelection))),this.y.setAttribute("role","none"),this.s=(0,E.append)(this.h,(0,E.$)("span.action-label")),this.l.label&&this.l.keybinding&&((0,E.append)(this.h,(0,E.$)("span.keybinding")).textContent=this.l.keybinding),this.k.schedule(),this.v(),this.p(),this.t(),this.n(),this.w(),this.J())}blur(){super.blur(),this.J()}focus(){var k;super.focus(),(k=this.h)===null||k===void 0||k.focus(),this.J()}updatePositionInSet(k,I){this.h&&(this.h.setAttribute("aria-posinset",`${k}`),this.h.setAttribute("aria-setsize",`${I}`))}p(){var k;if(!!this.s&&this.l.label){(0,E.clearNode)(this.s);let I=(0,r.stripIcons)(this.action.label);if(I){const M=p(I);this.l.enableMnemonics||(I=M),this.s.setAttribute("aria-label",M.replace(/&&/g,"&"));const B=e.MENU_MNEMONIC_REGEX.exec(I);if(B){I=s.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let z=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;z&&z[1];)z=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const P=A=>A.replace(/&amp;&amp;/g,"&amp;");z?this.s.append(s.ltrim(P(I.substr(0,z.index))," "),(0,E.$)("u",{"aria-hidden":"true"},z[3]),s.rtrim(P(I.substr(z.index+z[0].length))," ")):this.s.innerText=P(I).trim(),(k=this.h)===null||k===void 0||k.setAttribute("aria-keyshortcuts",(B[1]?B[1]:B[3]).toLocaleLowerCase())}else this.s.innerText=I.replace(/&&/g,"&").trim()}}}t(){}v(){this.B&&this.h&&this.h.classList.remove(...this.B.split(" ")),this.l.icon&&this.s?(this.B=this.action.class||"",this.s.classList.add("icon"),this.B&&this.s.classList.add(...this.B.split(" ")),this.n()):this.s&&this.s.classList.remove("icon")}n(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.h&&(this.h.classList.remove("disabled"),this.h.removeAttribute("aria-disabled"),this.h.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.h&&(this.h.classList.add("disabled"),this.h.setAttribute("aria-disabled","true")))}w(){if(!this.h)return;const k=this.action.checked;this.h.classList.toggle("checked",!!k),k!==void 0?(this.h.setAttribute("role","menuitemcheckbox"),this.h.setAttribute("aria-checked",k?"true":"false")):(this.h.setAttribute("role","menuitem"),this.h.setAttribute("aria-checked",""))}getMnemonic(){return this.z}J(){const k=this.element&&this.element.classList.contains("focused"),I=k&&this.C.selectionForegroundColor?this.C.selectionForegroundColor:this.C.foregroundColor,M=k&&this.C.selectionBackgroundColor?this.C.selectionBackgroundColor:void 0,B=k&&this.C.selectionBorderColor?`1px solid ${this.C.selectionBorderColor}`:"",z=k&&this.C.selectionBorderColor?"-1px":"";this.h&&(this.h.style.color=I??"",this.h.style.backgroundColor=M??"",this.h.style.outline=B,this.h.style.outlineOffset=z),this.y&&(this.y.style.color=I??"")}}class f extends h{constructor(k,I,M,B,z){super(k,k,B,z),this.U=I,this.W=M,this.X=B,this.L=null,this.O=this.q(new c.DisposableStore),this.P=!1,this.S=B&&B.expandDirection!==void 0?B.expandDirection:l.Right,this.Q=new t.RunOnceScheduler(()=>{this.P&&(this.Z(!1),this.bb(!1))},250),this.R=new t.RunOnceScheduler(()=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.W.submenu===this.L&&(this.W.parent.focus(!1),this.Z(!0))},750)}render(k){super.render(k),this.element&&(this.h&&(this.h.classList.add("monaco-submenu-item"),this.h.tabIndex=0,this.h.setAttribute("aria-haspopup","true"),this.cb("false"),this.N=(0,E.append)(this.h,(0,E.$)("span.submenu-indicator"+a.ThemeIcon.asCSSSelector(n.Codicon.menuSubmenu))),this.N.setAttribute("aria-hidden","true")),this.q((0,E.addDisposableListener)(this.element,E.EventType.KEY_UP,I=>{const M=new D.StandardKeyboardEvent(I);(M.equals(17)||M.equals(3))&&(E.EventHelper.stop(I,!0),this.bb(!0))})),this.q((0,E.addDisposableListener)(this.element,E.EventType.KEY_DOWN,I=>{const M=new D.StandardKeyboardEvent(I);(0,E.getActiveElement)()===this.h&&(M.equals(17)||M.equals(3))&&E.EventHelper.stop(I,!0)})),this.q((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_OVER,I=>{this.P||(this.P=!0,this.Q.schedule())})),this.q((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_LEAVE,I=>{this.P=!1})),this.q((0,E.addDisposableListener)(this.element,E.EventType.FOCUS_OUT,I=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.R.schedule()})),this.q(this.W.parent.onScroll(()=>{this.W.submenu===this.L&&(this.W.parent.focus(!1),this.Z(!0))})))}n(){}onClick(k){E.EventHelper.stop(k,!0),this.Z(!1),this.bb(!0)}Z(k){if(this.W.submenu&&(k||this.W.submenu!==this.L)){try{this.W.submenu.dispose()}catch{}this.W.submenu=void 0,this.cb("false"),this.M&&(this.O.clear(),this.M=void 0)}}ab(k,I,M,B){const z={top:0,left:0};return z.left=(0,d.layout)(k.width,I.width,{position:B===l.Right?0:1,offset:M.left,size:M.width}),z.left>=M.left&&z.left<M.left+M.width&&(M.left+10+I.width<=k.width&&(z.left=M.left+10),M.top+=10,M.height=0),z.top=(0,d.layout)(k.height,I.height,{position:0,offset:M.top,size:0}),z.top+I.height===M.top&&z.top+M.height+I.height<=k.height&&(z.top+=M.height),z}bb(k=!0){if(!!this.element)if(this.W.submenu)this.W.submenu.focus(!1);else{this.cb("true"),this.M=(0,E.append)(this.element,(0,E.$)("div.monaco-submenu")),this.M.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.W.parent.domNode),M=parseFloat(I.paddingTop||"0")||0;this.M.style.zIndex="1",this.M.style.position="fixed",this.M.style.top="0",this.M.style.left="0",this.W.submenu=new o(this.M,this.U.length?this.U:[new i.EmptySubmenuAction],this.X,this.C);const B=this.element.getBoundingClientRect(),z={top:B.top-M,left:B.left,height:B.height+2*M,width:B.width},P=this.M.getBoundingClientRect(),{top:A,left:T}=this.ab(new E.Dimension(window.innerWidth,window.innerHeight),E.Dimension.lift(P),z,this.S);this.M.style.left=`${T-P.left}px`,this.M.style.top=`${A-P.top}px`,this.O.add((0,E.addDisposableListener)(this.M,E.EventType.KEY_UP,O=>{new D.StandardKeyboardEvent(O).equals(15)&&(E.EventHelper.stop(O,!0),this.W.parent.focus(),this.Z(!0))})),this.O.add((0,E.addDisposableListener)(this.M,E.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(15)&&E.EventHelper.stop(O,!0)})),this.O.add(this.W.submenu.onDidCancel(()=>{this.W.parent.focus(),this.Z(!0)})),this.W.submenu.focus(k),this.L=this.W.submenu}}cb(k){var I;this.h&&((I=this.h)===null||I===void 0||I.setAttribute("aria-expanded",k))}J(){super.J();const I=this.element&&this.element.classList.contains("focused")&&this.C.selectionForegroundColor?this.C.selectionForegroundColor:this.C.foregroundColor;this.N&&(this.N.style.color=I??"")}dispose(){super.dispose(),this.R.dispose(),this.L&&(this.L.dispose(),this.L=null),this.M&&(this.M=void 0)}}class S extends C.ActionViewItem{constructor(k,I,M,B){super(k,I,M),this.g=B}render(k){super.render(k),this.s&&(this.s.style.borderBottomColor=this.g.separatorColor?`${this.g.separatorColor}`:"")}}function p(L){const k=e.MENU_MNEMONIC_REGEX,I=k.exec(L);if(!I)return L;const M=!I[1];return L.replace(k,M?"$2$3":"").trim()}e.cleanMnemonic=p;function m(L){const k=(0,n.getCodiconFontCharacters)()[L.id];return`.codicon-${L.id}:before { content: '\\${k.toString(16)}'; }`}e.formatRule=m;function b(L,k){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${m(n.Codicon.menuSelection)}
${m(n.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(k){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const M=L.scrollbarShadow;M&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${M} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${M} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${M} 6px 6px 6px -6px inset;
				}
			`);const B=L.scrollbarSliderBackground;B&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${B};
				}
			`);const z=L.scrollbarSliderHoverBackground;z&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${z};
				}
			`);const P=L.scrollbarSliderActiveBackground;P&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${P};
				}
			`)}return I}}),define(ee[534],te([1,0,68,278,41,27,31,6,2,18,508,368]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class i extends C.Disposable{constructor(a,r,c={orientation:0}){super(),this.m=[],this.n=!1,this.s=this.q(new v.EventMultiplexer),this.onDidChangeDropdownVisibility=this.s.event,this.t=new C.DisposableStore,this.a=c,this.p=typeof this.a.getKeyBinding=="function",this.j=this.q(new t(()=>{var u;return(u=this.l)===null||u===void 0?void 0:u.show()},c.toggleMenuTitle)),this.r=document.createElement("div"),this.r.className="monaco-toolbar",a.appendChild(this.r),this.b=this.q(new w.ActionBar(this.r,{orientation:c.orientation,ariaLabel:c.ariaLabel,actionRunner:c.actionRunner,allowContextMenu:c.allowContextMenu,actionViewItemProvider:(u,s)=>{var l;if(u.id===t.ID)return this.l=new N.DropdownMenuActionViewItem(u,u.menuActions,r,{actionViewItemProvider:this.a.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.a.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((l=c.moreIcon)!==null&&l!==void 0?l:D.Codicon.toolBarMore),anchorAlignmentProvider:this.a.anchorAlignmentProvider,menuAsChild:!!this.a.renderDropdownAsChildElement}),this.l.setActionContext(this.b.context),this.t.add(this.s.add(this.l.onDidChangeVisibility)),this.l;if(c.actionViewItemProvider){const o=c.actionViewItemProvider(u,s);if(o)return o}if(u instanceof E.SubmenuAction){const o=new N.DropdownMenuActionViewItem(u,u.actions,r,{actionViewItemProvider:this.a.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.a.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.a.anchorAlignmentProvider,menuAsChild:!!this.a.renderDropdownAsChildElement});return o.setActionContext(this.b.context),this.m.push(o),this.t.add(this.s.add(o.onDidChangeVisibility)),o}}}))}set actionRunner(a){this.b.actionRunner=a}get actionRunner(){return this.b.actionRunner}getElement(){return this.r}getItemAction(a){return this.b.getAction(a)}setActions(a,r){this.v();const c=a?a.slice(0):[];this.n=!!(r&&r.length>0),this.n&&r&&(this.j.menuActions=r.slice(0),c.push(this.j)),c.forEach(u=>{this.b.push(u,{icon:!0,label:!1,keybinding:this.u(u)})})}u(a){var r,c;const u=this.p?(c=(r=this.a).getKeyBinding)===null||c===void 0?void 0:c.call(r,a):void 0;return(0,d.withNullAsUndefined)(u?.getLabel())}v(){this.m=[],this.t.clear(),this.b.clear()}dispose(){this.v(),super.dispose()}}e.ToolBar=i;class t extends E.Action{constructor(a,r){r=r||g.localize(0,null),super(t.ID,r,void 0,!0),this.s=[],this.t=a}run(){return Le(this,void 0,void 0,function*(){this.t()})}get menuActions(){return this.s}set menuActions(a){this.s=a}}t.ID="toolbar.toggle.more",e.ToggleMenuAction=t}),define(ee[168],te([1,0,7,81,45,68,210,209,208,105,139,200,125,41,17,12,27,31,341,6,63,2,128,18,509,369]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class m extends C.ElementsDragAndDropData{constructor(x){super(x.elements.map(q=>q.element)),this.c=x}}function b(J){return J instanceof C.ElementsDragAndDropData?new m(J):J}class L{constructor(x,q){this.c=x,this.d=q,this.b=h.Disposable.None}getDragURI(x){return this.d.getDragURI(x.element)}getDragLabel(x,q){if(this.d.getDragLabel)return this.d.getDragLabel(x.map(Y=>Y.element),q)}onDragStart(x,q){var Y,Q;(Q=(Y=this.d).onDragStart)===null||Q===void 0||Q.call(Y,b(x),q)}onDragOver(x,q,Y,Q,re=!0){const oe=this.d.onDragOver(b(x),q&&q.element,Y,Q),G=this.a!==q;if(G&&(this.b.dispose(),this.a=q),typeof q>"u")return oe;if(G&&typeof oe!="boolean"&&oe.autoExpand&&(this.b=(0,r.disposableTimeout)(()=>{const _=this.c(),ce=_.getNodeLocation(q);_.isCollapsed(ce)&&_.setCollapsed(ce,!1),this.a=void 0},500)),typeof oe=="boolean"||!oe.accept||typeof oe.bubble>"u"||oe.feedback){if(!re){const _=typeof oe=="boolean"?oe:oe.accept,ce=typeof oe=="boolean"?void 0:oe.effect;return{accept:_,effect:ce,feedback:[Y]}}return oe}if(oe.bubble===1){const _=this.c(),ce=_.getNodeLocation(q),ue=_.getParentNodeLocation(ce),se=_.getNode(ue),he=ue&&_.getListIndex(ue);return this.onDragOver(x,se,he,Q,!1)}const Z=this.c(),U=Z.getNodeLocation(q),j=Z.getListIndex(U),H=Z.getListRenderCount(U);return Object.assign(Object.assign({},oe),{feedback:(0,a.range)(j,j+H)})}drop(x,q,Y,Q){this.b.dispose(),this.a=void 0,this.d.drop(b(x),q&&q.element,Y,Q)}onDragEnd(x){var q,Y;(Y=(q=this.d).onDragEnd)===null||Y===void 0||Y.call(q,x)}}function k(J,x){return x&&Object.assign(Object.assign({},x),{identityProvider:x.identityProvider&&{getId(q){return x.identityProvider.getId(q.element)}},dnd:x.dnd&&new L(J,x.dnd),multipleSelectionController:x.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return x.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))},isSelectionRangeChangeEvent(q){return x.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))}},accessibilityProvider:x.accessibilityProvider&&Object.assign(Object.assign({},x.accessibilityProvider),{getSetSize(q){const Y=J(),Q=Y.getNodeLocation(q),re=Y.getParentNodeLocation(Q);return Y.getNode(re).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:x.accessibilityProvider&&x.accessibilityProvider.isChecked?q=>x.accessibilityProvider.isChecked(q.element):void 0,getRole:x.accessibilityProvider&&x.accessibilityProvider.getRole?q=>x.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return x.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return x.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:x.accessibilityProvider&&x.accessibilityProvider.getWidgetRole?()=>x.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:x.accessibilityProvider&&x.accessibilityProvider.getAriaLevel?q=>x.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:x.accessibilityProvider.getActiveDescendantId&&(q=>x.accessibilityProvider.getActiveDescendantId(q.element))}),keyboardNavigationLabelProvider:x.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},x.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(q){return x.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}})})}class I{constructor(x){this.a=x}getHeight(x){return this.a.getHeight(x.element)}getTemplateId(x){return this.a.getTemplateId(x.element)}hasDynamicHeight(x){return!!this.a.hasDynamicHeight&&this.a.hasDynamicHeight(x.element)}setDynamicHeight(x,q){var Y,Q;(Q=(Y=this.a).setDynamicHeight)===null||Q===void 0||Q.call(Y,x.element,q)}}e.ComposedTreeDelegate=I;var M;(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(M=e.RenderIndentGuides||(e.RenderIndentGuides={}));class B{get elements(){return this.b}constructor(x,q=[]){this.b=q,this.a=new h.DisposableStore,this.onDidChange=l.Event.forEach(x,Y=>this.b=Y,this.a)}dispose(){this.a.dispose()}}class z{constructor(x,q,Y,Q,re,oe={}){var G;this.n=x,this.o=q,this.p=Q,this.q=re,this.b=new Map,this.c=new Map,this.d=z.a,this.f=!1,this.g=!1,this.j=new Set,this.k=h.Disposable.None,this.m=new h.DisposableStore,this.templateId=x.templateId,this.updateOptions(oe),l.Event.map(Y,Z=>Z.node)(this.t,this,this.m),(G=x.onDidChangeTwistieState)===null||G===void 0||G.call(x,this.s,this,this.m)}updateOptions(x={}){if(typeof x.indent<"u"){const q=(0,f.clamp)(x.indent,0,40);if(q!==this.d){this.d=q;for(const[Y,Q]of this.c)this.u(Y,Q)}}if(typeof x.renderIndentGuides<"u"){const q=x.renderIndentGuides!==M.None;if(q!==this.g){this.g=q;for(const[Y,Q]of this.c)this.v(Y,Q);if(this.k.dispose(),q){const Y=new h.DisposableStore;this.p.onDidChange(this.w,this,Y),this.k=Y,this.w(this.p.elements)}}}typeof x.hideTwistiesOfChildlessElements<"u"&&(this.f=x.hideTwistiesOfChildlessElements)}renderTemplate(x){const q=(0,w.append)(x,(0,w.$)(".monaco-tl-row")),Y=(0,w.append)(q,(0,w.$)(".monaco-tl-indent")),Q=(0,w.append)(q,(0,w.$)(".monaco-tl-twistie")),re=(0,w.append)(q,(0,w.$)(".monaco-tl-contents")),oe=this.n.renderTemplate(re);return{container:x,indent:Y,twistie:Q,indentGuidesDisposable:h.Disposable.None,templateData:oe}}renderElement(x,q,Y,Q){this.c.set(x,Y),this.b.set(x.element,x),this.u(x,Y),this.n.renderElement(x,q,Y.templateData,Q)}disposeElement(x,q,Y,Q){var re,oe;Y.indentGuidesDisposable.dispose(),(oe=(re=this.n).disposeElement)===null||oe===void 0||oe.call(re,x,q,Y.templateData,Q),typeof Q=="number"&&(this.c.delete(x),this.b.delete(x.element))}disposeTemplate(x){this.n.disposeTemplate(x.templateData)}s(x){const q=this.b.get(x);!q||this.t(q)}t(x){const q=this.c.get(x);!q||(this.w(this.p.elements),this.u(x,q))}u(x,q){const Y=z.a+(x.depth-1)*this.d;q.twistie.style.paddingLeft=`${Y}px`,q.indent.style.width=`${Y+this.d-16}px`,x.collapsible?q.container.setAttribute("aria-expanded",String(!x.collapsed)):q.container.removeAttribute("aria-expanded"),q.twistie.classList.remove(...u.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded));let Q=!1;this.n.renderTwistie&&(Q=this.n.renderTwistie(x.element,q.twistie)),x.collapsible&&(!this.f||x.visibleChildrenCount>0)?(Q||q.twistie.classList.add(...u.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded)),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",x.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),this.v(x,q)}v(x,q){if((0,w.clearNode)(q.indent),q.indentGuidesDisposable.dispose(),!this.g)return;const Y=new h.DisposableStore,Q=this.o();for(;;){const re=Q.getNodeLocation(x),oe=Q.getParentNodeLocation(re);if(!oe)break;const G=Q.getNode(oe),Z=(0,w.$)(".indent-guide",{style:`width: ${this.d}px`});this.j.has(G)&&Z.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(Z):q.indent.insertBefore(Z,q.indent.firstElementChild),this.q.add(G,Z),Y.add((0,h.toDisposable)(()=>this.q.delete(G,Z))),x=G}q.indentGuidesDisposable=Y}w(x){if(!this.g)return;const q=new Set,Y=this.o();x.forEach(Q=>{const re=Y.getNodeLocation(Q);try{const oe=Y.getParentNodeLocation(re);Q.collapsible&&Q.children.length>0&&!Q.collapsed?q.add(Q):oe&&q.add(Y.getNode(oe))}catch{}}),this.j.forEach(Q=>{q.has(Q)||this.q.forEach(Q,re=>re.classList.remove("active"))}),q.forEach(Q=>{this.j.has(Q)||this.q.forEach(Q,re=>re.classList.add("active"))}),this.j=q}dispose(){this.c.clear(),this.b.clear(),this.k.dispose(),(0,h.dispose)(this.m)}}z.a=8;class P{get totalCount(){return this.a}get matchCount(){return this.b}constructor(x,q,Y){this.g=x,this.j=q,this.k=Y,this.a=0,this.b=0,this.c="",this.d="",this.f=new h.DisposableStore,x.onWillRefilter(this.m,this,this.f)}filter(x,q){let Y=1;if(this.k){const oe=this.k.filter(x,q);if(typeof oe=="boolean"?Y=oe?1:0:(0,i.isFilterResult)(oe)?Y=(0,i.getVisibleState)(oe.visibility):Y=oe,Y===0)return!1}if(this.a++,!this.c)return this.b++,{data:o.FuzzyScore.Default,visibility:Y};const Q=this.j.getKeyboardNavigationLabel(x),re=Array.isArray(Q)?Q:[Q];for(const oe of re){const G=oe&&oe.toString();if(typeof G>"u")return{data:o.FuzzyScore.Default,visibility:Y};let Z;if(this.g.findMatchType===W.Contiguous){const U=G.toLowerCase().indexOf(this.d);if(U>-1){Z=[Number.MAX_SAFE_INTEGER,0];for(let j=this.d.length;j>0;j--)Z.push(U+j-1)}}else Z=(0,o.fuzzyScore)(this.c,this.d,0,G,G.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Z)return this.b++,re.length===1?{data:Z,visibility:Y}:{data:{label:G,score:Z},visibility:Y}}return this.g.findMode===F.Filter?typeof this.g.options.defaultFindVisibility=="number"?this.g.options.defaultFindVisibility:this.g.options.defaultFindVisibility?this.g.options.defaultFindVisibility(x):2:{data:o.FuzzyScore.Default,visibility:Y}}m(){this.a=0,this.b=0}dispose(){(0,h.dispose)(this.f)}}class A extends g.Toggle{constructor(x){var q;super({icon:c.Codicon.listFilter,title:(0,p.localize)(0,null),isChecked:(q=x.isChecked)!==null&&q!==void 0?q:!1,inputActiveOptionBorder:x.inputActiveOptionBorder,inputActiveOptionForeground:x.inputActiveOptionForeground,inputActiveOptionBackground:x.inputActiveOptionBackground})}}e.ModeToggle=A;class T extends g.Toggle{constructor(x){var q;super({icon:c.Codicon.searchFuzzy,title:(0,p.localize)(1,null),isChecked:(q=x.isChecked)!==null&&q!==void 0?q:!1,inputActiveOptionBorder:x.inputActiveOptionBorder,inputActiveOptionForeground:x.inputActiveOptionForeground,inputActiveOptionBackground:x.inputActiveOptionBackground})}}e.FuzzyToggle=T;const O={inputBoxStyles:v.unthemedInboxStyles,toggleStyles:g.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var F;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(F=e.TreeFindMode||(e.TreeFindMode={}));var W;(function(J){J[J.Fuzzy=0]="Fuzzy",J[J.Contiguous=1]="Contiguous"})(W=e.TreeFindMatchType||(e.TreeFindMatchType={}));class V extends h.Disposable{set mode(x){this.b.checked=x===F.Filter,this.g.inputBox.setPlaceHolder(x===F.Filter?(0,p.localize)(2,null):(0,p.localize)(3,null))}set matchType(x){this.c.checked=x===W.Fuzzy}constructor(x,q,Y,Q,re,oe){var G;super(),this.p=q,this.a=(0,w.h)(".monaco-tree-type-filter",[(0,w.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,w.h)(".monaco-tree-type-filter-input@findInput"),(0,w.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.k=0,this.m=0,this.n=0,this._onDidDisable=new l.Emitter,x.appendChild(this.a.root),this.q((0,h.toDisposable)(()=>x.removeChild(this.a.root)));const Z=(G=oe?.styles)!==null&&G!==void 0?G:O;Z.listFilterWidgetBackground&&(this.a.root.style.backgroundColor=Z.listFilterWidgetBackground),Z.listFilterWidgetShadow&&(this.a.root.style.boxShadow=`0 0 8px 2px ${Z.listFilterWidgetShadow}`),this.b=this.q(new A(Object.assign(Object.assign({},Z.toggleStyles),{isChecked:Q===F.Filter}))),this.c=this.q(new T(Object.assign(Object.assign({},Z.toggleStyles),{isChecked:re===W.Fuzzy}))),this.onDidChangeMode=l.Event.map(this.b.onChange,()=>this.b.checked?F.Filter:F.Highlight,this.f),this.onDidChangeMatchType=l.Event.map(this.c.onChange,()=>this.c.checked?W.Fuzzy:W.Contiguous,this.f),this.g=this.q(new y.FindInput(this.a.findInput,Y,{label:(0,p.localize)(4,null),additionalToggles:[this.b,this.c],showCommonFindToggles:!1,inputBoxStyles:Z.inputBoxStyles,toggleStyles:Z.toggleStyles,history:oe?.history})),this.j=this.q(new D.ActionBar(this.a.actionbar)),this.mode=Q;const U=this.q(new N.DomEmitter(this.g.inputBox.inputElement,"keydown")),j=this.q(l.Event.chain(U.event)).map(ue=>new E.StandardKeyboardEvent(ue)).event;this.q(j(ue=>{if(ue.equals(3)){ue.preventDefault(),ue.stopPropagation(),this.g.inputBox.addToHistory(),this.p.domFocus();return}if(ue.equals(18)){ue.preventDefault(),ue.stopPropagation(),this.g.inputBox.isAtLastInHistory()||this.g.inputBox.isNowhereInHistory()?(this.g.inputBox.addToHistory(),this.p.domFocus()):this.g.inputBox.showNextValue();return}if(ue.equals(16)){ue.preventDefault(),ue.stopPropagation(),this.g.inputBox.showPreviousValue();return}}));const H=this.q(new n.Action("close",(0,p.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.j.push(H,{icon:!0,label:!1});const _=this.q(new N.DomEmitter(this.a.grab,"mousedown"));this.q(_.event(ue=>{const se=new h.DisposableStore,he=se.add(new N.DomEmitter(window,"mousemove")),me=se.add(new N.DomEmitter(window,"mouseup")),Se=this.m,ye=ue.pageX,ke=this.n,Te=ue.pageY;this.a.grab.classList.add("grabbing");const Pe=this.a.root.style.transition;this.a.root.style.transition="unset";const Ie=ve=>{const ge=ve.pageX-ye;this.m=Se-ge;const we=ve.pageY-Te;this.n=ke+we,this.layout()};se.add(he.event(Ie)),se.add(me.event(ve=>{Ie(ve),this.a.grab.classList.remove("grabbing"),this.a.root.style.transition=Pe,se.dispose()}))}));const ce=this.q(l.Event.chain(this.q(new N.DomEmitter(this.a.grab,"keydown")).event)).map(ue=>new E.StandardKeyboardEvent(ue)).event;this.q(ce(ue=>{let se,he;if(ue.keyCode===15?se=Number.POSITIVE_INFINITY:ue.keyCode===17?se=0:ue.keyCode===10&&(se=this.m===0?Number.POSITIVE_INFINITY:0),ue.keyCode===16?he=0:ue.keyCode===18&&(he=Number.POSITIVE_INFINITY),se!==void 0&&(ue.preventDefault(),ue.stopPropagation(),this.m=se,this.layout()),he!==void 0){ue.preventDefault(),ue.stopPropagation(),this.n=he;const me=this.a.root.style.transition;this.a.root.style.transition="unset",this.layout(),setTimeout(()=>{this.a.root.style.transition=me},0)}})),this.onDidChangeValue=this.g.onDidChange}layout(x=this.k){this.k=x,this.m=(0,f.clamp)(this.m,0,Math.max(0,x-212)),this.a.root.style.right=`${this.m}px`,this.n=(0,f.clamp)(this.n,0,24),this.a.root.style.top=`${this.n}px`}showMessage(x){this.g.showMessage(x)}clearMessage(){this.g.clearMessage()}dispose(){const x=Object.create(null,{dispose:{get:()=>super.dispose}});return Le(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.a.root.classList.add("disabled"),yield(0,r.timeout)(300),x.dispose.call(this)})}}class R{get pattern(){return this.b}get mode(){return this.c}set mode(x){x!==this.c&&(this.c=x,this.f&&(this.f.mode=this.c),this.q.refilter(),this.x(),this.j.fire(x))}get matchType(){return this.d}set matchType(x){x!==this.d&&(this.d=x,this.f&&(this.f.matchType=this.d),this.q.refilter(),this.x(),this.k.fire(x))}constructor(x,q,Y,Q,re,oe={}){var G,Z;this.q=x,this.s=Y,this.t=Q,this.u=re,this.v=oe,this.b="",this.g=0,this.j=new l.Emitter,this.onDidChangeMode=this.j.event,this.k=new l.Emitter,this.onDidChangeMatchType=this.k.event,this.m=new l.Emitter,this.n=new l.Emitter,this.onDidChangeOpenState=this.n.event,this.o=new h.DisposableStore,this.p=new h.DisposableStore,this.c=(G=x.options.defaultFindMode)!==null&&G!==void 0?G:F.Highlight,this.d=(Z=x.options.defaultFindMatchType)!==null&&Z!==void 0?Z:W.Fuzzy,q.onDidSplice(this.w,this,this.p)}updateOptions(x={}){x.defaultFindMode!==void 0&&(this.mode=x.defaultFindMode),x.defaultFindMatchType!==void 0&&(this.matchType=x.defaultFindMatchType)}w(){!this.f||this.pattern.length===0||(this.q.refilter(),this.x())}x(){var x,q,Y,Q;const re=this.t.totalCount>0&&this.t.matchCount===0;this.pattern&&re?!((x=this.q.options.showNotFoundMessage)!==null&&x!==void 0)||x?(q=this.f)===null||q===void 0||q.showMessage({type:2,content:(0,p.localize)(6,null)}):(Y=this.f)===null||Y===void 0||Y.showMessage({type:2}):(Q=this.f)===null||Q===void 0||Q.clearMessage()}shouldAllowFocus(x){return!this.f||!this.pattern||this.c===F.Filter||this.t.totalCount>0&&this.t.matchCount<=1?!0:!o.FuzzyScore.isDefault(x.filterData)}layout(x){var q;this.g=x,(q=this.f)===null||q===void 0||q.layout(x)}dispose(){this.a=void 0,this.m.dispose(),this.o.dispose(),this.p.dispose()}}function $(J){let x=t.TreeMouseEventTarget.Unknown;return(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?x=t.TreeMouseEventTarget.Twistie:(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?x=t.TreeMouseEventTarget.Element:(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(x=t.TreeMouseEventTarget.Filter),{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:x}}function X(J,x){x(J),J.children.forEach(q=>X(q,x))}class ne{get f(){return this.d||(this.d=this.m()),this.d}constructor(x,q){this.g=x,this.j=q,this.a=[],this.c=new l.Emitter,this.onDidChange=this.c.event}set(x,q){!q?.__forceEvent&&(0,a.equals)(this.a,x)||this.k(x,!1,q)}k(x,q,Y){if(this.a=[...x],this.b=void 0,this.d=void 0,!q){const Q=this;this.c.fire({get elements(){return Q.get()},browserEvent:Y})}}get(){return this.b||(this.b=this.a.map(x=>x.element)),[...this.b]}getNodes(){return this.a}has(x){return this.f.has(x)}onDidModelSplice({insertedNodes:x,deletedNodes:q}){if(!this.j){const Z=this.m(),U=j=>Z.delete(j);q.forEach(j=>X(j,U)),this.set([...Z.values()]);return}const Y=new Set,Q=Z=>Y.add(this.j.getId(Z.element).toString());q.forEach(Z=>X(Z,Q));const re=new Map,oe=Z=>re.set(this.j.getId(Z.element).toString(),Z);x.forEach(Z=>X(Z,oe));const G=[];for(const Z of this.a){const U=this.j.getId(Z.element).toString();if(!Y.has(U))G.push(Z);else{const H=re.get(U);H&&G.push(H)}}if(this.a.length>0&&G.length===0){const Z=this.g();Z&&G.push(Z)}this.k(G,!0)}m(){const x=new Set;for(const q of this.a)x.add(q);return x}}class ae extends d.MouseController{constructor(x,q){super(x),this.z=q}u(x){if((0,d.isButton)(x.browserEvent.target)||(0,d.isInputElement)(x.browserEvent.target)||(0,d.isMonacoEditor)(x.browserEvent.target))return;const q=x.element;if(!q)return super.u(x);if(this.p(x)||this.o(x))return super.u(x);const Y=x.browserEvent.target,Q=Y.classList.contains("monaco-tl-twistie")||Y.classList.contains("monaco-icon-label")&&Y.classList.contains("folder-icon")&&x.browserEvent.offsetX<16;let re=!1;if(typeof this.z.expandOnlyOnTwistieClick=="function"?re=this.z.expandOnlyOnTwistieClick(q.element):re=!!this.z.expandOnlyOnTwistieClick,re&&!Q&&x.browserEvent.detail!==2)return super.u(x);if(!this.z.expandOnDoubleClick&&x.browserEvent.detail===2)return super.u(x);if(q.collapsible){const oe=this.z.getNodeLocation(q),G=x.browserEvent.altKey;if(this.z.setFocus([oe]),this.z.toggleCollapsed(oe,G),re&&Q)return}super.u(x)}v(x){x.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.z.expandOnDoubleClick||super.v(x)}}class ie extends d.List{constructor(x,q,Y,Q,re,oe,G,Z){super(x,q,Y,Q,Z),this.K=re,this.L=oe,this.M=G}D(x){return new ae(this,x.tree)}splice(x,q,Y=[]){if(super.splice(x,q,Y),Y.length===0)return;const Q=[],re=[];let oe;Y.forEach((G,Z)=>{this.K.has(G)&&Q.push(x+Z),this.L.has(G)&&re.push(x+Z),this.M.has(G)&&(oe=x+Z)}),Q.length>0&&super.setFocus((0,a.distinct)([...super.getFocus(),...Q])),re.length>0&&super.setSelection((0,a.distinct)([...super.getSelection(),...re])),typeof oe=="number"&&super.setAnchor(oe)}setFocus(x,q,Y=!1){super.setFocus(x,q),Y||this.K.set(x.map(Q=>this.element(Q)),q)}setSelection(x,q,Y=!1){super.setSelection(x,q),Y||this.L.set(x.map(Q=>this.element(Q)),q)}setAnchor(x,q=!1){super.setAnchor(x),q||(typeof x>"u"?this.M.set([]):this.M.set([this.element(x)]))}}class le{get onDidChangeFocus(){return this.j.wrapEvent(this.d.onDidChange)}get onDidChangeSelection(){return this.j.wrapEvent(this.f.onDidChange)}get onMouseDblClick(){return l.Event.filter(l.Event.map(this.a.onMouseDblClick,$),x=>x.target!==t.TreeMouseEventTarget.Filter)}get onPointer(){return l.Event.map(this.a.onPointer,$)}get onDidFocus(){return this.a.onDidFocus}get onDidChangeModel(){return l.Event.signal(this.c.onDidSplice)}get onDidChangeCollapseState(){return this.c.onDidChangeCollapseState}get findMode(){var x,q;return(q=(x=this.k)===null||x===void 0?void 0:x.mode)!==null&&q!==void 0?q:F.Highlight}set findMode(x){this.k&&(this.k.mode=x)}get findMatchType(){var x,q;return(q=(x=this.k)===null||x===void 0?void 0:x.matchType)!==null&&q!==void 0?q:W.Fuzzy}set findMatchType(x){this.k&&(this.k.matchType=x)}get expandOnDoubleClick(){return typeof this.t.expandOnDoubleClick>"u"?!0:this.t.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this.t.expandOnlyOnTwistieClick>"u"?!0:this.t.expandOnlyOnTwistieClick}get onDidDispose(){return this.a.onDidDispose}constructor(x,q,Y,Q,re={}){var oe;this.s=x,this.t=re,this.j=new l.EventBufferer,this.onDidChangeFindOpenState=l.Event.None,this.o=new h.DisposableStore,this.p=new l.Emitter,this.onWillRefilter=this.p.event,this.q=new l.Emitter;const G=new I(Y),Z=new l.Relay,U=new l.Relay,j=this.o.add(new B(U.event)),H=new s.SetMap;this.b=Q.map(ue=>new z(ue,()=>this.c,Z.event,j,H,re));for(const ue of this.b)this.o.add(ue);let _;re.keyboardNavigationLabelProvider&&(_=new P(this,re.keyboardNavigationLabelProvider,re.filter),re=Object.assign(Object.assign({},re),{filter:_}),this.o.add(_)),this.d=new ne(()=>this.a.getFocusedElements()[0],re.identityProvider),this.f=new ne(()=>this.a.getSelectedElements()[0],re.identityProvider),this.g=new ne(()=>this.a.getAnchorElement(),re.identityProvider),this.a=new ie(x,q,G,this.b,this.d,this.f,this.g,Object.assign(Object.assign({},k(()=>this.c,re)),{tree:this})),this.c=this.x(x,this.a,re),Z.input=this.c.onDidChangeCollapseState;const ce=l.Event.forEach(this.c.onDidSplice,ue=>{this.j.bufferEvents(()=>{this.d.onDidModelSplice(ue),this.f.onDidModelSplice(ue)})},this.o);if(ce(()=>null,null,this.o),U.input=l.Event.chain(l.Event.any(ce,this.d.onDidChange,this.f.onDidChange)).debounce(()=>null,0).map(()=>{const ue=new Set;for(const se of this.d.getNodes())ue.add(se);for(const se of this.f.getNodes())ue.add(se);return[...ue.values()]}).event,re.keyboardSupport!==!1){const ue=l.Event.chain(this.a.onKeyDown).filter(se=>!(0,d.isInputElement)(se.target)).map(se=>new E.StandardKeyboardEvent(se));ue.filter(se=>se.keyCode===15).on(this.u,this,this.o),ue.filter(se=>se.keyCode===17).on(this.v,this,this.o),ue.filter(se=>se.keyCode===10).on(this.w,this,this.o)}if(((oe=re.findWidgetEnabled)!==null&&oe!==void 0?oe:!0)&&re.keyboardNavigationLabelProvider&&re.contextViewProvider){const ue=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.k=new R(this,this.c,this.a,_,re.contextViewProvider,ue),this.m=se=>this.k.shouldAllowFocus(se),this.onDidChangeFindOpenState=this.k.onDidChangeOpenState,this.o.add(this.k),this.onDidChangeFindMode=this.k.onDidChangeMode,this.onDidChangeFindMatchType=this.k.onDidChangeMatchType}else this.onDidChangeFindMode=l.Event.None,this.onDidChangeFindMatchType=l.Event.None;this.n=(0,w.createStyleSheet)(this.a.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this.t.renderIndentGuides===M.Always)}updateOptions(x={}){var q;this.t=Object.assign(Object.assign({},this.t),x);for(const Y of this.b)Y.updateOptions(x);this.a.updateOptions(this.t),(q=this.k)===null||q===void 0||q.updateOptions(x),this.q.fire(this.t),this.getHTMLElement().classList.toggle("always",this.t.renderIndentGuides===M.Always)}get options(){return this.t}getHTMLElement(){return this.a.getHTMLElement()}get scrollTop(){return this.a.scrollTop}set scrollTop(x){this.a.scrollTop=x}domFocus(){this.a.domFocus()}layout(x,q){var Y;this.a.layout(x,q),(0,S.isNumber)(q)&&((Y=this.k)===null||Y===void 0||Y.layout(q))}style(x){const q=`.${this.a.domId}`,Y=[];x.treeIndentGuidesStroke&&(Y.push(`.monaco-list${q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${q}.always .monaco-tl-indent > .indent-guide  { border-color: ${x.treeInactiveIndentGuidesStroke}; }`),Y.push(`.monaco-list${q} .monaco-tl-indent > .indent-guide.active { border-color: ${x.treeIndentGuidesStroke}; }`)),this.n.textContent=Y.join(`
`),this.a.style(x)}getParentElement(x){const q=this.c.getParentNodeLocation(x);return this.c.getNode(q).element}getFirstElementChild(x){return this.c.getFirstElementChild(x)}getNode(x){return this.c.getNode(x)}getNodeLocation(x){return this.c.getNodeLocation(x)}collapse(x,q=!1){return this.c.setCollapsed(x,!0,q)}expand(x,q=!1){return this.c.setCollapsed(x,!1,q)}toggleCollapsed(x,q=!1){return this.c.setCollapsed(x,void 0,q)}isCollapsible(x){return this.c.isCollapsible(x)}setCollapsible(x,q){return this.c.setCollapsible(x,q)}isCollapsed(x){return this.c.isCollapsed(x)}refilter(){this.p.fire(void 0),this.c.refilter()}setSelection(x,q){const Y=x.map(re=>this.c.getNode(re));this.f.set(Y,q);const Q=x.map(re=>this.c.getListIndex(re)).filter(re=>re>-1);this.a.setSelection(Q,q,!0)}getSelection(){return this.f.get()}setFocus(x,q){const Y=x.map(re=>this.c.getNode(re));this.d.set(Y,q);const Q=x.map(re=>this.c.getListIndex(re)).filter(re=>re>-1);this.a.setFocus(Q,q,!0)}getFocus(){return this.d.get()}reveal(x,q){this.c.expandTo(x);const Y=this.c.getListIndex(x);Y!==-1&&this.a.reveal(Y,q)}u(x){x.preventDefault(),x.stopPropagation();const q=this.a.getFocusedElements();if(q.length===0)return;const Y=q[0],Q=this.c.getNodeLocation(Y);if(!this.c.setCollapsed(Q,!0)){const oe=this.c.getParentNodeLocation(Q);if(!oe)return;const G=this.c.getListIndex(oe);this.a.reveal(G),this.a.setFocus([G])}}v(x){x.preventDefault(),x.stopPropagation();const q=this.a.getFocusedElements();if(q.length===0)return;const Y=q[0],Q=this.c.getNodeLocation(Y);if(!this.c.setCollapsed(Q,!1)){if(!Y.children.some(Z=>Z.visible))return;const[oe]=this.a.getFocus(),G=oe+1;this.a.reveal(G),this.a.setFocus([G])}}w(x){x.preventDefault(),x.stopPropagation();const q=this.a.getFocusedElements();if(q.length===0)return;const Y=q[0],Q=this.c.getNodeLocation(Y),re=x.browserEvent.altKey;this.c.setCollapsed(Q,void 0,re)}dispose(){(0,h.dispose)(this.o),this.a.dispose()}}e.AbstractTree=le}),define(ee[535],te([1,0,168,201]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class E extends w.AbstractTree{constructor(y,v,C,d,g,i={}){super(y,v,C,d,i),this.A=y,this.B=g,this.z=i.identityProvider}x(y,v,C){return new N.ObjectTreeModel(y,v,C)}}e.DataTree=E}),define(ee[279],te([1,0,168,519,201,109,54]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class v extends w.AbstractTree{get onDidChangeCollapseState(){return this.c.onDidChangeCollapseState}constructor(t,n,a,r,c={}){super(t,n,a,r,c),this.z=t}setChildren(t,n=y.Iterable.empty(),a){this.c.setChildren(t,n,a)}rerender(t){if(t===void 0){this.a.rerender();return}this.c.rerender(t)}hasElement(t){return this.c.has(t)}x(t,n,a){return new E.ObjectTreeModel(t,n,a)}}e.ObjectTree=v;class C{get a(){return this.b()}constructor(t,n){this.b=t,this.c=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(t){const n=this.c.renderTemplate(t);return{compressedTreeNode:void 0,data:n}}renderElement(t,n,a,r){const c=this.a.getCompressedTreeNode(t.element);c.element.elements.length===1?(a.compressedTreeNode=void 0,this.c.renderElement(t,n,a.data,r)):(a.compressedTreeNode=c,this.c.renderCompressedElements(c,n,a.data,r))}disposeElement(t,n,a,r){var c,u,s,l;a.compressedTreeNode?(u=(c=this.c).disposeCompressedElements)===null||u===void 0||u.call(c,a.compressedTreeNode,n,a.data,r):(l=(s=this.c).disposeElement)===null||l===void 0||l.call(s,t,n,a.data,r)}disposeTemplate(t){this.c.disposeTemplate(t.data)}renderTwistie(t,n){return this.c.renderTwistie?this.c.renderTwistie(t,n):!1}}De([D.memoize],C.prototype,"a",null);function d(i,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let a;try{a=i().getCompressedTreeNode(n)}catch{return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return a.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(a.element.elements)}}})}class g extends v{constructor(t,n,a,r,c={}){const u=()=>this,s=r.map(l=>new C(u,l));super(t,n,a,s,d(u,c))}setChildren(t,n=y.Iterable.empty(),a){this.c.setChildren(t,n,a)}x(t,n,a){return new N.CompressibleObjectTreeModel(t,n,a)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled<"u"&&this.c.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.c.getCompressedTreeNode(t)}}e.CompressibleObjectTree=g}),define(ee[536],te([1,0,208,168,200,279,125,12,27,31,13,6,54,2,18]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(P){return Object.assign(Object.assign({},P),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(P,A){return A.parent?A.parent===P?!0:c(P,A.parent):!1}function u(P,A){return P===A||c(P,A)||c(A,P)}class s{get element(){return this.a.element.element}get children(){return this.a.children.map(A=>new s(A))}get depth(){return this.a.depth}get visibleChildrenCount(){return this.a.visibleChildrenCount}get visibleChildIndex(){return this.a.visibleChildIndex}get collapsible(){return this.a.collapsible}get collapsed(){return this.a.collapsed}get visible(){return this.a.visible}get filterData(){return this.a.filterData}constructor(A){this.a=A}}class l{constructor(A,T,O){this.b=A,this.d=T,this.onDidChangeTwistieState=O,this.a=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.b.renderTemplate(A)}}renderElement(A,T,O,F){this.b.renderElement(this.d.map(A),T,O.templateData,F)}renderTwistie(A,T){return A.slow?(T.classList.add(...d.ThemeIcon.asClassNameArray(C.Codicon.treeItemLoading)),!0):(T.classList.remove(...d.ThemeIcon.asClassNameArray(C.Codicon.treeItemLoading)),!1)}disposeElement(A,T,O,F){var W,V;(V=(W=this.b).disposeElement)===null||V===void 0||V.call(W,this.d.map(A),T,O.templateData,F)}disposeTemplate(A){this.b.disposeTemplate(A.templateData)}dispose(){this.a.clear()}}function o(P){return{browserEvent:P.browserEvent,elements:P.elements.map(A=>A.element)}}function h(P){return{browserEvent:P.browserEvent,element:P.element&&P.element.element,target:P.target}}class f extends w.ElementsDragAndDropData{constructor(A){super(A.elements.map(T=>T.element)),this.d=A}}function S(P){return P instanceof w.ElementsDragAndDropData?new f(P):P}class p{constructor(A){this.a=A}getDragURI(A){return this.a.getDragURI(A.element)}getDragLabel(A,T){if(this.a.getDragLabel)return this.a.getDragLabel(A.map(O=>O.element),T)}onDragStart(A,T){var O,F;(F=(O=this.a).onDragStart)===null||F===void 0||F.call(O,S(A),T)}onDragOver(A,T,O,F,W=!0){return this.a.onDragOver(S(A),T&&T.element,O,F)}drop(A,T,O,F){this.a.drop(S(A),T&&T.element,O,F)}onDragEnd(A){var T,O;(O=(T=this.a).onDragEnd)===null||O===void 0||O.call(T,A)}}function m(P){return P&&Object.assign(Object.assign({},P),{collapseByDefault:!0,identityProvider:P.identityProvider&&{getId(A){return P.identityProvider.getId(A.element)}},dnd:P.dnd&&new p(P.dnd),multipleSelectionController:P.multipleSelectionController&&{isSelectionSingleChangeEvent(A){return P.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},isSelectionRangeChangeEvent(A){return P.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))}},accessibilityProvider:P.accessibilityProvider&&Object.assign(Object.assign({},P.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:P.accessibilityProvider.getRole?A=>P.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:P.accessibilityProvider.isChecked?A=>{var T;return!!(!((T=P.accessibilityProvider)===null||T===void 0)&&T.isChecked(A.element))}:void 0,getAriaLabel(A){return P.accessibilityProvider.getAriaLabel(A.element)},getWidgetAriaLabel(){return P.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:P.accessibilityProvider.getWidgetRole?()=>P.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:P.accessibilityProvider.getAriaLevel&&(A=>P.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:P.accessibilityProvider.getActiveDescendantId&&(A=>P.accessibilityProvider.getActiveDescendantId(A.element))}),filter:P.filter&&{filter(A,T){return P.filter.filter(A.element,T)}},keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(A){return P.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof P.expandOnlyOnTwistieClick>"u"?void 0:typeof P.expandOnlyOnTwistieClick!="function"?P.expandOnlyOnTwistieClick:A=>P.expandOnlyOnTwistieClick(A.element),defaultFindVisibility:A=>A.hasChildren&&A.stale?1:typeof P.defaultFindVisibility=="number"?P.defaultFindVisibility:typeof P.defaultFindVisibility>"u"?2:P.defaultFindVisibility(A.element)})}function b(P,A){A(P),P.children.forEach(T=>b(T,A))}class L{get onDidChangeFocus(){return i.Event.map(this.a.onDidChangeFocus,o)}get onDidChangeSelection(){return i.Event.map(this.a.onDidChangeSelection,o)}get onMouseDblClick(){return i.Event.map(this.a.onMouseDblClick,h)}get onPointer(){return i.Event.map(this.a.onPointer,h)}get onDidFocus(){return this.a.onDidFocus}get onDidChangeModel(){return this.a.onDidChangeModel}get onDidChangeCollapseState(){return this.a.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.a.onDidChangeFindOpenState}get onDidDispose(){return this.a.onDidDispose}constructor(A,T,O,F,W,V={}){this.t=A,this.u=W,this.d=new Map,this.h=new Map,this.j=new Map,this.o=new i.Emitter,this.p=new i.Emitter,this.q=new y.WeakMapper(R=>new s(R)),this.s=new n.DisposableStore,this.k=V.identityProvider,this.m=typeof V.autoExpandSingleChildren>"u"?!1:V.autoExpandSingleChildren,this.f=V.sorter,this.g=V.collapseByDefault,this.a=this.v(A,T,O,F,V),this.onDidChangeFindMode=this.a.onDidChangeFindMode,this.b=r({element:void 0,parent:null,hasChildren:!0}),this.k&&(this.b=Object.assign(Object.assign({},this.b),{id:null})),this.d.set(null,this.b),this.a.onDidChangeCollapseState(this.D,this,this.s)}v(A,T,O,F,W){const V=new N.ComposedTreeDelegate(O),R=F.map(X=>new l(X,this.q,this.p.event)),$=m(W)||{};return new D.ObjectTree(A,T,V,R,$)}updateOptions(A={}){this.a.updateOptions(A)}getHTMLElement(){return this.a.getHTMLElement()}get scrollTop(){return this.a.scrollTop}set scrollTop(A){this.a.scrollTop=A}domFocus(){this.a.domFocus()}layout(A,T){this.a.layout(A,T)}style(A){this.a.style(A)}getInput(){return this.b.element}setInput(A,T){return Le(this,void 0,void 0,function*(){this.j.forEach(F=>F.cancel()),this.j.clear(),this.b.element=A;const O=T&&{viewState:T,focus:[],selection:[]};yield this.w(A,!0,!1,O),O&&(this.a.setFocus(O.focus),this.a.setSelection(O.selection)),T&&typeof T.scrollTop=="number"&&(this.scrollTop=T.scrollTop)})}w(A=this.b.element,T=!0,O=!1,F,W){return Le(this,void 0,void 0,function*(){if(typeof this.b.element>"u")throw new y.TreeError(this.t,"Tree input not set");this.b.refreshPromise&&(yield this.b.refreshPromise,yield i.Event.toPromise(this.o.event));const V=this.x(A);if(yield this.y(V,T,F,W),O)try{this.a.rerender(V)}catch{}})}rerender(A){if(A===void 0||A===this.b.element){this.a.rerender();return}const T=this.x(A);this.a.rerender(T)}getNode(A=this.b.element){const T=this.x(A),O=this.a.getNode(T===this.b?null:T);return this.q.map(O)}collapse(A,T=!1){const O=this.x(A);return this.a.collapse(O===this.b?null:O,T)}expand(A,T=!1){return Le(this,void 0,void 0,function*(){if(typeof this.b.element>"u")throw new y.TreeError(this.t,"Tree input not set");this.b.refreshPromise&&(yield this.b.refreshPromise,yield i.Event.toPromise(this.o.event));const O=this.x(A);if(this.a.hasElement(O)&&!this.a.isCollapsible(O)||(O.refreshPromise&&(yield this.b.refreshPromise,yield i.Event.toPromise(this.o.event)),O!==this.b&&!O.refreshPromise&&!this.a.isCollapsed(O)))return!1;const F=this.a.expand(O===this.b?null:O,T);return O.refreshPromise&&(yield this.b.refreshPromise,yield i.Event.toPromise(this.o.event)),F})}setSelection(A,T){const O=A.map(F=>this.x(F));this.a.setSelection(O,T)}getSelection(){return this.a.getSelection().map(T=>T.element)}setFocus(A,T){const O=A.map(F=>this.x(F));this.a.setFocus(O,T)}getFocus(){return this.a.getFocus().map(T=>T.element)}reveal(A,T){this.a.reveal(this.x(A),T)}getParentElement(A){const T=this.a.getParentElement(this.x(A));return T&&T.element}getFirstElementChild(A=this.b.element){const T=this.x(A),O=this.a.getFirstElementChild(T===this.b?null:T);return O&&O.element}x(A){const T=this.d.get(A===this.b.element?null:A);if(!T)throw new y.TreeError(this.t,`Data tree node not found: ${A}`);return T}y(A,T,O,F){return Le(this,void 0,void 0,function*(){yield this.z(A,T,O),this.F(A,O,F)})}z(A,T,O){return Le(this,void 0,void 0,function*(){let F;if(this.h.forEach((W,V)=>{!F&&u(V,A)&&(F=W.then(()=>this.z(A,T,O)))}),F)return F;if(A!==this.b&&this.a.getNode(A).collapsed){A.hasChildren=!!this.u.hasChildren(A.element),A.stale=!0;return}return this.A(A,T,O)})}A(A,T,O){return Le(this,void 0,void 0,function*(){let F;A.refreshPromise=new Promise(W=>F=W),this.h.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.h.delete(A)});try{const W=yield this.B(A,T,O);A.stale=!1,yield v.Promises.settled(W.map(V=>this.A(V,T,O)))}finally{F()}})}B(A,T,O){return Le(this,void 0,void 0,function*(){A.hasChildren=!!this.u.hasChildren(A.element);let F;if(!A.hasChildren)F=Promise.resolve(t.Iterable.empty());else{const W=this.C(A);if((0,a.isIterable)(W))F=Promise.resolve(W);else{const V=(0,v.timeout)(800);V.then(()=>{A.slow=!0,this.p.fire(A)},R=>null),F=W.finally(()=>V.cancel())}}try{const W=yield F;return this.E(A,W,T,O)}catch(W){if(A!==this.b&&this.a.hasElement(A)&&this.a.collapse(A),(0,g.isCancellationError)(W))return[];throw W}finally{A.slow&&(A.slow=!1,this.p.fire(A))}})}C(A){let T=this.j.get(A);if(T)return T;const O=this.u.getChildren(A.element);return(0,a.isIterable)(O)?this.H(O):(T=(0,v.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.H(yield O)})),this.j.set(A,T),T.finally(()=>{this.j.delete(A)}))}D({node:A,deep:T}){A.element!==null&&!A.collapsed&&A.element.stale&&(T?this.collapse(A.element.element):this.y(A.element,!1).catch(g.onUnexpectedError))}E(A,T,O,F){const W=[...T];if(A.children.length===0&&W.length===0)return[];const V=new Map,R=new Map;for(const ne of A.children)if(V.set(ne.element,ne),this.k){const ae=this.a.isCollapsed(ne);R.set(ne.id,{node:ne,collapsed:ae})}const $=[],X=W.map(ne=>{const ae=!!this.u.hasChildren(ne);if(!this.k){const x=r({element:ne,parent:A,hasChildren:ae});return ae&&this.g&&!this.g(ne)&&(x.collapsedByDefault=!1,$.push(x)),x}const ie=this.k.getId(ne).toString(),le=R.get(ie);if(le){const x=le.node;return V.delete(x.element),this.d.delete(x.element),this.d.set(ne,x),x.element=ne,x.hasChildren=ae,O?le.collapsed?(x.children.forEach(q=>b(q,Y=>this.d.delete(Y.element))),x.children.splice(0,x.children.length),x.stale=!0):$.push(x):ae&&this.g&&!this.g(ne)&&(x.collapsedByDefault=!1,$.push(x)),x}const J=r({element:ne,parent:A,id:ie,hasChildren:ae});return F&&F.viewState.focus&&F.viewState.focus.indexOf(ie)>-1&&F.focus.push(J),F&&F.viewState.selection&&F.viewState.selection.indexOf(ie)>-1&&F.selection.push(J),F&&F.viewState.expanded&&F.viewState.expanded.indexOf(ie)>-1?$.push(J):ae&&this.g&&!this.g(ne)&&(J.collapsedByDefault=!1,$.push(J)),J});for(const ne of V.values())b(ne,ae=>this.d.delete(ae.element));for(const ne of X)this.d.set(ne.element,ne);return A.children.splice(0,A.children.length,...X),A!==this.b&&this.m&&X.length===1&&$.length===0&&(X[0].collapsedByDefault=!1,$.push(X[0])),$}F(A,T,O){const F=A.children.map(V=>this.G(V,T)),W=O&&Object.assign(Object.assign({},O),{diffIdentityProvider:O.diffIdentityProvider&&{getId(V){return O.diffIdentityProvider.getId(V.element)}}});this.a.setChildren(A===this.b?null:A,F,W),A!==this.b&&this.a.setCollapsible(A,A.hasChildren),this.o.fire()}G(A,T){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let O;return T&&T.viewState.expanded&&A.id&&T.viewState.expanded.indexOf(A.id)>-1?O=!1:O=A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?t.Iterable.map(A.children,F=>this.G(F,T)):[],collapsible:A.hasChildren,collapsed:O}}H(A){return this.f&&(A=[...A].sort(this.f.compare.bind(this.f))),A}dispose(){this.s.dispose()}}e.AsyncDataTree=L;class k{get element(){return{elements:this.a.element.elements.map(A=>A.element),incompressible:this.a.element.incompressible}}get children(){return this.a.children.map(A=>new k(A))}get depth(){return this.a.depth}get visibleChildrenCount(){return this.a.visibleChildrenCount}get visibleChildIndex(){return this.a.visibleChildIndex}get collapsible(){return this.a.collapsible}get collapsed(){return this.a.collapsed}get visible(){return this.a.visible}get filterData(){return this.a.filterData}constructor(A){this.a=A}}class I{constructor(A,T,O,F){this.d=A,this.f=T,this.g=O,this.onDidChangeTwistieState=F,this.a=new Map,this.b=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.d.renderTemplate(A)}}renderElement(A,T,O,F){this.d.renderElement(this.f.map(A),T,O.templateData,F)}renderCompressedElements(A,T,O,F){this.d.renderCompressedElements(this.g().map(A),T,O.templateData,F)}renderTwistie(A,T){return A.slow?(T.classList.add(...d.ThemeIcon.asClassNameArray(C.Codicon.treeItemLoading)),!0):(T.classList.remove(...d.ThemeIcon.asClassNameArray(C.Codicon.treeItemLoading)),!1)}disposeElement(A,T,O,F){var W,V;(V=(W=this.d).disposeElement)===null||V===void 0||V.call(W,this.f.map(A),T,O.templateData,F)}disposeCompressedElements(A,T,O,F){var W,V;(V=(W=this.d).disposeCompressedElements)===null||V===void 0||V.call(W,this.g().map(A),T,O.templateData,F)}disposeTemplate(A){this.d.disposeTemplate(A.templateData)}dispose(){this.a.clear(),this.b=(0,n.dispose)(this.b)}}function M(P){const A=P&&m(P);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(T){return P.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(T.map(O=>O.element))}})})}class B extends L{constructor(A,T,O,F,W,V,R={}){super(A,T,O,W,V,R),this.L=F,this.J=new y.WeakMapper($=>new k($)),this.K=R.filter}v(A,T,O,F,W){const V=new N.ComposedTreeDelegate(O),R=F.map(X=>new I(X,this.q,()=>this.J,this.p.event)),$=M(W)||{};return new D.CompressibleObjectTree(A,T,V,R,$)}G(A,T){return Object.assign({incompressible:this.L.isIncompressible(A.element)},super.G(A,T))}updateOptions(A={}){this.a.updateOptions(A)}F(A,T){if(!this.k)return super.F(A,T);const O=ie=>this.k.getId(ie).toString(),F=ie=>{const le=new Set;for(const J of ie){const x=this.a.getCompressedTreeNode(J===this.b?null:J);if(!!x.element)for(const q of x.element.elements)le.add(O(q.element))}return le},W=F(this.a.getSelection()),V=F(this.a.getFocus());super.F(A,T);const R=this.getSelection();let $=!1;const X=this.getFocus();let ne=!1;const ae=ie=>{const le=ie.element;if(le)for(let J=0;J<le.elements.length;J++){const x=O(le.elements[J].element),q=le.elements[le.elements.length-1].element;W.has(x)&&R.indexOf(q)===-1&&(R.push(q),$=!0),V.has(x)&&X.indexOf(q)===-1&&(X.push(q),ne=!0)}ie.children.forEach(ae)};ae(this.a.getCompressedTreeNode(A===this.b?null:A)),$&&this.setSelection(R),ne&&this.setFocus(X)}H(A){return this.K&&(A=t.Iterable.filter(A,T=>{const O=this.K.filter(T,1),F=z(O);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.H(A)}}e.CompressibleAsyncDataTree=B;function z(P){return typeof P=="boolean"?P?1:0:(0,E.isFilterResult)(P)?(0,E.getVisibleState)(P.visibility):(0,E.getVisibleState)(P)}}),define(ee[280],te([1,0,13,6,2,46,16,9]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const C="$initialize";let d=!1;function g(S){!y.isWeb||(d||(d=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(S.message))}e.logOnceWebWorkerWarning=g;class i{constructor(p,m,b,L){this.vsWorker=p,this.req=m,this.method=b,this.args=L,this.type=0}}class t{constructor(p,m,b,L){this.vsWorker=p,this.seq=m,this.res=b,this.err=L,this.type=1}}class n{constructor(p,m,b,L){this.vsWorker=p,this.req=m,this.eventName=b,this.arg=L,this.type=2}}class a{constructor(p,m,b){this.vsWorker=p,this.req=m,this.event=b,this.type=3}}class r{constructor(p,m){this.vsWorker=p,this.req=m,this.type=4}}class c{constructor(p){this.a=-1,this.g=p,this.b=0,this.c=Object.create(null),this.d=new Map,this.f=new Map}setWorkerId(p){this.a=p}sendMessage(p,m){const b=String(++this.b);return new Promise((L,k)=>{this.c[b]={resolve:L,reject:k},this.o(new i(this.a,b,p,m))})}listen(p,m){let b=null;const L=new N.Emitter({onWillAddFirstListener:()=>{b=String(++this.b),this.d.set(b,L),this.o(new n(this.a,b,p,m))},onDidRemoveLastListener:()=>{this.d.delete(b),this.o(new r(this.a,b)),b=null}});return L.event}handleMessage(p){!p||!p.vsWorker||this.a!==-1&&p.vsWorker!==this.a||this.h(p)}h(p){switch(p.type){case 1:return this.j(p);case 0:return this.k(p);case 2:return this.l(p);case 3:return this.m(p);case 4:return this.n(p)}}j(p){if(!this.c[p.seq]){console.warn("Got reply to unknown seq");return}const m=this.c[p.seq];if(delete this.c[p.seq],p.err){let b=p.err;p.err.$isError&&(b=new Error,b.name=p.err.name,b.message=p.err.message,b.stack=p.err.stack),m.reject(b);return}m.resolve(p.res)}k(p){const m=p.req;this.g.handleMessage(p.method,p.args).then(L=>{this.o(new t(this.a,m,L,void 0))},L=>{L.detail instanceof Error&&(L.detail=(0,w.transformErrorForSerialization)(L.detail)),this.o(new t(this.a,m,void 0,(0,w.transformErrorForSerialization)(L)))})}l(p){const m=p.req,b=this.g.handleEvent(p.eventName,p.arg)(L=>{this.o(new a(this.a,m,L))});this.f.set(m,b)}m(p){if(!this.d.has(p.req)){console.warn("Got event for unknown req");return}this.d.get(p.req).fire(p.event)}n(p){if(!this.f.has(p.req)){console.warn("Got unsubscribe for unknown req");return}this.f.get(p.req).dispose(),this.f.delete(p.req)}o(p){const m=[];if(p.type===0)for(let b=0;b<p.args.length;b++)p.args[b]instanceof ArrayBuffer&&m.push(p.args[b]);else p.type===1&&p.res instanceof ArrayBuffer&&m.push(p.res);this.g.sendMessage(p,m)}}class u extends E.Disposable{constructor(p,m,b){super();let L=null;this.a=this.q(p.create("vs/base/common/worker/simpleWorker",z=>{this.c.handleMessage(z)},z=>{L?.(z)})),this.c=new c({sendMessage:(z,P)=>{this.a.postMessage(z,P)},handleMessage:(z,P)=>{if(typeof b[z]!="function")return Promise.reject(new Error("Missing method "+z+" on main thread host."));try{return Promise.resolve(b[z].apply(b,P))}catch(A){return Promise.reject(A)}},handleEvent:(z,P)=>{if(l(z)){const A=b[z].call(b,P);if(typeof A!="function")throw new Error(`Missing dynamic event ${z} on main thread host.`);return A}if(s(z)){const A=b[z];if(typeof A!="function")throw new Error(`Missing event ${z} on main thread host.`);return A}throw new Error(`Malformed event name ${z}`)}}),this.c.setWorkerId(this.a.getId());let k=null;typeof y.globals.require<"u"&&typeof y.globals.require.getConfig=="function"?k=y.globals.require.getConfig():typeof y.globals.requirejs<"u"&&(k=y.globals.requirejs.s.contexts._.config);const I=(0,D.getAllMethodNames)(b);this.b=this.c.sendMessage(C,[this.a.getId(),JSON.parse(JSON.stringify(k)),m,I]);const M=(z,P)=>this.h(z,P),B=(z,P)=>this.c.listen(z,P);this.g=new Promise((z,P)=>{L=P,this.b.then(A=>{z(o(A,M,B))},A=>{P(A),this.j("Worker failed to load "+m,A)})})}getProxyObject(){return this.g}h(p,m){return new Promise((b,L)=>{this.b.then(()=>{this.c.sendMessage(p,m).then(b,L)},L)})}j(p,m){console.error(p),console.info(m)}}e.SimpleWorkerClient=u;function s(S){return S[0]==="o"&&S[1]==="n"&&v.isUpperAsciiLetter(S.charCodeAt(2))}function l(S){return/^onDynamic/.test(S)&&v.isUpperAsciiLetter(S.charCodeAt(9))}function o(S,p,m){const b=I=>function(){const M=Array.prototype.slice.call(arguments,0);return p(I,M)},L=I=>function(M){return m(I,M)},k={};for(const I of S){if(l(I)){k[I]=L(I);continue}if(s(I)){k[I]=m(I,void 0);continue}k[I]=b(I)}return k}class h{constructor(p,m){this.a=m,this.b=null,this.c=new c({sendMessage:(b,L)=>{p(b,L)},handleMessage:(b,L)=>this.d(b,L),handleEvent:(b,L)=>this.f(b,L)})}onmessage(p){this.c.handleMessage(p)}d(p,m){if(p===C)return this.g(m[0],m[1],m[2],m[3]);if(!this.b||typeof this.b[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this.b[p].apply(this.b,m))}catch(b){return Promise.reject(b)}}f(p,m){if(!this.b)throw new Error("Missing requestHandler");if(l(p)){const b=this.b[p].call(this.b,m);if(typeof b!="function")throw new Error(`Missing dynamic event ${p} on request handler.`);return b}if(s(p)){const b=this.b[p];if(typeof b!="function")throw new Error(`Missing event ${p} on request handler.`);return b}throw new Error(`Malformed event name ${p}`)}g(p,m,b,L){this.c.setWorkerId(p);const M=o(L,(B,z)=>this.c.sendMessage(B,z),(B,z)=>this.c.listen(B,z));return this.a?(this.b=this.a(M),Promise.resolve((0,D.getAllMethodNames)(this.b))):(m&&(typeof m.baseUrl<"u"&&delete m.baseUrl,typeof m.paths<"u"&&typeof m.paths.vs<"u"&&delete m.paths.vs,typeof m.trustedTypesPolicy!==void 0&&delete m.trustedTypesPolicy,m.catchError=!0,y.globals.require.config(m)),new Promise((B,z)=>{(y.globals.require||K)([b],A=>{if(this.b=A.create(M),!this.b){z(new Error("No RequestHandler!"));return}B((0,D.getAllMethodNames)(this.b))},z)}))}}e.SimpleWorkerServer=h;function f(S){return new h(S,null)}e.create=f}),define(ee[537],te([1,0,47,16,280]),function(K,e,w,N,E){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const y=(D=window.trustedTypes)===null||D===void 0?void 0:D.createPolicy("defaultWorkerFactory",{createScriptURL:t=>t});function v(t){if(N.globals.MonacoEnvironment){if(typeof N.globals.MonacoEnvironment.getWorker=="function")return N.globals.MonacoEnvironment.getWorker("workerMain.js",t);if(typeof N.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=N.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",t);return new Worker(y?y.createScriptURL(n):n,{name:t})}}if(typeof K=="function"){const n=K.toUrl("vs/base/worker/workerMain.js"),a=C(n,t);return new Worker(y?y.createScriptURL(a):a,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function C(t,n){if(/^((http:)|(https:)|(file:))/.test(t)&&t.substring(0,self.origin.length)!==self.origin){const s="vs/base/worker/defaultWorkerFactory.js",l=K.toUrl(s).slice(0,-s.length),o=`/*${n}*/self.MonacoEnvironment={baseUrl: '${l}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${t}') ?? '${t}');/*${n}*/`,h=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(h)}const a=t.lastIndexOf("?"),r=t.lastIndexOf("#",a),c=a>0?new URLSearchParams(t.substring(a+1,~r?r:void 0)):new URLSearchParams;return w.COI.addSearchParam(c,!0,!0),c.toString()?`${t}?${c.toString()}#${n}`:`${t}#${n}`}e.getWorkerBootstrapUrl=C;function d(t){return typeof t.then=="function"}class g{constructor(n,a,r,c,u){this.a=a;const s=v(r);d(s)?this.b=s:this.b=Promise.resolve(s),this.postMessage(n,[]),this.b.then(l=>{l.onmessage=function(o){c(o.data)},l.onmessageerror=u,typeof l.addEventListener=="function"&&l.addEventListener("error",u)})}getId(){return this.a}postMessage(n,a){var r;(r=this.b)===null||r===void 0||r.then(c=>c.postMessage(n,a))}dispose(){var n;(n=this.b)===null||n===void 0||n.then(a=>a.terminate()),this.b=null}}class i{constructor(n){this.b=n,this.c=!1}create(n,a,r){const c=++i.a;if(this.c)throw this.c;return new g(n,c,this.b||"anonymous"+c,a,u=>{(0,E.logOnceWebWorkerWarning)(u),this.c=u,r(u)})}}i.a=0,e.DefaultWorkerFactory=i}),define(ee[538],te([1,0,7,45,66,210,2,93,156]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=w.$;class d extends y.Disposable{constructor(i,t,n){super(),this.c=i,this.onKeyDown=a=>w.addDisposableListener(this.b.inputBox.inputElement,w.EventType.KEY_DOWN,r=>{a(new N.StandardKeyboardEvent(r))}),this.onMouseDown=a=>w.addDisposableListener(this.b.inputBox.inputElement,w.EventType.MOUSE_DOWN,r=>{a(new E.StandardMouseEvent(r))}),this.onDidChange=a=>this.b.onDidChange(a),this.a=w.append(this.c,C(".quick-input-box")),this.b=this.q(new D.FindInput(this.a,void 0,{label:"",inputBoxStyles:t,toggleStyles:n}))}get value(){return this.b.getValue()}set value(i){this.b.setValue(i)}select(i=null){this.b.inputBox.select(i)}isSelectionAtEnd(){return this.b.inputBox.isSelectionAtEnd()}get placeholder(){return this.b.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.b.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.b.inputBox.getAriaLabel()}set ariaLabel(i){this.b.inputBox.setAriaLabel(i)}get password(){return this.b.inputBox.inputElement.type==="password"}set password(i){this.b.inputBox.inputElement.type=i?"password":"text"}set enabled(i){this.b.inputBox.inputElement.toggleAttribute("readonly",!i)}set toggles(i){this.b.setAdditionalToggles(i)}setAttribute(i,t){this.b.inputBox.inputElement.setAttribute(i,t)}removeAttribute(i){this.b.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===v.default.Ignore?this.b.clearMessage():this.b.showMessage({type:i===v.default.Info?1:i===v.default.Warning?2:3,content:""})}stylesForType(i){return this.b.inputBox.stylesForType(i===v.default.Info?1:i===v.default.Warning?2:3)}setFocus(){this.b.focus()}layout(){this.b.inputBox.layout()}}e.QuickInputBox=d}),define(ee[281],te([1,0,7,150,156]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const E={},D=new N.IdGenerator("quick-input-button-icon-");function y(v){if(!v)return;let C;const d=v.dark.toString();return E[d]?C=E[d]:(C=D.nextId(),w.createCSSRule(`.${C}, .hc-light .${C}`,`background-image: ${w.asCSSUrl(v.light||v.dark)}`),w.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${w.asCSSUrl(v.dark)}`),E[d]=C),C}e.getIconClass=y}),define(ee[539],te([1,0,12,6,2,18]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var y;(function(g){g[g.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",g[g.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(y=e.StorageHint||(e.StorageHint={}));var v;(function(g){g[g.None=0]="None",g[g.Initialized=1]="Initialized",g[g.Closed=2]="Closed"})(v=e.StorageState||(e.StorageState={}));class C extends E.Disposable{constructor(i,t=Object.create(null)){super(),this.l=i,this.m=t,this.b=this.q(new N.Emitter),this.onDidChangeStorage=this.b.event,this.c=v.None,this.g=new Map,this.h=new w.ThrottledDelayer(C.a),this.i=new Set,this.j=new Map,this.k=[],this.n()}n(){this.q(this.l.onDidChangeItemsExternal(i=>this.p(i)))}p(i){var t,n;(t=i.changed)===null||t===void 0||t.forEach((a,r)=>this.r(r,a)),(n=i.deleted)===null||n===void 0||n.forEach(a=>this.r(a,void 0))}r(i,t){if(this.c===v.Closed)return;let n=!1;(0,D.isUndefinedOrNull)(t)?n=this.g.delete(i):this.g.get(i)!==t&&(this.g.set(i,t),n=!0),n&&this.b.fire(i)}get(i,t){const n=this.g.get(i);return(0,D.isUndefinedOrNull)(n)?t:n}getBoolean(i,t){const n=this.get(i);return(0,D.isUndefinedOrNull)(n)?t:n==="true"}getNumber(i,t){const n=this.get(i);return(0,D.isUndefinedOrNull)(n)?t:parseInt(n,10)}set(i,t){return Le(this,void 0,void 0,function*(){if(this.c===v.Closed)return;if((0,D.isUndefinedOrNull)(t))return this.delete(i);const n=String(t);if(this.g.get(i)!==n)return this.g.set(i,n),this.j.set(i,n),this.i.delete(i),this.b.fire(i),this.u()})}delete(i){return Le(this,void 0,void 0,function*(){if(!(this.c===v.Closed||!this.g.delete(i)))return this.i.has(i)||this.i.add(i),this.j.delete(i),this.b.fire(i),this.u()})}get s(){return this.j.size>0||this.i.size>0}t(){return Le(this,void 0,void 0,function*(){if(!this.s)return;const i={insert:this.j,delete:this.i};return this.i=new Set,this.j=new Map,this.l.updateItems(i).finally(()=>{var t;if(!this.s)for(;this.k.length;)(t=this.k.pop())===null||t===void 0||t()})})}u(i){return Le(this,void 0,void 0,function*(){return this.h.trigger(()=>this.t(),i)})}dispose(){this.h.dispose(),super.dispose()}}C.a=100,e.Storage=C;class d{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.a=new Map}updateItems(i){var t,n;return Le(this,void 0,void 0,function*(){(t=i.insert)===null||t===void 0||t.forEach((a,r)=>this.a.set(r,a)),(n=i.delete)===null||n===void 0||n.forEach(a=>this.a.delete(a))})}}e.InMemoryStorageDatabase=d}),define(ee[282],te([1,0,2,6]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class E extends w.Disposable{constructor(y,v){super(),this.a=this.q(new N.Emitter),this.onDidChange=this.a.event,this.b=y,this.c=-1,this.g=-1,this.h=null,this.i(!1,v)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.c}getHeight(){return this.g}startObserving(){!this.h&&this.b&&(this.h=new ResizeObserver(y=>{y&&y[0]&&y[0].contentRect?this.observe({width:y[0].contentRect.width,height:y[0].contentRect.height}):this.observe()}),this.h.observe(this.b))}stopObserving(){this.h&&(this.h.disconnect(),this.h=null)}observe(y){this.i(!0,y)}i(y,v){let C=0,d=0;v?(C=v.width,d=v.height):this.b&&(C=this.b.clientWidth,d=this.b.clientHeight),C=Math.max(5,C),d=Math.max(5,d),(this.c!==C||this.g!==d)&&(this.c=C,this.g=d,y&&this.a.fire())}}e.ElementSizeObserver=E}),define(ee[283],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class N{constructor(){this.a=!1,this.b=new w.Emitter,this.onDidChangeTabFocus=this.b.event}getTabFocusMode(){return this.a}setTabFocusMode(D){this.a!==D&&(this.a=D,this.b.fire(this.a))}}e.TabFocus=new N}),define(ee[211],te([1,0,44,7,81,45,234,12,6,2,101,9,246,22]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var a;(function(o){o.Tap="-monaco-textarea-synthetic-tap"})(a=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this.a=null}set(h,f){this.a={lastCopiedValue:h,data:f}}get(h){return this.a&&this.a.lastCopiedValue===h?this.a.data:(this.a=null,null)}}r.INSTANCE=new r,e.InMemoryClipboardMetadataManager=r;class c{constructor(){this.a=0}handleCompositionUpdate(h){h=h||"";const f={text:h,replacePrevCharCnt:this.a,replaceNextCharCnt:0,positionDelta:0};return this.a=h.length,f}}class u extends d.Disposable{get textAreaState(){return this.s}constructor(h,f,S,p){super(),this.w=h,this.y=f,this.z=S,this.B=p,this.a=this.q(new C.Emitter),this.onFocus=this.a.event,this.b=this.q(new C.Emitter),this.onBlur=this.b.event,this.c=this.q(new C.Emitter),this.onKeyDown=this.c.event,this.g=this.q(new C.Emitter),this.onKeyUp=this.g.event,this.h=this.q(new C.Emitter),this.onCut=this.h.event,this.i=this.q(new C.Emitter),this.onPaste=this.i.event,this.j=this.q(new C.Emitter),this.onType=this.j.event,this.k=this.q(new C.Emitter),this.onCompositionStart=this.k.event,this.l=this.q(new C.Emitter),this.onCompositionUpdate=this.l.event,this.m=this.q(new C.Emitter),this.onCompositionEnd=this.m.event,this.n=this.q(new C.Emitter),this.onSelectionChangeRequest=this.n.event,this.p=this.q(new v.RunOnceScheduler(()=>this.h.fire(),0)),this.r=this.q(new v.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this.s=t.TextAreaState.EMPTY,this.t=null,this.writeScreenReaderContent("ctor"),this.u=!1,this.v=null;let m=null;this.q(this.y.onKeyDown(b=>{const L=new D.StandardKeyboardEvent(b);(L.keyCode===109||this.v&&L.keyCode===1)&&L.stopPropagation(),L.equals(9)&&L.preventDefault(),m=L,this.c.fire(L)})),this.q(this.y.onKeyUp(b=>{const L=new D.StandardKeyboardEvent(b);this.g.fire(L)})),this.q(this.y.onCompositionStart(b=>{t._debugComposition&&console.log("[compositionstart]",b);const L=new c;if(this.v){this.v=L;return}if(this.v=L,this.z===2&&m&&m.equals(109)&&this.s.selectionStart===this.s.selectionEnd&&this.s.selectionStart>0&&this.s.value.substr(this.s.selectionStart-1,1)===b.data&&(m.code==="ArrowRight"||m.code==="ArrowLeft")){t._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",b),L.handleCompositionUpdate("x"),this.k.fire({data:b.data});return}if(this.B.isAndroid){this.k.fire({data:b.data});return}this.k.fire({data:b.data})})),this.q(this.y.onCompositionUpdate(b=>{t._debugComposition&&console.log("[compositionupdate]",b);const L=this.v;if(!L)return;if(this.B.isAndroid){const I=t.TextAreaState.readFromTextArea(this.y,this.s),M=t.TextAreaState.deduceAndroidCompositionInput(this.s,I);this.s=I,this.j.fire(M),this.l.fire(b);return}const k=L.handleCompositionUpdate(b.data);this.s=t.TextAreaState.readFromTextArea(this.y,this.s),this.j.fire(k),this.l.fire(b)})),this.q(this.y.onCompositionEnd(b=>{t._debugComposition&&console.log("[compositionend]",b);const L=this.v;if(!L)return;if(this.v=null,this.B.isAndroid){const I=t.TextAreaState.readFromTextArea(this.y,this.s),M=t.TextAreaState.deduceAndroidCompositionInput(this.s,I);this.s=I,this.j.fire(M),this.m.fire();return}const k=L.handleCompositionUpdate(b.data);this.s=t.TextAreaState.readFromTextArea(this.y,this.s),this.j.fire(k),this.m.fire()})),this.q(this.y.onInput(b=>{if(t._debugComposition&&console.log("[input]",b),this.y.setIgnoreSelectionChangeTime("received input event"),this.v)return;const L=t.TextAreaState.readFromTextArea(this.y,this.s),k=t.TextAreaState.deduceInput(this.s,L,this.z===2);k.replacePrevCharCnt===0&&k.text.length===1&&(i.isHighSurrogate(k.text.charCodeAt(0))||k.text.charCodeAt(0)===127)||(this.s=L,(k.text!==""||k.replacePrevCharCnt!==0||k.replaceNextCharCnt!==0||k.positionDelta!==0)&&this.j.fire(k))})),this.q(this.y.onCut(b=>{this.y.setIgnoreSelectionChangeTime("received cut event"),this.G(b),this.p.schedule()})),this.q(this.y.onCopy(b=>{this.G(b)})),this.q(this.y.onPaste(b=>{if(this.y.setIgnoreSelectionChangeTime("received paste event"),b.preventDefault(),!b.clipboardData)return;let[L,k]=s.getTextData(b.clipboardData);!L||(k=k||r.INSTANCE.get(L),this.i.fire({text:L,metadata:k}))})),this.q(this.y.onFocus(()=>{const b=this.u;this.D(!0),this.B.isSafari&&!b&&this.u&&this.r.schedule()})),this.q(this.y.onBlur(()=>{this.v&&(this.v=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this.m.fire()),this.D(!1)})),this.q(this.y.onSyntheticTap(()=>{this.B.isAndroid&&this.v&&(this.v=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this.m.fire())}))}C(){let h=0;return N.addDisposableListener(document,"selectionchange",f=>{if(y.inputLatency.onSelectionChange(),!this.u||this.v||!this.B.isChrome)return;const S=Date.now(),p=S-h;if(h=S,p<5)return;const m=S-this.y.getIgnoreSelectionChangeTime();if(this.y.resetSelectionChangeTime(),m<100||!this.s.selection)return;const b=this.y.getValue();if(this.s.value!==b)return;const L=this.y.getSelectionStart(),k=this.y.getSelectionEnd();if(this.s.selectionStart===L&&this.s.selectionEnd===k)return;const I=this.s.deduceEditorPosition(L),M=this.w.deduceModelPosition(I[0],I[1],I[2]),B=this.s.deduceEditorPosition(k),z=this.w.deduceModelPosition(B[0],B[1],B[2]),P=new n.Selection(M.lineNumber,M.column,z.lineNumber,z.column);this.n.fire(P)})}dispose(){super.dispose(),this.t&&(this.t.dispose(),this.t=null)}focusTextArea(){this.D(!0),this.refreshFocusState()}isFocused(){return this.u}refreshFocusState(){this.D(this.y.hasFocus())}D(h){this.u!==h&&(this.u=h,this.t&&(this.t.dispose(),this.t=null),this.u&&(this.t=this.C()),this.u&&this.writeScreenReaderContent("focusgain"),this.u?this.a.fire():this.b.fire())}F(h,f){this.u||(f=f.collapseSelection()),f.writeToTextArea(h,this.y,this.u),this.s=f}writeScreenReaderContent(h){this.v||this.F(h,this.w.getScreenReaderContent())}G(h){const f=this.w.getDataToCopy(),S={version:1,isFromEmptySelection:f.isFromEmptySelection,multicursorText:f.multicursorText,mode:f.mode};r.INSTANCE.set(this.B.isFirefox?f.text.replace(/\r\n/g,`
`):f.text,S),h.preventDefault(),h.clipboardData&&s.setTextData(h.clipboardData,f.text,f.html,S)}}e.TextAreaInput=u;class s{static getTextData(h){const f=h.getData(g.Mimes.text);let S=null;const p=h.getData("vscode-editor-data");if(typeof p=="string")try{S=JSON.parse(p),S.version!==1&&(S=null)}catch{}return f.length===0&&S===null&&h.files.length>0?[Array.prototype.slice.call(h.files,0).map(b=>b.name).join(`
`),null]:[f,S]}static setTextData(h,f,S,p){h.setData(g.Mimes.text,f),typeof S=="string"&&h.setData("text/html",S),h.setData("vscode-editor-data",JSON.stringify(p))}}class l extends d.Disposable{constructor(h){super(),this.c=h,this.onKeyDown=this.q(new E.DomEmitter(this.c,"keydown")).event,this.onKeyUp=this.q(new E.DomEmitter(this.c,"keyup")).event,this.onCompositionStart=this.q(new E.DomEmitter(this.c,"compositionstart")).event,this.onCompositionUpdate=this.q(new E.DomEmitter(this.c,"compositionupdate")).event,this.onCompositionEnd=this.q(new E.DomEmitter(this.c,"compositionend")).event,this.onBeforeInput=this.q(new E.DomEmitter(this.c,"beforeinput")).event,this.onInput=this.q(new E.DomEmitter(this.c,"input")).event,this.onCut=this.q(new E.DomEmitter(this.c,"cut")).event,this.onCopy=this.q(new E.DomEmitter(this.c,"copy")).event,this.onPaste=this.q(new E.DomEmitter(this.c,"paste")).event,this.onFocus=this.q(new E.DomEmitter(this.c,"focus")).event,this.onBlur=this.q(new E.DomEmitter(this.c,"blur")).event,this.a=this.q(new C.Emitter),this.onSyntheticTap=this.a.event,this.b=0,this.q(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this.q(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this.q(this.onInput(()=>y.inputLatency.onInput())),this.q(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this.q(N.addDisposableListener(this.c,a.Tap,()=>this.a.fire()))}hasFocus(){const h=N.getShadowRoot(this.c);return h?h.activeElement===this.c:N.isInDOM(this.c)?document.activeElement===this.c:!1}setIgnoreSelectionChangeTime(h){this.b=Date.now()}getIgnoreSelectionChangeTime(){return this.b}resetSelectionChangeTime(){this.b=0}getValue(){return this.c.value}setValue(h,f){const S=this.c;S.value!==f&&(this.setIgnoreSelectionChangeTime("setValue"),S.value=f)}getSelectionStart(){return this.c.selectionDirection==="backward"?this.c.selectionEnd:this.c.selectionStart}getSelectionEnd(){return this.c.selectionDirection==="backward"?this.c.selectionStart:this.c.selectionEnd}setSelectionRange(h,f,S){const p=this.c;let m=null;const b=N.getShadowRoot(p);b?m=b.activeElement:m=document.activeElement;const L=m===p,k=p.selectionStart,I=p.selectionEnd;if(L&&k===f&&I===S){w.isFirefox&&window.parent!==window&&p.focus();return}if(L){this.setIgnoreSelectionChangeTime("setSelectionRange"),p.setSelectionRange(f,S),w.isFirefox&&window.parent!==window&&p.focus();return}try{const M=N.saveParentsScrollTop(p);this.setIgnoreSelectionChangeTime("setSelectionRange"),p.focus(),p.setSelectionRange(f,S),N.restoreParentsScrollTop(p,M)}catch{}}}e.TextAreaWrapper=l}),define(ee[540],te([1,0,7,35,49]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends E.ViewPart{constructor(t,n){super(t),this.a=n,this.b={},this.domNode=(0,N.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,N.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this.b={}}onConfigurationChanged(t){const n=Object.keys(this.b);for(const a of n)this.b[a].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this.c(),!0}onLinesChanged(t){return this.c(),!0}onLinesDeleted(t){return this.c(),!0}onLinesInserted(t){return this.c(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}c(){const t=Object.keys(this.b);for(const n of t)this.b[n].updateAnchorViewPosition()}addWidget(t){const n=new y(this._context,this.a,t);this.b[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.l()}setWidgetPosition(t,n,a,r,c){this.b[t.getId()].setPosition(n,a,r,c),this.l()}removeWidget(t){const n=t.getId();if(this.b.hasOwnProperty(n)){const a=this.b[n];delete this.b[n];const r=a.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.l()}}shouldSuppressMouseDownOnWidget(t){return this.b.hasOwnProperty(t)?this.b[t].suppressMouseDown:!1}onBeforeRender(t){const n=Object.keys(this.b);for(const a of n)this.b[a].onBeforeRender(t)}prepareRender(t){const n=Object.keys(this.b);for(const a of n)this.b[a].prepareRender(t)}render(t){const n=Object.keys(this.b);for(const a of n)this.b[a].render(t)}}e.ViewContentWidgets=D;class y{constructor(t,n,a){this.i=new v(null,null),this.j=new v(null,null),this.a=t,this.b=n,this.c=a,this.domNode=(0,N.createFastDomNode)(this.c.getDomNode()),this.id=this.c.getId(),this.allowEditorOverflow=this.c.allowEditorOverflow||!1,this.suppressMouseDown=this.c.suppressMouseDown||!1;const r=this.a.configuration.options,c=r.get(138);this.d=r.get(39),this.f=c.contentWidth,this.g=c.contentLeft,this.h=r.get(63),this.k=null,this.l=[],this.m=-1,this.n=-1,this.o=this.s(),this.p=!1,this.q=null,this.domNode.setPosition(this.d&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this.o)}onConfigurationChanged(t){const n=this.a.configuration.options;if(this.h=n.get(63),t.hasChanged(138)){const a=n.get(138);this.g=a.contentLeft,this.f=a.contentWidth,this.o=this.s()}}updateAnchorViewPosition(){this.r(this.k,this.i.modelPosition,this.j.modelPosition)}r(t,n,a){this.k=t,this.i=r(n,this.a.viewModel,this.k),this.j=r(a,this.a.viewModel,this.k);function r(c,u,s){if(!c)return new v(null,null);const l=u.model.validatePosition(c);if(u.coordinatesConverter.modelPositionIsVisible(l)){const o=u.coordinatesConverter.convertModelPositionToViewPosition(l,s??void 0);return new v(c,o)}return new v(c,null)}}s(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this.f}setPosition(t,n,a,r){this.r(r,t,n),this.l=a,this.i.viewPosition&&this.l&&this.l.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this.m=-1,this.n=-1}t(t,n,a,r){const c=t.top,u=c,s=t.top+t.height,l=r.viewportHeight-s,o=c-a,h=u>=a,f=s,S=l>=a;let p=t.left;return p+n>r.scrollLeft+r.viewportWidth&&(p=r.scrollLeft+r.viewportWidth-n),p<r.scrollLeft&&(p=r.scrollLeft),{fitsAbove:h,aboveTop:o,fitsBelow:S,belowTop:f,left:p}}u(t,n,a,r){const s=Math.max(15,n.left-r),l=Math.min(n.left+n.width+r,t.width-15);let o=n.left+a-window.scrollX;if(o+r>l){const h=o-(l-r);o-=h,a-=h}if(o<s){const h=o-s;o-=h,a-=h}return[a,o]}v(t,n,a,r){const c=t.top-a,u=t.top+t.height,s=w.getDomNodePagePosition(this.b.domNode),l=s.top+c-window.scrollY,o=s.top+u-window.scrollY,h=w.getClientArea(document.body),[f,S]=this.u(h,s,t.left-r.scrollLeft+this.g,n),p=22,m=22,b=l>=p,L=o+a<=h.height-m;return this.d?{fitsAbove:b,aboveTop:Math.max(l,p),fitsBelow:L,belowTop:o,left:S}:{fitsAbove:b,aboveTop:c,fitsBelow:L,belowTop:u,left:f}}w(t){return new C(t.top,t.left+this.g)}x(t){var n,a;const r=s(this.i.viewPosition,this.k,this.h),c=((n=this.j.viewPosition)===null||n===void 0?void 0:n.lineNumber)===((a=this.i.viewPosition)===null||a===void 0?void 0:a.lineNumber)?this.j.viewPosition:null,u=s(c,this.k,this.h);return{primary:r,secondary:u};function s(l,o,h){if(!l)return null;const f=t.visibleRangeForPosition(l);if(!f)return null;const S=l.column===1&&o===3?0:f.left,p=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.scrollTop;return new d(p,S,h)}}y(t,n,a){if(!n)return t;const r=this.a.configuration.options.get(47);let c=n.left;return c<t.left?c=Math.max(c,t.left-a+r.typicalFullwidthCharacterWidth):c=Math.min(c,t.left+a-r.typicalFullwidthCharacterWidth),new d(t.top,c,t.height)}z(t){if(!this.l||this.l.length===0)return null;const{primary:n,secondary:a}=this.x(t);if(!n)return null;if(this.m===-1||this.n===-1){let u=null;if(typeof this.c.beforeRender=="function"&&(u=g(this.c.beforeRender,this.c)),u)this.m=u.width,this.n=u.height;else{const l=this.domNode.domNode.getBoundingClientRect();this.m=Math.round(l.width),this.n=Math.round(l.height)}}const r=this.y(n,a,this.m);let c;this.allowEditorOverflow?c=this.v(r,this.m,this.n,t):c=this.t(r,this.m,this.n,t);for(let u=1;u<=2;u++)for(const s of this.l)if(s===1){if(!c)return null;if(u===2||c.fitsAbove)return{coordinate:new C(c.aboveTop,c.left),position:1}}else if(s===2){if(!c)return null;if(u===2||c.fitsBelow)return{coordinate:new C(c.belowTop,c.left),position:2}}else return this.allowEditorOverflow?{coordinate:this.w(new C(r.top,r.left)),position:0}:{coordinate:new C(r.top,r.left),position:0};return null}onBeforeRender(t){!this.i.viewPosition||!this.l||this.i.viewPosition.lineNumber<t.startLineNumber||this.i.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this.o)}prepareRender(t){this.q=this.z(t)}render(t){if(!this.q){this.p&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this.p=!1,this.domNode.setVisibility("hidden")),typeof this.c.afterRender=="function"&&g(this.c.afterRender,this.c,null);return}this.allowEditorOverflow?(this.domNode.setTop(this.q.coordinate.top),this.domNode.setLeft(this.q.coordinate.left)):(this.domNode.setTop(this.q.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this.q.coordinate.left)),this.p||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this.p=!0),typeof this.c.afterRender=="function"&&g(this.c.afterRender,this.c,this.q.position)}}class v{constructor(t,n){this.modelPosition=t,this.viewPosition=n}}class C{constructor(t,n){this.top=t,this.left=n,this._coordinateBrand=void 0}}class d{constructor(t,n,a){this.top=t,this.left=n,this.height=a,this._anchorCoordinateBrand=void 0}}function g(i,t,...n){try{return i.call(t,...n)}catch{return null}}}),define(ee[541],te([1,0,12,13,2]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends E.Disposable{constructor(){super(),this.a=null,this.b=null,this.c=this.q(new E.DisposableMap),this.g=new Map,this.h=[],this.h[0]=!1,this.h[1]=!1,this.h[2]=!1,this.h[3]=!1}initialize(v,C,d){this.a=v,this.b=d;for(const g of C){if(this.g.has(g.id)){(0,N.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${g.id}`));continue}this.g.set(g.id,g)}this.i(0),this.q((0,w.runWhenIdle)(()=>{this.i(1)})),this.q((0,w.runWhenIdle)(()=>{this.i(2)})),this.q((0,w.runWhenIdle)(()=>{this.i(3)},5e3))}saveViewState(){const v={};for(const[C,d]of this.c)typeof d.saveViewState=="function"&&(v[C]=d.saveViewState());return v}restoreViewState(v){for(const[C,d]of this.c)typeof d.restoreViewState=="function"&&d.restoreViewState(v[C])}get(v){return this.k(v),this.c.get(v)||null}onBeforeInteractionEvent(){this.i(2)}onAfterModelAttached(){this.q((0,w.runWhenIdle)(()=>{this.i(1)},50))}i(v){if(this.h[v])return;this.h[v]=!0;const C=this.j(v);for(const d of C)this.k(d.id)}j(v){const C=[];for(const[,d]of this.g)d.instantiation===v&&C.push(d);return C}k(v){const C=this.g.get(v);if(!!C){if(this.g.delete(v),!this.b||!this.a)throw new Error("Cannot instantiate contributions before being initialized!");try{const d=this.b.createInstance(C.ctor,this.a);this.c.set(C.id,d),typeof d.restoreViewState=="function"&&C.instantiation!==0&&console.warn(`Editor contribution '${C.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(d){(0,N.onUnexpectedError)(d)}}}}e.CodeEditorContributions=D}),define(ee[169],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this.a=0,this.b=new w.Emitter,this.onDidChangeZoomLevel=this.b.event}getZoomLevel(){return this.a}setZoomLevel(N){N=Math.min(Math.max(-5,N),20),this.a!==N&&(this.a=N,this.b.fire(this.a))}}}),define(ee[96],te([1,0,9,16,126]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function y(){return D||(D=new TextDecoder("UTF-16LE")),D}let v;function C(){return v||(v=new TextDecoder("UTF-16BE")),v}let d;function g(){return d||(d=N.isLittleEndian()?y():C()),d}e.getPlatformTextDecoder=g;function i(a,r,c){const u=new Uint16Array(a.buffer,r,c);return c>0&&(u[0]===65279||u[0]===65534)?t(a,r,c):y().decode(u)}e.decodeUTF16LE=i;function t(a,r,c){const u=[];let s=0;for(let l=0;l<c;l++){const o=E.readUInt16LE(a,r);r+=2,u[s++]=String.fromCharCode(o)}return u.join("")}class n{constructor(r){this.a=r|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const r=new Uint16Array(this.b.buffer,0,this.d);return g().decode(r)}f(){const r=this.e();this.d=0,this.c===null?this.c=[r]:this.c[this.c.length]=r}appendCharCode(r){const c=this.a-this.d;c<=1&&(c===0||w.isHighSurrogate(r))&&this.f(),this.b[this.d++]=r}appendASCIICharCode(r){this.d===this.a&&this.f(),this.b[this.d++]=r}appendString(r){const c=r.length;if(this.d+c>=this.a){this.f(),this.c[this.c.length]=r;return}for(let u=0;u<c;u++)this.b[this.d++]=r.charCodeAt(u)}}e.StringBuilder=n}),define(ee[542],te([1,0,96,9,72,103,255]),function(K,e,w,N,E,D,y){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("domLineBreaksComputer",{createHTML:r=>r});class d{static create(){return new d}constructor(){}createLineBreaksComputer(c,u,s,l,o){const h=[],f=[];return{addRequest:(S,p,m)=>{h.push(S),f.push(p)},finalize:()=>g(h,c,u,s,l,o,f)}}}e.DOMLineBreaksComputerFactory=d;function g(r,c,u,s,l,o,h){var f;function S(R){const $=h[R];if($){const X=D.LineInjectedText.applyInjectedText(r[R],$),ne=$.map(ie=>ie.options),ae=$.map(ie=>ie.column-1);return new y.ModelLineProjectionData(ae,ne,[X.length],[],0)}else return null}if(s===-1){const R=[];for(let $=0,X=r.length;$<X;$++)R[$]=S($);return R}const p=Math.round(s*c.typicalHalfwidthCharacterWidth),b=Math.round(u*(l===3?2:l===2?1:0)),L=Math.ceil(c.spaceWidth*b),k=document.createElement("div");(0,E.applyFontInfo)(k,c);const I=new w.StringBuilder(1e4),M=[],B=[],z=[],P=[],A=[];for(let R=0;R<r.length;R++){const $=D.LineInjectedText.applyInjectedText(r[R],h[R]);let X=0,ne=0,ae=p;if(l!==0)if(X=N.firstNonWhitespaceIndex($),X===-1)X=0;else{for(let x=0;x<X;x++)ne+=$.charCodeAt(x)===9?u-ne%u:1;const J=Math.ceil(c.spaceWidth*ne);J+c.typicalFullwidthCharacterWidth>p?(X=0,ne=0):ae=p-J}const ie=$.substr(X),le=i(ie,ne,u,ae,I,L);M[R]=X,B[R]=ne,z[R]=ie,P[R]=le[0],A[R]=le[1]}const T=I.build(),O=(f=C?.createHTML(T))!==null&&f!==void 0?f:T;k.innerHTML=O,k.style.position="absolute",k.style.top="10000",o==="keepAll"?(k.style.wordBreak="keep-all",k.style.overflowWrap="anywhere"):(k.style.wordBreak="inherit",k.style.overflowWrap="break-word"),document.body.appendChild(k);const F=document.createRange(),W=Array.prototype.slice.call(k.children,0),V=[];for(let R=0;R<r.length;R++){const $=W[R],X=t(F,$,z[R],P[R]);if(X===null){V[R]=S(R);continue}const ne=M[R],ae=B[R]+b,ie=A[R],le=[];for(let Y=0,Q=X.length;Y<Q;Y++)le[Y]=ie[X[Y]];if(ne!==0)for(let Y=0,Q=X.length;Y<Q;Y++)X[Y]+=ne;let J,x;const q=h[R];q?(J=q.map(Y=>Y.options),x=q.map(Y=>Y.column-1)):(J=null,x=null),V[R]=new y.ModelLineProjectionData(x,J,X,le,ae)}return document.body.removeChild(k),V}function i(r,c,u,s,l,o){if(o!==0){const L=String(o);l.appendString('<div style="text-indent: -'),l.appendString(L),l.appendString("px; padding-left: "),l.appendString(L),l.appendString("px; box-sizing: border-box; width:")}else l.appendString('<div style="width:');l.appendString(String(s)),l.appendString('px;">');const h=r.length;let f=c,S=0;const p=[],m=[];let b=0<h?r.charCodeAt(0):0;l.appendString("<span>");for(let L=0;L<h;L++){L!==0&&L%16384===0&&l.appendString("</span><span>"),p[L]=S,m[L]=f;const k=b;b=L+1<h?r.charCodeAt(L+1):0;let I=1,M=1;switch(k){case 9:I=u-f%u,M=I;for(let B=1;B<=I;B++)B<I?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 32:b===32?l.appendCharCode(160):l.appendASCIICharCode(32);break;case 60:l.appendString("&lt;");break;case 62:l.appendString("&gt;");break;case 38:l.appendString("&amp;");break;case 0:l.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:l.appendCharCode(65533);break;default:N.isFullWidthCharacter(k)&&M++,k<32?l.appendCharCode(9216+k):l.appendCharCode(k)}S+=I,f+=M}return l.appendString("</span>"),p[r.length]=S,m[r.length]=f,l.appendString("</div>"),[p,m]}function t(r,c,u,s){if(u.length<=1)return null;const l=Array.prototype.slice.call(c.children,0),o=[];try{n(r,l,s,0,null,u.length-1,null,o)}catch(h){return console.log(h),null}return o.length===0?null:(o.push(u.length),o)}function n(r,c,u,s,l,o,h,f){if(s===o||(l=l||a(r,c,u[s],u[s+1]),h=h||a(r,c,u[o],u[o+1]),Math.abs(l[0].top-h[0].top)<=.1))return;if(s+1===o){f.push(o);return}const S=s+(o-s)/2|0,p=a(r,c,u[S],u[S+1]);n(r,c,u,s,l,S,p,f),n(r,c,u,S,p,o,h,f)}function a(r,c,u,s){return r.setStart(c[u/16384|0].firstChild,u%16384),r.setEnd(c[s/16384|0].firstChild,s%16384),r.getClientRects()}}),define(ee[212],te([1,0,35,96]),function(K,e,w,N){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(d){this.a=d,this._set(1,[])}flush(){this._set(1,[])}_set(d,g){this.b=g,this.c=d}_get(){return{rendLineNumberStart:this.c,lines:this.b}}getStartLineNumber(){return this.c}getEndLineNumber(){return this.c+this.b.length-1}getCount(){return this.b.length}getLine(d){const g=d-this.c;if(g<0||g>=this.b.length)throw new Error("Illegal value for lineNumber");return this.b[g]}onLinesDeleted(d,g){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),t=this.getEndLineNumber();if(g<i){const c=g-d+1;return this.c-=c,null}if(d>t)return null;let n=0,a=0;for(let c=i;c<=t;c++){const u=c-this.c;d<=c&&c<=g&&(a===0?(n=u,a=1):a++)}if(d<i){let c=0;g<i?c=g-d+1:c=i-d,this.c-=c}return this.b.splice(n,a)}onLinesChanged(d,g){const i=d+g-1;if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let a=!1;for(let r=d;r<=i;r++)r>=t&&r<=n&&(this.b[r-this.c].onContentChanged(),a=!0);return a}onLinesInserted(d,g){if(this.getCount()===0)return null;const i=g-d+1,t=this.getStartLineNumber(),n=this.getEndLineNumber();if(d<=t)return this.c+=i,null;if(d>n)return null;if(i+d>n)return this.b.splice(d-this.c,n-d+1);const a=[];for(let l=0;l<i;l++)a[l]=this.a();const r=d-this.c,c=this.b.slice(0,r),u=this.b.slice(r,this.b.length-i),s=this.b.slice(this.b.length-i,this.b.length);return this.b=c.concat(a).concat(u),s}onTokensChanged(d){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),i=this.getEndLineNumber();let t=!1;for(let n=0,a=d.length;n<a;n++){const r=d[n];if(r.toLineNumber<g||r.fromLineNumber>i)continue;const c=Math.max(g,r.fromLineNumber),u=Math.min(i,r.toLineNumber);for(let s=c;s<=u;s++){const l=s-this.c;this.b[l].onTokensChanged(),t=!0}}return t}}e.RenderedLinesCollection=D;class y{constructor(d){this.a=d,this.domNode=this.c(),this.b=new D(()=>this.a.createVisibleLine())}c(){const d=(0,w.createFastDomNode)(document.createElement("div"));return d.setClassName("view-layer"),d.setPosition("absolute"),d.domNode.setAttribute("role","presentation"),d.domNode.setAttribute("aria-hidden","true"),d}onConfigurationChanged(d){return!!d.hasChanged(138)}onFlushed(d){return this.b.flush(),!0}onLinesChanged(d){return this.b.onLinesChanged(d.fromLineNumber,d.count)}onLinesDeleted(d){const g=this.b.onLinesDeleted(d.fromLineNumber,d.toLineNumber);if(g)for(let i=0,t=g.length;i<t;i++){const n=g[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onLinesInserted(d){const g=this.b.onLinesInserted(d.fromLineNumber,d.toLineNumber);if(g)for(let i=0,t=g.length;i<t;i++){const n=g[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onScrollChanged(d){return d.scrollTopChanged}onTokensChanged(d){return this.b.onTokensChanged(d.ranges)}onZonesChanged(d){return!0}getStartLineNumber(){return this.b.getStartLineNumber()}getEndLineNumber(){return this.b.getEndLineNumber()}getVisibleLine(d){return this.b.getLine(d)}renderLines(d){const g=this.b._get(),i=new v(this.domNode.domNode,this.a,d),t={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},n=i.render(t,d.startLineNumber,d.endLineNumber,d.relativeVerticalOffset);this.b._set(n.rendLineNumberStart,n.lines)}}e.VisibleLinesCollection=y;class v{constructor(d,g,i){this.domNode=d,this.host=g,this.viewportData=i}render(d,g,i,t){const n={rendLineNumberStart:d.rendLineNumberStart,lines:d.lines.slice(0),linesLength:d.linesLength};if(n.rendLineNumberStart+n.linesLength-1<g||i<n.rendLineNumberStart){n.rendLineNumberStart=g,n.linesLength=i-g+1,n.lines=[];for(let a=g;a<=i;a++)n.lines[a-g]=this.host.createVisibleLine();return this.l(n,!0,t),n}if(this.b(n,Math.max(g-n.rendLineNumberStart,0),Math.min(i-n.rendLineNumberStart,n.linesLength-1),t,g),n.rendLineNumberStart>g){const a=g,r=Math.min(i,n.rendLineNumberStart-1);a<=r&&(this.c(n,a,r,t,g),n.linesLength+=r-a+1)}else if(n.rendLineNumberStart<g){const a=Math.min(n.linesLength,g-n.rendLineNumberStart);a>0&&(this.d(n,a),n.linesLength-=a)}if(n.rendLineNumberStart=g,n.rendLineNumberStart+n.linesLength-1<i){const a=n.rendLineNumberStart+n.linesLength,r=i;a<=r&&(this.f(n,a,r,t,g),n.linesLength+=r-a+1)}else if(n.rendLineNumberStart+n.linesLength-1>i){const a=Math.max(0,i-n.rendLineNumberStart+1),c=n.linesLength-1-a+1;c>0&&(this.g(n,c),n.linesLength-=c)}return this.l(n,!1,t),n}b(d,g,i,t,n){const a=d.rendLineNumberStart,r=d.lines;for(let c=g;c<=i;c++){const u=a+c;r[c].layoutLine(u,t[u-n])}}c(d,g,i,t,n){const a=[];let r=0;for(let c=g;c<=i;c++)a[r++]=this.host.createVisibleLine();d.lines=a.concat(d.lines)}d(d,g){for(let i=0;i<g;i++){const t=d.lines[i].getDomNode();t&&this.domNode.removeChild(t)}d.lines.splice(0,g)}f(d,g,i,t,n){const a=[];let r=0;for(let c=g;c<=i;c++)a[r++]=this.host.createVisibleLine();d.lines=d.lines.concat(a)}g(d,g){const i=d.linesLength-g;for(let t=0;t<g;t++){const n=d.lines[i+t].getDomNode();n&&this.domNode.removeChild(n)}d.lines.splice(i,g)}h(d,g,i,t){v.a&&(i=v.a.createHTML(i));const n=this.domNode.lastChild;g||!n?this.domNode.innerHTML=i:n.insertAdjacentHTML("afterend",i);let a=this.domNode.lastChild;for(let r=d.linesLength-1;r>=0;r--){const c=d.lines[r];t[r]&&(c.setDomNode(a),a=a.previousSibling)}}j(d,g,i){const t=document.createElement("div");v.a&&(g=v.a.createHTML(g)),t.innerHTML=g;for(let n=0;n<d.linesLength;n++){const a=d.lines[n];if(i[n]){const r=t.firstChild,c=a.getDomNode();c.parentNode.replaceChild(r,c),a.setDomNode(r)}}}l(d,g,i){const t=v.k,n=d.linesLength,a=d.lines,r=d.rendLineNumberStart,c=[];{t.reset();let u=!1;for(let s=0;s<n;s++){const l=a[s];c[s]=!1,!(l.getDomNode()||!l.renderLine(s+r,i[s],this.viewportData,t))&&(c[s]=!0,u=!0)}u&&this.h(d,g,t.build(),c)}{t.reset();let u=!1;const s=[];for(let l=0;l<n;l++){const o=a[l];s[l]=!1,!(c[l]||!o.renderLine(l+r,i[l],this.viewportData,t))&&(s[l]=!0,u=!0)}u&&this.j(d,t.build(),s)}}}v.a=(E=window.trustedTypes)===null||E===void 0?void 0:E.createPolicy("editorViewLayer",{createHTML:C=>C}),v.k=new N.StringBuilder(1e5)}),define(ee[543],te([1,0,35,72,212,49]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends D.ViewPart{constructor(i){super(i),this.a=new E.VisibleLinesCollection(this),this.b=this.a.domNode;const n=this._context.configuration.options.get(47);(0,N.applyFontInfo)(this.b,n),this.c=[],this.g=!1,this.b.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,t=this.c.length;i<t;i++)if(this.c[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,t=this.c.length;i<t;i++)this.c[i].dispose();this.c=[]}getDomNode(){return this.b}createVisibleLine(){return new v(this._context.configuration,this.c)}addDynamicOverlay(i){this.c.push(i)}onConfigurationChanged(i){this.a.onConfigurationChanged(i);const t=this.a.getStartLineNumber(),n=this.a.getEndLineNumber();for(let c=t;c<=n;c++)this.a.getVisibleLine(c).onConfigurationChanged(i);const r=this._context.configuration.options.get(47);return(0,N.applyFontInfo)(this.b,r),!0}onFlushed(i){return this.a.onFlushed(i)}onFocusChanged(i){return this.g=i.isFocused,!0}onLinesChanged(i){return this.a.onLinesChanged(i)}onLinesDeleted(i){return this.a.onLinesDeleted(i)}onLinesInserted(i){return this.a.onLinesInserted(i)}onScrollChanged(i){return this.a.onScrollChanged(i)||!0}onTokensChanged(i){return this.a.onTokensChanged(i)}onZonesChanged(i){return this.a.onZonesChanged(i)}prepareRender(i){const t=this.c.filter(n=>n.shouldRender());for(let n=0,a=t.length;n<a;n++){const r=t[n];r.prepareRender(i),r.onDidRender()}}render(i){this._viewOverlaysRender(i),this.b.toggleClassName("focused",this.g)}_viewOverlaysRender(i){this.a.renderLines(i.viewportData)}}e.ViewOverlays=y;class v{constructor(i,t){this.a=i,this.f=this.a.options.get(63),this.b=t,this.c=null,this.d=null}getDomNode(){return this.c?this.c.domNode:null}setDomNode(i){this.c=(0,w.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this.f=this.a.options.get(63)}renderLine(i,t,n,a){let r="";for(let c=0,u=this.b.length;c<u;c++)r+=this.b[c].render(n.startLineNumber,i);return this.d===r?!1:(this.d=r,a.appendString('<div style="position:absolute;top:'),a.appendString(String(t)),a.appendString("px;width:100%;height:"),a.appendString(String(this.f)),a.appendString('px;">'),a.appendString(r),a.appendString("</div>"),!0)}layoutLine(i,t){this.c&&(this.c.setTop(t),this.c.setHeight(this.f))}}e.ViewOverlayLine=v;class C extends y{constructor(i){super(i);const n=this._context.configuration.options.get(138);this.j=n.contentWidth,this.b.setHeight(0)}onConfigurationChanged(i){const n=this._context.configuration.options.get(138);return this.j=n.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.b.setWidth(Math.max(i.scrollWidth,this.j))}}e.ContentViewOverlays=C;class d extends y{constructor(i){super(i);const t=this._context.configuration.options,n=t.get(138);this.j=n.contentLeft,this.b.setClassName("margin-view-overlays"),this.b.setWidth(1),(0,N.applyFontInfo)(this.b,t.get(47))}onConfigurationChanged(i){const t=this._context.configuration.options;(0,N.applyFontInfo)(this.b,t.get(47));const n=t.get(138);return this.j=n.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const t=Math.min(i.scrollHeight,1e6);this.b.setHeight(t),this.b.setWidth(this.j)}}e.MarginViewOverlays=d}),define(ee[284],te([1,0,126,96]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function E(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(d,g,i,t){this.oldPosition=d,this.oldText=g,this.newPosition=i,this.newText=t}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${E(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${E(this.oldText)}")`:`(replace@${this.oldPosition} "${E(this.oldText)}" with "${E(this.newText)}")`}static a(d){return 4+2*d.length}static c(d,g,i){const t=g.length;w.writeUInt32BE(d,t,i),i+=4;for(let n=0;n<t;n++)w.writeUInt16LE(d,g.charCodeAt(n),i),i+=2;return i}static d(d,g){const i=w.readUInt32BE(d,g);return g+=4,(0,N.decodeUTF16LE)(d,g,i)}writeSize(){return 4+4+D.a(this.oldText)+D.a(this.newText)}write(d,g){return w.writeUInt32BE(d,this.oldPosition,g),g+=4,w.writeUInt32BE(d,this.newPosition,g),g+=4,g=D.c(d,this.oldText,g),g=D.c(d,this.newText,g),g}static read(d,g,i){const t=w.readUInt32BE(d,g);g+=4;const n=w.readUInt32BE(d,g);g+=4;const a=D.d(d,g);g+=D.a(a);const r=D.d(d,g);return g+=D.a(r),i.push(new D(t,a,n,r)),g}}e.TextChange=D;function y(C,d){return C===null||C.length===0?d:new v(C,d).compress()}e.compressConsecutiveTextChanges=y;class v{constructor(d,g){this.a=d,this.c=g,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let d=0,g=0,i=this.n(d),t=this.l(g);for(;d<this.f||g<this.h;){if(i===null){this.k(t),t=this.l(++g);continue}if(t===null){this.m(i),i=this.n(++d);continue}if(t.oldEnd<=i.newPosition){this.k(t),t=this.l(++g);continue}if(i.newEnd<=t.oldPosition){this.m(i),i=this.n(++d);continue}if(t.oldPosition<i.newPosition){const[u,s]=v.r(t,i.newPosition-t.oldPosition);this.k(u),t=s;continue}if(i.newPosition<t.oldPosition){const[u,s]=v.q(i,t.oldPosition-i.newPosition);this.m(u),i=s;continue}let r,c;if(t.oldEnd===i.newEnd)r=i,c=t,i=this.n(++d),t=this.l(++g);else if(t.oldEnd<i.newEnd){const[u,s]=v.q(i,t.oldLength);r=u,c=t,i=s,t=this.l(++g)}else{const[u,s]=v.r(t,i.newLength);r=i,c=u,i=this.n(++d),t=s}this.d[this.e++]=new D(r.oldPosition,r.oldText,c.newPosition,c.newText),this.g+=r.newLength-r.oldLength,this.j+=c.newLength-c.oldLength}const n=v.s(this.d);return v.t(n)}k(d){this.d[this.e++]=v.o(this.g,d),this.j+=d.newLength-d.oldLength}l(d){return d<this.h?this.c[d]:null}m(d){this.d[this.e++]=v.p(this.j,d),this.g+=d.newLength-d.oldLength}n(d){return d<this.f?this.a[d]:null}static o(d,g){return new D(g.oldPosition-d,g.oldText,g.newPosition,g.newText)}static p(d,g){return new D(g.oldPosition,g.oldText,g.newPosition+d,g.newText)}static q(d,g){const i=d.newText.substr(0,g),t=d.newText.substr(g);return[new D(d.oldPosition,d.oldText,d.newPosition,i),new D(d.oldEnd,"",d.newPosition+g,t)]}static r(d,g){const i=d.oldText.substr(0,g),t=d.oldText.substr(g);return[new D(d.oldPosition,i,d.newPosition,d.newText),new D(d.oldPosition+g,t,d.newEnd,"")]}static s(d){if(d.length===0)return d;const g=[];let i=0,t=d[0];for(let n=1;n<d.length;n++){const a=d[n];t.oldEnd===a.oldPosition?t=new D(t.oldPosition,t.oldText+a.oldText,t.newPosition,t.newText+a.newText):(g[i++]=t,t=a)}return g[i++]=t,g}static t(d){if(d.length===0)return d;const g=[];let i=0;for(let t=0;t<d.length;t++){const n=d[t];n.oldText!==n.newText&&(g[i++]=n)}return g}}}),define(ee[544],te([1,0,267,88]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function E(D,y,v,C,d,g){if(Array.isArray(D)){let i=0;for(const t of D){const n=E(t,y,v,C,d,g);if(n===10)return n;n>i&&(i=n)}return i}else{if(typeof D=="string")return C?D==="*"?5:D===v?10:0:0;if(D){const{language:i,pattern:t,scheme:n,hasAccessToAllModels:a,notebookType:r}=D;if(!C&&!a)return 0;r&&d&&(y=d);let c=0;if(n)if(n===y.scheme)c=10;else if(n==="*")c=5;else return 0;if(i)if(i===v)c=10;else if(i==="*")c=Math.max(c,5);else return 0;if(r)if(r===g)c=10;else if(r==="*"&&g!==void 0)c=Math.max(c,5);else return 0;if(t){let u;if(typeof t=="string"?u=t:u=Object.assign(Object.assign({},t),{base:(0,N.normalize)(t.base)}),u===y.fsPath||(0,w.match)(u,y.fsPath))c=10;else return 0}return c}else return 0}}e.score=E}),define(ee[545],te([1,0,6,2,48,544]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(d){return typeof d=="string"?!1:Array.isArray(d)?d.every(y):!!d.exclusive}class v{constructor(g,i,t,n){this.uri=g,this.languageId=i,this.notebookUri=t,this.notebookType=n}equals(g){var i,t;return this.notebookType===g.notebookType&&this.languageId===g.languageId&&this.uri.toString()===g.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((t=g.notebookUri)===null||t===void 0?void 0:t.toString())}}class C{constructor(g){this.f=g,this.c=0,this.d=[],this.e=new w.Emitter,this.onDidChange=this.e.event}register(g,i){let t={selector:g,provider:i,_score:-1,_time:this.c++};return this.d.push(t),this.h=void 0,this.e.fire(this.d.length),(0,N.toDisposable)(()=>{if(t){const n=this.d.indexOf(t);n>=0&&(this.d.splice(n,1),this.h=void 0,this.e.fire(this.d.length),t=void 0)}})}has(g){return this.all(g).length>0}all(g){if(!g)return[];this.i(g);const i=[];for(const t of this.d)t._score>0&&i.push(t.provider);return i}ordered(g){const i=[];return this.g(g,t=>i.push(t.provider)),i}orderedGroups(g){const i=[];let t,n;return this.g(g,a=>{t&&n===a._score?t.push(a.provider):(n=a._score,t=[a.provider],i.push(t))}),i}g(g,i){this.i(g);for(const t of this.d)t._score>0&&i(t)}i(g){var i,t;const n=(i=this.f)===null||i===void 0?void 0:i.call(this,g.uri),a=n?new v(g.uri,g.getLanguageId(),n.uri,n.type):new v(g.uri,g.getLanguageId(),void 0,void 0);if(!(!((t=this.h)===null||t===void 0)&&t.equals(a))){this.h=a;for(const r of this.d)if(r._score=(0,D.score)(r.selector,a.uri,a.languageId,(0,E.shouldSynchronizeModel)(g),a.notebookUri,a.notebookType),y(r.selector)&&r._score>0){for(const c of this.d)c._score=0;r._score=1e3;break}this.d.sort(C.j)}}static j(g,i){return g._score<i._score?1:g._score>i._score?-1:g._time<i._time?1:g._time>i._time?-1:0}}e.LanguageFeatureRegistry=C}),define(ee[213],te([1,0,9,96,3]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(o,h,f,S,p,m){this._richEditBracketBrand=void 0,this.languageId=o,this.index=h,this.open=f,this.close=S,this.forwardRegex=p,this.reversedRegex=m,this.c=D.e(this.open),this.d=D.e(this.close)}isOpen(o){return this.c.has(o)}isClose(o){return this.d.has(o)}static e(o){const h=new Set;for(const f of o)h.add(f);return h}}e.RichEditBracket=D;function y(l){const o=l.length;l=l.map(m=>[m[0].toLowerCase(),m[1].toLowerCase()]);const h=[];for(let m=0;m<o;m++)h[m]=m;const f=(m,b)=>{const[L,k]=m,[I,M]=b;return L===I||L===M||k===I||k===M},S=(m,b)=>{const L=Math.min(m,b),k=Math.max(m,b);for(let I=0;I<o;I++)h[I]===k&&(h[I]=L)};for(let m=0;m<o;m++){const b=l[m];for(let L=m+1;L<o;L++){const k=l[L];f(b,k)&&S(h[m],h[L])}}const p=[];for(let m=0;m<o;m++){const b=[],L=[];for(let k=0;k<o;k++)if(h[k]===m){const[I,M]=l[k];b.push(I),L.push(M)}b.length>0&&p.push({open:b,close:L})}return p}class v{constructor(o,h){this._richEditBracketsBrand=void 0;const f=y(h);this.brackets=f.map((S,p)=>new D(o,p,S.open,S.close,i(S.open,S.close,f,p),t(S.open,S.close,f,p))),this.forwardRegex=n(this.brackets),this.reversedRegex=a(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const S of this.brackets){for(const p of S.open)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length);for(const p of S.close)this.textIsBracket[p]=S,this.textIsOpenBracket[p]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}}e.RichEditBrackets=v;function C(l,o,h,f){for(let S=0,p=o.length;S<p;S++){if(S===h)continue;const m=o[S];for(const b of m.open)b.indexOf(l)>=0&&f.push(b);for(const b of m.close)b.indexOf(l)>=0&&f.push(b)}}function d(l,o){return l.length-o.length}function g(l){if(l.length<=1)return l;const o=[],h=new Set;for(const f of l)h.has(f)||(o.push(f),h.add(f));return o}function i(l,o,h,f){let S=[];S=S.concat(l),S=S.concat(o);for(let p=0,m=S.length;p<m;p++)C(S[p],h,f,S);return S=g(S),S.sort(d),S.reverse(),c(S)}function t(l,o,h,f){let S=[];S=S.concat(l),S=S.concat(o);for(let p=0,m=S.length;p<m;p++)C(S[p],h,f,S);return S=g(S),S.sort(d),S.reverse(),c(S.map(u))}function n(l){let o=[];for(const h of l){for(const f of h.open)o.push(f);for(const f of h.close)o.push(f)}return o=g(o),c(o)}function a(l){let o=[];for(const h of l){for(const f of h.open)o.push(f);for(const f of h.close)o.push(f)}return o=g(o),c(o.map(u))}function r(l){const o=/^[\w ]+$/.test(l);return l=w.escapeRegExpCharacters(l),o?`\\b${l}\\b`:l}function c(l){const o=`(${l.map(r).join(")|(")})`;return w.createRegExp(o,!0)}const u=function(){function l(f){const S=new Uint16Array(f.length);let p=0;for(let m=f.length-1;m>=0;m--)S[p++]=f.charCodeAt(m);return N.getPlatformTextDecoder().decode(S)}let o=null,h=null;return function(S){return o!==S&&(o=S,h=l(o)),h}}();class s{static c(o,h,f,S){const p=f.match(o);if(!p)return null;const m=f.length-(p.index||0),b=p[0].length,L=S+m;return new E.Range(h,L-b+1,h,L+1)}static findPrevBracketInRange(o,h,f,S,p){const b=u(f).substring(f.length-p,f.length-S);return this.c(o,h,b,S)}static findNextBracketInText(o,h,f,S){const p=f.match(o);if(!p)return null;const m=p.index||0,b=p[0].length;if(b===0)return null;const L=S+m;return new E.Range(h,L+1,h,L+1+b)}static findNextBracketInRange(o,h,f,S,p){const m=f.substring(S,p);return this.findNextBracketInText(o,h,m,S)}}e.BracketsUtils=s}),define(ee[546],te([1,0,17,116,213]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(v){this.a=v}getElectricCharacters(){const v=[];if(this.a)for(const C of this.a.brackets)for(const d of C.close){const g=d.charAt(d.length-1);v.push(g)}return(0,w.distinct)(v)}onElectricCharacter(v,C,d){if(!this.a||this.a.brackets.length===0)return null;const g=C.findTokenIndexAtOffset(d-1);if((0,N.ignoreBracketsInToken)(C.getStandardTokenType(g)))return null;const i=this.a.reversedRegex,t=C.getLineContent().substring(0,d-1)+v,n=E.BracketsUtils.findPrevBracketInRange(i,1,t,0,t.length);if(!n)return null;const a=t.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this.a.textIsOpenBracket[a])return null;const c=C.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:a}:null}}e.BracketElectricCharacterSupport=D}),define(ee[547],te([1,0,6,2,3,464,189,251,86,250,117,190,17,456]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class a extends N.Disposable{didLanguageChange(h){return this.j.didLanguageChange(h)}constructor(h,f){if(super(),this.m=h,this.n=f,this.a=new w.Emitter,this.h=new g.DenseKeyProvider,this.j=new v.LanguageAgnosticBracketTokens(this.h,this.n),this.onDidChange=this.a.event,this.k=[],this.l=[],h.tokenization.backgroundTokenizationState===0){const S=this.j.getSingleLanguageBracketTokens(this.m.getLanguageId()),p=new i.FastTokenizer(this.m.getValue(),S);this.b=(0,d.parseDocument)(p,[],void 0,!0),this.g=this.b}else h.tokenization.backgroundTokenizationState===2?(this.b=void 0,this.g=this.t([],void 0,!1)):h.tokenization.backgroundTokenizationState===1&&(this.b=this.t([],void 0,!0),this.g=this.b)}handleDidChangeBackgroundTokenizationState(){if(this.m.tokenization.backgroundTokenizationState===2){const h=this.b===void 0;this.b=void 0,h||this.a.fire()}}handleDidChangeTokens({ranges:h}){const f=h.map(S=>new y.TextEditInfo((0,C.toLength)(S.fromLineNumber-1,0),(0,C.toLength)(S.toLineNumber,0),(0,C.toLength)(S.toLineNumber-S.fromLineNumber+1,0)));this.p(f,!0),this.b||this.a.fire()}handleContentChanged(h){const f=h.changes.map(S=>{const p=E.Range.lift(S.range);return new y.TextEditInfo((0,C.positionToLength)(p.getStartPosition()),(0,C.positionToLength)(p.getEndPosition()),(0,C.lengthOfString)(S.text))}).reverse();this.p(f,!1)}p(h,f){const S=(0,n.combineTextEditInfos)(this.l,h);this.l=S,this.b&&!f&&(this.k=(0,n.combineTextEditInfos)(this.k,h))}s(){this.l.length>0&&(this.g=this.t(this.l,this.g,!1),this.l=[]),this.k.length>0&&(this.b&&(this.b=this.t(this.k,this.b,!1)),this.k=[])}t(h,f,S){const m=f,b=new i.TextBufferTokenizer(this.m,this.j);return(0,d.parseDocument)(b,h,m,S)}getBracketsInRange(h){this.s();const f=(0,C.toLength)(h.startLineNumber-1,h.startColumn-1),S=(0,C.toLength)(h.endLineNumber-1,h.endColumn-1);return new t.CallbackIterable(p=>{const m=this.b||this.g;u(m,C.lengthZero,m.length,f,S,p,0,0,new Map)})}getBracketPairsInRange(h,f){this.s();const S=(0,C.positionToLength)(h.getStartPosition()),p=(0,C.positionToLength)(h.getEndPosition());return new t.CallbackIterable(m=>{const b=this.b||this.g,L=new s(m,f,this.m);l(b,C.lengthZero,b.length,S,p,L,0,new Map)})}getFirstBracketAfter(h){this.s();const f=this.b||this.g;return c(f,C.lengthZero,f.length,(0,C.positionToLength)(h))}getFirstBracketBefore(h){this.s();const f=this.b||this.g;return r(f,C.lengthZero,f.length,(0,C.positionToLength)(h))}}e.BracketPairsTree=a;function r(o,h,f,S){if(o.kind===4||o.kind===2){const p=[];for(const m of o.children)f=(0,C.lengthAdd)(h,m.length),p.push({nodeOffsetStart:h,nodeOffsetEnd:f}),h=f;for(let m=p.length-1;m>=0;m--){const{nodeOffsetStart:b,nodeOffsetEnd:L}=p[m];if((0,C.lengthLessThan)(b,S)){const k=r(o.children[m],b,L,S);if(k)return k}}return null}else{if(o.kind===3)return null;if(o.kind===1){const p=(0,C.lengthsToRange)(h,f);return{bracketInfo:o.bracketInfo,range:p}}}return null}function c(o,h,f,S){if(o.kind===4||o.kind===2){for(const p of o.children){if(f=(0,C.lengthAdd)(h,p.length),(0,C.lengthLessThan)(S,f)){const m=c(p,h,f,S);if(m)return m}h=f}return null}else{if(o.kind===3)return null;if(o.kind===1){const p=(0,C.lengthsToRange)(h,f);return{bracketInfo:o.bracketInfo,range:p}}}return null}function u(o,h,f,S,p,m,b,L,k,I=!1){if(b>200)return!0;e:for(;;)switch(o.kind){case 4:{const M=o.childrenLength;for(let B=0;B<M;B++){const z=o.getChild(B);if(!!z){if(f=(0,C.lengthAdd)(h,z.length),(0,C.lengthLessThanEqual)(h,p)&&(0,C.lengthGreaterThanEqual)(f,S)){if((0,C.lengthGreaterThanEqual)(f,p)){o=z;continue e}if(!u(z,h,f,S,p,m,b,0,k))return!1}h=f}}return!0}case 2:{let M=0;if(k){let z=k.get(o.openingBracket.text);z===void 0&&(z=0),M=z,z++,k.set(o.openingBracket.text,z)}const B=o.childrenLength;for(let z=0;z<B;z++){const P=o.getChild(z);if(!!P){if(f=(0,C.lengthAdd)(h,P.length),(0,C.lengthLessThanEqual)(h,p)&&(0,C.lengthGreaterThanEqual)(f,S)){if((0,C.lengthGreaterThanEqual)(f,p)){o=P,b++,L=M+1;continue e}if(!u(P,h,f,S,p,m,b+1,M+1,k,!o.closingBracket))return!1}h=f}}return k?.set(o.openingBracket.text,M),!0}case 3:{const M=(0,C.lengthsToRange)(h,f);return m(new D.BracketInfo(M,b-1,0,!0))}case 1:{const M=(0,C.lengthsToRange)(h,f);return m(new D.BracketInfo(M,b-1,L-1,I))}case 0:return!0}}class s{constructor(h,f,S){this.push=h,this.includeMinIndentation=f,this.textModel=S}}function l(o,h,f,S,p,m,b,L){var k;if(b>200)return!0;let I=!0;if(o.kind===2){let M=0;if(L){let P=L.get(o.openingBracket.text);P===void 0&&(P=0),M=P,P++,L.set(o.openingBracket.text,P)}const B=(0,C.lengthAdd)(h,o.openingBracket.length);let z=-1;if(m.includeMinIndentation&&(z=o.computeMinIndentation(h,m.textModel)),I=m.push(new D.BracketPairWithMinIndentationInfo((0,C.lengthsToRange)(h,f),(0,C.lengthsToRange)(h,B),o.closingBracket?(0,C.lengthsToRange)((0,C.lengthAdd)(B,((k=o.child)===null||k===void 0?void 0:k.length)||C.lengthZero),f):void 0,b,M,o,z)),h=B,I&&o.child){const P=o.child;if(f=(0,C.lengthAdd)(h,P.length),(0,C.lengthLessThanEqual)(h,p)&&(0,C.lengthGreaterThanEqual)(f,S)&&(I=l(P,h,f,S,p,m,b+1,L),!I))return!1}L?.set(o.openingBracket.text,M)}else{let M=h;for(const B of o.children){const z=M;if(M=(0,C.lengthAdd)(M,B.length),(0,C.lengthLessThanEqual)(z,p)&&(0,C.lengthLessThanEqual)(S,M)&&(I=l(B,z,M,S,p,m,b,L),!I))return!1}}return I}}),define(ee[548],te([1,0,17,6,2,3,116,213,547]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class d extends E.Disposable{get g(){return this.j.getValueLength()<=5e6}constructor(r,c){super(),this.j=r,this.k=c,this.a=this.q(new E.MutableDisposable),this.c=new N.Emitter,this.onDidChange=this.c.event,this.h=!1,this.q(this.k.onDidChange(u=>{var s;(!u.languageId||((s=this.a.value)===null||s===void 0?void 0:s.object.didLanguageChange(u.languageId)))&&(this.a.clear(),this.l())}))}handleDidChangeOptions(r){this.a.clear(),this.l()}handleDidChangeLanguage(r){this.a.clear(),this.l()}handleDidChangeContent(r){var c;(c=this.a.value)===null||c===void 0||c.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.a.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var c;(c=this.a.value)===null||c===void 0||c.object.handleDidChangeTokens(r)}l(){if(this.h&&this.g){if(!this.a.value){const r=new E.DisposableStore;this.a.value=g(r.add(new C.BracketPairsTree(this.j,c=>this.k.getLanguageConfiguration(c))),r),r.add(this.a.value.object.onDidChange(c=>this.c.fire(c))),this.c.fire()}}else this.a.value&&(this.a.clear(),this.c.fire())}getBracketPairsInRange(r){var c;return this.h=!0,this.l(),((c=this.a.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(r,!1))||w.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(r){var c;return this.h=!0,this.l(),((c=this.a.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(r,!0))||w.CallbackIterable.empty}getBracketsInRange(r){var c;return this.h=!0,this.l(),((c=this.a.value)===null||c===void 0?void 0:c.object.getBracketsInRange(r))||w.CallbackIterable.empty}findMatchingBracketUp(r,c,u){const s=this.j.validatePosition(c),l=this.j.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.g){const o=this.k.getLanguageConfiguration(l).bracketsNew.getClosingBracketInfo(r);if(!o)return null;const h=this.getBracketPairsInRange(D.Range.fromPositions(c,c)).findLast(f=>o.closes(f.openingBracketInfo));return h?h.openingBracketRange:null}else{const o=r.toLowerCase(),h=this.k.getLanguageConfiguration(l).brackets;if(!h)return null;const f=h.textIsBracket[o];return f?n(this.s(f,s,i(u))):null}}matchBracket(r,c){if(this.g){const u=this.getBracketPairsInRange(D.Range.fromPositions(r,r)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(r)||s.closingBracketRange.containsPosition(r))).findLastMaxBy((0,w.compareBy)(s=>s.openingBracketRange.containsPosition(r)?s.openingBracketRange:s.closingBracketRange,D.Range.compareRangesUsingStarts));return u?[u.openingBracketRange,u.closingBracketRange]:null}else{const u=i(c);return this.n(this.j.validatePosition(r),u)}}m(r,c,u,s){const l=c.getCount(),o=c.getLanguageId(s);let h=Math.max(0,r.column-1-u.maxBracketLength);for(let S=s-1;S>=0;S--){const p=c.getEndOffset(S);if(p<=h)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==o){h=p;break}}let f=Math.min(c.getLineContent().length,r.column-1+u.maxBracketLength);for(let S=s+1;S<l;S++){const p=c.getStartOffset(S);if(p>=f)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(S))||c.getLanguageId(S)!==o){f=p;break}}return{searchStartOffset:h,searchEndOffset:f}}n(r,c){const u=r.lineNumber,s=this.j.tokenization.getLineTokens(u),l=this.j.getLineContent(u),o=s.findTokenIndexAtOffset(r.column-1);if(o<0)return null;const h=this.k.getLanguageConfiguration(s.getLanguageId(o)).brackets;if(h&&!(0,y.ignoreBracketsInToken)(s.getStandardTokenType(o))){let{searchStartOffset:f,searchEndOffset:S}=this.m(r,s,h,o),p=null;for(;;){const m=v.BracketsUtils.findNextBracketInRange(h.forwardRegex,u,l,f,S);if(!m)break;if(m.startColumn<=r.column&&r.column<=m.endColumn){const b=l.substring(m.startColumn-1,m.endColumn-1).toLowerCase(),L=this.p(m,h.textIsBracket[b],h.textIsOpenBracket[b],c);if(L){if(L instanceof t)return null;p=L}}f=m.endColumn-1}if(p)return p}if(o>0&&s.getStartOffset(o)===r.column-1){const f=o-1,S=this.k.getLanguageConfiguration(s.getLanguageId(f)).brackets;if(S&&!(0,y.ignoreBracketsInToken)(s.getStandardTokenType(f))){const{searchStartOffset:p,searchEndOffset:m}=this.m(r,s,S,f),b=v.BracketsUtils.findPrevBracketInRange(S.reversedRegex,u,l,p,m);if(b&&b.startColumn<=r.column&&r.column<=b.endColumn){const L=l.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),k=this.p(b,S.textIsBracket[L],S.textIsOpenBracket[L],c);if(k)return k instanceof t?null:k}}}return null}p(r,c,u,s){if(!c)return null;const l=u?this.t(c,r.getEndPosition(),s):this.s(c,r.getStartPosition(),s);return l?l instanceof t?l:[r,l]:null}s(r,c,u){const s=r.languageId,l=r.reversedRegex;let o=-1,h=0;const f=(S,p,m,b)=>{for(;;){if(u&&++h%100===0&&!u())return t.INSTANCE;const L=v.BracketsUtils.findPrevBracketInRange(l,S,p,m,b);if(!L)break;const k=p.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(r.isOpen(k)?o++:r.isClose(k)&&o--,o===0)return L;b=L.startColumn-1}return null};for(let S=c.lineNumber;S>=1;S--){const p=this.j.tokenization.getLineTokens(S),m=p.getCount(),b=this.j.getLineContent(S);let L=m-1,k=b.length,I=b.length;S===c.lineNumber&&(L=p.findTokenIndexAtOffset(c.column-1),k=c.column-1,I=c.column-1);let M=!0;for(;L>=0;L--){const B=p.getLanguageId(L)===s&&!(0,y.ignoreBracketsInToken)(p.getStandardTokenType(L));if(B)M?k=p.getStartOffset(L):(k=p.getStartOffset(L),I=p.getEndOffset(L));else if(M&&k!==I){const z=f(S,b,k,I);if(z)return z}M=B}if(M&&k!==I){const B=f(S,b,k,I);if(B)return B}}return null}t(r,c,u){const s=r.languageId,l=r.forwardRegex;let o=1,h=0;const f=(p,m,b,L)=>{for(;;){if(u&&++h%100===0&&!u())return t.INSTANCE;const k=v.BracketsUtils.findNextBracketInRange(l,p,m,b,L);if(!k)break;const I=m.substring(k.startColumn-1,k.endColumn-1).toLowerCase();if(r.isOpen(I)?o++:r.isClose(I)&&o--,o===0)return k;b=k.endColumn-1}return null},S=this.j.getLineCount();for(let p=c.lineNumber;p<=S;p++){const m=this.j.tokenization.getLineTokens(p),b=m.getCount(),L=this.j.getLineContent(p);let k=0,I=0,M=0;p===c.lineNumber&&(k=m.findTokenIndexAtOffset(c.column-1),I=c.column-1,M=c.column-1);let B=!0;for(;k<b;k++){const z=m.getLanguageId(k)===s&&!(0,y.ignoreBracketsInToken)(m.getStandardTokenType(k));if(z)B||(I=m.getStartOffset(k)),M=m.getEndOffset(k);else if(B&&I!==M){const P=f(p,L,I,M);if(P)return P}B=z}if(B&&I!==M){const z=f(p,L,I,M);if(z)return z}}return null}findPrevBracket(r){var c;const u=this.j.validatePosition(r);if(this.g)return this.h=!0,this.l(),((c=this.a.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(u))||null;let s=null,l=null,o=null;for(let h=u.lineNumber;h>=1;h--){const f=this.j.tokenization.getLineTokens(h),S=f.getCount(),p=this.j.getLineContent(h);let m=S-1,b=p.length,L=p.length;if(h===u.lineNumber){m=f.findTokenIndexAtOffset(u.column-1),b=u.column-1,L=u.column-1;const I=f.getLanguageId(m);s!==I&&(s=I,l=this.k.getLanguageConfiguration(s).brackets,o=this.k.getLanguageConfiguration(s).bracketsNew)}let k=!0;for(;m>=0;m--){const I=f.getLanguageId(m);if(s!==I){if(l&&o&&k&&b!==L){const B=v.BracketsUtils.findPrevBracketInRange(l.reversedRegex,h,p,b,L);if(B)return this.u(o,B);k=!1}s=I,l=this.k.getLanguageConfiguration(s).brackets,o=this.k.getLanguageConfiguration(s).bracketsNew}const M=!!l&&!(0,y.ignoreBracketsInToken)(f.getStandardTokenType(m));if(M)k?b=f.getStartOffset(m):(b=f.getStartOffset(m),L=f.getEndOffset(m));else if(o&&l&&k&&b!==L){const B=v.BracketsUtils.findPrevBracketInRange(l.reversedRegex,h,p,b,L);if(B)return this.u(o,B)}k=M}if(o&&l&&k&&b!==L){const I=v.BracketsUtils.findPrevBracketInRange(l.reversedRegex,h,p,b,L);if(I)return this.u(o,I)}}return null}findNextBracket(r){var c;const u=this.j.validatePosition(r);if(this.g)return this.h=!0,this.l(),((c=this.a.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(u))||null;const s=this.j.getLineCount();let l=null,o=null,h=null;for(let f=u.lineNumber;f<=s;f++){const S=this.j.tokenization.getLineTokens(f),p=S.getCount(),m=this.j.getLineContent(f);let b=0,L=0,k=0;if(f===u.lineNumber){b=S.findTokenIndexAtOffset(u.column-1),L=u.column-1,k=u.column-1;const M=S.getLanguageId(b);l!==M&&(l=M,o=this.k.getLanguageConfiguration(l).brackets,h=this.k.getLanguageConfiguration(l).bracketsNew)}let I=!0;for(;b<p;b++){const M=S.getLanguageId(b);if(l!==M){if(h&&o&&I&&L!==k){const z=v.BracketsUtils.findNextBracketInRange(o.forwardRegex,f,m,L,k);if(z)return this.u(h,z);I=!1}l=M,o=this.k.getLanguageConfiguration(l).brackets,h=this.k.getLanguageConfiguration(l).bracketsNew}const B=!!o&&!(0,y.ignoreBracketsInToken)(S.getStandardTokenType(b));if(B)I||(L=S.getStartOffset(b)),k=S.getEndOffset(b);else if(h&&o&&I&&L!==k){const z=v.BracketsUtils.findNextBracketInRange(o.forwardRegex,f,m,L,k);if(z)return this.u(h,z)}I=B}if(h&&o&&I&&L!==k){const M=v.BracketsUtils.findNextBracketInRange(o.forwardRegex,f,m,L,k);if(M)return this.u(h,M)}}return null}findEnclosingBrackets(r,c){const u=this.j.validatePosition(r);if(this.g){const L=D.Range.fromPositions(u),k=this.getBracketPairsInRange(D.Range.fromPositions(u,u)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(L));return k?[k.openingBracketRange,k.closingBracketRange]:null}const s=i(c),l=this.j.getLineCount(),o=new Map;let h=[];const f=(L,k)=>{if(!o.has(L)){const I=[];for(let M=0,B=k?k.brackets.length:0;M<B;M++)I[M]=0;o.set(L,I)}h=o.get(L)};let S=0;const p=(L,k,I,M,B)=>{for(;;){if(s&&++S%100===0&&!s())return t.INSTANCE;const z=v.BracketsUtils.findNextBracketInRange(L.forwardRegex,k,I,M,B);if(!z)break;const P=I.substring(z.startColumn-1,z.endColumn-1).toLowerCase(),A=L.textIsBracket[P];if(A&&(A.isOpen(P)?h[A.index]++:A.isClose(P)&&h[A.index]--,h[A.index]===-1))return this.p(z,A,!1,s);M=z.endColumn-1}return null};let m=null,b=null;for(let L=u.lineNumber;L<=l;L++){const k=this.j.tokenization.getLineTokens(L),I=k.getCount(),M=this.j.getLineContent(L);let B=0,z=0,P=0;if(L===u.lineNumber){B=k.findTokenIndexAtOffset(u.column-1),z=u.column-1,P=u.column-1;const T=k.getLanguageId(B);m!==T&&(m=T,b=this.k.getLanguageConfiguration(m).brackets,f(m,b))}let A=!0;for(;B<I;B++){const T=k.getLanguageId(B);if(m!==T){if(b&&A&&z!==P){const F=p(b,L,M,z,P);if(F)return n(F);A=!1}m=T,b=this.k.getLanguageConfiguration(m).brackets,f(m,b)}const O=!!b&&!(0,y.ignoreBracketsInToken)(k.getStandardTokenType(B));if(O)A||(z=k.getStartOffset(B)),P=k.getEndOffset(B);else if(b&&A&&z!==P){const F=p(b,L,M,z,P);if(F)return n(F)}A=O}if(b&&A&&z!==P){const T=p(b,L,M,z,P);if(T)return n(T)}}return null}u(r,c){if(!c)return null;let u=this.j.getValueInRange(c);u=u.toLowerCase();const s=r.getBracketInfo(u);return s?{range:c,bracketInfo:s}:null}}e.BracketPairsTextModelPart=d;function g(a,r){return{object:a,dispose:()=>r?.dispose()}}function i(a){if(typeof a>"u")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=a}}class t{constructor(){this._searchCanceledBrand=void 0}}t.INSTANCE=new t;function n(a){return a instanceof t?null:a}}),define(ee[285],te([1,0,6,9,3,48,254,131,284,2]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends d.Disposable{constructor(t,n,a,r,c,u,s){super(),this.l=this.q(new w.Emitter),this.g=n,this.k=!u,this.h=r,this.j=c,this.c=new y.PieceTreeBase(t,a,s)}mightContainRTL(){return this.h}mightContainUnusualLineTerminators(){return this.j}resetMightContainUnusualLineTerminators(){this.j=!1}mightContainNonBasicASCII(){return this.k}getBOM(){return this.g}getEOL(){return this.c.getEOL()}createSnapshot(t){return this.c.createSnapshot(t?this.g:"")}getOffsetAt(t,n){return this.c.getOffsetAt(t,n)}getPositionAt(t){return this.c.getPositionAt(t)}getRangeAt(t,n){const a=t+n,r=this.getPositionAt(t),c=this.getPositionAt(a);return new E.Range(r.lineNumber,r.column,c.lineNumber,c.column)}getValueInRange(t,n=0){if(t.isEmpty())return"";const a=this.m(n);return this.c.getValueInRange(t,a)}getValueLengthInRange(t,n=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;const a=this.getOffsetAt(t.startLineNumber,t.startColumn),r=this.getOffsetAt(t.endLineNumber,t.endColumn);let c=0;const u=this.m(n),s=this.getEOL();if(u.length!==s.length){const l=u.length-s.length,o=t.endLineNumber-t.startLineNumber;c=l*o}return r-a+c}getCharacterCountInRange(t,n=0){if(this.k){let a=0;const r=t.startLineNumber,c=t.endLineNumber;for(let u=r;u<=c;u++){const s=this.getLineContent(u),l=u===r?t.startColumn-1:0,o=u===c?t.endColumn-1:s.length;for(let h=l;h<o;h++)N.isHighSurrogate(s.charCodeAt(h))?(a=a+1,h=h+1):a=a+1}return a+=this.m(n).length*(c-r),a}return this.getValueLengthInRange(t,n)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(t){return this.c.getLineContent(t)}getLineCharCode(t,n){return this.c.getLineCharCode(t,n)}getLineLength(t){return this.c.getLineLength(t)}getLineFirstNonWhitespaceColumn(t){const n=N.firstNonWhitespaceIndex(this.getLineContent(t));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(t){const n=N.lastNonWhitespaceIndex(this.getLineContent(t));return n===-1?0:n+2}m(t){switch(t){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this.c.setEOL(t)}applyEdits(t,n,a){let r=this.h,c=this.j,u=this.k,s=!0,l=[];for(let b=0;b<t.length;b++){const L=t[b];s&&L._isTracked&&(s=!1);const k=L.range;if(L.text){let P=!0;u||(P=!N.isBasicASCII(L.text),u=P),!r&&P&&(r=N.containsRTL(L.text)),!c&&P&&(c=N.containsUnusualLineTerminators(L.text))}let I="",M=0,B=0,z=0;if(L.text){let P;[M,B,z,P]=(0,v.countEOL)(L.text);const A=this.getEOL();P===0||P===(A===`\r
`?2:1)?I=L.text:I=L.text.replace(/\r\n|\r|\n/g,A)}l[b]={sortIndex:b,identifier:L.identifier||null,range:k,rangeOffset:this.getOffsetAt(k.startLineNumber,k.startColumn),rangeLength:this.getValueLengthInRange(k),text:I,eolCount:M,firstLineLength:B,lastLineLength:z,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}l.sort(g.s);let o=!1;for(let b=0,L=l.length-1;b<L;b++){const k=l[b].range.getEndPosition(),I=l[b+1].range.getStartPosition();if(I.isBeforeOrEqual(k)){if(I.isBefore(k))throw new Error("Overlapping ranges are not allowed!");o=!0}}s&&(l=this.n(l));const h=a||n?g._getInverseEditRanges(l):[],f=[];if(n)for(let b=0;b<l.length;b++){const L=l[b],k=h[b];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let I=k.startLineNumber;I<=k.endLineNumber;I++){let M="";I===k.startLineNumber&&(M=this.getLineContent(L.range.startLineNumber),N.firstNonWhitespaceIndex(M)!==-1)||f.push({lineNumber:I,oldContent:M})}}let S=null;if(a){let b=0;S=[];for(let L=0;L<l.length;L++){const k=l[L],I=h[L],M=this.getValueInRange(k.range),B=k.rangeOffset+b;b+=k.text.length-M.length,S[L]={sortIndex:k.sortIndex,identifier:k.identifier,range:I,text:M,textChange:new C.TextChange(k.rangeOffset,M,B,k.text)}}o||S.sort((L,k)=>L.sortIndex-k.sortIndex)}this.h=r,this.j=c,this.k=u;const p=this.p(l);let m=null;if(n&&f.length>0){f.sort((b,L)=>L.lineNumber-b.lineNumber),m=[];for(let b=0,L=f.length;b<L;b++){const k=f[b].lineNumber;if(b>0&&f[b-1].lineNumber===k)continue;const I=f[b].oldContent,M=this.getLineContent(k);M.length===0||M===I||N.firstNonWhitespaceIndex(M)!==-1||m.push(k)}}return this.l.fire(),new D.ApplyEditsResult(S,p,m)}n(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let n=!1;const a=t[0].range,r=t[t.length-1].range,c=new E.Range(a.startLineNumber,a.startColumn,r.endLineNumber,r.endColumn);let u=a.startLineNumber,s=a.startColumn;const l=[];for(let p=0,m=t.length;p<m;p++){const b=t[p],L=b.range;n=n||b.forceMoveMarkers,l.push(this.getValueInRange(new E.Range(u,s,L.startLineNumber,L.startColumn))),b.text.length>0&&l.push(b.text),u=L.endLineNumber,s=L.endColumn}const o=l.join(""),[h,f,S]=(0,v.countEOL)(o);return{sortIndex:0,identifier:t[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:o,eolCount:h,firstLineLength:f,lastLineLength:S,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}p(t){t.sort(g.t);const n=[];for(let a=0;a<t.length;a++){const r=t[a],c=r.range.startLineNumber,u=r.range.startColumn,s=r.range.endLineNumber,l=r.range.endColumn;if(c===s&&u===l&&r.text.length===0)continue;r.text?(this.c.delete(r.rangeOffset,r.rangeLength),this.c.insert(r.rangeOffset,r.text,!0)):this.c.delete(r.rangeOffset,r.rangeLength);const o=new E.Range(c,u,s,l);n.push({range:o,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return n}findMatchesLineByLine(t,n,a,r){return this.c.findMatchesLineByLine(t,n,a,r)}static _getInverseEditRanges(t){const n=[];let a=0,r=0,c=null;for(let u=0,s=t.length;u<s;u++){const l=t[u];let o,h;c?c.range.endLineNumber===l.range.startLineNumber?(o=a,h=r+(l.range.startColumn-c.range.endColumn)):(o=a+(l.range.startLineNumber-c.range.endLineNumber),h=l.range.startColumn):(o=l.range.startLineNumber,h=l.range.startColumn);let f;if(l.text.length>0){const S=l.eolCount+1;S===1?f=new E.Range(o,h,o,h+l.firstLineLength):f=new E.Range(o,h,o+S-1,l.lastLineLength+1)}else f=new E.Range(o,h,o,h);a=f.endLineNumber,r=f.endColumn,n.push(f),c=l}return n}static s(t,n){const a=E.Range.compareRangesUsingEnds(t.range,n.range);return a===0?t.sortIndex-n.sortIndex:a}static t(t,n){const a=E.Range.compareRangesUsingEnds(t.range,n.range);return a===0?n.sortIndex-t.sortIndex:-a}}e.PieceTreeTextBuffer=g}),define(ee[549],te([1,0,9,254,285]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(C,d,g,i,t,n,a,r,c){this.a=C,this.b=d,this.c=g,this.d=i,this.e=t,this.f=n,this.g=a,this.h=r,this.j=c}k(C){const d=this.c+this.d+this.e,g=this.c+this.e;return d===0?C===1?`
`:`\r
`:g>d/2?`\r
`:`
`}create(C){const d=this.k(C),g=this.a;if(this.j&&(d===`\r
`&&(this.c>0||this.d>0)||d===`
`&&(this.c>0||this.e>0)))for(let t=0,n=g.length;t<n;t++){const a=g[t].buffer.replace(/\r\n|\r|\n/g,d),r=(0,N.createLineStartsFast)(a);g[t]=new N.StringBuffer(a,r)}const i=new E.PieceTreeTextBuffer(g,this.b,d,this.f,this.g,this.h,this.j);return{textBuffer:i,disposable:i}}}class y{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(C){if(C.length===0)return;this.a.length===0&&w.startsWithUTF8BOM(C)&&(this.b=w.UTF8_BOM_CHARACTER,C=C.substr(1));const d=C.charCodeAt(C.length-1);d===13||d>=55296&&d<=56319?(this.m(C.substr(0,C.length-1),!1),this.c=!0,this.d=d):(this.m(C,!1),this.c=!1,this.d=d)}m(C,d){!d&&C.length===0||(this.c?this.n(String.fromCharCode(this.d)+C):this.n(C))}n(C){const d=(0,N.createLineStarts)(this.e,C);this.a.push(new N.StringBuffer(C,d.lineStarts)),this.f+=d.cr,this.g+=d.lf,this.h+=d.crlf,this.l&&(this.l=d.isBasicASCII),!this.l&&!this.j&&(this.j=w.containsRTL(C)),!this.l&&!this.k&&(this.k=w.containsUnusualLineTerminators(C))}finish(C=!0){return this.o(),new D(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,C)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const C=this.a[this.a.length-1];C.buffer+=String.fromCharCode(this.d);const d=(0,N.createLineStartsFast)(C.buffer);C.lineStarts=d,this.d===13&&this.f++}}}e.PieceTreeTextBufferBuilder=y}),define(ee[550],te([1,0,126,16]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function E(C){for(let d=0,g=C.length;d<g;d+=4){const i=C[d+0],t=C[d+1],n=C[d+2],a=C[d+3];C[d+0]=a,C[d+1]=n,C[d+2]=t,C[d+3]=i}}function D(C){const d=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return N.isLittleEndian()||E(d),w.VSBuffer.wrap(d)}function y(C){const d=new Uint32Array(v(C));let g=0;if(d[g++]=C.id,C.type==="full")d[g++]=1,d[g++]=C.data.length,d.set(C.data,g),g+=C.data.length;else{d[g++]=2,d[g++]=C.deltas.length;for(const i of C.deltas)d[g++]=i.start,d[g++]=i.deleteCount,i.data?(d[g++]=i.data.length,d.set(i.data,g),g+=i.data.length):d[g++]=0}return D(d)}e.encodeSemanticTokensDto=y;function v(C){let d=0;if(d+=1+1,C.type==="full")d+=1+C.data.length;else{d+=1,d+=(1+1+1)*C.deltas.length;for(const g of C.deltas)g.data&&(d+=g.data.length)}return d}}),define(ee[551],te([1,0,6,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class E{constructor(){this.a=new Map,this.b=new Map,this.c=new w.Emitter,this.onDidChange=this.c.event,this.d=null}fire(v){this.c.fire({changedLanguages:v,changedColorMap:!1})}register(v,C){return this.a.set(v,C),this.fire([v]),(0,N.toDisposable)(()=>{this.a.get(v)===C&&(this.a.delete(v),this.fire([v]))})}registerFactory(v,C){var d;(d=this.b.get(v))===null||d===void 0||d.dispose();const g=new D(this,v,C);return this.b.set(v,g),(0,N.toDisposable)(()=>{const i=this.b.get(v);!i||i!==g||(this.b.delete(v),i.dispose())})}getOrCreate(v){return Le(this,void 0,void 0,function*(){const C=this.get(v);if(C)return C;const d=this.b.get(v);return!d||d.isResolved?null:(yield d.resolve(),this.get(v))})}get(v){return this.a.get(v)||null}isResolved(v){if(this.get(v))return!0;const d=this.b.get(v);return!!(!d||d.isResolved)}setColorMap(v){this.d=v,this.c.fire({changedLanguages:Array.from(this.a.keys()),changedColorMap:!0})}getColorMap(){return this.d}getDefaultBackground(){return this.d&&this.d.length>2?this.d[2]:null}}e.TokenizationRegistry=E;class D extends N.Disposable{get isResolved(){return this.c}constructor(v,C,d){super(),this.g=v,this.h=C,this.i=d,this.a=!1,this.b=null,this.c=!1}dispose(){this.a=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this.b||(this.b=this.j()),this.b})}j(){return Le(this,void 0,void 0,function*(){const v=yield Promise.resolve(this.i.createTokenizationSupport());this.c=!0,v&&!this.a&&this.q(this.g.register(this.h,v))})}}}),define(ee[26],te([1,0,27,21,3,551]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class y{constructor(l,o,h){this._tokenBrand=void 0,this.offset=l,this.type=o,this.language=h}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=y;class v{constructor(l,o){this._tokenizationResultBrand=void 0,this.tokens=l,this.endState=o}}e.TokenizationResult=v;class C{constructor(l,o){this._encodedTokenizationResultBrand=void 0,this.tokens=l,this.endState=o}}e.EncodedTokenizationResult=C;var d;(function(s){const l=new Map;l.set(0,w.Codicon.symbolMethod),l.set(1,w.Codicon.symbolFunction),l.set(2,w.Codicon.symbolConstructor),l.set(3,w.Codicon.symbolField),l.set(4,w.Codicon.symbolVariable),l.set(5,w.Codicon.symbolClass),l.set(6,w.Codicon.symbolStruct),l.set(7,w.Codicon.symbolInterface),l.set(8,w.Codicon.symbolModule),l.set(9,w.Codicon.symbolProperty),l.set(10,w.Codicon.symbolEvent),l.set(11,w.Codicon.symbolOperator),l.set(12,w.Codicon.symbolUnit),l.set(13,w.Codicon.symbolValue),l.set(15,w.Codicon.symbolEnum),l.set(14,w.Codicon.symbolConstant),l.set(15,w.Codicon.symbolEnum),l.set(16,w.Codicon.symbolEnumMember),l.set(17,w.Codicon.symbolKeyword),l.set(27,w.Codicon.symbolSnippet),l.set(18,w.Codicon.symbolText),l.set(19,w.Codicon.symbolColor),l.set(20,w.Codicon.symbolFile),l.set(21,w.Codicon.symbolReference),l.set(22,w.Codicon.symbolCustomColor),l.set(23,w.Codicon.symbolFolder),l.set(24,w.Codicon.symbolTypeParameter),l.set(25,w.Codicon.account),l.set(26,w.Codicon.issues);function o(S){let p=l.get(S);return p||(console.info("No codicon found for CompletionItemKind "+S),p=w.Codicon.symbolProperty),p}s.toIcon=o;const h=new Map;h.set("method",0),h.set("function",1),h.set("constructor",2),h.set("field",3),h.set("variable",4),h.set("class",5),h.set("struct",6),h.set("interface",7),h.set("module",8),h.set("property",9),h.set("event",10),h.set("operator",11),h.set("unit",12),h.set("value",13),h.set("constant",14),h.set("enum",15),h.set("enum-member",16),h.set("enumMember",16),h.set("keyword",17),h.set("snippet",27),h.set("text",18),h.set("color",19),h.set("file",20),h.set("reference",21),h.set("customcolor",22),h.set("folder",23),h.set("type-parameter",24),h.set("typeParameter",24),h.set("account",25),h.set("issue",26);function f(S,p){let m=h.get(S);return typeof m>"u"&&!p&&(m=9),m}s.fromString=f})(d=e.CompletionItemKinds||(e.CompletionItemKinds={}));var g;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(g=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var i;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(i=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var t;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function n(s){return s&&N.URI.isUri(s.uri)&&E.Range.isIRange(s.range)&&(E.Range.isIRange(s.originSelectionRange)||E.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=n;var a;(function(s){const l=new Map;l.set(0,w.Codicon.symbolFile),l.set(1,w.Codicon.symbolModule),l.set(2,w.Codicon.symbolNamespace),l.set(3,w.Codicon.symbolPackage),l.set(4,w.Codicon.symbolClass),l.set(5,w.Codicon.symbolMethod),l.set(6,w.Codicon.symbolProperty),l.set(7,w.Codicon.symbolField),l.set(8,w.Codicon.symbolConstructor),l.set(9,w.Codicon.symbolEnum),l.set(10,w.Codicon.symbolInterface),l.set(11,w.Codicon.symbolFunction),l.set(12,w.Codicon.symbolVariable),l.set(13,w.Codicon.symbolConstant),l.set(14,w.Codicon.symbolString),l.set(15,w.Codicon.symbolNumber),l.set(16,w.Codicon.symbolBoolean),l.set(17,w.Codicon.symbolArray),l.set(18,w.Codicon.symbolObject),l.set(19,w.Codicon.symbolKey),l.set(20,w.Codicon.symbolNull),l.set(21,w.Codicon.symbolEnumMember),l.set(22,w.Codicon.symbolStruct),l.set(23,w.Codicon.symbolEvent),l.set(24,w.Codicon.symbolOperator),l.set(25,w.Codicon.symbolTypeParameter);function o(h){let f=l.get(h);return f||(console.info("No codicon found for SymbolKind "+h),f=w.Codicon.symbolProperty),f}s.toIcon=o})(a=e.SymbolKinds||(e.SymbolKinds={}));class r{constructor(l){this.value=l}}r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region"),e.FoldingRangeKind=r;var c;(function(s){function l(o){return!o||typeof o!="object"?!1:typeof o.id=="string"&&typeof o.title=="string"}s.is=l})(c=e.Command||(e.Command={}));var u;(function(s){s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(u=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new D.TokenizationRegistry}),define(ee[141],te([1,0,26]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function N(D,y){return new w.TokenizationResult([new w.Token(0,"",D)],y)}e.nullTokenize=N;function E(D,y){const v=new Uint32Array(2);return v[0]=0,v[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.EncodedTokenizationResult(v,y===null?e.NullState:y)}e.nullTokenizeEncoded=E}),define(ee[286],te([1,0,9,87,26,141]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const y={getInitialState:()=>D.NullState,tokenizeEncoded:(g,i,t)=>(0,D.nullTokenizeEncoded)(0,t)};function v(g,i,t){return Le(this,void 0,void 0,function*(){if(!t)return d(i,g.languageIdCodec,y);const n=yield E.TokenizationRegistry.getOrCreate(t);return d(i,g.languageIdCodec,n||y)})}e.tokenizeToString=v;function C(g,i,t,n,a,r,c){let u="<div>",s=n,l=0,o=!0;for(let h=0,f=i.getCount();h<f;h++){const S=i.getEndOffset(h);if(S<=n)continue;let p="";for(;s<S&&s<a;s++){const m=g.charCodeAt(s);switch(m){case 9:{let b=r-(s+l)%r;for(l+=b-1;b>0;)c&&o?(p+="&#160;",o=!1):(p+=" ",o=!0),b--;break}case 60:p+="&lt;",o=!1;break;case 62:p+="&gt;",o=!1;break;case 38:p+="&amp;",o=!1;break;case 0:p+="&#00;",o=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",o=!1;break;case 13:p+="&#8203",o=!1;break;case 32:c&&o?(p+="&#160;",o=!1):(p+=" ",o=!0);break;default:p+=String.fromCharCode(m),o=!1}}if(u+=`<span style="${i.getInlineStyle(h,t)}">${p}</span>`,S>a||s>=a)break}return u+="</div>",u}e.tokenizeLineToHTML=C;function d(g,i,t){let n='<div class="monaco-tokenized-source">';const a=w.splitLines(g);let r=t.getInitialState();for(let c=0,u=a.length;c<u;c++){const s=a[c];c>0&&(n+="<br/>");const l=t.tokenizeEncoded(s,!0,r);N.LineTokens.convertToEndOffset(l.tokens,s.length);const h=new N.LineTokens(l.tokens,s,i).inflate();let f=0;for(let S=0,p=h.getCount();S<p;S++){const m=h.getClassName(S),b=h.getEndOffset(S);n+=`<span class="${m}">${w.escape(s.substring(f,b))}</span>`,f=b}r=l.endState}return n+="</div>",n}e._tokenizeToString=d}),define(ee[552],te([1,0,17,13,87,26,141,2,59,131,466,12,16]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class n{constructor(l){this.b=l,this.a=[]}get(l){return l<this.a.length?this.a[l]:this.b}set(l,o){for(;l>=this.a.length;)this.a[this.a.length]=this.b;this.a[l]=o}delete(l,o){o===0||l>=this.a.length||this.a.splice(l,o)}insert(l,o){if(o===0||l>=this.a.length)return;const h=[];for(let f=0;f<o;f++)h[f]=this.b;this.a=w.arrayInsert(this.a,l,h)}}class a{get invalidLineStartIndex(){return this.c}constructor(l,o){this.tokenizationSupport=l,this.initialState=o,this.a=new n(null),this.b=new n(!0),this.c=0,this.a.set(0,this.initialState)}markMustBeTokenized(l){this.b.set(l,!0),this.c=Math.min(this.c,l)}getBeginState(l){return this.a.get(l)}setEndState(l,o,h){if(this.b.set(o,!1),this.c=o+1,o===l-1)return;const f=this.a.get(o+1);if(f===null||!h.equals(f)){this.a.set(o+1,h),this.markMustBeTokenized(o+1);return}let S=o+1;for(;S<l&&!this.b.get(S);)S++;this.c=S}applyEdits(l,o){this.markMustBeTokenized(l.startLineNumber-1),this.a.delete(l.startLineNumber,l.endLineNumber-l.startLineNumber),this.b.delete(l.startLineNumber,l.endLineNumber-l.startLineNumber),this.a.insert(l.startLineNumber,o),this.b.insert(l.startLineNumber,o)}}e.TokenizationStateStore=a;class r extends v.Disposable{constructor(l,o,h){super(),this.c=l,this.g=o,this.h=h,this.k=!1,this.b=!1,this.a=null,this.q(D.TokenizationRegistry.onDidChange(f=>{const S=this.c.getLanguageId();f.changedLanguages.indexOf(S)!==-1&&(this.j(),this.g.clearTokens())})),this.j()}dispose(){this.b=!0,super.dispose()}handleDidChangeContent(l){if(l.isFlush){this.j();return}if(this.a)for(let o=0,h=l.changes.length;o<h;o++){const f=l.changes[o],[S]=(0,d.countEOL)(f.text);this.a.applyEdits(f.range,S)}this.l()}handleDidChangeAttached(){this.l()}handleDidChangeLanguage(l){this.j(),this.g.clearTokens()}j(){const[l,o]=c(this.c,this.g);l&&o?this.a=new a(l,o):this.a=null,this.l()}l(){this.k||!this.c.isAttachedToEditor()||!this.p()||(this.k=!0,(0,i.runWhenIdle)(l=>{this.k=!1,this.m(l)}))}m(l){const o=Date.now()+l.timeRemaining(),h=()=>{this.b||!this.c.isAttachedToEditor()||!this.p()||(this.n(),Date.now()<o?(0,t.setTimeout0)(h):this.l())};h()}n(){const l=this.c.getLineCount(),o=new g.ContiguousMultilineTokensBuilder,h=C.StopWatch.create(!1);do if(h.elapsed()>1||this.t(o)>=l)break;while(this.p());this.g.setTokens(o.finalize(),this.s())}tokenizeViewport(l,o){const h=new g.ContiguousMultilineTokensBuilder;this.v(h,l,o),this.g.setTokens(h.finalize(),this.s())}reset(){this.j(),this.g.clearTokens()}forceTokenization(l){const o=new g.ContiguousMultilineTokensBuilder;this.u(o,l),this.g.setTokens(o.finalize(),this.s())}getTokenTypeIfInsertingCharacter(l,o){if(!this.a)return 0;this.forceTokenization(l.lineNumber);const h=this.a.getBeginState(l.lineNumber-1);if(!h)return 0;const f=this.c.getLanguageId(),S=this.c.getLineContent(l.lineNumber),p=S.substring(0,l.column-1)+o+S.substring(l.column-1),m=u(this.h,f,this.a.tokenizationSupport,p,!0,h),b=new E.LineTokens(m.tokens,p,this.h);if(b.getCount()===0)return 0;const L=b.findTokenIndexAtOffset(l.column-1);return b.getStandardTokenType(L)}tokenizeLineWithEdit(l,o,h){const f=l.lineNumber,S=l.column;if(!this.a)return null;this.forceTokenization(f);const p=this.a.getBeginState(f-1);if(!p)return null;const m=this.c.getLineContent(f),b=m.substring(0,S-1)+h+m.substring(S-1+o),L=this.c.getLanguageIdAtPosition(f,0),k=u(this.h,L,this.a.tokenizationSupport,b,!0,p);return new E.LineTokens(k.tokens,b,this.h)}isCheapToTokenize(l){if(!this.a)return!0;const o=this.a.invalidLineStartIndex+1;return l>o?!1:l<o||this.c.getLineLength(l)<2048}p(){return this.a?this.a.invalidLineStartIndex<this.c.getLineCount():!1}s(){return this.a?this.a.invalidLineStartIndex>=this.c.getLineCount():!1}t(l){if(!this.a||!this.p())return this.c.getLineCount()+1;const o=this.a.invalidLineStartIndex+1;return this.u(l,o),o}u(l,o){if(!this.a)return;const h=this.c.getLanguageId(),f=this.c.getLineCount(),S=o-1;for(let p=this.a.invalidLineStartIndex;p<=S;p++){const m=this.c.getLineContent(p+1),b=this.a.getBeginState(p),L=u(this.h,h,this.a.tokenizationSupport,m,!0,b);l.add(p+1,L.tokens),this.a.setEndState(f,p,L.endState),p=this.a.invalidLineStartIndex-1}}v(l,o,h){if(!this.a||h<=this.a.invalidLineStartIndex)return;if(o<=this.a.invalidLineStartIndex){this.u(l,h);return}let f=this.c.getLineFirstNonWhitespaceColumn(o);const S=[];let p=null;for(let L=o-1;f>1&&L>=1;L--){const k=this.c.getLineFirstNonWhitespaceColumn(L);if(k!==0&&k<f&&(S.push(this.c.getLineContent(L)),f=k,p=this.a.getBeginState(L-1),p))break}p||(p=this.a.initialState);const m=this.c.getLanguageId();let b=p;for(let L=S.length-1;L>=0;L--)b=u(this.h,m,this.a.tokenizationSupport,S[L],!1,b).endState;for(let L=o;L<=h;L++){const k=this.c.getLineContent(L),I=u(this.h,m,this.a.tokenizationSupport,k,!0,b);l.add(L,I.tokens),this.a.markMustBeTokenized(L-1),b=I.endState}}}e.TextModelTokenization=r;function c(s,l){if(s.isTooLargeForTokenization())return[null,null];const o=D.TokenizationRegistry.get(l.getLanguageId());if(!o)return[null,null];let h;try{h=o.getInitialState()}catch(f){return(0,N.onUnexpectedError)(f),[null,null]}return[o,h]}function u(s,l,o,h,f,S){let p=null;if(o)try{p=o.tokenizeEncoded(h,f,S.clone())}catch(m){(0,N.onUnexpectedError)(m)}return p||(p=(0,y.nullTokenizeEncoded)(s.encodeLanguageId(l),S)),E.LineTokens.convertToEndOffset(p.tokens,h.length),p}}),define(ee[553],te([1,0,6,11,133,253,552,468,470]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class d extends D.TextModelPart{constructor(i,t,n,a,r){super(),this.n=i,this.p=t,this.r=n,this.s=a,this.t=r,this.a=this.q(new w.Emitter),this.onDidChangeLanguage=this.a.event,this.b=this.q(new w.Emitter),this.onDidChangeLanguageConfiguration=this.b.event,this.h=this.q(new w.Emitter),this.onDidChangeTokens=this.h.event,this.u=0,this.w=this.q(new w.Emitter),this.k=new v.ContiguousTokensStore(this.n.languageIdCodec),this.l=new C.SparseTokensStore(this.n.languageIdCodec),this.m=new y.TextModelTokenization(n,this,this.n.languageIdCodec),this.j=this.p.onDidChange(c=>{c.affects(this.t)&&this.b.fire({})})}acceptEdit(i,t,n,a,r){this.k.acceptEdit(i,n,a),this.l.acceptEdit(i,n,a,r,t.length>0?t.charCodeAt(0):0)}handleDidChangeAttached(){this.m.handleDidChangeAttached()}flush(){this.k.flush(),this.l.flush()}handleDidChangeContent(i){this.m.handleDidChangeContent(i)}dispose(){this.j.dispose(),this.m.dispose(),super.dispose()}get backgroundTokenizationState(){return this.u}v(i){if(this.u===2)return;const t=i?2:1;this.u!==t&&(this.u=t,this.s.handleDidChangeBackgroundTokenizationState(),this.w.fire())}setTokens(i,t=!1){if(i.length!==0){const n=[];for(let a=0,r=i.length;a<r;a++){const c=i[a];let u=0,s=0,l=!1;for(let o=c.startLineNumber;o<=c.endLineNumber;o++)l?(this.k.setTokens(this.t,o-1,this.r.getLineLength(o),c.getLineTokens(o),!1),s=o):this.k.setTokens(this.t,o-1,this.r.getLineLength(o),c.getLineTokens(o),!0)&&(l=!0,u=o,s=o);l&&n.push({fromLineNumber:u,toLineNumber:s})}n.length>0&&this.y({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:n})}this.v(t)}setSemanticTokens(i,t){this.l.set(i,t),this.y({tokenizationSupportChanged:!1,semanticTokensApplied:i!==null,ranges:[{fromLineNumber:1,toLineNumber:this.r.getLineCount()}]})}hasCompleteSemanticTokens(){return this.l.isComplete()}hasSomeSemanticTokens(){return!this.l.isEmpty()}setPartialSemanticTokens(i,t){if(this.hasCompleteSemanticTokens())return;const n=this.r.validateRange(this.l.setPartial(i,t));this.y({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}tokenizeViewport(i,t){i=Math.max(1,i),t=Math.min(this.r.getLineCount(),t),this.m.tokenizeViewport(i,t)}clearTokens(){this.k.flush(),this.y({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this.r.getLineCount()}]})}y(i){this.r._isDisposing()||(this.s.handleDidChangeTokens(i),this.h.fire(i))}resetTokenization(){this.m.reset()}forceTokenization(i){if(i<1||i>this.r.getLineCount())throw new Error("Illegal value for lineNumber");this.m.forceTokenization(i)}isCheapToTokenize(i){return this.m.isCheapToTokenize(i)}tokenizeIfCheap(i){this.isCheapToTokenize(i)&&this.forceTokenization(i)}getLineTokens(i){if(i<1||i>this.r.getLineCount())throw new Error("Illegal value for lineNumber");return this.z(i)}z(i){const t=this.r.getLineContent(i),n=this.k.getTokens(this.t,i-1,t);return this.l.addSparseTokens(i,n)}getTokenTypeIfInsertingCharacter(i,t,n){const a=this.r.validatePosition(new N.Position(i,t));return this.m.getTokenTypeIfInsertingCharacter(a,n)}tokenizeLineWithEdit(i,t,n){const a=this.r.validatePosition(i);return this.m.tokenizeLineWithEdit(a,t,n)}B(i){return this.p.getLanguageConfiguration(i)}getWordAtPosition(i){this.g();const t=this.r.validatePosition(i),n=this.r.getLineContent(t.lineNumber),a=this.z(t.lineNumber),r=a.findTokenIndexAtOffset(t.column-1),[c,u]=d.C(a,r),s=(0,E.getWordAtText)(t.column,this.B(a.getLanguageId(r)).getWordDefinition(),n.substring(c,u),c);if(s&&s.startColumn<=i.column&&i.column<=s.endColumn)return s;if(r>0&&c===t.column-1){const[l,o]=d.C(a,r-1),h=(0,E.getWordAtText)(t.column,this.B(a.getLanguageId(r-1)).getWordDefinition(),n.substring(l,o),l);if(h&&h.startColumn<=i.column&&i.column<=h.endColumn)return h}return null}static C(i,t){const n=i.getLanguageId(t);let a=0;for(let c=t;c>=0&&i.getLanguageId(c)===n;c--)a=i.getStartOffset(c);let r=i.getLineContent().length;for(let c=t,u=i.getCount();c<u&&i.getLanguageId(c)===n;c++)r=i.getEndOffset(c);return[a,r]}getWordUntilPosition(i){const t=this.getWordAtPosition(i);return t?{word:t.word.substr(0,i.column-t.startColumn),startColumn:t.startColumn,endColumn:i.column}:{word:"",startColumn:i.column,endColumn:i.column}}getLanguageId(){return this.t}getLanguageIdAtPosition(i,t){const n=this.r.validatePosition(new N.Position(i,t)),a=this.getLineTokens(n.lineNumber);return a.getLanguageId(a.findTokenIndexAtOffset(n.column-1))}setLanguageId(i,t="api"){if(this.t===i)return;const n={oldLanguage:this.t,newLanguage:i,source:t};this.t=i,this.s.handleDidChangeLanguage(n),this.m.handleDidChangeLanguage(n),this.a.fire(n),this.b.fire({})}}e.TokenizationTextModelPart=d}),define(ee[287],te([1,0,20,6,57,21,11,3,22,26,165]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(a,r){return(0,E.KeyChord)(a,r)}}i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256,e.KeyMod=i;function t(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.CancellationTokenSource,Emitter:N.Emitter,KeyCode:g.KeyCode,KeyMod:i,Position:y.Position,Range:v.Range,Selection:C.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:D.URI,Token:d.Token}}e.createMonacoBaseAPI=t}),define(ee[554],te([1,0,152,16,21,11,3,463,133,446,452,287,59,256,444,46]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class c extends v.MirrorTextModel{get uri(){return this.c}get eol(){return this.f}getValue(){return this.getText()}getLinesContent(){return this.d.slice(0)}getLineCount(){return this.d.length}getLineContent(o){return this.d[o-1]}getWordAtPosition(o,h){const f=(0,C.getWordAtText)(o.column,(0,C.ensureValidWordDefinition)(h),this.d[o.lineNumber-1],0);return f?new y.Range(o.lineNumber,f.startColumn,o.lineNumber,f.endColumn):null}words(o){const h=this.d,f=this.p.bind(this);let S=0,p="",m=0,b=[];return{*[Symbol.iterator](){for(;;)if(m<b.length){const L=p.substring(b[m].start,b[m].end);m+=1,yield L}else if(S<h.length)p=h[S],b=f(p,o),m=0,S+=1;else break}}}getLineWords(o,h){const f=this.d[o-1],S=this.p(f,h),p=[];for(const m of S)p.push({word:f.substring(m.start,m.end),startColumn:m.start+1,endColumn:m.end+1});return p}p(o,h){const f=[];let S;for(h.lastIndex=0;(S=h.exec(o))&&S[0].length!==0;)f.push({start:S.index,end:S.index+S[0].length});return f}getValueInRange(o){if(o=this.q(o),o.startLineNumber===o.endLineNumber)return this.d[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);const h=this.f,f=o.startLineNumber-1,S=o.endLineNumber-1,p=[];p.push(this.d[f].substring(o.startColumn-1));for(let m=f+1;m<S;m++)p.push(this.d[m]);return p.push(this.d[S].substring(0,o.endColumn-1)),p.join(h)}offsetAt(o){return o=this.r(o),this.k(),this.h.getPrefixSum(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this.k();const h=this.h.getIndexOf(o),f=this.d[h.index].length;return{lineNumber:1+h.index,column:1+Math.min(h.remainder,f)}}q(o){const h=this.r({lineNumber:o.startLineNumber,column:o.startColumn}),f=this.r({lineNumber:o.endLineNumber,column:o.endColumn});return h.lineNumber!==o.startLineNumber||h.column!==o.startColumn||f.lineNumber!==o.endLineNumber||f.column!==o.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:f.lineNumber,endColumn:f.column}:o}r(o){if(!D.Position.isIPosition(o))throw new Error("bad position");let{lineNumber:h,column:f}=o,S=!1;if(h<1)h=1,f=1,S=!0;else if(h>this.d.length)h=this.d.length,f=this.d[h-1].length+1,S=!0;else{const p=this.d[h-1].length+1;f<1?(f=1,S=!0):f>p&&(f=p,S=!0)}return S?{lineNumber:h,column:f}:o}}class u{constructor(o,h){this.c=o,this.d=Object.create(null),this.f=h,this.g=null}dispose(){this.d=Object.create(null)}h(o){return this.d[o]}j(){const o=[];return Object.keys(this.d).forEach(h=>o.push(this.d[h])),o}acceptNewModel(o){this.d[o.url]=new c(E.URI.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,h){if(!this.d[o])return;this.d[o].onEvents(h)}acceptRemovedModel(o){!this.d[o]||delete this.d[o]}computeUnicodeHighlights(o,h,f){return Le(this,void 0,void 0,function*(){const S=this.h(o);return S?n.UnicodeTextModelHighlighter.computeUnicodeHighlights(S,h,f):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(o,h,f,S){return Le(this,void 0,void 0,function*(){const p=this.h(o),m=this.h(h);return!p||!m?null:u.k(p,m,f,S)})}static k(o,h,f,S){const p=S==="experimental"?a.linesDiffComputers.experimental:a.linesDiffComputers.smart,m=o.getLinesContent(),b=h.getLinesContent(),L=p.computeDiff(m,b,f);return{identical:L.changes.length>0?!1:this.l(o,h),quitEarly:L.quitEarly,changes:L.changes.map(I=>{var M;return[I.originalRange.startLineNumber,I.originalRange.endLineNumberExclusive,I.modifiedRange.startLineNumber,I.modifiedRange.endLineNumberExclusive,(M=I.innerChanges)===null||M===void 0?void 0:M.map(B=>[B.originalRange.startLineNumber,B.originalRange.startColumn,B.originalRange.endLineNumber,B.originalRange.endColumn,B.modifiedRange.startLineNumber,B.modifiedRange.startColumn,B.modifiedRange.endLineNumber,B.modifiedRange.endColumn])]})}}static l(o,h){const f=o.getLineCount(),S=h.getLineCount();if(f!==S)return!1;for(let p=1;p<=f;p++){const m=o.getLineContent(p),b=h.getLineContent(p);if(m!==b)return!1}return!0}computeMoreMinimalEdits(o,h){return Le(this,void 0,void 0,function*(){const f=this.h(o);if(!f)return h;const S=[];let p;h=h.slice(0).sort((m,b)=>{if(m.range&&b.range)return y.Range.compareRangesUsingStarts(m.range,b.range);const L=m.range?0:1,k=b.range?0:1;return L-k});for(let{range:m,text:b,eol:L}of h){if(typeof L=="number"&&(p=L),y.Range.isEmpty(m)&&!b)continue;const k=f.getValueInRange(m);if(b=b.replace(/\r\n|\n|\r/g,f.eol),k===b)continue;if(Math.max(b.length,k.length)>u.n){S.push({range:m,text:b});continue}const I=(0,w.stringDiff)(k,b,!1),M=f.offsetAt(y.Range.lift(m).getStartPosition());for(const B of I){const z=f.positionAt(M+B.originalStart),P=f.positionAt(M+B.originalStart+B.originalLength),A={text:b.substr(B.modifiedStart,B.modifiedLength),range:{startLineNumber:z.lineNumber,startColumn:z.column,endLineNumber:P.lineNumber,endColumn:P.column}};f.getValueInRange(A.range)!==A.text&&S.push(A)}}return typeof p=="number"&&S.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),S})}computeLinks(o){return Le(this,void 0,void 0,function*(){const h=this.h(o);return h?(0,d.computeLinks)(h):null})}textualSuggest(o,h,f,S){return Le(this,void 0,void 0,function*(){const p=new t.StopWatch(!0),m=new RegExp(f,S),b=new Set;e:for(const L of o){const k=this.h(L);if(!!k){for(const I of k.words(m))if(!(I===h||!isNaN(Number(I)))&&(b.add(I),b.size>u.o))break e}}return{words:Array.from(b),duration:p.elapsed()}})}computeWordRanges(o,h,f,S){return Le(this,void 0,void 0,function*(){const p=this.h(o);if(!p)return Object.create(null);const m=new RegExp(f,S),b=Object.create(null);for(let L=h.startLineNumber;L<h.endLineNumber;L++){const k=p.getLineWords(L,m);for(const I of k){if(!isNaN(Number(I.word)))continue;let M=b[I.word];M||(M=[],b[I.word]=M),M.push({startLineNumber:L,startColumn:I.startColumn,endLineNumber:L,endColumn:I.endColumn})}}return b})}navigateValueSet(o,h,f,S,p){return Le(this,void 0,void 0,function*(){const m=this.h(o);if(!m)return null;const b=new RegExp(S,p);h.startColumn===h.endColumn&&(h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn+1});const L=m.getValueInRange(h),k=m.getWordAtPosition({lineNumber:h.startLineNumber,column:h.startColumn},b);if(!k)return null;const I=m.getValueInRange(k);return g.BasicInplaceReplace.INSTANCE.navigateValueSet(h,L,k,I,f)})}loadForeignModule(o,h,f){const S=(b,L)=>this.c.fhr(b,L),m={host:(0,r.createProxyObject)(f,S),getMirrorModels:()=>this.j()};return this.f?(this.g=this.f(m,h),Promise.resolve((0,r.getAllMethodNames)(this.g))):new Promise((b,L)=>{K([o],k=>{this.g=k.create(m,h),b((0,r.getAllMethodNames)(this.g))},L)})}fmr(o,h){if(!this.g||typeof this.g[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this.g[o].apply(this.g,h))}catch(f){return Promise.reject(f)}}}u.n=1e5,u.o=1e4,e.EditorSimpleWorker=u;function s(l){return new u(l,null)}e.create=s,typeof importScripts=="function"&&(N.globals.monaco=(0,i.createMonacoBaseAPI)())}),define(ee[288],te([1,0,6,2,247,26]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends N.Disposable{static getInstance(){return this.c||(this.c=(0,N.markAsSingleton)(new y)),this.c}constructor(){super(),this.j=new w.Emitter,this.onDidChange=this.j.event,this.k(),this.q(D.TokenizationRegistry.onDidChange(C=>{C.changedColorMap&&this.k()}))}k(){const C=D.TokenizationRegistry.getColorMap();if(!C){this.h=[E.RGBA8.Empty],this.i=!0;return}this.h=[E.RGBA8.Empty];for(let g=1;g<C.length;g++){const i=C[g].rgba;this.h[g]=new E.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}const d=C[2].getRelativeLuminance();this.i=d>=.5,this.j.fire(void 0)}getColor(C){return(C<1||C>=this.h.length)&&(C=2),this.h[C]}backgroundIsLight(){return this.i}}y.c=null,e.MinimapTokensColorTracker=y}),define(ee[214],te([1,0,6,2]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class E extends N.Disposable{constructor(){super(),this.c=this.q(new w.Emitter),this.onEvent=this.c.event,this.g=[],this.h=null,this.j=!1,this.k=null,this.l=0,this.m=[]}emitOutgoingEvent(o){this.n(o),this.p()}n(o){for(let h=0,f=this.m.length;h<f;h++){const S=this.m[h].kind===o.kind?this.m[h].attemptToMerge(o):null;if(S){this.m[h]=S;return}}this.m.push(o)}p(){for(;this.m.length>0;){if(this.k||this.j)return;const o=this.m.shift();o.isNoOp()||this.c.fire(o)}}addViewEventHandler(o){for(let h=0,f=this.g.length;h<f;h++)this.g[h]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this.g.push(o)}removeViewEventHandler(o){for(let h=0;h<this.g.length;h++)if(this.g[h]===o){this.g.splice(h,1);break}}beginEmitViewEvents(){return this.l++,this.l===1&&(this.k=new D),this.k}endEmitViewEvents(){if(this.l--,this.l===0){const o=this.k.outgoingEvents,h=this.k.viewEvents;this.k=null;for(const f of o)this.n(f);h.length>0&&this.r(h)}this.p()}emitSingleViewEvent(o){try{this.beginEmitViewEvents().emitViewEvent(o)}finally{this.endEmitViewEvents()}}r(o){this.h?this.h=this.h.concat(o):this.h=o,this.j||this.s()}s(){try{this.j=!0,this.t()}finally{this.j=!1}}t(){for(;this.h;){const o=this.h;this.h=null;const h=this.g.slice(0);for(const f of h)f.handleEvents(o)}}}e.ViewModelEventDispatcher=E;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(o){this.viewEvents.push(o)}emitOutgoingEvent(o){this.outgoingEvents.push(o)}}e.ViewModelEventsCollector=D;class y{constructor(o,h,f,S){this.kind=0,this.c=o,this.d=h,this.contentWidth=f,this.contentHeight=S,this.contentWidthChanged=this.c!==this.contentWidth,this.contentHeightChanged=this.d!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(o){return o.kind!==this.kind?null:new y(this.c,this.d,o.contentWidth,o.contentHeight)}}e.ContentSizeChangedEvent=y;class v{constructor(o,h){this.kind=1,this.oldHasFocus=o,this.hasFocus=h}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(o){return o.kind!==this.kind?null:new v(this.oldHasFocus,o.hasFocus)}}e.FocusChangedEvent=v;class C{constructor(o,h,f,S,p,m,b,L){this.kind=2,this.c=o,this.d=h,this.f=f,this.g=S,this.scrollWidth=p,this.scrollLeft=m,this.scrollHeight=b,this.scrollTop=L,this.scrollWidthChanged=this.c!==this.scrollWidth,this.scrollLeftChanged=this.d!==this.scrollLeft,this.scrollHeightChanged=this.f!==this.scrollHeight,this.scrollTopChanged=this.g!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(o){return o.kind!==this.kind?null:new C(this.c,this.d,this.f,this.g,o.scrollWidth,o.scrollLeft,o.scrollHeight,o.scrollTop)}}e.ScrollChangedEvent=C;class d{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=d;class g{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=g;class i{constructor(o,h,f,S,p,m,b){this.kind=6,this.oldSelections=o,this.selections=h,this.oldModelVersionId=f,this.modelVersionId=S,this.source=p,this.reason=m,this.reachedMaxCursorCount=b}static c(o,h){if(!o&&!h)return!0;if(!o||!h)return!1;const f=o.length,S=h.length;if(f!==S)return!1;for(let p=0;p<f;p++)if(!o[p].equalsSelection(h[p]))return!1;return!0}isNoOp(){return i.c(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(o){return o.kind!==this.kind?null:new i(this.oldSelections,o.selections,this.oldModelVersionId,o.modelVersionId,o.source,o.reason,this.reachedMaxCursorCount||o.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class t{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(o){return o.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=t;class n{constructor(o){this.event=o,this.kind=7}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelDecorationsChangedEvent=n;class a{constructor(o){this.event=o,this.kind=8}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageChangedEvent=a;class r{constructor(o){this.event=o,this.kind=9}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelLanguageConfigurationChangedEvent=r;class c{constructor(o){this.event=o,this.kind=10}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelContentChangedEvent=c;class u{constructor(o){this.event=o,this.kind=11}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelOptionsChangedEvent=u;class s{constructor(o){this.event=o,this.kind=12}isNoOp(){return!1}attemptToMerge(o){return null}}e.ModelTokensChangedEvent=s}),define(ee[555],te([1,0,6,2,167,480,80,214]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class d{constructor(n,a,r,c){n=n|0,a=a|0,r=r|0,c=c|0,n<0&&(n=0),a<0&&(a=0),r<0&&(r=0),c<0&&(c=0),this.width=n,this.contentWidth=a,this.scrollWidth=Math.max(n,a),this.height=r,this.contentHeight=c,this.scrollHeight=Math.max(r,c)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class g extends N.Disposable{constructor(n,a){super(),this.c=this.q(new w.Emitter),this.onDidContentSizeChange=this.c.event,this.b=new d(0,0,0,0),this.a=this.q(new E.Scrollable({forceIntegerValues:!0,smoothScrollDuration:n,scheduleAtNextAnimationFrame:a})),this.onDidScroll=this.a.onScroll}getScrollable(){return this.a}setSmoothScrollDuration(n){this.a.setSmoothScrollDuration(n)}validateScrollPosition(n){return this.a.validateScrollPosition(n)}getScrollDimensions(){return this.b}setScrollDimensions(n){if(this.b.equals(n))return;const a=this.b;this.b=n,this.a.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const r=a.contentWidth!==n.contentWidth,c=a.contentHeight!==n.contentHeight;(r||c)&&this.c.fire(new v.ContentSizeChangedEvent(a.contentWidth,a.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this.a.getFutureScrollPosition()}getCurrentScrollPosition(){return this.a.getCurrentScrollPosition()}setScrollPositionNow(n){this.a.setScrollPositionNow(n)}setScrollPositionSmooth(n){this.a.setScrollPositionSmooth(n)}}class i extends N.Disposable{constructor(n,a,r){super(),this.a=n;const c=this.a.options,u=c.get(138),s=c.get(80);this.b=new D.LinesLayout(a,c.get(63),s.top,s.bottom),this.c=this.q(new g(0,r)),this.g(),this.c.setScrollDimensions(new d(u.contentWidth,0,u.height,0)),this.onDidScroll=this.c.onDidScroll,this.onDidContentSizeChange=this.c.onDidContentSizeChange,this.j()}dispose(){super.dispose()}getScrollable(){return this.c.getScrollable()}onHeightMaybeChanged(){this.j()}g(){this.c.setSmoothScrollDuration(this.a.options.get(108)?C:0)}onConfigurationChanged(n){const a=this.a.options;if(n.hasChanged(63)&&this.b.setLineHeight(a.get(63)),n.hasChanged(80)){const r=a.get(80);this.b.setPadding(r.top,r.bottom)}if(n.hasChanged(138)){const r=a.get(138),c=r.contentWidth,u=r.height,s=this.c.getScrollDimensions(),l=s.contentWidth;this.c.setScrollDimensions(new d(c,s.contentWidth,u,this.i(c,u,l)))}else this.j();n.hasChanged(108)&&this.g()}onFlushed(n){this.b.onFlushed(n)}onLinesDeleted(n,a){this.b.onLinesDeleted(n,a)}onLinesInserted(n,a){this.b.onLinesInserted(n,a)}h(n,a){const c=this.a.options.get(97);return c.horizontal===2||n>=a?0:c.horizontalScrollbarSize}i(n,a,r){const c=this.a.options;let u=this.b.getLinesTotalHeight();return c.get(99)?u+=Math.max(0,a-c.get(63)-c.get(80).bottom):u+=this.h(n,r),u}j(){const n=this.c.getScrollDimensions(),a=n.width,r=n.height,c=n.contentWidth;this.c.setScrollDimensions(new d(a,n.contentWidth,r,this.i(a,r,c)))}getCurrentViewport(){const n=this.c.getScrollDimensions(),a=this.c.getCurrentScrollPosition();return new y.Viewport(a.scrollTop,a.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this.c.getScrollDimensions(),a=this.c.getFutureScrollPosition();return new y.Viewport(a.scrollTop,a.scrollLeft,n.width,n.height)}k(n){const a=this.a.options,r=a.get(139),c=a.get(47),u=a.get(138);if(r.isViewportWrapping){const s=a.get(69);return n>u.contentWidth+c.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?n+u.verticalScrollbarWidth:n}else{const s=a.get(98)*c.typicalHalfwidthCharacterWidth,l=this.b.getWhitespaceMinWidth();return Math.max(n+s+u.verticalScrollbarWidth,l)}}setMaxLineWidth(n){const a=this.c.getScrollDimensions();this.c.setScrollDimensions(new d(a.width,this.k(n),a.height,a.contentHeight)),this.j()}saveState(){const n=this.c.getFutureScrollPosition(),a=n.scrollTop,r=this.b.getLineNumberAtOrAfterVerticalOffset(a),c=this.b.getWhitespaceAccumulatedHeightBeforeLineNumber(r);return{scrollTop:a,scrollTopWithoutViewZones:a-c,scrollLeft:n.scrollLeft}}changeWhitespace(n){const a=this.b.changeWhitespace(n);return a&&this.onHeightMaybeChanged(),a}getVerticalOffsetForLineNumber(n,a=!1){return this.b.getVerticalOffsetForLineNumber(n,a)}getVerticalOffsetAfterLineNumber(n,a=!1){return this.b.getVerticalOffsetAfterLineNumber(n,a)}isAfterLines(n){return this.b.isAfterLines(n)}isInTopPadding(n){return this.b.isInTopPadding(n)}isInBottomPadding(n){return this.b.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this.b.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this.b.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this.b.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const a=this.c.getScrollDimensions();return n+a.height>a.scrollHeight&&(n=a.scrollHeight-a.height),n<0&&(n=0),this.b.getLinesViewportData(n,n+a.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this.b.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this.b.getWhitespaces()}getContentWidth(){return this.c.getScrollDimensions().contentWidth}getScrollWidth(){return this.c.getScrollDimensions().scrollWidth}getContentHeight(){return this.c.getScrollDimensions().contentHeight}getScrollHeight(){return this.c.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this.c.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this.c.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this.c.validateScrollPosition(n)}setScrollPosition(n,a){a===1?this.c.setScrollPositionNow(n):this.c.setScrollPositionSmooth(n)}deltaScrollNow(n,a){const r=this.c.getCurrentScrollPosition();this.c.setScrollPositionNow({scrollLeft:r.scrollLeft+n,scrollTop:r.scrollTop+a})}}e.ViewLayout=i}),define(ee[556],te([1,0,6]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class N{get color(){return this.a}set color(D){this.a.equals(D)||(this.a=D,this.d.fire(D))}get presentation(){return this.colorPresentations[this.f]}get colorPresentations(){return this.b}set colorPresentations(D){this.b=D,this.f>D.length-1&&(this.f=0),this.e.fire(this.presentation)}constructor(D,y,v){this.f=v,this.c=new w.Emitter,this.onColorFlushed=this.c.event,this.d=new w.Emitter,this.onDidChangeColor=this.d.event,this.e=new w.Emitter,this.onDidChangePresentation=this.e.event,this.originalColor=D,this.a=D,this.b=y}selectNextColorPresentation(){this.f=(this.f+1)%this.colorPresentations.length,this.flushColor(),this.e.fire(this.presentation)}guessColorPresentation(D,y){let v=-1;for(let C=0;C<this.colorPresentations.length;C++)if(y.toLowerCase()===this.colorPresentations[C].label){v=C;break}if(v===-1){const C=y.split("(")[0].toLowerCase();for(let d=0;d<this.colorPresentations.length;d++)if(this.colorPresentations[d].label.toLowerCase().startsWith(C)){v=d;break}}v!==-1&&v!==this.f&&(this.f=v,this.e.fire(this.presentation))}flushColor(){this.c.fire(this.a)}}e.ColorPickerModel=N}),define(ee[557],te([1,0,6,166,129]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this.c}get textModel(){return this.a}constructor(s,l){this.e=new w.Emitter,this.onDidChange=this.e.event,this.a=s,this.b=l,this.c=new N.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this.d=[]}toggleCollapseState(s){if(!s.length)return;s=s.sort((o,h)=>o.regionIndex-h.regionIndex);const l={};this.b.changeDecorations(o=>{let h=0,f=-1,S=-1;const p=m=>{for(;h<m;){const b=this.c.getEndLineNumber(h),L=this.c.isCollapsed(h);if(b<=f){const k=this.regions.getSource(h)!==0;o.changeDecorationOptions(this.d[h],this.b.getDecorationOption(L,b<=S,k))}L&&b>S&&(S=b),h++}};for(const m of s){const b=m.regionIndex,L=this.d[b];if(L&&!l[L]){l[L]=!0,p(b);const k=!this.c.isCollapsed(b);this.c.setCollapsed(b,k),f=Math.max(f,this.c.getEndLineNumber(b))}}p(this.c.length)}),this.e.fire({model:this,collapseStateChanged:s})}removeManualRanges(s){const l=new Array,o=h=>{for(const f of s)if(!(f.startLineNumber>h.endLineNumber||h.startLineNumber>f.endLineNumber))return!0;return!1};for(let h=0;h<this.c.length;h++){const f=this.c.toFoldRange(h);(f.source===0||!o(f))&&l.push(f)}this.updatePost(N.FoldingRegions.fromFoldRanges(l))}update(s,l=[]){const o=this.f(l),h=N.FoldingRegions.sanitizeAndMerge(s,o,this.a.getLineCount());this.updatePost(N.FoldingRegions.fromFoldRanges(h))}updatePost(s){const l=[];let o=-1;for(let h=0,f=s.length;h<f;h++){const S=s.getStartLineNumber(h),p=s.getEndLineNumber(h),m=s.isCollapsed(h),b=s.getSource(h)!==0,L={startLineNumber:S,startColumn:this.a.getLineMaxColumn(S),endLineNumber:p,endColumn:this.a.getLineMaxColumn(p)+1};l.push({range:L,options:this.b.getDecorationOption(m,p<=o,b)}),m&&p>o&&(o=p)}this.b.changeDecorations(h=>this.d=h.deltaDecorations(this.d,l)),this.c=s,this.e.fire({model:this})}f(s=[]){const l=(h,f)=>{for(const S of s)if(h<S&&S<=f)return!0;return!1},o=[];for(let h=0,f=this.c.length;h<f;h++){let S=this.regions.isCollapsed(h);const p=this.regions.getSource(h);if(S||p!==0){const m=this.c.toFoldRange(h),b=this.a.getDecorationRange(this.d[h]);b&&(S&&(l(b.startLineNumber,b.endLineNumber)||b.endLineNumber-b.startLineNumber!==m.endLineNumber-m.startLineNumber)&&(S=!1),o.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:m.type,isCollapsed:S,source:p}))}}return o}getMemento(){const s=this.f(),l=[],o=this.a.getLineCount();for(let h=0,f=s.length;h<f;h++){const S=s[h];if(S.startLineNumber>=S.endLineNumber||S.startLineNumber<1||S.endLineNumber>o)continue;const p=this.g(S.startLineNumber+1,S.endLineNumber);l.push({startLineNumber:S.startLineNumber,endLineNumber:S.endLineNumber,isCollapsed:S.isCollapsed,source:S.source,checksum:p})}return l.length>0?l:void 0}applyMemento(s){var l,o;if(!Array.isArray(s))return;const h=[],f=this.a.getLineCount();for(const p of s){if(p.startLineNumber>=p.endLineNumber||p.startLineNumber<1||p.endLineNumber>f)continue;const m=this.g(p.startLineNumber+1,p.endLineNumber);(!p.checksum||m===p.checksum)&&h.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,type:void 0,isCollapsed:(l=p.isCollapsed)!==null&&l!==void 0?l:!0,source:(o=p.source)!==null&&o!==void 0?o:0})}const S=N.FoldingRegions.sanitizeAndMerge(this.c,h,f);this.updatePost(N.FoldingRegions.fromFoldRanges(S))}g(s,l){return(0,E.hash)(this.a.getLineContent(s)+this.a.getLineContent(l))%1e6}dispose(){this.b.removeDecorations(this.d)}getAllRegionsAtLine(s,l){const o=[];if(this.c){let h=this.c.findRange(s),f=1;for(;h>=0;){const S=this.c.toRegion(h);(!l||l(S,f))&&o.push(S),f++,h=S.parentIndex}}return o}getRegionAtLine(s){if(this.c){const l=this.c.findRange(s);if(l>=0)return this.c.toRegion(l)}return null}getRegionsInside(s,l){const o=[],h=s?s.regionIndex+1:0,f=s?s.endLineNumber:Number.MAX_VALUE;if(l&&l.length===2){const S=[];for(let p=h,m=this.c.length;p<m;p++){const b=this.c.toRegion(p);if(this.c.getStartLineNumber(p)<f){for(;S.length>0&&!b.containedBy(S[S.length-1]);)S.pop();S.push(b),l(b,S.length)&&o.push(b)}else break}}else for(let S=h,p=this.c.length;S<p;S++){const m=this.c.toRegion(S);if(this.c.getStartLineNumber(S)<f)(!l||l(m))&&o.push(m);else break}return o}}e.FoldingModel=D;function y(u,s,l){const o=[];for(const h of l){const f=u.getRegionAtLine(h);if(f){const S=!f.isCollapsed;if(o.push(f),s>1){const p=u.getRegionsInside(f,(m,b)=>m.isCollapsed!==S&&b<s);o.push(...p)}}}u.toggleCollapseState(o)}e.toggleCollapseState=y;function v(u,s,l=Number.MAX_VALUE,o){const h=[];if(o&&o.length>0)for(const f of o){const S=u.getRegionAtLine(f);if(S&&(S.isCollapsed!==s&&h.push(S),l>1)){const p=u.getRegionsInside(S,(m,b)=>m.isCollapsed!==s&&b<l);h.push(...p)}}else{const f=u.getRegionsInside(null,(S,p)=>S.isCollapsed!==s&&p<l);h.push(...f)}u.toggleCollapseState(h)}e.setCollapseStateLevelsDown=v;function C(u,s,l,o){const h=[];for(const f of o){const S=u.getAllRegionsAtLine(f,(p,m)=>p.isCollapsed!==s&&m<=l);h.push(...S)}u.toggleCollapseState(h)}e.setCollapseStateLevelsUp=C;function d(u,s,l){const o=[];for(const h of l){const f=u.getAllRegionsAtLine(h,S=>S.isCollapsed!==s);f.length>0&&o.push(f[0])}u.toggleCollapseState(o)}e.setCollapseStateUp=d;function g(u,s,l,o){const h=(S,p)=>p===s&&S.isCollapsed!==l&&!o.some(m=>S.containsLine(m)),f=u.getRegionsInside(null,h);u.toggleCollapseState(f)}e.setCollapseStateAtLevel=g;function i(u,s,l){const o=[];for(const S of l){const p=u.getAllRegionsAtLine(S,void 0);p.length>0&&o.push(p[0])}const h=S=>o.every(p=>!p.containedBy(S)&&!S.containedBy(p))&&S.isCollapsed!==s,f=u.getRegionsInside(null,h);u.toggleCollapseState(f)}e.setCollapseStateForRest=i;function t(u,s,l){const o=u.textModel,h=u.regions,f=[];for(let S=h.length-1;S>=0;S--)if(l!==h.isCollapsed(S)){const p=h.getStartLineNumber(S);s.test(o.getLineContent(p))&&f.push(h.toRegion(S))}u.toggleCollapseState(f)}e.setCollapseStateForMatchingLines=t;function n(u,s,l){const o=u.regions,h=[];for(let f=o.length-1;f>=0;f--)l!==o.isCollapsed(f)&&s===o.getType(f)&&h.push(o.toRegion(f));u.toggleCollapseState(h)}e.setCollapseStateForType=n;function a(u,s){let l=null;const o=s.getRegionAtLine(u);if(o!==null&&(l=o.startLineNumber,u===l)){const h=o.parentIndex;h!==-1?l=s.regions.getStartLineNumber(h):l=null}return l}e.getParentFoldLine=a;function r(u,s){let l=s.getRegionAtLine(u);if(l!==null&&l.startLineNumber===u){if(u!==l.startLineNumber)return l.startLineNumber;{const o=l.parentIndex;let h=0;for(o!==-1&&(h=s.regions.getStartLineNumber(l.parentIndex));l!==null;)if(l.regionIndex>0){if(l=s.regions.toRegion(l.regionIndex-1),l.startLineNumber<=h)return null;if(l.parentIndex===o)return l.startLineNumber}else return null}}else if(s.regions.length>0)for(l=s.regions.toRegion(s.regions.length-1);l!==null;){if(l.startLineNumber<u)return l.startLineNumber;l.regionIndex>0?l=s.regions.toRegion(l.regionIndex-1):l=null}return null}e.getPreviousFoldLine=r;function c(u,s){let l=s.getRegionAtLine(u);if(l!==null&&l.startLineNumber===u){const o=l.parentIndex;let h=0;if(o!==-1)h=s.regions.getEndLineNumber(l.parentIndex);else{if(s.regions.length===0)return null;h=s.regions.getEndLineNumber(s.regions.length-1)}for(;l!==null;)if(l.regionIndex<s.regions.length){if(l=s.regions.toRegion(l.regionIndex+1),l.startLineNumber>=h)return null;if(l.parentIndex===o)return l.startLineNumber}else return null}else if(s.regions.length>0)for(l=s.regions.toRegion(0);l!==null;){if(l.startLineNumber>u)return l.startLineNumber;l.regionIndex<s.regions.length?l=s.regions.toRegion(l.regionIndex+1):l=null}return null}e.getNextFoldLine=c}),define(ee[558],te([1,0,17,6,3,131]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this.d.event}get hiddenRanges(){return this.b}constructor(g){this.d=new N.Emitter,this.f=!1,this.a=g,this.c=g.onDidChange(i=>this.g()),this.b=[],g.regions.length&&this.g()}notifyChangeModelContent(g){this.b.length&&!this.f&&(this.f=g.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,D.countEOL)(i.text)[0]!==0))}g(){let g=!1;const i=[];let t=0,n=0,a=Number.MAX_VALUE,r=-1;const c=this.a.regions;for(;t<c.length;t++){if(!c.isCollapsed(t))continue;const u=c.getStartLineNumber(t)+1,s=c.getEndLineNumber(t);a<=u&&s<=r||(!g&&n<this.b.length&&this.b[n].startLineNumber===u&&this.b[n].endLineNumber===s?(i.push(this.b[n]),n++):(g=!0,i.push(new E.Range(u,1,s,1))),a=u,r=s)}(this.f||g||n<this.b.length)&&this.h(i)}h(g){this.b=g,this.f=!1,this.d.fire(g)}hasRanges(){return this.b.length>0}isHidden(g){return C(this.b,g)!==null}adjustSelections(g){let i=!1;const t=this.a.textModel;let n=null;const a=r=>((!n||!v(r,n))&&(n=C(this.b,r)),n?n.startLineNumber-1:null);for(let r=0,c=g.length;r<c;r++){let u=g[r];const s=a(u.startLineNumber);s&&(u=u.setStartPosition(s,t.getLineMaxColumn(s)),i=!0);const l=a(u.endLineNumber);l&&(u=u.setEndPosition(l,t.getLineMaxColumn(l)),i=!0),g[r]=u}return i}dispose(){this.hiddenRanges.length>0&&(this.b=[],this.d.fire(this.b)),this.c&&(this.c.dispose(),this.c=null)}}e.HiddenRangeModel=y;function v(d,g){return d>=g.startLineNumber&&d<=g.endLineNumber}function C(d,g){const i=(0,w.findFirstInSorted)(d,t=>g<t.startLineNumber)-1;return i>=0&&d[i].endLineNumber>=g?d[i]:null}}),define(ee[170],te([1,0,6,2,16]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(i,t){return!!i[t]}class y{constructor(t,n){this.target=t.target,this.isLeftClick=t.event.leftButton,this.isMiddleClick=t.event.middleButton,this.isRightClick=t.event.rightButton,this.hasTriggerModifier=D(t.event,n.triggerModifier),this.hasSideBySideModifier=D(t.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}e.ClickLinkMouseEvent=y;class v{constructor(t,n){this.keyCodeIsTriggerKey=t.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=D(t,n.triggerModifier)}}e.ClickLinkKeyboardEvent=v;class C{constructor(t,n,a,r){this.triggerKey=t,this.triggerModifier=n,this.triggerSideBySideKey=a,this.triggerSideBySideModifier=r}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}e.ClickLinkOptions=C;function d(i){return i==="altKey"?E.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):E.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class g extends N.Disposable{constructor(t,n){super(),this.a=this.q(new w.Emitter),this.onMouseMoveOrRelevantKeyDown=this.a.event,this.b=this.q(new w.Emitter),this.onExecute=this.b.event,this.c=this.q(new w.Emitter),this.onCancel=this.c.event,this.g=t,this.h=n,this.i=d(this.g.getOption(74)),this.j=null,this.k=!1,this.l=0,this.q(this.g.onDidChangeConfiguration(a=>{if(a.hasChanged(74)){const r=d(this.g.getOption(74));if(this.i.equals(r))return;this.i=r,this.j=null,this.k=!1,this.l=0,this.c.fire()}})),this.q(this.g.onMouseMove(a=>this.n(new y(a,this.i)))),this.q(this.g.onMouseDown(a=>this.p(new y(a,this.i)))),this.q(this.g.onMouseUp(a=>this.r(new y(a,this.i)))),this.q(this.g.onKeyDown(a=>this.s(new v(a,this.i)))),this.q(this.g.onKeyUp(a=>this.t(new v(a,this.i)))),this.q(this.g.onMouseDrag(()=>this.u())),this.q(this.g.onDidChangeCursorSelection(a=>this.m(a))),this.q(this.g.onDidChangeModel(a=>this.u())),this.q(this.g.onDidChangeModelContent(()=>this.u())),this.q(this.g.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this.u()}))}m(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this.u()}n(t){this.j=t,this.a.fire([t,null])}p(t){this.k=t.hasTriggerModifier,this.l=t.target.position?t.target.position.lineNumber:0}r(t){const n=t.target.position?t.target.position.lineNumber:0;(this.k&&this.l&&this.l===n||this.h)&&this.b.fire(t)}s(t){this.j&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this.a.fire([this.j,t]):t.hasTriggerModifier&&this.c.fire()}t(t){t.keyCodeIsTriggerKey&&this.c.fire()}u(){this.j=null,this.k=!1,this.c.fire()}}e.ClickLinkGesture=g});var yt=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],w;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),w={},N("next"),N("throw"),N("return"),w[Symbol.asyncIterator]=function(){return this},w);function N(D){w[D]=K[D]&&function(y){return new Promise(function(v,C){y=K[D](y),E(v,C,y.done,y.value)})}}function E(D,y,v,C){Promise.resolve(C).then(function(d){D({value:d,done:v})},y)}};define(ee[289],te([1,0,12,13,6,2]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(d,g,i){this.value=d,this.isComplete=g,this.hasLoadingMessage=i}}e.HoverResult=y;class v extends D.Disposable{constructor(d,g){super(),this.l=d,this.m=g,this.a=this.q(new E.Emitter),this.onResult=this.a.event,this.b=this.q(new w.RunOnceScheduler(()=>this.u(),0)),this.c=this.q(new w.RunOnceScheduler(()=>this.v(),0)),this.g=this.q(new w.RunOnceScheduler(()=>this.w(),0)),this.h=0,this.i=null,this.j=!1,this.k=[]}dispose(){this.i&&(this.i.cancel(),this.i=null),super.dispose()}get n(){return this.l.getOption(57).delay}get p(){return this.n/2}get r(){return this.n-this.p}get s(){return 3*this.n}t(d,g=!0){this.h=d,g&&this.y()}u(){this.t(2),this.c.schedule(this.r),this.m.computeAsync?(this.j=!1,this.i=(0,w.createCancelableAsyncIterable)(d=>this.m.computeAsync(d)),Le(this,void 0,void 0,function*(){var d,g,i,t;try{try{for(var n=!0,a=yt(this.i),r;r=yield a.next(),d=r.done,!d;){t=r.value,n=!1;try{const c=t;c&&(this.k.push(c),this.y())}finally{n=!0}}}catch(c){g={error:c}}finally{try{!n&&!d&&(i=a.return)&&(yield i.call(a))}finally{if(g)throw g.error}}this.j=!0,(this.h===3||this.h===4)&&this.t(0)}catch(c){(0,N.onUnexpectedError)(c)}})):this.j=!0}v(){this.m.computeSync&&(this.k=this.k.concat(this.m.computeSync())),this.t(this.j?0:3)}w(){this.h===3&&this.t(4)}y(){if(this.h===1||this.h===2)return;const d=this.h===0,g=this.h===4;this.a.fire(new y(this.k.slice(0),d,g))}start(d){if(d===0)this.h===0&&(this.t(1),this.b.schedule(this.p),this.g.schedule(this.s));else switch(this.h){case 0:this.u(),this.c.cancel(),this.v();break;case 2:this.c.cancel(),this.v();break}}cancel(){this.b.cancel(),this.c.cancel(),this.g.cancel(),this.i&&(this.i.cancel(),this.i=null),this.k=[],this.t(0,!1)}}e.HoverOperation=v}),define(ee[290],te([1,0,13,2,11,3,47,21]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class C{constructor(n,a){this.range=n,this.direction=a}}e.InlayHintAnchor=C;class d{constructor(n,a,r){this.hint=n,this.anchor=a,this.provider=r,this.c=!1}with(n){const a=new d(this.hint,n.anchor,this.provider);return a.c=this.c,a.d=this.d,a}resolve(n){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this.d)return yield this.d,n.isCancellationRequested?void 0:this.resolve(n);this.c||(this.d=this.e(n).finally(()=>this.d=void 0)),yield this.d}})}e(n){var a,r;return Le(this,void 0,void 0,function*(){try{const c=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,n));this.hint.tooltip=(a=c?.tooltip)!==null&&a!==void 0?a:this.hint.tooltip,this.hint.label=(r=c?.label)!==null&&r!==void 0?r:this.hint.label,this.c=!0}catch(c){(0,w.onUnexpectedExternalError)(c),this.c=!1}})}}e.InlayHintItem=d;class g{static create(n,a,r,c){return Le(this,void 0,void 0,function*(){const u=[],s=n.ordered(a).reverse().map(l=>r.map(o=>Le(this,void 0,void 0,function*(){try{const h=yield l.provideInlayHints(a,o,c);h?.hints.length&&u.push([h,l])}catch(h){(0,w.onUnexpectedExternalError)(h)}})));if(yield Promise.all(s.flat()),c.isCancellationRequested||a.isDisposed())throw new w.CancellationError;return new g(r,u,a)})}constructor(n,a,r){this.c=new N.DisposableStore,this.ranges=n,this.provider=new Set;const c=[];for(const[u,s]of a){this.c.add(u),this.provider.add(s);for(const l of u.hints){const o=r.validatePosition(l.position);let h="before";const f=g.d(r,o);let S;f.getStartPosition().isBefore(o)?(S=D.Range.fromPositions(f.getStartPosition(),o),h="after"):(S=D.Range.fromPositions(o,f.getEndPosition()),h="before"),c.push(new d(l,new C(S,h),s))}}this.items=c.sort((u,s)=>E.Position.compare(u.hint.position,s.hint.position))}dispose(){this.c.dispose()}static d(n,a){const r=a.lineNumber,c=n.getWordAtPosition(a);if(c)return new D.Range(r,c.startColumn,r,c.endColumn);n.tokenization.tokenizeIfCheap(r);const u=n.tokenization.getLineTokens(r),s=a.column-1,l=u.findTokenIndexAtOffset(s);let o=u.getStartOffset(l),h=u.getEndOffset(l);return h-o===1&&(o===s&&l>1?(o=u.getStartOffset(l-1),h=u.getEndOffset(l-1)):h===s&&l<u.getCount()-1&&(o=u.getStartOffset(l+1),h=u.getEndOffset(l+1))),new D.Range(r,o+1,r,h+1)}}e.InlayHintsFragments=g;function i(t){return v.URI.from({scheme:y.Schemas.command,path:t.id,query:t.arguments&&encodeURIComponent(JSON.stringify(t.arguments))}).toString()}e.asCommandLink=i}),define(ee[171],te([1,0,6,2,196]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class D{constructor(g,i,t=0){this.lineNumber=g,this.parts=i,this.additionalReservedLineCount=t}renderForScreenReader(g){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],t=g.substr(0,i.column-1);return(0,E.applyEdits)(t,this.parts.map(a=>({range:{startLineNumber:1,endLineNumber:1,startColumn:a.column,endColumn:a.column},text:a.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(g=>g.lines.length===0)}}e.GhostText=D;class y{constructor(g,i,t){this.column=g,this.lines=i,this.preview=t}}e.GhostTextPart=y;class v{constructor(g,i,t,n,a=0){this.lineNumber=g,this.columnStart=i,this.length=t,this.newLines=n,this.additionalReservedLineCount=a,this.parts=[new y(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(g){return this.newLines.join(`
`)}}e.GhostTextReplacement=v;class C extends N.Disposable{constructor(g){super(),this.j=g,this.g=void 0,this.h=new w.Emitter,this.onDidChange=this.h.event,this.q(g.onDidChangeConfiguration(i=>{i.hasChanged(112)&&this.g===void 0&&this.h.fire()}))}setExpanded(g){this.g=!0,this.h.fire()}}e.BaseGhostTextWidgetModel=C}),define(ee[215],te([1,0,152,9,3,171]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function y(n,a){if(!a)return a;const r=n.getValueInRange(a.range),c=N.commonPrefixLength(r,a.insertText),u=n.getOffsetAt(a.range.getStartPosition())+c,s=n.getPositionAt(u),l=r.substr(c),o=N.commonSuffixLength(l,a.insertText),h=n.getPositionAt(Math.max(u,n.getOffsetAt(a.range.getEndPosition())-o));return{range:E.Range.fromPositions(s,h),insertText:a.insertText.substr(c,a.insertText.length-c-o),snippetInfo:a.snippetInfo,filterText:a.filterText,additionalTextEdits:a.additionalTextEdits}}e.minimizeInlineCompletion=y;function v(n,a){return n===a?!0:!n||!a?!1:n.range.equalsRange(a.range)&&n.insertText===a.insertText&&n.command===a.command}e.normalizedInlineCompletionsEquals=v;function C(n,a,r,c,u=0){if(n.range.startLineNumber!==n.range.endLineNumber)return;const s=a.getLineContent(n.range.startLineNumber),l=N.getLeadingWhitespace(s).length;if(n.range.startColumn-1<=l){const b=N.getLeadingWhitespace(n.insertText).length,L=s.substring(n.range.startColumn-1,l),k=E.Range.fromPositions(n.range.getStartPosition().delta(0,L.length),n.range.getEndPosition()),I=n.insertText.startsWith(L)?n.insertText.substring(L.length):n.insertText.substring(b);n={range:k,insertText:I,command:n.command,snippetInfo:void 0,filterText:n.filterText,additionalTextEdits:n.additionalTextEdits}}const h=a.getValueInRange(n.range),f=g(h,n.insertText);if(!f)return;const S=n.range.startLineNumber,p=new Array;if(r==="prefix"){const b=f.filter(L=>L.originalLength===0);if(b.length>1||b.length===1&&b[0].originalStart!==h.length)return}const m=n.insertText.length-u;for(const b of f){const L=n.range.startColumn+b.originalStart+b.originalLength;if(r==="subwordSmart"&&c&&c.lineNumber===n.range.startLineNumber&&L<c.column||b.originalLength>0)return;if(b.modifiedLength===0)continue;const k=b.modifiedStart+b.modifiedLength,I=Math.max(b.modifiedStart,Math.min(k,m)),M=n.insertText.substring(b.modifiedStart,I),B=n.insertText.substring(I,Math.max(b.modifiedStart,k));if(M.length>0){const z=N.splitLines(M);p.push(new D.GhostTextPart(L,z,!1))}if(B.length>0){const z=N.splitLines(B);p.push(new D.GhostTextPart(L,z,!0))}}return new D.GhostText(S,p,0)}e.inlineCompletionToGhostText=C;let d;function g(n,a){if(d?.originalValue===n&&d?.newValue===a)return d?.changes;{let r=t(n,a,!0);if(r){const c=i(r);if(c>0){const u=t(n,a,!1);u&&i(u)<c&&(r=u)}}return d={originalValue:n,newValue:a,changes:r},r}}function i(n){let a=0;for(const r of n)a+=r.originalLength;return a}function t(n,a,r){if(n.length>5e3||a.length>5e3)return;function c(f){let S=0;for(let p=0,m=f.length;p<m;p++){const b=f.charCodeAt(p);b>S&&(S=b)}return S}const u=Math.max(c(n),c(a));function s(f){if(f<0)throw new Error("unexpected");return u+f+1}function l(f){let S=0,p=0;const m=new Int32Array(f.length);for(let b=0,L=f.length;b<L;b++)if(r&&f[b]==="("){const k=p*100+S;m[b]=s(2*k),S++}else if(r&&f[b]===")"){S=Math.max(S-1,0);const k=p*100+S;m[b]=s(2*k+1),S===0&&p++}else m[b]=f.charCodeAt(b);return m}const o=l(n),h=l(a);return new w.LcsDiff({getElements:()=>o},{getElements:()=>h}).ComputeDiff(!1).changes}}),define(ee[559],te([4,5]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[560],te([4,5]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[561],te([1,0,7,45,68,205,206,17,343,109,6,111,2,16,9,18,281,560,156]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const s=w.$;class l{get checked(){return!!this._checked}set checked(I){I!==this._checked&&(this._checked=I,this.c.fire(I))}constructor(I){this.hidden=!1,this.c=new g.Emitter,this.onChecked=this.c.event,Object.assign(this,I)}dispose(){this.c.dispose()}}class o{get templateId(){return o.ID}renderTemplate(I){const M=Object.create(null);M.toDisposeElement=[],M.toDisposeTemplate=[],M.entry=w.append(I,s(".quick-input-list-entry"));const B=w.append(M.entry,s("label.quick-input-list-label"));M.toDisposeTemplate.push(w.addStandardDisposableListener(B,w.EventType.CLICK,F=>{M.checkbox.offsetParent||F.preventDefault()})),M.checkbox=w.append(B,s("input.quick-input-list-checkbox")),M.checkbox.type="checkbox",M.toDisposeTemplate.push(w.addStandardDisposableListener(M.checkbox,w.EventType.CHANGE,F=>{M.element.checked=M.checkbox.checked}));const z=w.append(B,s(".quick-input-list-rows")),P=w.append(z,s(".quick-input-list-row")),A=w.append(z,s(".quick-input-list-row"));M.label=new D.IconLabel(P,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const T=w.append(P,s(".quick-input-list-entry-keybinding"));M.keybinding=new y.KeybindingLabel(T,n.OS);const O=w.append(A,s(".quick-input-list-label-meta"));return M.detail=new D.IconLabel(O,{supportHighlights:!0,supportIcons:!0}),M.separator=w.append(M.entry,s(".quick-input-list-separator")),M.actionBar=new E.ActionBar(M.entry),M.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),M.toDisposeTemplate.push(M.actionBar),M}renderElement(I,M,B){B.element=I;const z=I.item?I.item:I.separator;B.checkbox.checked=I.checked,B.toDisposeElement.push(I.onChecked(W=>B.checkbox.checked=W));const{labelHighlights:P,descriptionHighlights:A,detailHighlights:T}=I,O=Object.create(null);O.matches=P||[],O.descriptionTitle=I.saneDescription,O.descriptionMatches=A||[],z.type!=="separator"?(O.extraClasses=z.iconClasses,O.italic=z.italic,O.strikethrough=z.strikethrough,B.entry.classList.remove("quick-input-list-separator-as-item")):B.entry.classList.add("quick-input-list-separator-as-item"),B.label.setLabel(I.saneLabel,I.saneDescription,O),B.keybinding.set(z.type==="separator"?void 0:z.keybinding),I.saneDetail&&B.detail.setLabel(I.saneDetail,void 0,{matches:T,title:I.saneDetail}),I.item&&I.separator&&I.separator.label?(B.separator.textContent=I.separator.label,B.separator.style.display=""):B.separator.style.display="none",B.entry.classList.toggle("quick-input-list-separator-border",!!I.separator);const F=z.buttons;F&&F.length?(B.actionBar.push(F.map((W,V)=>{let R=W.iconClass||(W.iconPath?(0,c.getIconClass)(W.iconPath):void 0);return W.alwaysVisible&&(R=R?`${R} always-visible`:"always-visible"),{id:`id-${V}`,class:R,enabled:!0,label:"",tooltip:W.tooltip||"",run:()=>{z.type!=="separator"?I.fireButtonTriggered({button:W,item:z}):I.fireSeparatorButtonTriggered({button:W,separator:z})}}}),{icon:!0,label:!1}),B.entry.classList.add("has-actions")):B.entry.classList.remove("has-actions")}disposeElement(I,M,B){B.toDisposeElement=(0,t.dispose)(B.toDisposeElement),B.actionBar.clear()}disposeTemplate(I){I.toDisposeElement=(0,t.dispose)(I.toDisposeElement),I.toDisposeTemplate=(0,t.dispose)(I.toDisposeTemplate)}}o.ID="listelement";class h{getHeight(I){return I.item?I.saneDetail?44:22:24}getTemplateId(I){return o.ID}}var f;(function(k){k[k.First=1]="First",k[k.Second=2]="Second",k[k.Last=3]="Last",k[k.Next=4]="Next",k[k.Previous=5]="Previous",k[k.NextPage=6]="NextPage",k[k.PreviousPage=7]="PreviousPage"})(f=e.QuickInputListFocus||(e.QuickInputListFocus={}));class S{constructor(I,M,B){this.w=I,this.f=[],this.g=[],this.h=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this.j=new g.Emitter,this.onChangedAllVisibleChecked=this.j.event,this.k=new g.Emitter,this.onChangedCheckedCount=this.k.event,this.l=new g.Emitter,this.onChangedVisibleCount=this.l.event,this.m=new g.Emitter,this.onChangedCheckedElements=this.m.event,this.o=new g.Emitter,this.onButtonTriggered=this.o.event,this.p=new g.Emitter,this.onSeparatorButtonTriggered=this.p.event,this.q=new g.Emitter,this.onKeyDown=this.q.event,this.r=new g.Emitter,this.onLeave=this.r.event,this.t=!0,this.u=[],this.v=[],this.id=M,this.c=w.append(this.w,s(".quick-input-list"));const z=new h,P=new L;this.d=B.createList("QuickInput",this.c,z,[new o],{identityProvider:{getId:A=>A.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:P}),this.d.getHTMLElement().id=M,this.v.push(this.d),this.v.push(this.d.onKeyDown(A=>{const T=new N.StandardKeyboardEvent(A);switch(T.keyCode){case 10:this.toggleCheckbox();break;case 31:(n.isMacintosh?A.metaKey:A.ctrlKey)&&this.d.setFocus((0,v.range)(this.d.length));break;case 16:{const O=this.d.getFocus();O.length===1&&O[0]===0&&this.r.fire();break}case 18:{const O=this.d.getFocus();O.length===1&&O[0]===this.d.length-1&&this.r.fire();break}}this.q.fire(T)})),this.v.push(this.d.onMouseDown(A=>{A.browserEvent.button!==2&&A.browserEvent.preventDefault()})),this.v.push(w.addDisposableListener(this.c,w.EventType.CLICK,A=>{(A.x||A.y)&&this.r.fire()})),this.v.push(this.d.onMouseMiddleClick(A=>{this.r.fire()})),this.v.push(this.d.onContextMenu(A=>{typeof A.index=="number"&&(A.browserEvent.preventDefault(),this.d.setSelection([A.index]))})),this.v.push(this.j,this.k,this.l,this.m,this.o,this.p,this.r,this.q)}get onDidChangeFocus(){return g.Event.map(this.d.onDidChangeFocus,I=>I.elements.map(M=>M.item))}get onDidChangeSelection(){return g.Event.map(this.d.onDidChangeSelection,I=>({items:I.elements.map(M=>M.item),event:I.browserEvent}))}get scrollTop(){return this.d.scrollTop}set scrollTop(I){this.d.scrollTop=I}getAllVisibleChecked(){return this.z(this.g,!1)}z(I,M=!0){for(let B=0,z=I.length;B<z;B++){const P=I[B];if(!P.hidden)if(P.checked)M=!0;else return!1}return M}getCheckedCount(){let I=0;const M=this.g;for(let B=0,z=M.length;B<z;B++)M[B].checked&&I++;return I}getVisibleCount(){let I=0;const M=this.g;for(let B=0,z=M.length;B<z;B++)M[B].hidden||I++;return I}setAllVisibleChecked(I){try{this.t=!1,this.g.forEach(M=>{M.hidden||(M.checked=I)})}finally{this.t=!0,this.A()}}setElements(I){this.u=(0,t.dispose)(this.u);const M=z=>this.B(z),B=z=>this.C(z);this.f=I,this.g=I.reduce((z,P,A)=>{var T,O,F;const W=A&&I[A-1],V=P.label?P.label.replace(/\r?\n/g," "):"",R=(0,i.parseLabelWithIcons)(V).text.trim();let $,X,ne,ae,ie,le;P.type!=="separator"&&($=P.meta&&P.meta.replace(/\r?\n/g," "),X=P.description&&P.description.replace(/\r?\n/g," "),ne=P.detail&&P.detail.replace(/\r?\n/g," "),ae=(T=P.highlights)===null||T===void 0?void 0:T.label,ie=(O=P.highlights)===null||O===void 0?void 0:O.description,le=(F=P.highlights)===null||F===void 0?void 0:F.detail);const J=P.ariaLabel||[V,X,ne].map(Q=>(0,i.getCodiconAriaLabel)(Q)).filter(Q=>!!Q).join(", "),x=this.w.classList.contains("show-checkboxes");let q;if(P.type==="separator"){if(!P.buttons)return z;q=P}else W&&W.type==="separator"&&!W.buttons&&(q=W);const Y=new l({hasCheckbox:x,index:A,item:P.type!=="separator"?P:void 0,saneLabel:V,saneSortLabel:R,saneMeta:$,saneAriaLabel:J,saneDescription:X,saneDetail:ne,labelHighlights:ae,descriptionHighlights:ie,detailHighlights:le,checked:!1,separator:q,fireButtonTriggered:M,fireSeparatorButtonTriggered:B});return this.u.push(Y),this.u.push(Y.onChecked(()=>this.A())),z.push(Y),z},[]),this.h=this.g.reduce((z,P,A)=>{var T;return z.set((T=P.item)!==null&&T!==void 0?T:P.separator,A),z},new Map),this.d.splice(0,this.d.length),this.d.splice(0,this.d.length,this.g),this.l.fire(this.g.length)}getFocusedElements(){return this.d.getFocusedElements().map(I=>I.item)}setFocusedElements(I){if(this.d.setFocus(I.filter(M=>this.h.has(M)).map(M=>this.h.get(M))),I.length>0){const M=this.d.getFocus()[0];typeof M=="number"&&this.d.reveal(M)}}getActiveDescendant(){return this.d.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(I){this.d.setSelection(I.filter(M=>this.h.has(M)).map(M=>this.h.get(M)))}getCheckedElements(){return this.g.filter(I=>I.checked).map(I=>I.item).filter(I=>!!I)}setCheckedElements(I){try{this.t=!1;const M=new Set;for(const B of I)M.add(B);for(const B of this.g)B.checked=M.has(B.item)}finally{this.t=!0,this.A()}}set enabled(I){this.d.getHTMLElement().style.pointerEvents=I?"":"none"}focus(I){if(!this.d.length)return;switch(I===f.Second&&this.d.length<2&&(I=f.First),I){case f.First:this.d.scrollTop=0,this.d.focusFirst(void 0,B=>!!B.item);break;case f.Second:this.d.scrollTop=0,this.d.focusNth(1,void 0,B=>!!B.item);break;case f.Last:this.d.scrollTop=this.d.scrollHeight,this.d.focusLast(void 0,B=>!!B.item);break;case f.Next:{this.d.focusNext(void 0,!0,void 0,z=>!!z.item);const B=this.d.getFocus()[0];B!==0&&!this.g[B-1].item&&this.d.firstVisibleIndex>B-1&&this.d.reveal(B-1);break}case f.Previous:{this.d.focusPrevious(void 0,!0,void 0,z=>!!z.item);const B=this.d.getFocus()[0];B!==0&&!this.g[B-1].item&&this.d.firstVisibleIndex>B-1&&this.d.reveal(B-1);break}case f.NextPage:this.d.focusNextPage(void 0,B=>!!B.item);break;case f.PreviousPage:this.d.focusPreviousPage(void 0,B=>!!B.item);break}const M=this.d.getFocus()[0];typeof M=="number"&&this.d.reveal(M)}clearFocus(){this.d.setFocus([])}domFocus(){this.d.domFocus()}layout(I){this.d.getHTMLElement().style.maxHeight=I?`calc(${Math.floor(I/44)*44}px)`:"",this.d.layout()}filter(I){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.d.layout(),!1;const M=I;if(I=I.trim(),!I||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.g.forEach(z=>{z.labelHighlights=void 0,z.descriptionHighlights=void 0,z.detailHighlights=void 0,z.hidden=!1;const P=z.index&&this.f[z.index-1];z.item&&(z.separator=P&&P.type==="separator"&&!P.buttons?P:void 0)});else{let z;this.g.forEach(P=>{let A;this.matchOnLabelMode==="fuzzy"?A=this.matchOnLabel?(0,r.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(I,(0,i.parseLabelWithIcons)(P.saneLabel))):void 0:A=this.matchOnLabel?(0,r.withNullAsUndefined)(p(M,(0,i.parseLabelWithIcons)(P.saneLabel))):void 0;const T=this.matchOnDescription?(0,r.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(I,(0,i.parseLabelWithIcons)(P.saneDescription||""))):void 0,O=this.matchOnDetail?(0,r.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(I,(0,i.parseLabelWithIcons)(P.saneDetail||""))):void 0,F=this.matchOnMeta?(0,r.withNullAsUndefined)((0,i.matchesFuzzyIconAware)(I,(0,i.parseLabelWithIcons)(P.saneMeta||""))):void 0;if(A||T||O||F?(P.labelHighlights=A,P.descriptionHighlights=T,P.detailHighlights=O,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=P.item?!P.item.alwaysShow:!0),!this.sortByLabel){const W=P.index&&this.f[P.index-1];z=W&&W.type==="separator"?W:z,z&&!P.hidden&&(P.separator=z,z=void 0)}})}const B=this.g.filter(z=>!z.hidden);if(this.sortByLabel&&I){const z=I.toLowerCase();B.sort((P,A)=>b(P,A,z))}return this.h=B.reduce((z,P,A)=>{var T;return z.set((T=P.item)!==null&&T!==void 0?T:P.separator,A),z},new Map),this.d.splice(0,this.d.length,B),this.d.setFocus([]),this.d.layout(),this.j.fire(this.getAllVisibleChecked()),this.l.fire(B.length),!0}toggleCheckbox(){try{this.t=!1;const I=this.d.getFocusedElements(),M=this.z(I);for(const B of I)B.checked=!M}finally{this.t=!0,this.A()}}display(I){this.c.style.display=I?"":"none"}isDisplayed(){return this.c.style.display!=="none"}dispose(){this.u=(0,t.dispose)(this.u),this.v=(0,t.dispose)(this.v)}A(){this.t&&(this.j.fire(this.getAllVisibleChecked()),this.k.fire(this.getCheckedCount()),this.m.fire(this.getCheckedElements()))}B(I){this.o.fire(I)}C(I){this.p.fire(I)}style(I){this.d.style(I)}}De([d.memoize],S.prototype,"onDidChangeFocus",null),De([d.memoize],S.prototype,"onDidChangeSelection",null),e.QuickInputList=S;function p(k,I){const{text:M,iconOffsets:B}=I;if(!B||B.length===0)return m(k,M);const z=(0,a.ltrim)(M," "),P=M.length-z.length,A=m(k,z);if(A)for(const T of A){const O=B[T.start+P]+P;T.start+=O,T.end+=O}return A}function m(k,I){const M=I.toLowerCase().indexOf(k.toLowerCase());return M!==-1?[{start:M,end:M+k.length}]:null}function b(k,I,M){const B=k.labelHighlights||[],z=I.labelHighlights||[];return B.length&&!z.length?-1:!B.length&&z.length?1:B.length===0&&z.length===0?0:(0,C.compareAnything)(k.saneSortLabel,I.saneSortLabel,M)}class L{getWidgetAriaLabel(){return(0,u.localize)(0,null)}getAriaLabel(I){var M;return!((M=I.separator)===null||M===void 0)&&M.label?`${I.saneAriaLabel}, ${I.separator.label}`:I.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(I){return I.hasCheckbox?"checkbox":"option"}isChecked(I){if(!!I.hasCheckbox)return{value:I.checked,onDidChange:I.onChecked}}}}),define(ee[562],te([1,0,7,45,68,522,270,137,524,139,41,17,12,20,27,31,6,2,16,93,18,281,238,559,538,561,156]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const b=w.$,L={iconClass:r.ThemeIcon.asClassName(a.Codicon.quickInputBack),tooltip:(0,S.localize)(0,null),handle:-1};class k extends u.Disposable{constructor(P){super(),this.M=P,this.m=!1,this.n=!0,this.r=!1,this.s=!1,this.t=[],this.u=!1,this.v=[],this.w=!1,this.z=k.g,this.D=l.default.Ignore,this.G=this.q(new c.Emitter),this.H=this.q(new c.Emitter),this.I=this.q(new c.Emitter),this.J=this.q(new u.DisposableStore),this.onDidHide=this.H.event}get title(){return this.h}set title(P){this.h=P,this.N()}get description(){return this.i}set description(P){this.i=P,this.N()}get step(){return this.j}set step(P){this.j=P,this.N()}get totalSteps(){return this.l}set totalSteps(P){this.l=P,this.N()}get enabled(){return this.n}set enabled(P){this.n=P,this.N()}get contextKey(){return this.p}set contextKey(P){this.p=P,this.N()}get busy(){return this.r}set busy(P){this.r=P,this.N()}get ignoreFocusOut(){return this.s}set ignoreFocusOut(P){const A=this.s!==P&&!s.isIOS;this.s=P&&!s.isIOS,A&&this.N()}get buttons(){return this.t}set buttons(P){this.t=P,this.u=!0,this.N()}get toggles(){return this.v}set toggles(P){this.v=P??[],this.w=!0,this.N()}get validationMessage(){return this.B}set validationMessage(P){this.B=P,this.N()}get severity(){return this.D}set severity(P){this.D=P,this.N()}show(){this.m||(this.J.add(this.M.onDidTriggerButton(P=>{this.buttons.indexOf(P)!==-1&&this.G.fire(P)})),this.M.show(this),this.m=!0,this.C=void 0,this.F=void 0,this.buttons.length&&(this.u=!0),this.toggles.length&&(this.w=!0),this.N())}hide(){!this.m||this.M.hide()}didHide(P=f.QuickInputHideReason.Other){this.m=!1,this.J.clear(),this.H.fire({reason:P})}N(){var P,A;if(!this.m)return;const T=this.Q();T&&this.M.title.textContent!==T?this.M.title.textContent=T:!T&&this.M.title.innerHTML!=="&nbsp;"&&(this.M.title.innerText="\xA0");const O=this.S();if(this.M.description1.textContent!==O&&(this.M.description1.textContent=O),this.M.description2.textContent!==O&&(this.M.description2.textContent=O),this.busy&&!this.L&&(this.L=new t.TimeoutTimer,this.L.setIfNotSet(()=>{this.m&&this.M.progressBar.infinite()},800)),!this.busy&&this.L&&(this.M.progressBar.stop(),this.L.cancel(),this.L=void 0),this.u){this.u=!1,this.M.leftActionBar.clear();const W=this.buttons.filter(R=>R===L);this.M.leftActionBar.push(W.map((R,$)=>{const X=new g.Action(`id-${$}`,"",R.iconClass||(0,h.getIconClass)(R.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.G.fire(R)}));return X.tooltip=R.tooltip||"",X}),{icon:!0,label:!1}),this.M.rightActionBar.clear();const V=this.buttons.filter(R=>R!==L);this.M.rightActionBar.push(V.map((R,$)=>{const X=new g.Action(`id-${$}`,"",R.iconClass||(0,h.getIconClass)(R.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.G.fire(R)}));return X.tooltip=R.tooltip||"",X}),{icon:!0,label:!1})}if(this.w){this.w=!1;const W=(A=(P=this.toggles)===null||P===void 0?void 0:P.filter(V=>V instanceof d.Toggle))!==null&&A!==void 0?A:[];this.M.inputBox.toggles=W}this.M.ignoreFocusOut=this.ignoreFocusOut,this.M.setEnabled(this.enabled),this.M.setContextKey(this.contextKey);const F=this.validationMessage||this.z;this.C!==F&&(this.C=F,w.reset(this.M.message,...(0,v.renderLabelWithIcons)(F))),this.F!==this.severity&&(this.F=this.severity,this.W(this.severity))}Q(){return this.title&&this.step?`${this.title} (${this.U()})`:this.title?this.title:this.step?this.U():""}S(){return this.description||""}U(){return this.step&&this.totalSteps?(0,S.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}W(P){if(this.M.inputBox.showDecoration(P),P!==l.default.Ignore){const A=this.M.inputBox.stylesForType(P);this.M.message.style.color=A.foreground?`${A.foreground}`:"",this.M.message.style.backgroundColor=A.background?`${A.background}`:"",this.M.message.style.border=A.border?`1px solid ${A.border}`:"",this.M.message.style.marginBottom="-2px"}else this.M.message.style.color="",this.M.message.style.backgroundColor="",this.M.message.style.border="",this.M.message.style.marginBottom=""}dispose(){this.hide(),this.I.fire(),super.dispose()}}k.g=(0,S.localize)(1,null);class I extends k{constructor(){super(...arguments),this.Y="",this.bb=this.q(new c.Emitter),this.cb=this.q(new c.Emitter),this.db=this.q(new c.Emitter),this.eb=this.q(new c.Emitter),this.fb=[],this.gb=!1,this.hb=!1,this.ib=!1,this.jb=!1,this.kb=!1,this.lb=!0,this.mb="fuzzy",this.nb=!0,this.ob=!0,this.pb=!1,this.qb=this.M.isScreenReaderOptimized()?f.ItemActivation.NONE:f.ItemActivation.FIRST,this.rb=[],this.sb=!1,this.tb=[],this.ub=this.q(new c.Emitter),this.vb=[],this.wb=!1,this.xb=[],this.yb=this.q(new c.Emitter),this.zb=this.q(new c.Emitter),this.Ab=this.q(new c.Emitter),this.Cb=!0,this.Db="default",this.Eb=!1,this.filterValue=P=>P,this.onDidChangeValue=this.bb.event,this.onWillAccept=this.cb.event,this.onDidAccept=this.db.event,this.onDidChangeActive=this.ub.event,this.onDidChangeSelection=this.yb.event,this.onDidTriggerItemButton=this.zb.event,this.onDidTriggerSeparatorButton=this.Ab.event}get quickNavigate(){return this.Hb}set quickNavigate(P){this.Hb=P,this.N()}get value(){return this.Y}set value(P){this.Kb(P)}Kb(P,A){this.Y!==P&&(this.Y=P,A||this.N(),this.m&&this.M.list.filter(this.filterValue(this.Y))&&this.Mb(),this.bb.fire(this.Y))}set ariaLabel(P){this.Z=P,this.N()}get ariaLabel(){return this.Z}get placeholder(){return this.ab}set placeholder(P){this.ab=P,this.N()}get items(){return this.fb}get Lb(){return this.M.list.scrollTop}set Lb(P){this.M.list.scrollTop=P}set items(P){this.fb=P,this.gb=!0,this.N()}get canSelectMany(){return this.hb}set canSelectMany(P){this.hb=P,this.N()}get canAcceptInBackground(){return this.ib}set canAcceptInBackground(P){this.ib=P}get matchOnDescription(){return this.jb}set matchOnDescription(P){this.jb=P,this.N()}get matchOnDetail(){return this.kb}set matchOnDetail(P){this.kb=P,this.N()}get matchOnLabel(){return this.lb}set matchOnLabel(P){this.lb=P,this.N()}get matchOnLabelMode(){return this.mb}set matchOnLabelMode(P){this.mb=P,this.N()}get sortByLabel(){return this.nb}set sortByLabel(P){this.nb=P,this.N()}get autoFocusOnList(){return this.ob}set autoFocusOnList(P){this.ob=P,this.N()}get keepScrollPosition(){return this.pb}set keepScrollPosition(P){this.pb=P}get itemActivation(){return this.qb}set itemActivation(P){this.qb=P}get activeItems(){return this.rb}set activeItems(P){this.rb=P,this.sb=!0,this.N()}get selectedItems(){return this.vb}set selectedItems(P){this.vb=P,this.wb=!0,this.N()}get keyMods(){return this.Hb?f.NO_KEY_MODS:this.M.keyMods}set valueSelection(P){this.Bb=P,this.Cb=!0,this.N()}get customButton(){return this.Eb}set customButton(P){this.Eb=P,this.N()}get customLabel(){return this.Fb}set customLabel(P){this.Fb=P,this.N()}get customHover(){return this.Gb}set customHover(P){this.Gb=P,this.N()}get ok(){return this.Db}set ok(P){this.Db=P,this.N()}get hideInput(){return!!this.Ib}set hideInput(P){this.Ib=P,this.N()}Mb(){this.autoFocusOnList&&(this.canSelectMany||this.M.list.focus(m.QuickInputListFocus.First))}show(){this.m||(this.J.add(this.M.inputBox.onDidChange(P=>{this.Kb(P,!0)})),this.J.add(this.M.inputBox.onMouseDown(P=>{this.autoFocusOnList||this.M.list.clearFocus()})),this.J.add((this.Ib?this.M.list:this.M.inputBox).onKeyDown(P=>{switch(P.keyCode){case 18:this.M.list.focus(m.QuickInputListFocus.Next),this.canSelectMany&&this.M.list.domFocus(),w.EventHelper.stop(P,!0);break;case 16:this.M.list.getFocusedElements().length?this.M.list.focus(m.QuickInputListFocus.Previous):this.M.list.focus(m.QuickInputListFocus.Last),this.canSelectMany&&this.M.list.domFocus(),w.EventHelper.stop(P,!0);break;case 12:this.M.list.focus(m.QuickInputListFocus.NextPage),this.canSelectMany&&this.M.list.domFocus(),w.EventHelper.stop(P,!0);break;case 11:this.M.list.focus(m.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.M.list.domFocus(),w.EventHelper.stop(P,!0);break;case 17:if(!this.ib||!this.M.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this.vb=[this.activeItems[0]],this.yb.fire(this.selectedItems),this.Nb(!0));break;case 14:(P.ctrlKey||P.metaKey)&&!P.shiftKey&&!P.altKey&&(this.M.list.focus(m.QuickInputListFocus.First),w.EventHelper.stop(P,!0));break;case 13:(P.ctrlKey||P.metaKey)&&!P.shiftKey&&!P.altKey&&(this.M.list.focus(m.QuickInputListFocus.Last),w.EventHelper.stop(P,!0));break}})),this.J.add(this.M.onDidAccept(()=>{this.canSelectMany?this.M.list.getCheckedElements().length||(this.vb=[],this.yb.fire(this.selectedItems)):this.activeItems[0]&&(this.vb=[this.activeItems[0]],this.yb.fire(this.selectedItems)),this.Nb(!1)})),this.J.add(this.M.onDidCustom(()=>{this.eb.fire()})),this.J.add(this.M.list.onDidChangeFocus(P=>{this.sb||this.tb!==this.rb&&(0,i.equals)(P,this.rb,(A,T)=>A===T)||(this.rb=P,this.ub.fire(P))})),this.J.add(this.M.list.onDidChangeSelection(({items:P,event:A})=>{if(this.canSelectMany){P.length&&this.M.list.setSelectedElements([]);return}this.xb!==this.vb&&(0,i.equals)(P,this.vb,(T,O)=>T===O)||(this.vb=P,this.yb.fire(P),P.length&&this.Nb(A instanceof MouseEvent&&A.button===1))})),this.J.add(this.M.list.onChangedCheckedElements(P=>{!this.canSelectMany||this.xb!==this.vb&&(0,i.equals)(P,this.vb,(A,T)=>A===T)||(this.vb=P,this.yb.fire(P))})),this.J.add(this.M.list.onButtonTriggered(P=>this.zb.fire(P))),this.J.add(this.M.list.onSeparatorButtonTriggered(P=>this.Ab.fire(P))),this.J.add(this.Ob()),this.Cb=!0),super.show()}Nb(P){let A=!1;this.cb.fire({veto:()=>A=!0}),A||this.db.fire({inBackground:P})}Ob(){return w.addDisposableListener(this.M.container,w.EventType.KEY_UP,P=>{if(this.canSelectMany||!this.Hb)return;const A=new N.StandardKeyboardEvent(P),T=A.keyCode;this.Hb.keybindings.some(W=>{const[V,R]=W.getChords();return R?!1:V.shiftKey&&T===4?!(A.ctrlKey||A.altKey||A.metaKey):!!(V.altKey&&T===6||V.ctrlKey&&T===5||V.metaKey&&T===57)})&&(this.activeItems[0]&&(this.vb=[this.activeItems[0]],this.yb.fire(this.selectedItems),this.Nb(!1)),this.Hb=void 0)})}N(){if(!this.m)return;const P=this.keepScrollPosition?this.Lb:0,A=!!this.description,T={title:!!this.title||!!this.step||!!this.buttons.length,description:A,checkAll:this.canSelectMany&&!this.Jb,checkBox:this.canSelectMany,inputBox:!this.Ib,progressBar:!this.Ib||A,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.M.setVisibilities(T),super.N(),this.M.inputBox.value!==this.value&&(this.M.inputBox.value=this.value),this.Cb&&(this.Cb=!1,this.M.inputBox.select(this.Bb&&{start:this.Bb[0],end:this.Bb[1]})),this.M.inputBox.placeholder!==(this.placeholder||"")&&(this.M.inputBox.placeholder=this.placeholder||"");let O=this.ariaLabel;if(O||(O=this.placeholder||I.X,this.title&&(O+=` - ${this.title}`)),this.M.inputBox.ariaLabel!==O&&(this.M.inputBox.ariaLabel=O),this.M.list.matchOnDescription=this.matchOnDescription,this.M.list.matchOnDetail=this.matchOnDetail,this.M.list.matchOnLabel=this.matchOnLabel,this.M.list.matchOnLabelMode=this.matchOnLabelMode,this.M.list.sortByLabel=this.sortByLabel,this.gb)switch(this.gb=!1,this.M.list.setElements(this.items),this.M.list.filter(this.filterValue(this.M.inputBox.value)),this.M.checkAll.checked=this.M.list.getAllVisibleChecked(),this.M.visibleCount.setCount(this.M.list.getVisibleCount()),this.M.count.setCount(this.M.list.getCheckedCount()),this.qb){case f.ItemActivation.NONE:this.qb=f.ItemActivation.FIRST;break;case f.ItemActivation.SECOND:this.M.list.focus(m.QuickInputListFocus.Second),this.qb=f.ItemActivation.FIRST;break;case f.ItemActivation.LAST:this.M.list.focus(m.QuickInputListFocus.Last),this.qb=f.ItemActivation.FIRST;break;default:this.Mb();break}this.M.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.M.list.clearFocus():this.Mb()),this.sb&&(this.sb=!1,this.tb=this.rb,this.M.list.setFocusedElements(this.activeItems),this.tb===this.rb&&(this.tb=null)),this.wb&&(this.wb=!1,this.xb=this.vb,this.canSelectMany?this.M.list.setCheckedElements(this.selectedItems):this.M.list.setSelectedElements(this.selectedItems),this.xb===this.vb&&(this.xb=null)),this.M.customButton.label=this.customLabel||"",this.M.customButton.element.title=this.customHover||"",this.M.setComboboxAccessibility(!0),T.inputBox||(this.M.list.domFocus(),this.canSelectMany&&this.M.list.focus(m.QuickInputListFocus.First)),this.keepScrollPosition&&(this.Lb=P)}}I.X=(0,S.localize)(3,null);class M extends k{constructor(){super(...arguments),this.X="",this.Z=!0,this.bb=!1,this.cb=this.q(new c.Emitter),this.db=this.q(new c.Emitter),this.onDidChangeValue=this.cb.event,this.onDidAccept=this.db.event}get value(){return this.X}set value(P){this.X=P||"",this.N()}get placeholder(){return this.ab}set placeholder(P){this.ab=P,this.N()}get password(){return this.bb}set password(P){this.bb=P,this.N()}show(){this.m||(this.J.add(this.M.inputBox.onDidChange(P=>{P!==this.value&&(this.X=P,this.cb.fire(P))})),this.J.add(this.M.onDidAccept(()=>this.db.fire())),this.Z=!0),super.show()}N(){if(!this.m)return;this.M.container.classList.remove("hidden-input");const P={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.M.setVisibilities(P),super.N(),this.M.inputBox.value!==this.value&&(this.M.inputBox.value=this.value),this.Z&&(this.Z=!1,this.M.inputBox.select(this.Y&&{start:this.Y[0],end:this.Y[1]})),this.M.inputBox.placeholder!==(this.placeholder||"")&&(this.M.inputBox.placeholder=this.placeholder||""),this.M.inputBox.password!==this.password&&(this.M.inputBox.password=this.password)}}class B extends u.Disposable{constructor(P){super(),this.D=P,this.m=!1,this.n=!0,this.p=this.q(new c.Emitter),this.r=this.q(new c.Emitter),this.s=this.q(new c.Emitter),this.t={ctrlCmd:!1,alt:!1},this.u=null,this.z=this.q(new c.Emitter),this.onShow=this.z.event,this.B=this.q(new c.Emitter),this.onHide=this.B.event,this.h=P.idPrefix,this.v=P.container,this.w=P.styles,this.F()}F(){const P=A=>{this.t.ctrlCmd=A.ctrlKey||A.metaKey,this.t.alt=A.altKey};this.q(w.addDisposableListener(window,w.EventType.KEY_DOWN,P,!0)),this.q(w.addDisposableListener(window,w.EventType.KEY_UP,P,!0)),this.q(w.addDisposableListener(window,w.EventType.MOUSE_DOWN,P,!0))}G(){if(this.i)return this.i;const P=w.append(this.v,b(".quick-input-widget.show-file-icons"));P.tabIndex=-1,P.style.display="none";const A=w.createStyleSheet(P),T=w.append(P,b(".quick-input-titlebar")),O=this.q(new E.ActionBar(T));O.domNode.classList.add("quick-input-left-action-bar");const F=w.append(T,b(".quick-input-title")),W=this.q(new E.ActionBar(T));W.domNode.classList.add("quick-input-right-action-bar");const V=w.append(P,b(".quick-input-description")),R=w.append(P,b(".quick-input-header")),$=w.append(R,b("input.quick-input-check-all"));$.type="checkbox",$.setAttribute("aria-label",(0,S.localize)(4,null)),this.q(w.addStandardDisposableListener($,w.EventType.CHANGE,H=>{const _=$.checked;U.setAllVisibleChecked(_)})),this.q(w.addDisposableListener($,w.EventType.CLICK,H=>{(H.x||H.y)&&ie.setFocus()}));const X=w.append(R,b(".quick-input-description")),ne=w.append(R,b(".quick-input-and-message")),ae=w.append(ne,b(".quick-input-filter")),ie=this.q(new p.QuickInputBox(ae,this.w.inputBox,this.w.toggle));ie.setAttribute("aria-describedby",`${this.h}message`);const le=w.append(ae,b(".quick-input-visible-count"));le.setAttribute("aria-live","polite"),le.setAttribute("aria-atomic","true");const J=new y.CountBadge(le,{countFormat:(0,S.localize)(5,null)},this.w.countBadge),x=w.append(ae,b(".quick-input-count"));x.setAttribute("aria-live","polite");const q=new y.CountBadge(x,{countFormat:(0,S.localize)(6,null)},this.w.countBadge),Y=w.append(R,b(".quick-input-action")),Q=new D.Button(Y,this.w.button);Q.label=(0,S.localize)(7,null),this.q(Q.onDidClick(H=>{this.p.fire()}));const re=w.append(R,b(".quick-input-action")),oe=new D.Button(re,this.w.button);oe.label=(0,S.localize)(8,null),this.q(oe.onDidClick(H=>{this.r.fire()}));const G=w.append(ne,b(`#${this.h}message.quick-input-message`)),Z=new C.ProgressBar(P,this.w.progressBar);Z.getContainer().classList.add("quick-input-progress");const U=this.q(new m.QuickInputList(P,this.h+"list",this.D));this.q(U.onChangedAllVisibleChecked(H=>{$.checked=H})),this.q(U.onChangedVisibleCount(H=>{J.setCount(H)})),this.q(U.onChangedCheckedCount(H=>{q.setCount(H)})),this.q(U.onLeave(()=>{setTimeout(()=>{ie.setFocus(),this.u instanceof I&&this.u.canSelectMany&&U.clearFocus()},0)})),this.q(U.onDidChangeFocus(()=>{this.m&&this.G().inputBox.setAttribute("aria-activedescendant",this.G().list.getActiveDescendant()||"")}));const j=w.trackFocus(P);return this.q(j),this.q(w.addDisposableListener(P,w.EventType.FOCUS,H=>{this.C=H.relatedTarget instanceof HTMLElement?H.relatedTarget:void 0},!0)),this.q(j.onDidBlur(()=>{!this.G().ignoreFocusOut&&!this.D.ignoreFocusOut()&&this.hide(f.QuickInputHideReason.Blur),this.C=void 0})),this.q(w.addDisposableListener(P,w.EventType.FOCUS,H=>{ie.setFocus()})),this.q(w.addDisposableListener(P,w.EventType.KEY_DOWN,H=>{const _=new N.StandardKeyboardEvent(H);switch(_.keyCode){case 3:w.EventHelper.stop(H,!0),this.n&&this.p.fire();break;case 9:w.EventHelper.stop(H,!0),this.hide(f.QuickInputHideReason.Gesture);break;case 2:if(!_.altKey&&!_.ctrlKey&&!_.metaKey){const ce=[".action-label.codicon"];P.classList.contains("show-checkboxes")?ce.push("input"):ce.push("input[type=text]"),this.G().list.isDisplayed()&&ce.push(".monaco-list");const ue=P.querySelectorAll(ce.join(", "));_.shiftKey&&_.target===ue[0]?(w.EventHelper.stop(H,!0),ue[ue.length-1].focus()):!_.shiftKey&&_.target===ue[ue.length-1]&&(w.EventHelper.stop(H,!0),ue[0].focus())}break}})),this.i={container:P,styleSheet:A,leftActionBar:O,titleBar:T,title:F,description1:V,description2:X,rightActionBar:W,checkAll:$,filterContainer:ae,inputBox:ie,visibleCountContainer:le,visibleCount:J,countContainer:x,count:q,okContainer:Y,ok:Q,message:G,customButtonContainer:re,customButton:oe,list:U,progressBar:Z,onDidAccept:this.p.event,onDidCustom:this.r.event,onDidTriggerButton:this.s.event,ignoreFocusOut:!1,keyMods:this.t,isScreenReaderOptimized:()=>this.D.isScreenReaderOptimized(),show:H=>this.H(H),hide:()=>this.hide(),setVisibilities:H=>this.I(H),setComboboxAccessibility:H=>this.J(H),setEnabled:H=>this.L(H),setContextKey:H=>this.D.setContextKey(H)},this.N(),this.i}pick(P,A={},T=n.CancellationToken.None){return new Promise((O,F)=>{let W=X=>{var ne;W=O,(ne=A.onKeyMods)===null||ne===void 0||ne.call(A,V.keyMods),O(X)};if(T.isCancellationRequested){W(void 0);return}const V=this.createQuickPick();let R;const $=[V,V.onDidAccept(()=>{if(V.canSelectMany)W(V.selectedItems.slice()),V.hide();else{const X=V.activeItems[0];X&&(W(X),V.hide())}}),V.onDidChangeActive(X=>{const ne=X[0];ne&&A.onDidFocus&&A.onDidFocus(ne)}),V.onDidChangeSelection(X=>{if(!V.canSelectMany){const ne=X[0];ne&&(W(ne),V.hide())}}),V.onDidTriggerItemButton(X=>A.onDidTriggerItemButton&&A.onDidTriggerItemButton(Object.assign(Object.assign({},X),{removeItem:()=>{const ne=V.items.indexOf(X.item);if(ne!==-1){const ae=V.items.slice(),ie=ae.splice(ne,1),le=V.activeItems.filter(x=>x!==ie[0]),J=V.keepScrollPosition;V.keepScrollPosition=!0,V.items=ae,le&&(V.activeItems=le),V.keepScrollPosition=J}}}))),V.onDidTriggerSeparatorButton(X=>{var ne;return(ne=A.onDidTriggerSeparatorButton)===null||ne===void 0?void 0:ne.call(A,X)}),V.onDidChangeValue(X=>{R&&!X&&(V.activeItems.length!==1||V.activeItems[0]!==R)&&(V.activeItems=[R])}),T.onCancellationRequested(()=>{V.hide()}),V.onDidHide(()=>{(0,u.dispose)($),W(void 0)})];V.title=A.title,V.canSelectMany=!!A.canPickMany,V.placeholder=A.placeHolder,V.ignoreFocusOut=!!A.ignoreFocusLost,V.matchOnDescription=!!A.matchOnDescription,V.matchOnDetail=!!A.matchOnDetail,V.matchOnLabel=A.matchOnLabel===void 0||A.matchOnLabel,V.autoFocusOnList=A.autoFocusOnList===void 0||A.autoFocusOnList,V.quickNavigate=A.quickNavigate,V.hideInput=!!A.hideInput,V.contextKey=A.contextKey,V.busy=!0,Promise.all([P,A.activeItem]).then(([X,ne])=>{R=ne,V.busy=!1,V.items=X,V.canSelectMany&&(V.selectedItems=X.filter(ae=>ae.type!=="separator"&&ae.picked)),R&&(V.activeItems=[R])}),V.show(),Promise.resolve(P).then(void 0,X=>{F(X),V.hide()})})}createQuickPick(){const P=this.G();return new I(P)}createInputBox(){const P=this.G();return new M(P)}H(P){const A=this.G();this.z.fire();const T=this.u;this.u=P,T?.didHide(),this.L(!0),A.leftActionBar.clear(),A.title.textContent="",A.description1.textContent="",A.description2.textContent="",A.rightActionBar.clear(),A.checkAll.checked=!1,A.inputBox.placeholder="",A.inputBox.password=!1,A.inputBox.showDecoration(l.default.Ignore),A.visibleCount.setCount(0),A.count.setCount(0),w.reset(A.message),A.progressBar.stop(),A.list.setElements([]),A.list.matchOnDescription=!1,A.list.matchOnDetail=!1,A.list.matchOnLabel=!0,A.list.sortByLabel=!0,A.ignoreFocusOut=!1,this.J(!1),A.inputBox.ariaLabel="",A.inputBox.toggles=void 0;const O=this.D.backKeybindingLabel();L.tooltip=O?(0,S.localize)(9,null,O):(0,S.localize)(10,null),A.container.style.display="",this.M(),A.inputBox.setFocus()}I(P){const A=this.G();A.title.style.display=P.title?"":"none",A.description1.style.display=P.description&&(P.inputBox||P.checkAll)?"":"none",A.description2.style.display=P.description&&!(P.inputBox||P.checkAll)?"":"none",A.checkAll.style.display=P.checkAll?"":"none",A.filterContainer.style.display=P.inputBox?"":"none",A.visibleCountContainer.style.display=P.visibleCount?"":"none",A.countContainer.style.display=P.count?"":"none",A.okContainer.style.display=P.ok?"":"none",A.customButtonContainer.style.display=P.customButton?"":"none",A.message.style.display=P.message?"":"none",A.progressBar.getContainer().style.display=P.progressBar?"":"none",A.list.display(!!P.list),A.container.classList.toggle("show-checkboxes",!!P.checkBox),A.container.classList.toggle("hidden-input",!P.inputBox&&!P.description),this.M()}J(P){if(P!==this.m){const A=this.G();this.m=P,this.m?(A.inputBox.setAttribute("role","combobox"),A.inputBox.setAttribute("aria-haspopup","true"),A.inputBox.setAttribute("aria-autocomplete","list"),A.inputBox.setAttribute("aria-activedescendant",A.list.getActiveDescendant()||"")):(A.inputBox.removeAttribute("role"),A.inputBox.removeAttribute("aria-haspopup"),A.inputBox.removeAttribute("aria-autocomplete"),A.inputBox.removeAttribute("aria-activedescendant"))}}L(P){if(P!==this.n){this.n=P;for(const A of this.G().leftActionBar.viewItems)A.action.enabled=P;for(const A of this.G().rightActionBar.viewItems)A.action.enabled=P;this.G().checkAll.disabled=!P,this.G().inputBox.enabled=P,this.G().ok.enabled=P,this.G().list.enabled=P}}hide(P){var A;const T=this.u;if(T){const O=!(!((A=this.i)===null||A===void 0)&&A.container.contains(document.activeElement));if(this.u=null,this.B.fire(),this.G().container.style.display="none",!O){let F=this.C;for(;F&&!F.offsetParent;)F=(0,o.withNullAsUndefined)(F.parentElement);F?.offsetParent?(F.focus(),this.C=void 0):this.D.returnFocus()}T.didHide(P)}}layout(P,A){this.j=P,this.l=A,this.M()}M(){if(this.i&&this.Q()){this.i.container.style.top=`${this.l}px`;const P=this.i.container.style,A=Math.min(this.j.width*.62,B.g);P.width=A+"px",P.marginLeft="-"+A/2+"px",this.i.inputBox.layout(),this.i.list.layout(this.j&&this.j.height*.4)}}applyStyles(P){this.w=P,this.N()}N(){if(this.i){const{quickInputTitleBackground:P,quickInputBackground:A,quickInputForeground:T,widgetBorder:O,widgetShadow:F}=this.w.widget;this.i.titleBar.style.backgroundColor=P??"",this.i.container.style.backgroundColor=A??"",this.i.container.style.color=T??"",this.i.container.style.border=O?`1px solid ${O}`:"",this.i.container.style.boxShadow=F?`0 0 8px 2px ${F}`:"",this.i.list.style(this.w.list);const W=[];this.w.pickerGroup.pickerGroupBorder&&W.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.w.pickerGroup.pickerGroupBorder}; }`),this.w.pickerGroup.pickerGroupForeground&&W.push(`.quick-input-list .quick-input-list-separator { color:  ${this.w.pickerGroup.pickerGroupForeground}; }`),this.w.pickerGroup.pickerGroupForeground&&W.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.w.pickerGroup.pickerGroupForeground}; }`),(this.w.keybindingLabel.keybindingLabelBackground||this.w.keybindingLabel.keybindingLabelBorder||this.w.keybindingLabel.keybindingLabelBottomBorder||this.w.keybindingLabel.keybindingLabelShadow||this.w.keybindingLabel.keybindingLabelForeground)&&(W.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.w.keybindingLabel.keybindingLabelBackground&&W.push(`background-color: ${this.w.keybindingLabel.keybindingLabelBackground};`),this.w.keybindingLabel.keybindingLabelBorder&&W.push(`border-color: ${this.w.keybindingLabel.keybindingLabelBorder};`),this.w.keybindingLabel.keybindingLabelBottomBorder&&W.push(`border-bottom-color: ${this.w.keybindingLabel.keybindingLabelBottomBorder};`),this.w.keybindingLabel.keybindingLabelShadow&&W.push(`box-shadow: inset 0 -1px 0 ${this.w.keybindingLabel.keybindingLabelShadow};`),this.w.keybindingLabel.keybindingLabelForeground&&W.push(`color: ${this.w.keybindingLabel.keybindingLabelForeground};`),W.push("}"));const V=W.join(`
`);V!==this.i.styleSheet.textContent&&(this.i.styleSheet.textContent=V)}}Q(){return this.i&&this.i.container.style.display!=="none"}}B.g=600,e.QuickInputController=B}),define(ee[563],te([4,5]),function(K,e){return K.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[564],te([4,5]),function(K,e){return K.create("vs/editor/browser/coreCommands",e)}),define(ee[565],te([4,5]),function(K,e){return K.create("vs/editor/browser/editorExtensions",e)}),define(ee[566],te([4,5]),function(K,e){return K.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[567],te([4,5]),function(K,e){return K.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[568],te([4,5]),function(K,e){return K.create("vs/editor/browser/widget/diffReview",e)}),define(ee[569],te([4,5]),function(K,e){return K.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[570],te([1,0,569,7,41,2,3,27,31]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class d extends D.Disposable{get visibility(){return this.b}set visibility(i){this.b!==i&&(this.b=i,i?this.a.style.visibility="visible":this.a.style.visibility="hidden")}constructor(i,t,n,a,r,c){super(),this.c=i,this.g=t,this.editor=n,this.diff=a,this.h=r,this.j=c,this.b=!1,this.g.style.zIndex="10",this.a=document.createElement("div"),this.a.className=C.ThemeIcon.asClassName(v.Codicon.lightBulb)+" lightbulb-glyph",this.a.style.position="absolute";const u=n.getOption(63),s=n.getModel().getEOL();this.a.style.right="0px",this.a.style.visibility="hidden",this.a.style.height=`${u}px`,this.a.style.lineHeight=`${u}px`,this.g.appendChild(this.a);const l=[],o=a.modifiedEndLineNumber===0;l.push(new E.Action("diff.clipboard.copyDeletedContent",o?a.originalEndLineNumber>a.modifiedStartLineNumber?w.localize(0,null):w.localize(1,null):a.originalEndLineNumber>a.modifiedStartLineNumber?w.localize(2,null):w.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const m=new y.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),b=a.originalModel.getValueInRange(m);yield this.j.writeText(b)})));let h=0,f;a.originalEndLineNumber>a.modifiedStartLineNumber&&(f=new E.Action("diff.clipboard.copyDeletedLineContent",o?w.localize(4,null,a.originalStartLineNumber):w.localize(5,null,a.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const m=a.originalModel.getLineContent(a.originalStartLineNumber+h);if(m===""){const b=a.originalModel.getEndOfLineSequence();yield this.j.writeText(b===0?`
`:`\r
`)}else yield this.j.writeText(m)})),l.push(f)),n.getOption(86)||l.push(new E.Action("diff.inline.revertChange",w.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const m=new y.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),b=a.originalModel.getValueInRange(m);if(a.modifiedEndLineNumber===0){const L=n.getModel().getLineMaxColumn(a.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new y.Range(a.modifiedStartLineNumber,L,a.modifiedStartLineNumber,L),text:s+b}])}else{const L=n.getModel().getLineMaxColumn(a.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new y.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,L),text:b}])}})));const p=(m,b)=>{this.h.showContextMenu({getAnchor:()=>({x:m,y:b}),getActions:()=>(f&&(f.label=o?w.localize(7,null,a.originalStartLineNumber+h):w.localize(8,null,a.originalStartLineNumber+h)),l),autoSelectFirstItem:!0})};this.q(N.addStandardDisposableListener(this.a,"mousedown",m=>{const{top:b,height:L}=N.getDomNodePagePosition(this.a),k=Math.floor(u/3);m.preventDefault(),p(m.posx,b+L+k)})),this.q(n.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this.c?(this.visibility=!0,h=this.k(this.g,m.event.browserEvent.y,u)):this.visibility=!1:this.visibility=!1})),this.q(n.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this.c&&(m.event.preventDefault(),h=this.k(this.g,m.event.browserEvent.y,u),p(m.event.posx,m.event.posy+u))}))}k(i,t,n){const{top:a}=N.getDomNodePagePosition(i),r=t-a,c=Math.floor(r/n),u=c*n;if(this.a.style.top=`${u}px`,this.diff.viewLineCounts){let s=0;for(let l=0;l<this.diff.viewLineCounts.length;l++)if(s+=this.diff.viewLineCounts[l],c<s)return l}return c}}e.InlineDiffMargin=d}),define(ee[571],te([4,5]),function(K,e){return K.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ee[572],te([4,5]),function(K,e){return K.create("vs/editor/common/config/editorOptions",e)}),define(ee[39],te([1,0,572,16,133,17,46,157]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(de){this.c=de}hasChanged(de){return this.c[de]}}e.ConfigurationChangedEvent=C;class d{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=d;class g{constructor(de,pe,be,Ce){this.id=de,this.name=pe,this.defaultValue=be,this.schema=Ce}applyUpdate(de,pe){return t(de,pe)}compute(de,pe,be){return be}}class i{constructor(de,pe){this.newValue=de,this.didChange=pe}}e.ApplyUpdateResult=i;function t(we,de){if(typeof we!="object"||typeof de!="object"||!we||!de)return new i(de,we!==de);if(Array.isArray(we)||Array.isArray(de)){const be=Array.isArray(we)&&Array.isArray(de)&&D.equals(we,de);return new i(de,!be)}let pe=!1;for(const be in de)if(de.hasOwnProperty(be)){const Ce=t(we[be],de[be]);Ce.didChange&&(we[be]=Ce.newValue,pe=!0)}return new i(we,pe)}class n{constructor(de){this.schema=void 0,this.id=de,this.name="_never_",this.defaultValue=void 0}applyUpdate(de,pe){return t(de,pe)}validate(de){return this.defaultValue}}class a{constructor(de,pe,be,Ce){this.id=de,this.name=pe,this.defaultValue=be,this.schema=Ce}applyUpdate(de,pe){return t(de,pe)}validate(de){return typeof de>"u"?this.defaultValue:de}compute(de,pe,be){return be}}function r(we,de){return typeof we>"u"?de:we==="false"?!1:Boolean(we)}e.boolean=r;class c extends a{constructor(de,pe,be,Ce=void 0){typeof Ce<"u"&&(Ce.type="boolean",Ce.default=be),super(de,pe,be,Ce)}validate(de){return r(de,this.defaultValue)}}function u(we,de,pe,be){if(typeof we>"u")return de;let Ce=parseInt(we,10);return isNaN(Ce)?de:(Ce=Math.max(pe,Ce),Ce=Math.min(be,Ce),Ce|0)}e.clampedInt=u;class s extends a{static clampedInt(de,pe,be,Ce){return u(de,pe,be,Ce)}constructor(de,pe,be,Ce,Ee,Ae=void 0){typeof Ae<"u"&&(Ae.type="integer",Ae.default=be,Ae.minimum=Ce,Ae.maximum=Ee),super(de,pe,be,Ae),this.minimum=Ce,this.maximum=Ee}validate(de){return s.clampedInt(de,this.defaultValue,this.minimum,this.maximum)}}class l extends a{static clamp(de,pe,be){return de<pe?pe:de>be?be:de}static float(de,pe){if(typeof de=="number")return de;if(typeof de>"u")return pe;const be=parseFloat(de);return isNaN(be)?pe:be}constructor(de,pe,be,Ce,Ee){typeof Ee<"u"&&(Ee.type="number",Ee.default=be),super(de,pe,be,Ee),this.validationFn=Ce}validate(de){return this.validationFn(l.float(de,this.defaultValue))}}class o extends a{static string(de,pe){return typeof de!="string"?pe:de}constructor(de,pe,be,Ce=void 0){typeof Ce<"u"&&(Ce.type="string",Ce.default=be),super(de,pe,be,Ce)}validate(de){return o.string(de,this.defaultValue)}}function h(we,de,pe){return typeof we!="string"||pe.indexOf(we)===-1?de:we}e.stringSet=h;class f extends a{constructor(de,pe,be,Ce,Ee=void 0){typeof Ee<"u"&&(Ee.type="string",Ee.enum=Ce,Ee.default=be),super(de,pe,be,Ee),this.c=Ce}validate(de){return h(de,this.defaultValue,this.c)}}class S extends g{constructor(de,pe,be,Ce,Ee,Ae,Me=void 0){typeof Me<"u"&&(Me.type="string",Me.enum=Ee,Me.default=Ce),super(de,pe,be,Me),this.c=Ee,this.d=Ae}validate(de){return typeof de!="string"?this.defaultValue:this.c.indexOf(de)===-1?this.defaultValue:this.d(de)}}function p(we){switch(we){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class m extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",tags:["accessibility"],description:w.localize(3,null)})}validate(de){switch(de){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(de,pe,be){return be===0?de.accessibilitySupport:be}}class b extends g{constructor(){const de={insertSpace:!0,ignoreEmptyLines:!0};super(20,"comments",de,{"editor.comments.insertSpace":{type:"boolean",default:de.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:de.ignoreEmptyLines,description:w.localize(5,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{insertSpace:r(pe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(pe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(we){switch(we){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var k;(function(we){we[we.Line=1]="Line",we[we.Block=2]="Block",we[we.Underline=3]="Underline",we[we.LineThin=4]="LineThin",we[we.BlockOutline=5]="BlockOutline",we[we.UnderlineThin=6]="UnderlineThin"})(k=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function I(we){switch(we){case"line":return k.Line;case"block":return k.Block;case"underline":return k.Underline;case"line-thin":return k.LineThin;case"block-outline":return k.BlockOutline;case"underline-thin":return k.UnderlineThin}}class M extends n{constructor(){super(135)}compute(de,pe,be){const Ce=["monaco-editor"];return pe.get(36)&&Ce.push(pe.get(36)),de.extraEditorClassName&&Ce.push(de.extraEditorClassName),pe.get(70)==="default"?Ce.push("mouse-default"):pe.get(70)==="copy"&&Ce.push("mouse-copy"),pe.get(105)&&Ce.push("showUnused"),pe.get(133)&&Ce.push("showDeprecated"),Ce.join(" ")}}class B extends c{constructor(){super(34,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(de,pe,be){return be&&de.emptySelectionClipboard}}class z extends g{constructor(){const de={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(38,"find",de,{"editor.find.cursorMoveOnType":{type:"boolean",default:de.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:de.seedSearchStringFromSelection,enumDescriptions:[w.localize(8,null),w.localize(9,null),w.localize(10,null)],description:w.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:de.autoFindInSelection,enumDescriptions:[w.localize(12,null),w.localize(13,null),w.localize(14,null)],description:w.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:de.globalFindClipboard,description:w.localize(16,null),included:N.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:de.addExtraSpaceOnTop,description:w.localize(17,null)},"editor.find.loop":{type:"boolean",default:de.loop,description:w.localize(18,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{cursorMoveOnType:r(pe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof de.seedSearchStringFromSelection=="boolean"?de.seedSearchStringFromSelection?"always":"never":h(pe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof de.autoFindInSelection=="boolean"?de.autoFindInSelection?"always":"never":h(pe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(pe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(pe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(pe.loop,this.defaultValue.loop)}}}class P extends g{constructor(){super(48,"fontLigatures",P.OFF,{anyOf:[{type:"boolean",description:w.localize(19,null)},{type:"string",description:w.localize(20,null)}],description:w.localize(21,null),default:!1})}validate(de){return typeof de>"u"?this.defaultValue:typeof de=="string"?de==="false"?P.OFF:de==="true"?P.ON:de:Boolean(de)?P.ON:P.OFF}}P.OFF='"liga" off, "calt" off',P.ON='"liga" on, "calt" on',e.EditorFontLigatures=P;class A extends g{constructor(){super(51,"fontVariations",A.OFF,{anyOf:[{type:"boolean",description:w.localize(22,null)},{type:"string",description:w.localize(23,null)}],description:w.localize(24,null),default:!1})}validate(de){return typeof de>"u"?this.defaultValue:typeof de=="string"?de==="false"?A.OFF:de==="true"?A.TRANSLATE:de:Boolean(de)?A.TRANSLATE:A.OFF}compute(de,pe,be){return de.fontInfo.fontVariationSettings}}A.OFF="normal",A.TRANSLATE="translate",e.EditorFontVariations=A;class T extends n{constructor(){super(47)}compute(de,pe,be){return de.fontInfo}}class O extends a{constructor(){super(49,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(25,null)})}validate(de){const pe=l.float(de,this.defaultValue);return pe===0?e.EDITOR_FONT_DEFAULTS.fontSize:l.clamp(pe,6,100)}compute(de,pe,be){return de.fontInfo.fontSize}}class F extends g{constructor(){super(50,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:F.d,maximum:F.e,errorMessage:w.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:F.c}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(27,null)})}validate(de){return de==="normal"||de==="bold"?de:String(s.clampedInt(de,e.EDITOR_FONT_DEFAULTS.fontWeight,F.d,F.e))}}F.c=["normal","bold","100","200","300","400","500","600","700","800","900"],F.d=1,F.e=1e3;class W extends g{constructor(){const de={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},pe={type:"string",enum:["peek","gotoAndPeek","goto"],default:de.multiple,enumDescriptions:[w.localize(28,null),w.localize(29,null),w.localize(30,null)]},be=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(55,"gotoLocation",de,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(32,null)},pe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(33,null)},pe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(34,null)},pe),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(35,null)},pe),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(36,null)},pe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:de.alternativeDefinitionCommand,enum:be,description:w.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:de.alternativeTypeDefinitionCommand,enum:be,description:w.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:de.alternativeDeclarationCommand,enum:be,description:w.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:de.alternativeImplementationCommand,enum:be,description:w.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:de.alternativeReferenceCommand,enum:be,description:w.localize(41,null)}})}validate(de){var pe,be,Ce,Ee,Ae;if(!de||typeof de!="object")return this.defaultValue;const Me=de;return{multiple:h(Me.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(pe=Me.multipleDefinitions)!==null&&pe!==void 0?pe:h(Me.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(be=Me.multipleTypeDefinitions)!==null&&be!==void 0?be:h(Me.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Ce=Me.multipleDeclarations)!==null&&Ce!==void 0?Ce:h(Me.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ee=Me.multipleImplementations)!==null&&Ee!==void 0?Ee:h(Me.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ae=Me.multipleReferences)!==null&&Ae!==void 0?Ae:h(Me.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:o.string(Me.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:o.string(Me.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:o.string(Me.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:o.string(Me.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:o.string(Me.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends g{constructor(){const de={enabled:!0,delay:300,sticky:!0,above:!0};super(57,"hover",de,{"editor.hover.enabled":{type:"boolean",default:de.enabled,description:w.localize(42,null)},"editor.hover.delay":{type:"number",default:de.delay,minimum:0,maximum:1e4,description:w.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:de.sticky,description:w.localize(44,null)},"editor.hover.above":{type:"boolean",default:de.above,description:w.localize(45,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),delay:s.clampedInt(pe.delay,this.defaultValue.delay,0,1e4),sticky:r(pe.sticky,this.defaultValue.sticky),above:r(pe.above,this.defaultValue.above)}}}class R extends n{constructor(){super(138)}compute(de,pe,be){return R.computeLayout(pe,{memory:de.memory,outerWidth:de.outerWidth,outerHeight:de.outerHeight,isDominatedByLongLines:de.isDominatedByLongLines,lineHeight:de.fontInfo.lineHeight,viewLineCount:de.viewLineCount,lineNumbersDigitCount:de.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:de.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:de.fontInfo.maxDigitWidth,pixelRatio:de.pixelRatio})}static computeContainedMinimapLineCount(de){const pe=de.height/de.lineHeight,be=Math.floor(de.paddingTop/de.lineHeight);let Ce=Math.floor(de.paddingBottom/de.lineHeight);de.scrollBeyondLastLine&&(Ce=Math.max(Ce,pe-1));const Ee=(be+de.viewLineCount+Ce)/(de.pixelRatio*de.height),Ae=Math.floor(de.viewLineCount/Ee);return{typicalViewportLineCount:pe,extraLinesBeforeFirstLine:be,extraLinesBeyondLastLine:Ce,desiredRatio:Ee,minimapLineCount:Ae}}static c(de,pe){const be=de.outerWidth,Ce=de.outerHeight,Ee=de.pixelRatio;if(!de.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ee*Ce),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ce};const Ae=pe.stableMinimapLayoutInput,Me=Ae&&de.outerHeight===Ae.outerHeight&&de.lineHeight===Ae.lineHeight&&de.typicalHalfwidthCharacterWidth===Ae.typicalHalfwidthCharacterWidth&&de.pixelRatio===Ae.pixelRatio&&de.scrollBeyondLastLine===Ae.scrollBeyondLastLine&&de.paddingTop===Ae.paddingTop&&de.paddingBottom===Ae.paddingBottom&&de.minimap.enabled===Ae.minimap.enabled&&de.minimap.side===Ae.minimap.side&&de.minimap.size===Ae.minimap.size&&de.minimap.showSlider===Ae.minimap.showSlider&&de.minimap.renderCharacters===Ae.minimap.renderCharacters&&de.minimap.maxColumn===Ae.minimap.maxColumn&&de.minimap.scale===Ae.minimap.scale&&de.verticalScrollbarWidth===Ae.verticalScrollbarWidth&&de.isViewportWrapping===Ae.isViewportWrapping,Re=de.lineHeight,ze=de.typicalHalfwidthCharacterWidth,Fe=de.scrollBeyondLastLine,Ve=de.minimap.renderCharacters;let Ue=Ee>=2?Math.round(de.minimap.scale*2):de.minimap.scale;const Je=de.minimap.maxColumn,it=de.minimap.size,rt=de.minimap.side,He=de.verticalScrollbarWidth,Ne=de.viewLineCount,Be=de.remainingWidth,xe=de.isViewportWrapping,Ge=Ve?2:3;let je=Math.floor(Ee*Ce);const et=je/Ee;let Qe=!1,nt=!1,st=Ge*Ue,$e=Ue/Ee,ot=1;if(it==="fill"||it==="fit"){const{typicalViewportLineCount:Xe,extraLinesBeforeFirstLine:Ze,extraLinesBeyondLastLine:at,desiredRatio:ut,minimapLineCount:pt}=R.computeContainedMinimapLineCount({viewLineCount:Ne,scrollBeyondLastLine:Fe,paddingTop:de.paddingTop,paddingBottom:de.paddingBottom,height:Ce,lineHeight:Re,pixelRatio:Ee});if(Ne/pt>1)Qe=!0,nt=!0,Ue=1,st=1,$e=Ue/Ee;else{let gt=!1,lt=Ue+1;if(it==="fit"){const dt=Math.ceil((Ze+Ne+at)*st);xe&&Me&&Be<=pe.stableFitRemainingWidth?(gt=!0,lt=pe.stableFitMaxMinimapScale):gt=dt>je}if(it==="fill"||gt){Qe=!0;const dt=Ue;st=Math.min(Re*Ee,Math.max(1,Math.floor(1/ut))),xe&&Me&&Be<=pe.stableFitRemainingWidth&&(lt=pe.stableFitMaxMinimapScale),Ue=Math.min(lt,Math.max(1,Math.floor(st/Ge))),Ue>dt&&(ot=Math.min(2,Ue/dt)),$e=Ue/Ee/ot,je=Math.ceil(Math.max(Xe,Ze+Ne+at)*st),xe?(pe.stableMinimapLayoutInput=de,pe.stableFitRemainingWidth=Be,pe.stableFitMaxMinimapScale=Ue):(pe.stableMinimapLayoutInput=null,pe.stableFitRemainingWidth=0)}}}const Ye=Math.floor(Je*$e),Oe=Math.min(Ye,Math.max(0,Math.floor((Be-He-2)*$e/(ze+$e)))+e.MINIMAP_GUTTER_WIDTH);let We=Math.floor(Ee*Oe);const qe=We/Ee;We=Math.floor(We*ot);const Ke=Ve?1:2,tt=rt==="left"?0:be-Oe-He;return{renderMinimap:Ke,minimapLeft:tt,minimapWidth:Oe,minimapHeightIsEditorHeight:Qe,minimapIsSampling:nt,minimapScale:Ue,minimapLineHeight:st,minimapCanvasInnerWidth:We,minimapCanvasInnerHeight:je,minimapCanvasOuterWidth:qe,minimapCanvasOuterHeight:et}}static computeLayout(de,pe){const be=pe.outerWidth|0,Ce=pe.outerHeight|0,Ee=pe.lineHeight|0,Ae=pe.lineNumbersDigitCount|0,Me=pe.typicalHalfwidthCharacterWidth,Re=pe.maxDigitWidth,ze=pe.pixelRatio,Fe=pe.viewLineCount,Ve=de.get(130),Ue=Ve==="inherit"?de.get(129):Ve,Je=Ue==="inherit"?de.get(125):Ue,it=de.get(128),rt=pe.isDominatedByLongLines,He=de.get(54),Ne=de.get(64).renderType!==0,Be=de.get(65),xe=de.get(99),Ge=de.get(80),je=de.get(69),et=de.get(97),Qe=et.verticalScrollbarSize,nt=et.verticalHasArrows,st=et.arrowSize,$e=et.horizontalScrollbarSize,ot=de.get(40),Ye=de.get(104)!=="never";let Oe=de.get(62);ot&&Ye&&(Oe+=16);let We=0;if(Ne){const Ct=Math.max(Ae,Be);We=Math.round(Ct*Re)}let qe=0;He&&(qe=Ee);let Ke=0,tt=Ke+qe,Xe=tt+We,Ze=Xe+Oe;const at=be-qe-We-Oe;let ut=!1,pt=!1,bt=-1;Ue==="inherit"&&rt?(ut=!0,pt=!0):Je==="on"||Je==="bounded"?pt=!0:Je==="wordWrapColumn"&&(bt=it);const gt=R.c({outerWidth:be,outerHeight:Ce,lineHeight:Ee,typicalHalfwidthCharacterWidth:Me,pixelRatio:ze,scrollBeyondLastLine:xe,paddingTop:Ge.top,paddingBottom:Ge.bottom,minimap:je,verticalScrollbarWidth:Qe,viewLineCount:Fe,remainingWidth:at,isViewportWrapping:pt},pe.memory||new d);gt.renderMinimap!==0&&gt.minimapLeft===0&&(Ke+=gt.minimapWidth,tt+=gt.minimapWidth,Xe+=gt.minimapWidth,Ze+=gt.minimapWidth);const lt=at-gt.minimapWidth,dt=Math.max(1,Math.floor((lt-Qe-2)/Me)),Et=nt?st:0;return pt&&(bt=Math.max(1,dt),Je==="bounded"&&(bt=Math.min(bt,it))),{width:be,height:Ce,glyphMarginLeft:Ke,glyphMarginWidth:qe,lineNumbersLeft:tt,lineNumbersWidth:We,decorationsLeft:Xe,decorationsWidth:Oe,contentLeft:Ze,contentWidth:lt,minimap:gt,viewportColumn:dt,isWordWrapMinified:ut,isViewportWrapping:pt,wrappingColumn:bt,verticalScrollbarWidth:Qe,horizontalScrollbarHeight:$e,overviewRuler:{top:Et,width:Qe,height:Ce-2*Et,right:0}}}}e.EditorLayoutInfoComputer=R;class $ extends g{constructor(){super(132,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[w.localize(46,null),w.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:w.localize(48,null)}})}validate(de){return h(de,"simple",["simple","advanced"])}compute(de,pe,be){return pe.get(2)===2?"advanced":be}}class X extends g{constructor(){const de={enabled:!0};super(61,"lightbulb",de,{"editor.lightbulb.enabled":{type:"boolean",default:de.enabled,description:w.localize(49,null)}})}validate(de){return!de||typeof de!="object"?this.defaultValue:{enabled:r(de.enabled,this.defaultValue.enabled)}}}class ne extends g{constructor(){const de={enabled:!1,maxLineCount:5};super(109,"stickyScroll",de,{"editor.stickyScroll.enabled":{type:"boolean",default:de.enabled,description:w.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:de.maxLineCount,minimum:1,maximum:10,description:w.localize(51,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),maxLineCount:s.clampedInt(pe.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class ae extends g{constructor(){const de={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(134,"inlayHints",de,{"editor.inlayHints.enabled":{type:"string",default:de.enabled,description:w.localize(52,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w.localize(53,null),w.localize(54,null,N.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(55,null,N.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),w.localize(56,null)]},"editor.inlayHints.fontSize":{type:"number",default:de.fontSize,markdownDescription:w.localize(57,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:de.fontFamily,markdownDescription:w.localize(58,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:de.padding,description:w.localize(59,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return typeof pe.enabled=="boolean"&&(pe.enabled=pe.enabled?"on":"off"),{enabled:h(pe.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:s.clampedInt(pe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:o.string(pe.fontFamily,this.defaultValue.fontFamily),padding:r(pe.padding,this.defaultValue.padding)}}}class ie extends g{constructor(){super(62,"lineDecorationsWidth",10)}validate(de){return typeof de=="string"&&/^\d+(\.\d+)?ch$/.test(de)?-parseFloat(de.substring(0,de.length-2)):s.clampedInt(de,this.defaultValue,0,1e3)}compute(de,pe,be){return be<0?s.clampedInt(-be*de.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):be}}class le extends l{constructor(){super(63,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,de=>l.clamp(de,0,150),{markdownDescription:w.localize(60,null)})}compute(de,pe,be){return de.fontInfo.lineHeight}}class J extends g{constructor(){const de={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(69,"minimap",de,{"editor.minimap.enabled":{type:"boolean",default:de.enabled,description:w.localize(61,null)},"editor.minimap.autohide":{type:"boolean",default:de.autohide,description:w.localize(62,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(63,null),w.localize(64,null),w.localize(65,null)],default:de.size,description:w.localize(66,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:de.side,description:w.localize(67,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:de.showSlider,description:w.localize(68,null)},"editor.minimap.scale":{type:"number",default:de.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(69,null)},"editor.minimap.renderCharacters":{type:"boolean",default:de.renderCharacters,description:w.localize(70,null)},"editor.minimap.maxColumn":{type:"number",default:de.maxColumn,description:w.localize(71,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),autohide:r(pe.autohide,this.defaultValue.autohide),size:h(pe.size,this.defaultValue.size,["proportional","fill","fit"]),side:h(pe.side,this.defaultValue.side,["right","left"]),showSlider:h(pe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(pe.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(pe.scale,1,1,3),maxColumn:s.clampedInt(pe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function x(we){return we==="ctrlCmd"?N.isMacintosh?"metaKey":"ctrlKey":"altKey"}class q extends g{constructor(){super(80,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(72,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(73,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{top:s.clampedInt(pe.top,0,0,1e3),bottom:s.clampedInt(pe.bottom,0,0,1e3)}}}class Y extends g{constructor(){const de={enabled:!0,cycle:!0};super(81,"parameterHints",de,{"editor.parameterHints.enabled":{type:"boolean",default:de.enabled,description:w.localize(74,null)},"editor.parameterHints.cycle":{type:"boolean",default:de.cycle,description:w.localize(75,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),cycle:r(pe.cycle,this.defaultValue.cycle)}}}class Q extends n{constructor(){super(136)}compute(de,pe,be){return de.pixelRatio}}class re extends g{constructor(){const de={other:"on",comments:"off",strings:"off"},pe=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w.localize(76,null),w.localize(77,null),w.localize(78,null)]}];super(84,"quickSuggestions",de,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:pe,default:de.strings,description:w.localize(79,null)},comments:{anyOf:pe,default:de.comments,description:w.localize(80,null)},other:{anyOf:pe,default:de.other,description:w.localize(81,null)}},default:de,markdownDescription:w.localize(82,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=de}validate(de){if(typeof de=="boolean"){const ze=de?"on":"off";return{comments:ze,strings:ze,other:ze}}if(!de||typeof de!="object")return this.defaultValue;const{other:pe,comments:be,strings:Ce}=de,Ee=["on","inline","off"];let Ae,Me,Re;return typeof pe=="boolean"?Ae=pe?"on":"off":Ae=h(pe,this.defaultValue.other,Ee),typeof be=="boolean"?Me=be?"on":"off":Me=h(be,this.defaultValue.comments,Ee),typeof Ce=="boolean"?Re=Ce?"on":"off":Re=h(Ce,this.defaultValue.strings,Ee),{other:Ae,comments:Me,strings:Re}}}class oe extends g{constructor(){super(64,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(83,null),w.localize(84,null),w.localize(85,null),w.localize(86,null)],default:"on",description:w.localize(87,null)})}validate(de){let pe=this.defaultValue.renderType,be=this.defaultValue.renderFn;return typeof de<"u"&&(typeof de=="function"?(pe=4,be=de):de==="interval"?pe=3:de==="relative"?pe=2:de==="on"?pe=1:pe=0),{renderType:pe,renderFn:be}}}function G(we){const de=we.get(92);return de==="editable"?we.get(86):de!=="on"}e.filterValidationDecorations=G;class Z extends g{constructor(){const de=[],pe={type:"number",description:w.localize(88,null)};super(96,"rulers",de,{type:"array",items:{anyOf:[pe,{type:["object"],properties:{column:pe,color:{type:"string",description:w.localize(89,null),format:"color-hex"}}}]},default:de,description:w.localize(90,null)})}validate(de){if(Array.isArray(de)){const pe=[];for(const be of de)if(typeof be=="number")pe.push({column:s.clampedInt(be,0,0,1e4),color:null});else if(be&&typeof be=="object"){const Ce=be;pe.push({column:s.clampedInt(Ce.column,0,0,1e4),color:Ce.color})}return pe.sort((be,Ce)=>be.column-Ce.column),pe}return this.defaultValue}}function U(we,de){if(typeof we!="string")return de;switch(we){case"hidden":return 2;case"visible":return 3;default:return 1}}class j extends g{constructor(){const de={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(97,"scrollbar",de,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(91,null),w.localize(92,null),w.localize(93,null)],default:"auto",description:w.localize(94,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(95,null),w.localize(96,null),w.localize(97,null)],default:"auto",description:w.localize(98,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:de.verticalScrollbarSize,description:w.localize(99,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:de.horizontalScrollbarSize,description:w.localize(100,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:de.scrollByPage,description:w.localize(101,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de,be=s.clampedInt(pe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ce=s.clampedInt(pe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(pe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:U(pe.vertical,this.defaultValue.vertical),horizontal:U(pe.horizontal,this.defaultValue.horizontal),useShadows:r(pe.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(pe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(pe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(pe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(pe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:be,horizontalSliderSize:s.clampedInt(pe.horizontalSliderSize,be,0,1e3),verticalScrollbarSize:Ce,verticalSliderSize:s.clampedInt(pe.verticalSliderSize,Ce,0,1e3),scrollByPage:r(pe.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class H extends g{constructor(){const de={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(119,"unicodeHighlight",de,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:de.nonBasicASCII,description:w.localize(102,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:de.invisibleCharacters,description:w.localize(103,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:de.ambiguousCharacters,description:w.localize(104,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:de.includeComments,description:w.localize(105,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:de.includeStrings,description:w.localize(106,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:de.allowedCharacters,description:w.localize(107,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:de.allowedLocales,description:w.localize(108,null)}})}applyUpdate(de,pe){let be=!1;pe.allowedCharacters&&de&&(y.equals(de.allowedCharacters,pe.allowedCharacters)||(de=Object.assign(Object.assign({},de),{allowedCharacters:pe.allowedCharacters}),be=!0)),pe.allowedLocales&&de&&(y.equals(de.allowedLocales,pe.allowedLocales)||(de=Object.assign(Object.assign({},de),{allowedLocales:pe.allowedLocales}),be=!0));const Ce=super.applyUpdate(de,pe);return be?new i(Ce.newValue,!0):Ce}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{nonBasicASCII:se(pe.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:r(pe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(pe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:se(pe.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:se(pe.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.c(de.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.c(de.allowedLocales,this.defaultValue.allowedLocales)}}c(de,pe){if(typeof de!="object"||!de)return pe;const be={};for(const[Ce,Ee]of Object.entries(de))Ee===!0&&(be[Ce]=!0);return be}}class _ extends g{constructor(){const de={enabled:!0,mode:"subwordSmart",showToolbar:"onHover"};super(59,"inlineSuggest",de,{"editor.inlineSuggest.enabled":{type:"boolean",default:de.enabled,description:w.localize(109,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:de.showToolbar,enum:["always","onHover"],enumDescriptions:[w.localize(110,null),w.localize(111,null)],description:w.localize(112,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),mode:h(pe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:h(pe.showToolbar,this.defaultValue.showToolbar,["always","onHover"])}}}class ce extends g{constructor(){const de={enabled:v.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:v.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",de,{"editor.bracketPairColorization.enabled":{type:"boolean",default:de.enabled,markdownDescription:w.localize(113,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:de.independentColorPoolPerBracketType,description:w.localize(114,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{enabled:r(pe.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(pe.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class ue extends g{constructor(){const de={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",de,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(115,null),w.localize(116,null),w.localize(117,null)],default:de.bracketPairs,description:w.localize(118,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(119,null),w.localize(120,null),w.localize(121,null)],default:de.bracketPairsHorizontal,description:w.localize(122,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:de.highlightActiveBracketPair,description:w.localize(123,null)},"editor.guides.indentation":{type:"boolean",default:de.indentation,description:w.localize(124,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w.localize(125,null),w.localize(126,null),w.localize(127,null)],default:de.highlightActiveIndentation,description:w.localize(128,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{bracketPairs:se(pe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:se(pe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(pe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(pe.indentation,this.defaultValue.indentation),highlightActiveIndentation:se(pe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function se(we,de,pe){const be=pe.indexOf(we);return be===-1?de:pe[be]}class he extends g{constructor(){const de={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(112,"suggest",de,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(129,null),w.localize(130,null)],default:de.insertMode,description:w.localize(131,null)},"editor.suggest.filterGraceful":{type:"boolean",default:de.filterGraceful,description:w.localize(132,null)},"editor.suggest.localityBonus":{type:"boolean",default:de.localityBonus,description:w.localize(133,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:de.shareSuggestSelections,markdownDescription:w.localize(134,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[w.localize(135,null),w.localize(136,null),w.localize(137,null),w.localize(138,null)],default:de.selectionMode,markdownDescription:w.localize(139,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:de.snippetsPreventQuickSuggestions,description:w.localize(140,null)},"editor.suggest.showIcons":{type:"boolean",default:de.showIcons,description:w.localize(141,null)},"editor.suggest.showStatusBar":{type:"boolean",default:de.showStatusBar,description:w.localize(142,null)},"editor.suggest.preview":{type:"boolean",default:de.preview,description:w.localize(143,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:de.showInlineDetails,description:w.localize(144,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(145,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(146,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(147,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(148,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(149,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.localize(150,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:w.localize(151,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(152,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(153,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(154,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(155,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(156,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(157,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(158,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(159,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(160,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(161,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(162,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(163,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(164,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(165,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(166,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(167,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(168,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(169,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(170,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(171,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(172,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(173,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(174,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(175,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(176,null)}})}validate(de){if(!de||typeof de!="object")return this.defaultValue;const pe=de;return{insertMode:h(pe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(pe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(pe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(pe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(pe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:h(pe.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:r(pe.showIcons,this.defaultValue.showIcons),showStatusBar:r(pe.showStatusBar,this.defaultValue.showStatusBar),preview:r(pe.preview,this.defaultValue.preview),previewMode:h(pe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(pe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(pe.showMethods,this.defaultValue.showMethods),showFunctions:r(pe.showFunctions,this.defaultValue.showFunctions),showConstructors:r(pe.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(pe.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(pe.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(pe.showFields,this.defaultValue.showFields),showVariables:r(pe.showVariables,this.defaultValue.showVariables),showClasses:r(pe.showClasses,this.defaultValue.showClasses),showStructs:r(pe.showStructs,this.defaultValue.showStructs),showInterfaces:r(pe.showInterfaces,this.defaultValue.showInterfaces),showModules:r(pe.showModules,this.defaultValue.showModules),showProperties:r(pe.showProperties,this.defaultValue.showProperties),showEvents:r(pe.showEvents,this.defaultValue.showEvents),showOperators:r(pe.showOperators,this.defaultValue.showOperators),showUnits:r(pe.showUnits,this.defaultValue.showUnits),showValues:r(pe.showValues,this.defaultValue.showValues),showConstants:r(pe.showConstants,this.defaultValue.showConstants),showEnums:r(pe.showEnums,this.defaultValue.showEnums),showEnumMembers:r(pe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(pe.showKeywords,this.defaultValue.showKeywords),showWords:r(pe.showWords,this.defaultValue.showWords),showColors:r(pe.showColors,this.defaultValue.showColors),showFiles:r(pe.showFiles,this.defaultValue.showFiles),showReferences:r(pe.showReferences,this.defaultValue.showReferences),showFolders:r(pe.showFolders,this.defaultValue.showFolders),showTypeParameters:r(pe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(pe.showSnippets,this.defaultValue.showSnippets),showUsers:r(pe.showUsers,this.defaultValue.showUsers),showIssues:r(pe.showIssues,this.defaultValue.showIssues)}}}class me extends g{constructor(){super(107,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(177,null),default:!0,type:"boolean"}})}validate(de){return!de||typeof de!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(de.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Se extends n{constructor(){super(137)}compute(de,pe,be){return pe.get(86)?!0:de.tabFocusMode}}class ye extends g{constructor(){super(131,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[w.localize(178,null),w.localize(179,null),w.localize(180,null),w.localize(181,null)],description:w.localize(182,null),default:"same"}})}validate(de){switch(de){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(de,pe,be){return pe.get(2)===2?0:be}}class ke extends n{constructor(){super(139)}compute(de,pe,be){const Ce=pe.get(138);return{isDominatedByLongLines:de.isDominatedByLongLines,isWordWrapMinified:Ce.isWordWrapMinified,isViewportWrapping:Ce.isViewportWrapping,wrappingColumn:Ce.wrappingColumn}}}class Te extends g{constructor(){const de={enabled:!0};super(33,"dropIntoEditor",de,{"editor.dropIntoEditor.enabled":{type:"boolean",default:de.enabled,markdownDescription:w.localize(183,null)}})}validate(de){return!de||typeof de!="object"?this.defaultValue:{enabled:r(de.enabled,this.defaultValue.enabled)}}}const Pe="Consolas, 'Courier New', monospace",Ie="Menlo, Monaco, 'Courier New', monospace",ve="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:N.isMacintosh?Ie:N.isLinux?ve:Pe,fontWeight:"normal",fontSize:N.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function ge(we){return e.editorOptionsRegistry[we.id]=we,we}e.EditorOptions={acceptSuggestionOnCommitCharacter:ge(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(184,null)})),acceptSuggestionOnEnter:ge(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(185,null),""],markdownDescription:w.localize(186,null)})),accessibilitySupport:ge(new m),accessibilityPageSize:ge(new s(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(187,null),tags:["accessibility"]})),ariaLabel:ge(new o(4,"ariaLabel",w.localize(188,null))),autoClosingBrackets:ge(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(189,null),w.localize(190,null),""],description:w.localize(191,null)})),autoClosingDelete:ge(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.localize(192,null),""],description:w.localize(193,null)})),autoClosingOvertype:ge(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(194,null),""],description:w.localize(195,null)})),autoClosingQuotes:ge(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(196,null),w.localize(197,null),""],description:w.localize(198,null)})),autoIndent:ge(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[w.localize(199,null),w.localize(200,null),w.localize(201,null),w.localize(202,null),w.localize(203,null)],description:w.localize(204,null)})),automaticLayout:ge(new c(10,"automaticLayout",!1)),autoSurround:ge(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(205,null),w.localize(206,null),w.localize(207,null),""],description:w.localize(208,null)})),bracketPairColorization:ge(new ce),bracketPairGuides:ge(new ue),stickyTabStops:ge(new c(110,"stickyTabStops",!1,{description:w.localize(209,null)})),codeLens:ge(new c(14,"codeLens",!0,{description:w.localize(210,null)})),codeLensFontFamily:ge(new o(15,"codeLensFontFamily","",{description:w.localize(211,null)})),codeLensFontSize:ge(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.localize(212,null)})),colorDecorators:ge(new c(17,"colorDecorators",!0,{description:w.localize(213,null)})),colorDecoratorsLimit:ge(new s(18,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:w.localize(214,null)})),columnSelection:ge(new c(19,"columnSelection",!1,{description:w.localize(215,null)})),comments:ge(new b),contextmenu:ge(new c(21,"contextmenu",!0)),copyWithSyntaxHighlighting:ge(new c(22,"copyWithSyntaxHighlighting",!0,{description:w.localize(216,null)})),cursorBlinking:ge(new S(23,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:w.localize(217,null)})),cursorSmoothCaretAnimation:ge(new f(24,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[w.localize(218,null),w.localize(219,null),w.localize(220,null)],description:w.localize(221,null)})),cursorStyle:ge(new S(25,"cursorStyle",k.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],I,{description:w.localize(222,null)})),cursorSurroundingLines:ge(new s(26,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(223,null)})),cursorSurroundingLinesStyle:ge(new f(27,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(224,null),w.localize(225,null)],description:w.localize(226,null)})),cursorWidth:ge(new s(28,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(227,null)})),disableLayerHinting:ge(new c(29,"disableLayerHinting",!1)),disableMonospaceOptimizations:ge(new c(30,"disableMonospaceOptimizations",!1)),domReadOnly:ge(new c(31,"domReadOnly",!1)),dragAndDrop:ge(new c(32,"dragAndDrop",!0,{description:w.localize(228,null)})),emptySelectionClipboard:ge(new B),dropIntoEditor:ge(new Te),stickyScroll:ge(new ne),experimentalWhitespaceRendering:ge(new f(35,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[w.localize(229,null),w.localize(230,null),w.localize(231,null)],description:w.localize(232,null)})),extraEditorClassName:ge(new o(36,"extraEditorClassName","")),fastScrollSensitivity:ge(new l(37,"fastScrollSensitivity",5,we=>we<=0?5:we,{markdownDescription:w.localize(233,null)})),find:ge(new z),fixedOverflowWidgets:ge(new c(39,"fixedOverflowWidgets",!1)),folding:ge(new c(40,"folding",!0,{description:w.localize(234,null)})),foldingStrategy:ge(new f(41,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(235,null),w.localize(236,null)],description:w.localize(237,null)})),foldingHighlight:ge(new c(42,"foldingHighlight",!0,{description:w.localize(238,null)})),foldingImportsByDefault:ge(new c(43,"foldingImportsByDefault",!1,{description:w.localize(239,null)})),foldingMaximumRegions:ge(new s(44,"foldingMaximumRegions",5e3,10,65e3,{description:w.localize(240,null)})),unfoldOnClickAfterEndOfLine:ge(new c(45,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(241,null)})),fontFamily:ge(new o(46,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(242,null)})),fontInfo:ge(new T),fontLigatures2:ge(new P),fontSize:ge(new O),fontWeight:ge(new F),fontVariations:ge(new A),formatOnPaste:ge(new c(52,"formatOnPaste",!1,{description:w.localize(243,null)})),formatOnType:ge(new c(53,"formatOnType",!1,{description:w.localize(244,null)})),glyphMargin:ge(new c(54,"glyphMargin",!0,{description:w.localize(245,null)})),gotoLocation:ge(new W),hideCursorInOverviewRuler:ge(new c(56,"hideCursorInOverviewRuler",!1,{description:w.localize(246,null)})),hover:ge(new V),inDiffEditor:ge(new c(58,"inDiffEditor",!1)),letterSpacing:ge(new l(60,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,we=>l.clamp(we,-5,20),{description:w.localize(247,null)})),lightbulb:ge(new X),lineDecorationsWidth:ge(new ie),lineHeight:ge(new le),lineNumbers:ge(new oe),lineNumbersMinChars:ge(new s(65,"lineNumbersMinChars",5,1,300)),linkedEditing:ge(new c(66,"linkedEditing",!1,{description:w.localize(248,null)})),links:ge(new c(67,"links",!0,{description:w.localize(249,null)})),matchBrackets:ge(new f(68,"matchBrackets","always",["always","near","never"],{description:w.localize(250,null)})),minimap:ge(new J),mouseStyle:ge(new f(70,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ge(new l(71,"mouseWheelScrollSensitivity",1,we=>we===0?1:we,{markdownDescription:w.localize(251,null)})),mouseWheelZoom:ge(new c(72,"mouseWheelZoom",!1,{markdownDescription:w.localize(252,null)})),multiCursorMergeOverlapping:ge(new c(73,"multiCursorMergeOverlapping",!0,{description:w.localize(253,null)})),multiCursorModifier:ge(new S(74,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],x,{markdownEnumDescriptions:[w.localize(254,null),w.localize(255,null)],markdownDescription:w.localize(256,null)})),multiCursorPaste:ge(new f(75,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(257,null),w.localize(258,null)],markdownDescription:w.localize(259,null)})),multiCursorLimit:ge(new s(76,"multiCursorLimit",1e4,1,1e5,{markdownDescription:w.localize(260,null)})),occurrencesHighlight:ge(new c(77,"occurrencesHighlight",!0,{description:w.localize(261,null)})),overviewRulerBorder:ge(new c(78,"overviewRulerBorder",!0,{description:w.localize(262,null)})),overviewRulerLanes:ge(new s(79,"overviewRulerLanes",3,0,3)),padding:ge(new q),parameterHints:ge(new Y),peekWidgetDefaultFocus:ge(new f(82,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(263,null),w.localize(264,null)],description:w.localize(265,null)})),definitionLinkOpensInPeek:ge(new c(83,"definitionLinkOpensInPeek",!1,{description:w.localize(266,null)})),quickSuggestions:ge(new re),quickSuggestionsDelay:ge(new s(85,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(267,null)})),readOnly:ge(new c(86,"readOnly",!1)),renameOnType:ge(new c(87,"renameOnType",!1,{description:w.localize(268,null),markdownDeprecationMessage:w.localize(269,null)})),renderControlCharacters:ge(new c(88,"renderControlCharacters",!0,{description:w.localize(270,null),restricted:!0})),renderFinalNewline:ge(new f(89,"renderFinalNewline",N.isLinux?"dimmed":"on",["off","on","dimmed"],{description:w.localize(271,null)})),renderLineHighlight:ge(new f(90,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(272,null)],description:w.localize(273,null)})),renderLineHighlightOnlyWhenFocus:ge(new c(91,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(274,null)})),renderValidationDecorations:ge(new f(92,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ge(new f(93,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(275,null),w.localize(276,null),w.localize(277,null),""],description:w.localize(278,null)})),revealHorizontalRightPadding:ge(new s(94,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ge(new c(95,"roundedSelection",!0,{description:w.localize(279,null)})),rulers:ge(new Z),scrollbar:ge(new j),scrollBeyondLastColumn:ge(new s(98,"scrollBeyondLastColumn",4,0,1073741824,{description:w.localize(280,null)})),scrollBeyondLastLine:ge(new c(99,"scrollBeyondLastLine",!0,{description:w.localize(281,null)})),scrollPredominantAxis:ge(new c(100,"scrollPredominantAxis",!0,{description:w.localize(282,null)})),selectionClipboard:ge(new c(101,"selectionClipboard",!0,{description:w.localize(283,null),included:N.isLinux})),selectionHighlight:ge(new c(102,"selectionHighlight",!0,{description:w.localize(284,null)})),selectOnLineNumbers:ge(new c(103,"selectOnLineNumbers",!0)),showFoldingControls:ge(new f(104,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w.localize(285,null),w.localize(286,null),w.localize(287,null)],description:w.localize(288,null)})),showUnused:ge(new c(105,"showUnused",!0,{description:w.localize(289,null)})),showDeprecated:ge(new c(133,"showDeprecated",!0,{description:w.localize(290,null)})),inlayHints:ge(new ae),snippetSuggestions:ge(new f(106,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(291,null),w.localize(292,null),w.localize(293,null),w.localize(294,null)],description:w.localize(295,null)})),smartSelect:ge(new me),smoothScrolling:ge(new c(108,"smoothScrolling",!1,{description:w.localize(296,null)})),stopRenderingLineAfter:ge(new s(111,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ge(new he),inlineSuggest:ge(new _),suggestFontSize:ge(new s(113,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(297,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:ge(new s(114,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(298,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ge(new c(115,"suggestOnTriggerCharacters",!0,{description:w.localize(299,null)})),suggestSelection:ge(new f(116,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(300,null),w.localize(301,null),w.localize(302,null)],description:w.localize(303,null)})),tabCompletion:ge(new f(117,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(304,null),w.localize(305,null),w.localize(306,null)],description:w.localize(307,null)})),tabIndex:ge(new s(118,"tabIndex",0,-1,1073741824)),unicodeHighlight:ge(new H),unusualLineTerminators:ge(new f(120,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(308,null),w.localize(309,null),w.localize(310,null)],description:w.localize(311,null)})),useShadowDOM:ge(new c(121,"useShadowDOM",!0)),useTabStops:ge(new c(122,"useTabStops",!0,{description:w.localize(312,null)})),wordBreak:ge(new f(123,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[w.localize(313,null),w.localize(314,null)],description:w.localize(315,null)})),wordSeparators:ge(new o(124,"wordSeparators",E.USUAL_WORD_SEPARATORS,{description:w.localize(316,null)})),wordWrap:ge(new f(125,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(317,null),w.localize(318,null),w.localize(319,null),w.localize(320,null)],description:w.localize(321,null)})),wordWrapBreakAfterCharacters:ge(new o(126,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ge(new o(127,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ge(new s(128,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(322,null)})),wordWrapOverride1:ge(new f(129,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ge(new f(130,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ge(new M),pixelRatio:ge(new Q),tabFocusMode:ge(new Se),layoutInfo:ge(new R),wrappingInfo:ge(new ke),wrappingIndent:ge(new ye),wrappingStrategy:ge(new $)}}),define(ee[573],te([1,0,7,35,9,72,39,11,3,155]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(n,a,r,c,u,s,l){this.top=n,this.left=a,this.paddingLeft=r,this.width=c,this.height=u,this.textContent=s,this.textContentClassName=l}}class i{constructor(n){this.a=n;const a=this.a.configuration.options,r=a.get(47);this.c=a.get(25),this.f=a.get(63),this.g=r.typicalHalfwidthCharacterWidth,this.d=Math.min(a.get(28),this.g),this.h=!0,this.b=(0,N.createFastDomNode)(document.createElement("div")),this.b.setClassName(`cursor ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.b.setHeight(this.f),this.b.setTop(0),this.b.setLeft(0),(0,D.applyFontInfo)(this.b,r),this.b.setDisplay("none"),this.i=new v.Position(1,1),this.j="",this.k=null}getDomNode(){return this.b}getPosition(){return this.i}show(){this.h||(this.b.setVisibility("inherit"),this.h=!0)}hide(){this.h&&(this.b.setVisibility("hidden"),this.h=!1)}onConfigurationChanged(n){const a=this.a.configuration.options,r=a.get(47);return this.c=a.get(25),this.f=a.get(63),this.g=r.typicalHalfwidthCharacterWidth,this.d=Math.min(a.get(28),this.g),(0,D.applyFontInfo)(this.b,r),!0}onCursorPositionChanged(n,a){return a?this.b.domNode.style.transitionProperty="none":this.b.domNode.style.transitionProperty="",this.i=n,!0}l(){const{lineNumber:n,column:a}=this.i,r=this.a.viewModel.getLineContent(n),[c,u]=E.getCharContainingOffset(r,a-1);return[new v.Position(n,c+1),r.substring(c,u)]}m(n){let a="",r="";const[c,u]=this.l();if(this.c===y.TextEditorCursorStyle.Line||this.c===y.TextEditorCursorStyle.LineThin){const p=n.visibleRangeForPosition(c);if(!p||p.outsideRenderedLine)return null;let m;this.c===y.TextEditorCursorStyle.Line?(m=w.computeScreenAwareSize(this.d>0?this.d:2),m>2&&(a=u,r=this.n(c))):m=w.computeScreenAwareSize(1);let b=p.left,L=0;m>=2&&b>=1&&(L=1,b-=L);const k=n.getVerticalOffsetForLineNumber(c.lineNumber)-n.bigNumbersDelta;return new g(k,b,L,m,this.f,a,r)}const s=n.linesVisibleRangesForRange(new C.Range(c.lineNumber,c.column,c.lineNumber,c.column+u.length),!1);if(!s||s.length===0)return null;const l=s[0];if(l.outsideRenderedLine||l.ranges.length===0)return null;const o=l.ranges[0],h=u==="	"?this.g:o.width<1?this.g:o.width;this.c===y.TextEditorCursorStyle.Block&&(a=u,r=this.n(c));let f=n.getVerticalOffsetForLineNumber(c.lineNumber)-n.bigNumbersDelta,S=this.f;return(this.c===y.TextEditorCursorStyle.Underline||this.c===y.TextEditorCursorStyle.UnderlineThin)&&(f+=this.f-2,S=2),new g(f,o.left,0,h,S,a,r)}n(n){const a=this.a.viewModel.getViewLineData(n.lineNumber),r=a.tokens.findTokenIndexAtOffset(n.column-1);return a.tokens.getClassName(r)}prepareRender(n){this.k=this.m(n)}render(n){return this.k?(this.j!==this.k.textContent&&(this.j=this.k.textContent,this.b.domNode.textContent=this.j),this.b.setClassName(`cursor ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this.k.textContentClassName}`),this.b.setDisplay("block"),this.b.setTop(this.k.top),this.b.setLeft(this.k.left),this.b.setPaddingLeft(this.k.paddingLeft),this.b.setWidth(this.k.width),this.b.setLineHeight(this.k.height),this.b.setHeight(this.k.height),{domNode:this.b.domNode,position:this.i,contentLeft:this.k.left,height:this.k.height,width:2}):(this.b.setDisplay("none"),null)}}e.ViewCursor=i}),define(ee[216],te([1,0,16,39,169]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=w.isMacintosh?1.5:1.35,y=8;class v{static createFromValidatedSettings(g,i,t){const n=g.get(46),a=g.get(50),r=g.get(49),c=g.get(48),u=g.get(51),s=g.get(63),l=g.get(60);return v.a(n,a,r,c,u,s,l,i,t)}static a(g,i,t,n,a,r,c,u,s){r===0?r=D*t:r<y&&(r=r*t),r=Math.round(r),r<y&&(r=y);const l=1+(s?0:E.EditorZoom.getZoomLevel()*.1);return t*=l,r*=l,a===N.EditorFontVariations.TRANSLATE&&(i==="normal"||i==="bold"?a=N.EditorFontVariations.OFF:(a=`'wght' ${parseInt(i,10)}`,i="normal")),new v({pixelRatio:u,fontFamily:g,fontWeight:i,fontSize:t,fontFeatureSettings:n,fontVariationSettings:a,lineHeight:r,letterSpacing:c})}constructor(g){this._bareFontInfoBrand=void 0,this.pixelRatio=g.pixelRatio,this.fontFamily=String(g.fontFamily),this.fontWeight=String(g.fontWeight),this.fontSize=g.fontSize,this.fontFeatureSettings=g.fontFeatureSettings,this.fontVariationSettings=g.fontVariationSettings,this.lineHeight=g.lineHeight|0,this.letterSpacing=g.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const g=N.EDITOR_FONT_DEFAULTS.fontFamily,i=v.b(this.fontFamily);return g&&this.fontFamily!==g?`${i}, ${g}`:i}static b(g){return/[,"']/.test(g)?g:/[+ ]/.test(g)?`"${g}"`:g}}e.BareFontInfo=v,e.SERIALIZED_FONT_INFO_VERSION=2;class C extends v{constructor(g,i){super(g),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=i,this.isMonospace=g.isMonospace,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=g.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=g.canUseHalfwidthRightwardsArrow,this.spaceWidth=g.spaceWidth,this.middotWidth=g.middotWidth,this.wsmiddotWidth=g.wsmiddotWidth,this.maxDigitWidth=g.maxDigitWidth}equals(g){return this.fontFamily===g.fontFamily&&this.fontWeight===g.fontWeight&&this.fontSize===g.fontSize&&this.fontFeatureSettings===g.fontFeatureSettings&&this.fontVariationSettings===g.fontVariationSettings&&this.lineHeight===g.lineHeight&&this.letterSpacing===g.letterSpacing&&this.typicalHalfwidthCharacterWidth===g.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===g.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.maxDigitWidth===g.maxDigitWidth}}e.FontInfo=C}),define(ee[291],te([1,0,44,6,2,429,39,216]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class C extends E.Disposable{constructor(){super(),this.c=this.q(new N.Emitter),this.onDidChange=this.c.event,this.a=new d,this.b=-1}dispose(){this.b!==-1&&(window.clearTimeout(this.b),this.b=-1),super.dispose()}clearAllFontInfos(){this.a=new d,this.c.fire()}g(i,t){this.a.put(i,t),!t.isTrusted&&this.b===-1&&(this.b=window.setTimeout(()=>{this.b=-1,this.h()},5e3))}h(){const i=this.a.getValues();let t=!1;for(const n of i)n.isTrusted||(t=!0,this.a.remove(n));t&&this.c.fire()}readFontInfo(i){if(!this.a.has(i)){let t=this.k(i);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new v.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this.g(i,t)}return this.a.get(i)}j(i,t,n,a){const r=new D.CharWidthRequest(i,t);return n.push(r),a?.push(r),r}k(i){const t=[],n=[],a=this.j("n",0,t,n),r=this.j("\uFF4D",0,t,null),c=this.j(" ",0,t,n),u=this.j("0",0,t,n),s=this.j("1",0,t,n),l=this.j("2",0,t,n),o=this.j("3",0,t,n),h=this.j("4",0,t,n),f=this.j("5",0,t,n),S=this.j("6",0,t,n),p=this.j("7",0,t,n),m=this.j("8",0,t,n),b=this.j("9",0,t,n),L=this.j("\u2192",0,t,n),k=this.j("\uFFEB",0,t,null),I=this.j("\xB7",0,t,n),M=this.j(String.fromCharCode(11825),0,t,null),B="|/-_ilm%";for(let O=0,F=B.length;O<F;O++)this.j(B.charAt(O),0,t,n),this.j(B.charAt(O),1,t,n),this.j(B.charAt(O),2,t,n);(0,D.readCharWidths)(i,t);const z=Math.max(u.width,s.width,l.width,o.width,h.width,f.width,S.width,p.width,m.width,b.width);let P=i.fontFeatureSettings===y.EditorFontLigatures.OFF;const A=n[0].width;for(let O=1,F=n.length;P&&O<F;O++){const W=A-n[O].width;if(W<-.001||W>.001){P=!1;break}}let T=!0;return P&&k.width!==A&&(T=!1),k.width>L.width&&(T=!1),new v.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:a.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:T,spaceWidth:c.width,middotWidth:I.width,wsmiddotWidth:M.width,maxDigitWidth:z},!0)}}e.FontMeasurementsImpl=C;class d{constructor(){this.a=Object.create(null),this.b=Object.create(null)}has(i){const t=i.getId();return!!this.b[t]}get(i){const t=i.getId();return this.b[t]}put(i,t){const n=i.getId();this.a[n]=i,this.b[n]=t}remove(i){const t=i.getId();delete this.a[t],delete this.b[t]}getValues(){return Object.keys(this.a).map(i=>this.b[i])}}e.FontMeasurements=new C}),define(ee[292],te([1,0,11,3,80,39]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class y{constructor(t,n,a,r,c){this.k=null,this.a=t,this.b=n,this.c=a,this.d=r,this.e=c,this.f=Object.create(null),this.g=null,this.h=null}l(){this.g=null,this.h=null}dispose(){this.f=Object.create(null),this.l()}reset(){this.f=Object.create(null),this.l()}onModelDecorationsChanged(){this.f=Object.create(null),this.l()}onLineMappingChanged(){this.f=Object.create(null),this.l()}m(t){const n=t.id;let a=this.f[n];if(!a){const r=t.range,c=t.options;let u;if(c.isWholeLine){const s=this.e.convertModelPositionToViewPosition(new w.Position(r.startLineNumber,1),0),l=this.e.convertModelPositionToViewPosition(new w.Position(r.endLineNumber,this.b.getLineMaxColumn(r.endLineNumber)),1);u=new N.Range(s.lineNumber,s.column,l.lineNumber,l.column)}else u=this.e.convertModelRangeToViewRange(r,1);a=new E.ViewModelDecoration(u,c),this.f[n]=a}return a}getDecorationsViewportData(t,n=!1){let a=this.g!==null;return a=a&&t.equalsRange(this.h),a=a&&this.k===n,a||(this.g=this.n(t,n),this.h=t,this.k=n),this.g}getInlineDecorationsOnLine(t,n=!1){const a=new N.Range(t,this.d.getViewLineMinColumn(t),t,this.d.getViewLineMaxColumn(t));return this.n(a,n).inlineDecorations[0]}n(t,n){const a=this.d.getDecorationsInRange(t,this.a,(0,D.filterValidationDecorations)(this.c.options),n),r=t.startLineNumber,c=t.endLineNumber,u=[];let s=0;const l=[];for(let o=r;o<=c;o++)l[o-r]=[];for(let o=0,h=a.length;o<h;o++){const f=a[o],S=f.options;if(!v(this.b,f))continue;const p=this.m(f),m=p.range;if(u[s++]=p,S.inlineClassName){const b=new E.InlineDecoration(m,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing?3:0),L=Math.max(r,m.startLineNumber),k=Math.min(c,m.endLineNumber);for(let I=L;I<=k;I++)l[I-r].push(b)}if(S.beforeContentClassName&&r<=m.startLineNumber&&m.startLineNumber<=c){const b=new E.InlineDecoration(new N.Range(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),S.beforeContentClassName,1);l[m.startLineNumber-r].push(b)}if(S.afterContentClassName&&r<=m.endLineNumber&&m.endLineNumber<=c){const b=new E.InlineDecoration(new N.Range(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),S.afterContentClassName,2);l[m.endLineNumber-r].push(b)}}return{decorations:u,inlineDecorations:l}}}e.ViewModelDecorations=y;function v(i,t){return!(t.options.hideInCommentTokens&&C(i,t)||t.options.hideInStringTokens&&d(i,t))}e.isModelDecorationVisible=v;function C(i,t){return g(i,t.range,n=>n===1)}e.isModelDecorationInComment=C;function d(i,t){return g(i,t.range,n=>n===2)}e.isModelDecorationInString=d;function g(i,t,n){for(let a=t.startLineNumber;a<=t.endLineNumber;a++){const r=i.tokenization.getLineTokens(a),c=a===t.startLineNumber,u=a===t.endLineNumber;let s=c?r.findTokenIndexAtOffset(t.startColumn-1):0;for(;s<r.getCount()&&!(u&&r.getStartOffset(s)>t.endColumn-1);){if(!n(r.getStandardTokenType(s)))return!1;s++}}return!0}}),define(ee[574],te([4,5]),function(K,e){return K.create("vs/editor/common/core/editorColorRegistry",e)}),define(ee[575],te([4,5]),function(K,e){return K.create("vs/editor/common/editorContextKeys",e)}),define(ee[576],te([4,5]),function(K,e){return K.create("vs/editor/common/languages/modesRegistry",e)}),define(ee[577],te([4,5]),function(K,e){return K.create("vs/editor/common/model/editStack",e)}),define(ee[293],te([1,0,577,13,22,21,284,126,43]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function d(c){return c.toString()}class g{static create(u,s){const l=u.getAlternativeVersionId(),o=n(u);return new g(l,l,o,o,s,s,[])}constructor(u,s,l,o,h,f,S){this.beforeVersionId=u,this.afterVersionId=s,this.beforeEOL=l,this.afterEOL=o,this.beforeCursorState=h,this.afterCursorState=f,this.changes=S}append(u,s,l,o,h){s.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=l,this.afterVersionId=o,this.afterCursorState=h}static c(u){return 4+4*4*(u?u.length:0)}static d(u,s,l){if(v.writeUInt32BE(u,s?s.length:0,l),l+=4,s)for(const o of s)v.writeUInt32BE(u,o.selectionStartLineNumber,l),l+=4,v.writeUInt32BE(u,o.selectionStartColumn,l),l+=4,v.writeUInt32BE(u,o.positionLineNumber,l),l+=4,v.writeUInt32BE(u,o.positionColumn,l),l+=4;return l}static f(u,s,l){const o=v.readUInt32BE(u,s);s+=4;for(let h=0;h<o;h++){const f=v.readUInt32BE(u,s);s+=4;const S=v.readUInt32BE(u,s);s+=4;const p=v.readUInt32BE(u,s);s+=4;const m=v.readUInt32BE(u,s);s+=4,l.push(new E.Selection(f,S,p,m))}return s}serialize(){let u=10+g.c(this.beforeCursorState)+g.c(this.afterCursorState)+4;for(const o of this.changes)u+=o.writeSize();const s=new Uint8Array(u);let l=0;v.writeUInt32BE(s,this.beforeVersionId,l),l+=4,v.writeUInt32BE(s,this.afterVersionId,l),l+=4,v.writeUInt8(s,this.beforeEOL,l),l+=1,v.writeUInt8(s,this.afterEOL,l),l+=1,l=g.d(s,this.beforeCursorState,l),l=g.d(s,this.afterCursorState,l),v.writeUInt32BE(s,this.changes.length,l),l+=4;for(const o of this.changes)l=o.write(s,l);return s.buffer}static deserialize(u){const s=new Uint8Array(u);let l=0;const o=v.readUInt32BE(s,l);l+=4;const h=v.readUInt32BE(s,l);l+=4;const f=v.readUInt8(s,l);l+=1;const S=v.readUInt8(s,l);l+=1;const p=[];l=g.f(s,l,p);const m=[];l=g.f(s,l,m);const b=v.readUInt32BE(s,l);l+=4;const L=[];for(let k=0;k<b;k++)l=y.TextChange.read(s,l,L);return new g(o,h,f,S,p,m,L)}}e.SingleModelEditStackData=g;class i{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(u,s,l,o){this.label=u,this.code=s,this.model=l,this.c=g.create(l,o)}toString(){return(this.c instanceof g?this.c:g.deserialize(this.c)).changes.map(s=>s.toString()).join(", ")}matchesResource(u){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===u.toString()}setModel(u){this.model=u}canAppend(u){return this.model===u&&this.c instanceof g}append(u,s,l,o,h){this.c instanceof g&&this.c.append(u,s,l,o,h)}close(){this.c instanceof g&&(this.c=this.c.serialize())}open(){this.c instanceof g||(this.c=g.deserialize(this.c))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this.c instanceof g&&(this.c=this.c.serialize());const u=g.deserialize(this.c);this.model._applyUndo(u.changes,u.beforeEOL,u.beforeVersionId,u.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this.c instanceof g&&(this.c=this.c.serialize());const u=g.deserialize(this.c);this.model._applyRedo(u.changes,u.afterEOL,u.afterVersionId,u.afterCursorState)}heapSize(){return this.c instanceof g&&(this.c=this.c.serialize()),this.c.byteLength+168}}e.SingleModelEditStackElement=i;class t{get resources(){return this.d.map(u=>u.resource)}constructor(u,s,l){this.label=u,this.code=s,this.type=1,this.c=!0,this.d=l.slice(0),this.f=new Map;for(const o of this.d){const h=d(o.resource);this.f.set(h,o)}this.g=null}prepareUndoRedo(){if(this.g)return this.g.prepareUndoRedo(this)}matchesResource(u){const s=d(u);return this.f.has(s)}setModel(u){const s=d(D.URI.isUri(u)?u:u.uri);this.f.has(s)&&this.f.get(s).setModel(u)}canAppend(u){if(!this.c)return!1;const s=d(u.uri);return this.f.has(s)?this.f.get(s).canAppend(u):!1}append(u,s,l,o,h){const f=d(u.uri);this.f.get(f).append(u,s,l,o,h)}close(){this.c=!1}open(){}undo(){this.c=!1;for(const u of this.d)u.undo()}redo(){for(const u of this.d)u.redo()}heapSize(u){const s=d(u);return this.f.has(s)?this.f.get(s).heapSize():0}split(){return this.d}toString(){const u=[];for(const s of this.d)u.push(`${(0,C.basename)(s.resource)}: ${s}`);return`{${u.join(", ")}}`}}e.MultiModelEditStackElement=t;function n(c){return c.getEOL()===`
`?0:1}function a(c){return c?c instanceof i||c instanceof t:!1}e.isEditStackElement=a;class r{constructor(u,s){this.c=u,this.d=s}pushStackElement(){const u=this.d.getLastElement(this.c.uri);a(u)&&u.close()}popStackElement(){const u=this.d.getLastElement(this.c.uri);a(u)&&u.open()}clear(){this.d.removeElements(this.c.uri)}f(u,s){const l=this.d.getLastElement(this.c.uri);if(a(l)&&l.canAppend(this.c))return l;const o=new i(w.localize(0,null),"undoredo.textBufferEdit",this.c,u);return this.d.pushElement(o,s),o}pushEOL(u){const s=this.f(null,void 0);this.c.setEOL(u),s.append(this.c,[],n(this.c),this.c.getAlternativeVersionId(),null)}pushEditOperation(u,s,l,o){const h=this.f(u,o),f=this.c.applyEdits(s,!0),S=r.g(l,f),p=f.map((m,b)=>({index:b,textChange:m.textChange}));return p.sort((m,b)=>m.textChange.oldPosition===b.textChange.oldPosition?m.index-b.index:m.textChange.oldPosition-b.textChange.oldPosition),h.append(this.c,p.map(m=>m.textChange),n(this.c),this.c.getAlternativeVersionId(),S),S}static g(u,s){try{return u?u(s):null}catch(l){return(0,N.onUnexpectedError)(l),null}}}e.EditStack=r}),define(ee[578],te([4,5]),function(K,e){return K.create("vs/editor/common/standaloneStrings",e)}),define(ee[82],te([1,0,578]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var N;(function(t){t.noSelection=w.localize(0,null),t.singleSelectionRange=w.localize(1,null),t.singleSelection=w.localize(2,null),t.multiSelectionRange=w.localize(3,null),t.multiSelection=w.localize(4,null),t.emergencyConfOn=w.localize(5,null),t.openingDocs=w.localize(6,null),t.readonlyDiffEditor=w.localize(7,null),t.editableDiffEditor=w.localize(8,null),t.readonlyEditor=w.localize(9,null),t.editableEditor=w.localize(10,null),t.changeConfigToOnMac=w.localize(11,null),t.changeConfigToOnWinLinux=w.localize(12,null),t.auto_on=w.localize(13,null),t.auto_off=w.localize(14,null),t.tabFocusModeOnMsg=w.localize(15,null),t.tabFocusModeOnMsgNoKb=w.localize(16,null),t.tabFocusModeOffMsg=w.localize(17,null),t.tabFocusModeOffMsgNoKb=w.localize(18,null),t.openDocMac=w.localize(19,null),t.openDocWinLinux=w.localize(20,null),t.outroMsg=w.localize(21,null),t.showAccessibilityHelpAction=w.localize(22,null)})(N=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var E;(function(t){t.inspectTokensAction=w.localize(23,null)})(E=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(t){t.gotoLineActionLabel=w.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var y;(function(t){t.helpQuickAccessActionLabel=w.localize(25,null)})(y=e.QuickHelpNLS||(e.QuickHelpNLS={}));var v;(function(t){t.quickCommandActionLabel=w.localize(26,null),t.quickCommandHelp=w.localize(27,null)})(v=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(t){t.quickOutlineActionLabel=w.localize(28,null),t.quickOutlineByCategoryActionLabel=w.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var d;(function(t){t.editorViewAccessibleLabel=w.localize(30,null),t.accessibilityHelpMessage=w.localize(31,null)})(d=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(t){t.toggleHighContrast=w.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(t){t.bulkEditServiceSummary=w.localize(33,null)})(i=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(ee[579],te([4,5]),function(K,e){return K.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ee[106],te([1,0,579,9,96,135,479]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class v{constructor(L,k){this.startOffset=L,this.endOffset=k}equals(L){return this.startOffset===L.startOffset&&this.endOffset===L.endOffset}}e.LineRange=v;class C{constructor(L,k,I,M,B,z,P,A,T,O,F,W,V,R,$,X,ne,ae,ie){this.useMonospaceOptimizations=L,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=I,this.continuesWithWrappedLine=M,this.isBasicASCII=B,this.containsRTL=z,this.fauxIndentLength=P,this.lineTokens=A,this.lineDecorations=T.sort(D.LineDecoration.compare),this.tabSize=O,this.startVisibleColumn=F,this.spaceWidth=W,this.stopRenderingLineAfter=$,this.renderWhitespace=X==="all"?4:X==="boundary"?1:X==="selection"?2:X==="trailing"?3:0,this.renderControlCharacters=ne,this.fontLigatures=ae,this.selectionsOnLine=ie&&ie.sort((x,q)=>x.startOffset<q.startOffset?-1:1);const le=Math.abs(R-W),J=Math.abs(V-W);le<J?(this.renderSpaceWidth=R,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=V,this.renderSpaceCharCode=183)}c(L){if(this.selectionsOnLine===null)return L===null;if(L===null||L.length!==this.selectionsOnLine.length)return!1;for(let k=0;k<this.selectionsOnLine.length;k++)if(!this.selectionsOnLine[k].equals(L[k]))return!1;return!0}equals(L){return this.useMonospaceOptimizations===L.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===L.canUseHalfwidthRightwardsArrow&&this.lineContent===L.lineContent&&this.continuesWithWrappedLine===L.continuesWithWrappedLine&&this.isBasicASCII===L.isBasicASCII&&this.containsRTL===L.containsRTL&&this.fauxIndentLength===L.fauxIndentLength&&this.tabSize===L.tabSize&&this.startVisibleColumn===L.startVisibleColumn&&this.spaceWidth===L.spaceWidth&&this.renderSpaceWidth===L.renderSpaceWidth&&this.renderSpaceCharCode===L.renderSpaceCharCode&&this.stopRenderingLineAfter===L.stopRenderingLineAfter&&this.renderWhitespace===L.renderWhitespace&&this.renderControlCharacters===L.renderControlCharacters&&this.fontLigatures===L.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,L.lineDecorations)&&this.lineTokens.equals(L.lineTokens)&&this.c(L.selectionsOnLine)}}e.RenderLineInput=C;class d{constructor(L,k){this.partIndex=L,this.charIndex=k}}e.DomPosition=d;class g{static c(L){return(L&4294901760)>>>16}static d(L){return(L&65535)>>>0}constructor(L,k){this.length=L,this.e=new Uint32Array(this.length),this.f=new Uint32Array(this.length)}setColumnInfo(L,k,I,M){const B=(k<<16|I<<0)>>>0;this.e[L-1]=B,this.f[L-1]=M}getHorizontalOffset(L){return this.f.length===0?0:this.f[L-1]}g(L){return this.length===0?0:L<0?this.e[0]:L>=this.length?this.e[this.length-1]:this.e[L]}getDomPosition(L){const k=this.g(L-1),I=g.c(k),M=g.d(k);return new d(I,M)}getColumn(L,k){return this.h(L.partIndex,k,L.charIndex)+1}h(L,k,I){if(this.length===0)return 0;const M=(L<<16|I<<0)>>>0;let B=0,z=this.length-1;for(;B+1<z;){const $=B+z>>>1,X=this.e[$];if(X===M)return $;X>M?z=$:B=$}if(B===z)return B;const P=this.e[B],A=this.e[z];if(P===M)return B;if(A===M)return z;const T=g.c(P),O=g.d(P),F=g.c(A);let W;T!==F?W=k:W=g.d(A);const V=I-O,R=W-I;return V<=R?B:z}}e.CharacterMapping=g;class i{constructor(L,k,I){this._renderLineOutputBrand=void 0,this.characterMapping=L,this.containsRTL=k,this.containsForeignElements=I}}e.RenderLineOutput=i;function t(b,L){if(b.lineContent.length===0){if(b.lineDecorations.length>0){L.appendString("<span>");let k=0,I=0,M=0;for(const z of b.lineDecorations)(z.type===1||z.type===2)&&(L.appendString('<span class="'),L.appendString(z.className),L.appendString('"></span>'),z.type===1&&(M|=1,k++),z.type===2&&(M|=2,I++));L.appendString("</span>");const B=new g(1,k+I);return B.setColumnInfo(1,k,0,0),new i(B,!1,M)}return L.appendString("<span><span></span></span>"),new i(new g(0,0),!1,0)}return S(c(b),L)}e.renderViewLine=t;class n{constructor(L,k,I,M){this.characterMapping=L,this.html=k,this.containsRTL=I,this.containsForeignElements=M}}e.RenderLineOutput2=n;function a(b){const L=new E.StringBuilder(1e4),k=t(b,L);return new n(k.characterMapping,L.build(),k.containsRTL,k.containsForeignElements)}e.renderViewLine2=a;class r{constructor(L,k,I,M,B,z,P,A,T,O,F,W,V,R,$,X){this.fontIsMonospace=L,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=I,this.len=M,this.isOverflowing=B,this.overflowingCharCount=z,this.parts=P,this.containsForeignElements=A,this.fauxIndentLength=T,this.tabSize=O,this.startVisibleColumn=F,this.containsRTL=W,this.spaceWidth=V,this.renderSpaceCharCode=R,this.renderWhitespace=$,this.renderControlCharacters=X}}function c(b){const L=b.lineContent;let k,I,M;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<L.length?(k=!0,I=L.length-b.stopRenderingLineAfter,M=b.stopRenderingLineAfter):(k=!1,I=0,M=L.length);let B=u(L,b.containsRTL,b.lineTokens,b.fauxIndentLength,M);b.renderControlCharacters&&!b.isBasicASCII&&(B=o(L,B)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&!!b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(B=h(b,L,M,B));let z=0;if(b.lineDecorations.length>0){for(let P=0,A=b.lineDecorations.length;P<A;P++){const T=b.lineDecorations[P];T.type===3||T.type===1?z|=1:T.type===2&&(z|=2)}B=f(L,M,B,b.lineDecorations)}return b.containsRTL||(B=s(L,B,!b.isBasicASCII||b.fontLigatures)),new r(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,L,M,k,I,B,z,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function u(b,L,k,I,M){const B=[];let z=0;I>0&&(B[z++]=new y.LinePart(I,"",0,!1));let P=I;for(let A=0,T=k.getCount();A<T;A++){const O=k.getEndOffset(A);if(O<=I)continue;const F=k.getClassName(A);if(O>=M){const V=L?N.containsRTL(b.substring(P,M)):!1;B[z++]=new y.LinePart(M,F,0,V);break}const W=L?N.containsRTL(b.substring(P,O)):!1;B[z++]=new y.LinePart(O,F,0,W),P=O}return B}function s(b,L,k){let I=0;const M=[];let B=0;if(k)for(let z=0,P=L.length;z<P;z++){const A=L[z],T=A.endIndex;if(I+50<T){const O=A.type,F=A.metadata,W=A.containsRTL;let V=-1,R=I;for(let $=I;$<T;$++)b.charCodeAt($)===32&&(V=$),V!==-1&&$-R>=50&&(M[B++]=new y.LinePart(V+1,O,F,W),R=V+1,V=-1);R!==T&&(M[B++]=new y.LinePart(T,O,F,W))}else M[B++]=A;I=T}else for(let z=0,P=L.length;z<P;z++){const A=L[z],T=A.endIndex,O=T-I;if(O>50){const F=A.type,W=A.metadata,V=A.containsRTL,R=Math.ceil(O/50);for(let $=1;$<R;$++){const X=I+$*50;M[B++]=new y.LinePart(X,F,W,V)}M[B++]=new y.LinePart(T,F,W,V)}else M[B++]=A;I=T}return M}function l(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function o(b,L){const k=[];let I=new y.LinePart(0,"",0,!1),M=0;for(const B of L){const z=B.endIndex;for(;M<z;M++){const P=b.charCodeAt(M);l(P)&&(M>I.endIndex&&(I=new y.LinePart(M,B.type,B.metadata,B.containsRTL),k.push(I)),I=new y.LinePart(M+1,"mtkcontrol",B.metadata,!1),k.push(I))}M>I.endIndex&&(I=new y.LinePart(z,B.type,B.metadata,B.containsRTL),k.push(I))}return k}function h(b,L,k,I){const M=b.continuesWithWrappedLine,B=b.fauxIndentLength,z=b.tabSize,P=b.startVisibleColumn,A=b.useMonospaceOptimizations,T=b.selectionsOnLine,O=b.renderWhitespace===1,F=b.renderWhitespace===3,W=b.renderSpaceWidth!==b.spaceWidth,V=[];let R=0,$=0,X=I[$].type,ne=I[$].containsRTL,ae=I[$].endIndex;const ie=I.length;let le=!1,J=N.firstNonWhitespaceIndex(L),x;J===-1?(le=!0,J=k,x=k):x=N.lastNonWhitespaceIndex(L);let q=!1,Y=0,Q=T&&T[Y],re=P%z;for(let G=B;G<k;G++){const Z=L.charCodeAt(G);Q&&G>=Q.endOffset&&(Y++,Q=T&&T[Y]);let U;if(G<J||G>x)U=!0;else if(Z===9)U=!0;else if(Z===32)if(O)if(q)U=!0;else{const j=G+1<k?L.charCodeAt(G+1):0;U=j===32||j===9}else U=!0;else U=!1;if(U&&T&&(U=!!Q&&Q.startOffset<=G&&Q.endOffset>G),U&&F&&(U=le||G>x),U&&ne&&G>=J&&G<=x&&(U=!1),q){if(!U||!A&&re>=z){if(W){const j=R>0?V[R-1].endIndex:B;for(let H=j+1;H<=G;H++)V[R++]=new y.LinePart(H,"mtkw",1,!1)}else V[R++]=new y.LinePart(G,"mtkw",1,!1);re=re%z}}else(G===ae||U&&G>B)&&(V[R++]=new y.LinePart(G,X,0,ne),re=re%z);for(Z===9?re=z:N.isFullWidthCharacter(Z)?re+=2:re++,q=U;G===ae&&($++,$<ie);)X=I[$].type,ne=I[$].containsRTL,ae=I[$].endIndex}let oe=!1;if(q)if(M&&O){const G=k>0?L.charCodeAt(k-1):0,Z=k>1?L.charCodeAt(k-2):0;G===32&&Z!==32&&Z!==9||(oe=!0)}else oe=!0;if(oe)if(W){const G=R>0?V[R-1].endIndex:B;for(let Z=G+1;Z<=k;Z++)V[R++]=new y.LinePart(Z,"mtkw",1,!1)}else V[R++]=new y.LinePart(k,"mtkw",1,!1);else V[R++]=new y.LinePart(k,X,0,ne);return V}function f(b,L,k,I){I.sort(D.LineDecoration.compare);const M=D.LineDecorationsNormalizer.normalize(b,I),B=M.length;let z=0;const P=[];let A=0,T=0;for(let F=0,W=k.length;F<W;F++){const V=k[F],R=V.endIndex,$=V.type,X=V.metadata,ne=V.containsRTL;for(;z<B&&M[z].startOffset<R;){const ae=M[z];if(ae.startOffset>T&&(T=ae.startOffset,P[A++]=new y.LinePart(T,$,X,ne)),ae.endOffset+1<=R)T=ae.endOffset+1,P[A++]=new y.LinePart(T,$+" "+ae.className,X|ae.metadata,ne),z++;else{T=R,P[A++]=new y.LinePart(T,$+" "+ae.className,X|ae.metadata,ne);break}}R>T&&(T=R,P[A++]=new y.LinePart(T,$,X,ne))}const O=k[k.length-1].endIndex;if(z<B&&M[z].startOffset===O)for(;z<B&&M[z].startOffset===O;){const F=M[z];P[A++]=new y.LinePart(T,F.className,F.metadata,!1),z++}return P}function S(b,L){const k=b.fontIsMonospace,I=b.canUseHalfwidthRightwardsArrow,M=b.containsForeignElements,B=b.lineContent,z=b.len,P=b.isOverflowing,A=b.overflowingCharCount,T=b.parts,O=b.fauxIndentLength,F=b.tabSize,W=b.startVisibleColumn,V=b.containsRTL,R=b.spaceWidth,$=b.renderSpaceCharCode,X=b.renderWhitespace,ne=b.renderControlCharacters,ae=new g(z+1,T.length);let ie=!1,le=0,J=W,x=0,q=0,Y=0;V?L.appendString('<span dir="ltr">'):L.appendString("<span>");for(let Q=0,re=T.length;Q<re;Q++){const oe=T[Q],G=oe.endIndex,Z=oe.type,U=oe.containsRTL,j=X!==0&&oe.isWhitespace(),H=j&&!k&&(Z==="mtkw"||!M),_=le===G&&oe.isPseudoAfter();if(x=0,L.appendString("<span "),U&&L.appendString('style="unicode-bidi:isolate" '),L.appendString('class="'),L.appendString(H?"mtkz":Z),L.appendASCIICharCode(34),j){let ce=0;{let ue=le,se=J;for(;ue<G;ue++){const me=(B.charCodeAt(ue)===9?F-se%F:1)|0;ce+=me,ue>=O&&(se+=me)}}for(H&&(L.appendString(' style="width:'),L.appendString(String(R*ce)),L.appendString('px"')),L.appendASCIICharCode(62);le<G;le++){ae.setColumnInfo(le+1,Q-Y,x,q),Y=0;const ue=B.charCodeAt(le);let se,he;if(ue===9){se=F-J%F|0,he=se,!I||he>1?L.appendCharCode(8594):L.appendCharCode(65515);for(let me=2;me<=he;me++)L.appendCharCode(160)}else se=2,he=1,L.appendCharCode($),L.appendCharCode(8204);x+=se,q+=he,le>=O&&(J+=he)}}else for(L.appendASCIICharCode(62);le<G;le++){ae.setColumnInfo(le+1,Q-Y,x,q),Y=0;const ce=B.charCodeAt(le);let ue=1,se=1;switch(ce){case 9:ue=F-J%F,se=ue;for(let he=1;he<=ue;he++)L.appendCharCode(160);break;case 32:L.appendCharCode(160);break;case 60:L.appendString("&lt;");break;case 62:L.appendString("&gt;");break;case 38:L.appendString("&amp;");break;case 0:ne?L.appendCharCode(9216):L.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:L.appendCharCode(65533);break;default:N.isFullWidthCharacter(ce)&&se++,ne&&ce<32?L.appendCharCode(9216+ce):ne&&ce===127?L.appendCharCode(9249):ne&&l(ce)?(L.appendString("[U+"),L.appendString(p(ce)),L.appendString("]"),ue=8,se=ue):L.appendCharCode(ce)}x+=ue,q+=se,le>=O&&(J+=se)}_?Y++:Y=0,le>=z&&!ie&&oe.isPseudoAfter()&&(ie=!0,ae.setColumnInfo(le+1,Q,x,q)),L.appendString("</span>")}return ie||ae.setColumnInfo(z+1,T.length-1,x,q),P&&(L.appendString('<span class="mtkoverflow">'),L.appendString(w.localize(0,null,m(A))),L.appendString("</span>")),L.appendString("</span>"),new i(ae,V,M)}function p(b){return b.toString(16).toUpperCase().padStart(4,"0")}function m(b){return b<1024?w.localize(1,null,b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}}),define(ee[580],te([4,5]),function(K,e){return K.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ee[581],te([4,5]),function(K,e){return K.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ee[582],te([4,5]),function(K,e){return K.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ee[583],te([4,5]),function(K,e){return K.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ee[584],te([4,5]),function(K,e){return K.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ee[585],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ee[586],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ee[587],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ee[588],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ee[589],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/codeActionUi",e)}),define(ee[590],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ee[591],te([4,5]),function(K,e){return K.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ee[592],te([4,5]),function(K,e){return K.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ee[593],te([4,5]),function(K,e){return K.create("vs/editor/contrib/comment/browser/comment",e)}),define(ee[594],te([4,5]),function(K,e){return K.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ee[595],te([4,5]),function(K,e){return K.create("vs/editor/contrib/copyPaste/browser/copyPasteContribution",e)}),define(ee[596],te([4,5]),function(K,e){return K.create("vs/editor/contrib/copyPaste/browser/copyPasteController",e)}),define(ee[597],te([4,5]),function(K,e){return K.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ee[598],te([4,5]),function(K,e){return K.create("vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution",e)}),define(ee[599],te([4,5]),function(K,e){return K.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ee[600],te([4,5]),function(K,e){return K.create("vs/editor/contrib/find/browser/findController",e)}),define(ee[601],te([4,5]),function(K,e){return K.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ee[602],te([4,5]),function(K,e){return K.create("vs/editor/contrib/folding/browser/folding",e)}),define(ee[603],te([4,5]),function(K,e){return K.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ee[604],te([4,5]),function(K,e){return K.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ee[605],te([4,5]),function(K,e){return K.create("vs/editor/contrib/format/browser/format",e)}),define(ee[606],te([4,5]),function(K,e){return K.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ee[607],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ee[608],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ee[609],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ee[610],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ee[611],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ee[612],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ee[613],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ee[614],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ee[142],te([1,0,13,6,150,2,55,43,9,3,614]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(c,u,s,l){this.isProviderFirst=c,this.parent=u,this.link=s,this.d=l,this.id=E.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,u;return(u=(c=this.c)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&u!==void 0?u:this.link.range}set range(c){this.c=c,this.d(this)}get ariaMessage(){var c;const u=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return u?(0,g.localize)(1,null,(0,v.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,u.value):(0,g.localize)(0,null,(0,v.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class t{constructor(c){this.c=c}dispose(){this.c.dispose()}preview(c,u=8){const s=this.c.object.textEditorModel;if(!s)return;const{startLineNumber:l,startColumn:o,endLineNumber:h,endColumn:f}=c,S=s.getWordUntilPosition({lineNumber:l,column:o-u}),p=new d.Range(l,S.startColumn,l,o),m=new d.Range(h,f,h,1073741824),b=s.getValueInRange(p).replace(/^\s+/,""),L=s.getValueInRange(c),k=s.getValueInRange(m).replace(/\s+$/,"");return{value:b+L+k,highlight:{start:b.length,end:b.length+L.length}}}}e.FilePreview=t;class n{constructor(c,u){this.parent=c,this.uri=u,this.children=[],this.c=new y.ResourceMap}dispose(){(0,D.dispose)(this.c.values()),this.c.clear()}getPreview(c){return this.c.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,g.localize)(2,null,(0,v.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,c,(0,v.basename)(this.uri),this.uri.fsPath)}resolve(c){return Le(this,void 0,void 0,function*(){if(this.c.size!==0)return this;for(const u of this.children)if(!this.c.has(u.uri))try{const s=yield c.createModelReference(u.uri);this.c.set(u.uri,new t(s))}catch(s){(0,w.onUnexpectedError)(s)}return this})}}e.FileReferences=n;class a{constructor(c,u){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this.c=c,this.d=u;const[s]=c;c.sort(a.e);let l;for(const o of c)if((!l||!v.extUri.isEqual(l.uri,o.uri,!0))&&(l=new n(this,o.uri),this.groups.push(l)),l.children.length===0||a.e(o,l.children[l.children.length-1])!==0){const h=new i(s===o,l,o,f=>this._onDidChangeReferenceRange.fire(f));this.references.push(h),l.children.push(h)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new a(this.c,this.d)}get title(){return this.d}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,u){const{parent:s}=c;let l=s.children.indexOf(c);const o=s.children.length,h=s.parent.groups.length;return h===1||u&&l+1<o||!u&&l>0?(u?l=(l+1)%o:l=(l+o-1)%o,s.children[l]):(l=s.parent.groups.indexOf(s),u?(l=(l+1)%h,s.parent.groups[l].children[0]):(l=(l+h-1)%h,s.parent.groups[l].children[s.parent.groups[l].children.length-1]))}nearestReference(c,u){const s=this.references.map((l,o)=>({idx:o,prefixLen:C.commonPrefixLength(l.uri.toString(),c.toString()),offsetDist:Math.abs(l.range.startLineNumber-u.lineNumber)*100+Math.abs(l.range.startColumn-u.column)})).sort((l,o)=>l.prefixLen>o.prefixLen?-1:l.prefixLen<o.prefixLen?1:l.offsetDist<o.offsetDist?-1:l.offsetDist>o.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(c,u){for(const s of this.references)if(s.uri.toString()===c.toString()&&d.Range.containsPosition(s.range,u))return s}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static e(c,u){return v.extUri.compare(c.uri,u.uri)||d.Range.compareRangesUsingStarts(c.range,u.range)}}e.ReferencesModel=a}),define(ee[615],te([4,5]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ee[616],te([4,5]),function(K,e){return K.create("vs/editor/contrib/hover/browser/hover",e)}),define(ee[617],te([4,5]),function(K,e){return K.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ee[618],te([4,5]),function(K,e){return K.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ee[619],te([4,5]),function(K,e){return K.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ee[620],te([4,5]),function(K,e){return K.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ee[621],te([4,5]),function(K,e){return K.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ee[622],te([4,5]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(ee[623],te([4,5]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(ee[624],te([4,5]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/browser/inlineSuggestionHintsWidget",e)}),define(ee[625],te([4,5]),function(K,e){return K.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ee[626],te([4,5]),function(K,e){return K.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ee[627],te([4,5]),function(K,e){return K.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ee[628],te([4,5]),function(K,e){return K.create("vs/editor/contrib/links/browser/links",e)}),define(ee[629],te([4,5]),function(K,e){return K.create("vs/editor/contrib/message/browser/messageController",e)}),define(ee[630],te([4,5]),function(K,e){return K.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ee[631],te([4,5]),function(K,e){return K.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ee[632],te([4,5]),function(K,e){return K.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ee[633],te([4,5]),function(K,e){return K.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ee[634],te([4,5]),function(K,e){return K.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ee[635],te([4,5]),function(K,e){return K.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ee[636],te([4,5]),function(K,e){return K.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ee[637],te([4,5]),function(K,e){return K.create("vs/editor/contrib/rename/browser/rename",e)}),define(ee[638],te([4,5]),function(K,e){return K.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(ee[639],te([4,5]),function(K,e){return K.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ee[640],te([4,5]),function(K,e){return K.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ee[641],te([4,5]),function(K,e){return K.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ee[642],te([4,5]),function(K,e){return K.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ee[643],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ee[644],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ee[645],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ee[646],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ee[647],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ee[648],te([4,5]),function(K,e){return K.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ee[649],te([4,5]),function(K,e){return K.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ee[650],te([4,5]),function(K,e){return K.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ee[651],te([4,5]),function(K,e){return K.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ee[652],te([4,5]),function(K,e){return K.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ee[653],te([4,5]),function(K,e){return K.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ee[654],te([4,5]),function(K,e){return K.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ee[655],te([4,5]),function(K,e){return K.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ee[656],te([4,5]),function(K,e){return K.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ee[657],te([4,5]),function(K,e){return K.create("vs/platform/action/common/actionCommonCategories",e)}),define(ee[658],te([4,5]),function(K,e){return K.create("vs/platform/actionWidget/browser/actionList",e)}),define(ee[659],te([4,5]),function(K,e){return K.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ee[660],te([4,5]),function(K,e){return K.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[661],te([4,5]),function(K,e){return K.create("vs/platform/actions/browser/toolbar",e)}),define(ee[662],te([4,5]),function(K,e){return K.create("vs/platform/actions/common/menuService",e)}),define(ee[663],te([4,5]),function(K,e){return K.create("vs/platform/audioCues/browser/audioCueService",e)}),define(ee[664],te([4,5]),function(K,e){return K.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[665],te([4,5]),function(K,e){return K.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[666],te([4,5]),function(K,e){return K.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[667],te([4,5]),function(K,e){return K.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ee[668],te([4,5]),function(K,e){return K.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[669],te([4,5]),function(K,e){return K.create("vs/platform/list/browser/listService",e)}),define(ee[670],te([4,5]),function(K,e){return K.create("vs/platform/markers/common/markers",e)}),define(ee[671],te([4,5]),function(K,e){return K.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[672],te([4,5]),function(K,e){return K.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[673],te([4,5]),function(K,e){return K.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[674],te([4,5]),function(K,e){return K.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[675],te([4,5]),function(K,e){return K.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[676],te([4,5]),function(K,e){return K.create("vs/platform/workspace/common/workspace",e)}),define(ee[677],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function w(N){return N?N.condition!==void 0:!1}e.isICommandActionToggleInfo=w}),define(ee[678],te([1,0,657]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,w.localize)(0,null),original:"View"},Help:{value:(0,w.localize)(1,null),original:"Help"},Test:{value:(0,w.localize)(2,null),original:"Test"},Preferences:{value:(0,w.localize)(3,null),original:"Preferences"},Developer:{value:(0,w.localize)(4,null),original:"Developer"}})}),define(ee[679],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var w;(function(N){N[N.API=0]="API",N[N.USER=1]="USER"})(w=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(ee[680],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class w{constructor(E){this.value=E,this.a=E.toLowerCase()}static toKey(E){return typeof E=="string"?E.toLowerCase():E.a}}e.ExtensionIdentifier=w}),define(ee[294],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var w;(function(N){N[N.FILE=0]="FILE",N[N.FOLDER=1]="FOLDER",N[N.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={}))}),define(ee[681],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function w(N){var E,D;return((E=N.lookupKeybinding("history.showPrevious"))===null||E===void 0?void 0:E.getElectronAccelerator())==="Up"&&((D=N.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=w}),define(ee[217],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class w{constructor(E,D=[],y=!1){this.ctor=E,this.staticArguments=D,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=w}),define(ee[51],te([1,0,217]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const N=[];function E(y,v,C){v instanceof w.SyncDescriptor||(v=new w.SyncDescriptor(v,[],Boolean(C))),N.push([y,v])}e.registerSingleton=E;function D(){return N}e.getSingletonServiceDescriptors=D}),define(ee[682],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(D,y){this.key=D,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=w;class N{constructor(D){this.b=D,this.a=new Map}roots(){const D=[];for(const y of this.a.values())y.outgoing.size===0&&D.push(y);return D}insertEdge(D,y){const v=this.lookupOrInsertNode(D),C=this.lookupOrInsertNode(y);v.outgoing.set(C.key,C),C.incoming.set(v.key,v)}removeNode(D){const y=this.b(D);this.a.delete(y);for(const v of this.a.values())v.outgoing.delete(y),v.incoming.delete(y)}lookupOrInsertNode(D){const y=this.b(D);let v=this.a.get(y);return v||(v=new w(y,D),this.a.set(y,v)),v}isEmpty(){return this.a.size===0}toString(){const D=[];for(const[y,v]of this.a)D.push(`${y}
	(-> incoming)[${[...v.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...v.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,y]of this.a){const v=new Set([D]),C=this.c(y,v);if(C)return C}}c(D,y){for(const[v,C]of D.outgoing){if(y.has(v))return[...y,v].join(" -> ");y.add(v);const d=this.c(C,y);if(d)return d;y.delete(v)}}}e.Graph=N}),define(ee[8],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function y(v){return v[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=y})(w=e._util||(e._util={})),e.IInstantiationService=E("instantiationService");function N(D,y,v){y[w.DI_TARGET]===y?y[w.DI_DEPENDENCIES].push({id:D,index:v}):(y[w.DI_DEPENDENCIES]=[{id:D,index:v}],y[w.DI_TARGET]=y)}function E(D){if(w.serviceIds.has(D))return w.serviceIds.get(D);const y=function(v,C,d){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N(y,v,d)};return y.toString=()=>D,w.serviceIds.set(D,y),y}e.createDecorator=E}),define(ee[143],te([1,0,8,21,18]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,w.createDecorator)("IWorkspaceEditService");class D{constructor(d){this.metadata=d}static convert(d){return d.edits.map(g=>{if(y.is(g))return y.lift(g);if(v.is(g))return v.lift(g);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class y extends D{static is(d){return d instanceof y?!0:(0,E.isObject)(d)&&N.URI.isUri(d.resource)&&(0,E.isObject)(d.textEdit)}static lift(d){return d instanceof y?d:new y(d.resource,d.textEdit,d.versionId,d.metadata)}constructor(d,g,i=void 0,t){super(t),this.resource=d,this.textEdit=g,this.versionId=i}}e.ResourceTextEdit=y;class v extends D{static is(d){return d instanceof v?!0:(0,E.isObject)(d)&&(Boolean(d.newResource)||Boolean(d.oldResource))}static lift(d){return d instanceof v?d:new v(d.oldResource,d.newResource,d.options,d.metadata)}constructor(d,g,i={},t){super(t),this.oldResource=d,this.newResource=g,this.options=i}}e.ResourceFileEdit=v}),define(ee[28],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,w.createDecorator)("codeEditorService")}),define(ee[40],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,w.createDecorator)("languageService")}),define(ee[107],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,w.createDecorator)("editorWorkerService")});var fe=this&&this.__param||function(K,e){return function(w,N){e(w,N,K)}};define(ee[683],te([1,0,6,107]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let E=class{constructor(y,v){this.d=v,this.a=new w.Emitter,this.onDidChange=this.a.event,this.b="smart",this.c=void 0,this.setOptions(y)}dispose(){var y;(y=this.c)===null||y===void 0||y.dispose()}computeDiff(y,v,C){return Le(this,void 0,void 0,function*(){if(typeof this.b!="string")return this.b.computeDiff(y,v,C);const d=yield this.d.computeDiff(y.uri,v.uri,C,this.b);if(!d)throw new Error("no diff result available");return d})}setOptions(y){var v;let C=!1;y.diffAlgorithm&&this.b!==y.diffAlgorithm&&((v=this.c)===null||v===void 0||v.dispose(),this.c=void 0,this.b=y.diffAlgorithm,typeof y.diffAlgorithm!="string"&&(this.c=y.diffAlgorithm.onDidChange(()=>this.a.fire())),C=!0),C&&this.a.fire()}};E=De([fe(1,N.IEditorWorkerService)],E),e.WorkerBasedDocumentDiffProvider=E}),define(ee[19],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,w.createDecorator)("ILanguageFeaturesService")}),define(ee[684],te([1,0,545,19,51]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.renameProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.codeActionProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.definitionProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.typeDefinitionProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.declarationProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.implementationProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentSymbolProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.inlayHintsProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.colorProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.codeLensProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentFormattingEditProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentRangeFormattingEditProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.onTypeFormattingEditProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.signatureHelpProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.hoverProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentHighlightProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.selectionRangeProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.foldingRangeProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.linkProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.inlineCompletionsProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.completionProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.linkedEditingRangeProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentRangeSemanticTokensProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentSemanticTokensProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentOnDropEditProvider=new w.LanguageFeatureRegistry(this.b.bind(this)),this.documentPasteEditProvider=new w.LanguageFeatureRegistry(this.b.bind(this))}b(v){var C;return(C=this.a)===null||C===void 0?void 0:C.call(this,v)}}e.LanguageFeaturesService=D,(0,E.registerSingleton)(N.ILanguageFeaturesService,D,1)}),define(ee[218],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,w.createDecorator)("markerDecorationsService")}),define(ee[52],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,w.createDecorator)("modelService")}),define(ee[61],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,w.createDecorator)("textModelService")}),define(ee[172],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,w.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,w.createDecorator)("textResourcePropertiesService")}),define(ee[685],te([1,0,7,2,9,72,39,87,11,3,96,48,40,135,106,171,8,405]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const s=(u=window.trustedTypes)===null||u===void 0?void 0:u.createPolicy("editorGhostText",{createHTML:m=>m});let l=class extends N.Disposable{constructor(b,L,k,I){super(),this.h=b,this.j=L,this.k=k,this.l=I,this.a=!1,this.b=this.q(this.k.createInstance(h,this.h)),this.c=this.q(new f(this.h,this.l.languageIdCodec)),this.g=void 0,this.m=this.q(new o(this.h)),this.q(this.h.onDidChangeConfiguration(M=>{(M.hasChanged(30)||M.hasChanged(111)||M.hasChanged(93)||M.hasChanged(88)||M.hasChanged(48)||M.hasChanged(47)||M.hasChanged(63))&&this.n()})),this.q((0,N.toDisposable)(()=>{var M;this.a=!0,this.n(),(M=this.g)===null||M===void 0||M.dispose(),this.g=void 0})),this.q(L.onDidChange(()=>{this.n()})),this.n()}shouldShowHoverAtViewZone(b){return this.c.viewZoneId===b}n(){var b;const L=this.j.ghostText;if(!this.h.hasModel()||!L||this.a){this.b.clear(),this.c.clear(),this.m.clear();return}const k=new Array,I=new Array;function M(A,T){if(I.length>0){const O=I[I.length-1];T&&O.decorations.push(new n.LineDecoration(O.content.length+1,O.content.length+1+A[0].length,T,0)),O.content+=A[0],A=A.slice(1)}for(const O of A)I.push({content:O,decorations:T?[new n.LineDecoration(1,O.length+1,T,0)]:[]})}L instanceof r.GhostTextReplacement?this.m.setDecorations([{range:new d.Range(L.lineNumber,L.columnStart,L.lineNumber,L.columnStart+L.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.m.setDecorations([]);const B=this.h.getModel().getLineContent(L.lineNumber);let z,P=0;for(const A of L.parts){let T=A.lines;z===void 0?(k.push({column:A.column,text:T[0],preview:A.preview}),T=T.slice(1)):M([B.substring(P,A.column-1)],void 0),T.length>0&&(M(T,"ghost-text"),z===void 0&&A.column<=B.length&&(z=A.column)),P=A.column-1}z!==void 0&&M([B.substring(P)],void 0),this.b.setParts(L.lineNumber,k,z!==void 0?{column:z,length:B.length+1-z}:void 0),this.c.updateLines(L.lineNumber,I,L.additionalReservedLineCount),0<0?this.g=this.r(new C.Position(L.lineNumber,this.h.getModel().getLineMaxColumn(L.lineNumber)),"",0):((b=this.g)===null||b===void 0||b.dispose(),this.g=void 0)}r(b,L,k){const I=this.h.getOption(47),M=document.createElement("div");M.className="suggest-preview-additional-widget",(0,D.applyFontInfo)(M,I);const B=document.createElement("span");B.className="content-spacer",B.append(L),M.append(B);const z=document.createElement("span");z.className="content-newline suggest-preview-text",z.append("\u23CE  "),M.append(z);const P=new N.DisposableStore,A=document.createElement("div");return A.className="button suggest-preview-text",A.append(`+${k} lines\u2026`),P.add(w.addStandardDisposableListener(A,"mousedown",T=>{var O;(O=this.j)===null||O===void 0||O.setExpanded(!0),T.preventDefault(),this.h.focus()})),M.append(A),new p(this.h,b,M,P)}};l=De([fe(2,c.IInstantiationService),fe(3,t.ILanguageService)],l),e.GhostTextWidget=l;class o{constructor(b){this.b=b,this.a=[]}setDecorations(b){this.b.changeDecorations(L=>{this.a=L.deltaDecorations(this.a,b)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class h{constructor(b){this.b=b,this.a=[]}dispose(){this.clear()}clear(){this.b.changeDecorations(b=>{this.a=b.deltaDecorations(this.a,[])})}setParts(b,L,k){if(!this.b.getModel())return;const M=new Array;k&&M.push({range:d.Range.fromPositions(new C.Position(b,k.column),new C.Position(b,k.column+k.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.b.changeDecorations(B=>{this.a=B.deltaDecorations(this.a,L.map(z=>({range:d.Range.fromPositions(new C.Position(b,z.column)),options:{description:"ghost-text",after:{content:z.text,inlineClassName:z.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(M))})}}class f{get viewZoneId(){return this.a}constructor(b,L){this.b=b,this.c=L,this.a=void 0}dispose(){this.clear()}clear(){this.b.changeViewZones(b=>{this.a&&(b.removeZone(this.a),this.a=void 0)})}updateLines(b,L,k){const I=this.b.getModel();if(!I)return;const{tabSize:M}=I.getOptions();this.b.changeViewZones(B=>{this.a&&(B.removeZone(this.a),this.a=void 0);const z=Math.max(L.length,k);if(z>0){const P=document.createElement("div");S(P,M,L,this.b.getOptions(),this.c),this.a=B.addZone({afterLineNumber:b,heightInLines:z,domNode:P,afterColumnAffinity:1})}})}}function S(m,b,L,k,I){const M=k.get(30),B=k.get(111),z="none",P=k.get(88),A=k.get(48),T=k.get(47),O=k.get(63),F=new g.StringBuilder(1e4);F.appendString('<div class="suggest-preview-text">');for(let R=0,$=L.length;R<$;R++){const X=L[R],ne=X.content;F.appendString('<div class="view-line'),F.appendString('" style="top:'),F.appendString(String(R*O)),F.appendString('px;width:1000000px;">');const ae=E.isBasicASCII(ne),ie=E.containsRTL(ne),le=v.LineTokens.createEmpty(ne,I);(0,a.renderViewLine)(new a.RenderLineInput(T.isMonospace&&!M,T.canUseHalfwidthRightwardsArrow,ne,!1,ae,ie,0,le,X.decorations,b,0,T.spaceWidth,T.middotWidth,T.wsmiddotWidth,B,z,P,A!==y.EditorFontLigatures.OFF,null),F),F.appendString("</div>")}F.appendString("</div>"),(0,D.applyFontInfo)(m,T);const W=F.build(),V=s?s.createHTML(W):W;m.innerHTML=V}class p extends N.Disposable{constructor(b,L,k,I){super(),this.a=b,this.b=L,this.c=k,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this.q(I),this.q((0,N.toDisposable)(()=>{this.a.removeContentWidget(this)})),this.a.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.c}getPosition(){return{position:this.b,preference:[0]}}}}),define(ee[119],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,w.createDecorator)("themeService")}),define(ee[219],te([1,0,8,663]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,w.createDecorator)("audioCue");class E{static a(v){return new E(v.fileName)}constructor(v){this.fileName=v}}E.error=E.a({fileName:"error.mp3"}),E.warning=E.a({fileName:"warning.mp3"}),E.foldedArea=E.a({fileName:"foldedAreas.mp3"}),E.break=E.a({fileName:"break.mp3"}),E.quickFixes=E.a({fileName:"quickFixes.mp3"}),E.taskCompleted=E.a({fileName:"taskCompleted.mp3"}),E.taskFailed=E.a({fileName:"taskFailed.mp3"}),E.terminalBell=E.a({fileName:"terminalBell.mp3"}),E.diffLineInserted=E.a({fileName:"diffLineInserted.mp3"}),E.diffLineDeleted=E.a({fileName:"diffLineDeleted.mp3"}),E.diffLineModified=E.a({fileName:"diffLineModified.mp3"}),e.Sound=E;class D{static b(v){const C=new D(v.sound,v.name,v.settingsKey);return D.a.add(C),C}constructor(v,C,d){this.sound=v,this.name=C,this.settingsKey=d}}D.a=new Set,D.error=D.b({name:(0,N.localize)(0,null),sound:E.error,settingsKey:"audioCues.lineHasError"}),D.warning=D.b({name:(0,N.localize)(1,null),sound:E.warning,settingsKey:"audioCues.lineHasWarning"}),D.foldedArea=D.b({name:(0,N.localize)(2,null),sound:E.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),D.break=D.b({name:(0,N.localize)(3,null),sound:E.break,settingsKey:"audioCues.lineHasBreakpoint"}),D.inlineSuggestion=D.b({name:(0,N.localize)(4,null),sound:E.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),D.terminalQuickFix=D.b({name:(0,N.localize)(5,null),sound:E.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),D.onDebugBreak=D.b({name:(0,N.localize)(6,null),sound:E.break,settingsKey:"audioCues.onDebugBreak"}),D.noInlayHints=D.b({name:(0,N.localize)(7,null),sound:E.error,settingsKey:"audioCues.noInlayHints"}),D.taskCompleted=D.b({name:(0,N.localize)(8,null),sound:E.taskCompleted,settingsKey:"audioCues.taskCompleted"}),D.taskFailed=D.b({name:(0,N.localize)(9,null),sound:E.taskFailed,settingsKey:"audioCues.taskFailed"}),D.terminalBell=D.b({name:(0,N.localize)(10,null),sound:E.terminalBell,settingsKey:"audioCues.terminalBell"}),D.notebookCellCompleted=D.b({name:(0,N.localize)(11,null),sound:E.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),D.notebookCellFailed=D.b({name:(0,N.localize)(12,null),sound:E.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),D.diffLineInserted=D.b({name:(0,N.localize)(13,null),sound:E.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),D.diffLineDeleted=D.b({name:(0,N.localize)(14,null),sound:E.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),D.diffLineModified=D.b({name:(0,N.localize)(15,null),sound:E.diffLineModified,settingsKey:"audioCues.diffLineModified"}),e.AudioCue=D}),define(ee[97],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,w.createDecorator)("clipboardService")}),define(ee[25],te([1,0,6,54,2,58,18,8]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,v.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this.a=new Map,this.b=new w.Emitter,this.onDidRegisterCommand=this.b.event}registerCommand(C,d){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!d)throw new Error("invalid command");return this.registerCommand({id:C,handler:d})}if(C.description){const a=[];for(const c of C.description.args)a.push(c.constraint);const r=C.handler;C.handler=function(c,...u){return(0,y.validateConstraints)(u,a),r(c,...u)}}const{id:g}=C;let i=this.a.get(g);i||(i=new D.LinkedList,this.a.set(g,i));const t=i.unshift(C),n=(0,E.toDisposable)(()=>{t();const a=this.a.get(g);a?.isEmpty()&&this.a.delete(g)});return this.b.fire(g),n}registerCommandAlias(C,d){return e.CommandsRegistry.registerCommand(C,(g,...i)=>g.get(e.ICommandService).executeCommand(d,...i))}getCommand(C){const d=this.a.get(C);if(!(!d||d.isEmpty()))return N.Iterable.first(d)}getCommands(){const C=new Map;for(const d of this.a.keys()){const g=this.getCommand(d);g&&C.set(d,g)}return C}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[295],te([1,0,20,13,21,52,25,18,550,3,19]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(f){return f&&!!f.data}e.isSemanticTokens=i;function t(f){return f&&Array.isArray(f.edits)}e.isSemanticTokensEdits=t;class n{constructor(S,p,m){this.provider=S,this.tokens=p,this.error=m}}e.DocumentSemanticTokensResult=n;function a(f,S){return f.has(S)}e.hasDocumentSemanticTokensProvider=a;function r(f,S){const p=f.orderedGroups(S);return p.length>0?p[0]:[]}function c(f,S,p,m,b){return Le(this,void 0,void 0,function*(){const L=r(f,S),k=yield Promise.all(L.map(I=>Le(this,void 0,void 0,function*(){let M,B=null;try{M=yield I.provideDocumentSemanticTokens(S,I===p?m:null,b)}catch(z){B=z,M=null}return(!M||!i(M)&&!t(M))&&(M=null),new n(I,M,B)})));for(const I of k){if(I.error)throw I.error;if(I.tokens)return I}return k.length>0?k[0]:null})}e.getDocumentSemanticTokens=c;function u(f,S){const p=f.orderedGroups(S);return p.length>0?p[0]:null}class s{constructor(S,p){this.provider=S,this.tokens=p}}function l(f,S){return f.has(S)}e.hasDocumentRangeSemanticTokensProvider=l;function o(f,S){const p=f.orderedGroups(S);return p.length>0?p[0]:[]}function h(f,S,p,m){return Le(this,void 0,void 0,function*(){const b=o(f,S),L=yield Promise.all(b.map(k=>Le(this,void 0,void 0,function*(){let I;try{I=yield k.provideDocumentRangeSemanticTokens(S,p,m)}catch(M){(0,N.onUnexpectedExternalError)(M),I=null}return(!I||!i(I))&&(I=null),new s(k,I)})));for(const k of L)if(k.tokens)return k;return L.length>0?L[0]:null})}e.getDocumentRangeSemanticTokens=h,y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(f,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,v.assertType)(p instanceof E.URI);const m=f.get(D.IModelService).getModel(p);if(!m)return;const{documentSemanticTokensProvider:b}=f.get(g.ILanguageFeaturesService),L=u(b,m);return L?L[0].getLegend():f.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",p)})),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(f,...S)=>Le(void 0,void 0,void 0,function*(){const[p]=S;(0,v.assertType)(p instanceof E.URI);const m=f.get(D.IModelService).getModel(p);if(!m)return;const{documentSemanticTokensProvider:b}=f.get(g.ILanguageFeaturesService);if(!a(b,m))return f.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",p,m.getFullModelRange());const L=yield c(b,m,null,null,w.CancellationToken.None);if(!L)return;const{provider:k,tokens:I}=L;if(!I||!i(I))return;const M=(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&k.releaseDocumentSemanticTokens(I.resultId),M})),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(f,...S)=>Le(void 0,void 0,void 0,function*(){const[p,m]=S;(0,v.assertType)(p instanceof E.URI);const b=f.get(D.IModelService).getModel(p);if(!b)return;const{documentRangeSemanticTokensProvider:L}=f.get(g.ILanguageFeaturesService),k=o(L,b);if(k.length===0)return;if(k.length===1)return k[0].getLegend();if(!m||!d.Range.isIRange(m))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),k[0].getLegend();const I=yield h(L,b,d.Range.lift(m),w.CancellationToken.None);if(!!I)return I.provider.getLegend()})),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(f,...S)=>Le(void 0,void 0,void 0,function*(){const[p,m]=S;(0,v.assertType)(p instanceof E.URI),(0,v.assertType)(d.Range.isIRange(m));const b=f.get(D.IModelService).getModel(p);if(!b)return;const{documentRangeSemanticTokensProvider:L}=f.get(g.ILanguageFeaturesService),k=yield h(L,b,d.Range.lift(m),w.CancellationToken.None);if(!(!k||!k.tokens))return(0,C.encodeSemanticTokensDto)({id:0,type:"full",data:k.tokens.data})}))}),define(ee[296],te([1,0,20,13,2,18,21,52,25,19]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this.c=new E.DisposableStore}dispose(){this.c.dispose()}get isDisposed(){return this.c.isDisposed}add(n,a){this.c.add(n);for(const r of n.lenses)this.lenses.push({symbol:r,provider:a})}}e.CodeLensModel=g;function i(t,n,a){return Le(this,void 0,void 0,function*(){const r=t.ordered(n),c=new Map,u=new g,s=r.map((l,o)=>Le(this,void 0,void 0,function*(){c.set(l,o);try{const h=yield Promise.resolve(l.provideCodeLenses(n,a));h&&u.add(h,l)}catch(h){(0,N.onUnexpectedExternalError)(h)}}));return yield Promise.all(s),u.lenses=u.lenses.sort((l,o)=>l.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:c.get(l.provider)<c.get(o.provider)?-1:c.get(l.provider)>c.get(o.provider)?1:l.symbol.range.startColumn<o.symbol.range.startColumn?-1:l.symbol.range.startColumn>o.symbol.range.startColumn?1:0),u})}e.getCodeLensModel=i,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(t,...n){let[a,r]=n;(0,D.assertType)(y.URI.isUri(a)),(0,D.assertType)(typeof r=="number"||!r);const{codeLensProvider:c}=t.get(d.ILanguageFeaturesService),u=t.get(v.IModelService).getModel(a);if(!u)throw(0,N.illegalArgument)();const s=[],l=new E.DisposableStore;return i(c,u,w.CancellationToken.None).then(o=>{l.add(o);const h=[];for(const f of o.lenses)r==null||Boolean(f.symbol.command)?s.push(f.symbol):r-- >0&&f.provider.resolveCodeLens&&h.push(Promise.resolve(f.provider.resolveCodeLens(u,f.symbol,w.CancellationToken.None)).then(S=>s.push(S||f.symbol)));return Promise.all(h)}).then(()=>s).finally(()=>{setTimeout(()=>l.dispose(),100)})})}),define(ee[297],te([1,0,20,13,21,3,52,25,19]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function d(i,t,n){const a=[],c=i.ordered(t).reverse().map(u=>Promise.resolve(u.provideDocumentColors(t,n)).then(s=>{if(Array.isArray(s))for(const l of s)a.push({colorInfo:l,provider:u})}));return Promise.all(c).then(()=>a)}e.getColors=d;function g(i,t,n,a){return Promise.resolve(n.provideColorPresentations(i,t,a))}e.getColorPresentations=g,v.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...t){const[n]=t;if(!(n instanceof E.URI))throw(0,N.illegalArgument)();const{colorProvider:a}=i.get(C.ILanguageFeaturesService),r=i.get(y.IModelService).getModel(n);if(!r)throw(0,N.illegalArgument)();const c=[],s=a.ordered(r).reverse().map(l=>Promise.resolve(l.provideDocumentColors(r,w.CancellationToken.None)).then(o=>{if(Array.isArray(o))for(const h of o)c.push({range:h.range,color:[h.color.red,h.color.green,h.color.blue,h.color.alpha]})}));return Promise.all(s).then(()=>c)}),v.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...t){const[n,a]=t,{uri:r,range:c}=a;if(!(r instanceof E.URI)||!Array.isArray(n)||n.length!==4||!D.Range.isIRange(c))throw(0,N.illegalArgument)();const[u,s,l,o]=n,{colorProvider:h}=i.get(C.ILanguageFeaturesService),f=i.get(y.IModelService).getModel(r);if(!f)throw(0,N.illegalArgument)();const S={range:c,color:{red:u,green:s,blue:l,alpha:o}},p=[],b=h.ordered(f).reverse().map(L=>Promise.resolve(L.provideColorPresentations(f,S,w.CancellationToken.None)).then(k=>{Array.isArray(k)&&p.push(...k)}));return Promise.all(b).then(()=>p)})}),define(ee[686],te([1,0,17,20,13,2,18,21,3,52,25,19]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class t{constructor(c,u){this.a=c,this.b=u}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this.a.range}get url(){return this.a.url}get tooltip(){return this.a.tooltip}resolve(c){return Le(this,void 0,void 0,function*(){return this.a.url?this.a.url:typeof this.b.resolveLink=="function"?Promise.resolve(this.b.resolveLink(this.a,c)).then(u=>(this.a=u||this.a,this.a.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=t;class n{constructor(c){this.a=new D.DisposableStore;let u=[];for(const[s,l]of c){const o=s.links.map(h=>new t(h,l));u=n.b(u,o),(0,D.isDisposable)(s)&&this.a.add(s)}this.links=u}dispose(){this.a.dispose(),this.links.length=0}static b(c,u){const s=[];let l,o,h,f;for(l=0,h=0,o=c.length,f=u.length;l<o&&h<f;){const S=c[l],p=u[h];if(C.Range.areIntersectingOrTouching(S.range,p.range)){l++;continue}C.Range.compareRangesUsingStarts(S.range,p.range)<0?(s.push(S),l++):(s.push(p),h++)}for(;l<o;l++)s.push(c[l]);for(;h<f;h++)s.push(u[h]);return s}}e.LinksList=n;function a(r,c,u){const s=[],l=r.ordered(c).reverse().map((o,h)=>Promise.resolve(o.provideLinks(c,u)).then(f=>{f&&(s[h]=[f,o])},E.onUnexpectedExternalError));return Promise.all(l).then(()=>{const o=new n((0,w.coalesce)(s));return u.isCancellationRequested?(o.dispose(),new n([])):o})}e.getLinks=a,g.CommandsRegistry.registerCommand("_executeLinkProvider",(r,...c)=>Le(void 0,void 0,void 0,function*(){let[u,s]=c;(0,y.assertType)(u instanceof v.URI),typeof s!="number"&&(s=0);const{linkProvider:l}=r.get(i.ILanguageFeaturesService),o=r.get(d.IModelService).getModel(u);if(!o)return[];const h=yield a(l,o,N.CancellationToken.None);if(!h)return[];for(let S=0;S<Math.min(s,h.links.length);S++)yield h.links[S].resolve(N.CancellationToken.None);const f=h.links.slice(0);return h.dispose(),f}))}),define(ee[32],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,w.createDecorator)("configurationService");function N(d,g){const i=Object.create(null);for(const t in d)E(i,t,d[t],g);return i}e.toValuesTree=N;function E(d,g,i,t){const n=g.split("."),a=n.pop();let r=d;for(let c=0;c<n.length;c++){const u=n[c];let s=r[u];switch(typeof s){case"undefined":s=r[u]=Object.create(null);break;case"object":break;default:t(`Ignoring ${g} as ${n.slice(0,c+1).join(".")} is ${JSON.stringify(s)}`);return}r=s}if(typeof r=="object"&&r!==null)try{r[a]=i}catch{t(`Ignoring ${g} as ${n.join(".")} is ${JSON.stringify(r)}`)}else t(`Ignoring ${g} as ${n.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=E;function D(d,g){const i=g.split(".");y(d,i)}e.removeFromValueTree=D;function y(d,g){const i=g.shift();if(g.length===0){delete d[i];return}if(Object.keys(d).indexOf(i)!==-1){const t=d[i];typeof t=="object"&&!Array.isArray(t)&&(y(t,g),Object.keys(t).length===0&&delete d[i])}}function v(d,g,i){function t(r,c){let u=r;for(const s of c){if(typeof u!="object"||u===null)return;u=u[s]}return u}const n=g.split("."),a=t(d,n);return typeof a>"u"?i:a}e.getConfigurationValue=v;function C(d){return d.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=C}),define(ee[298],te([1,0,26,141,266,32]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const y=5;class v{static create(u,s){return this.d.create(u,s)}constructor(u){this.f=u,this.g=Object.create(null)}create(u,s){if(u!==null&&u.depth>=this.f)return new C(u,s);let l=C.getStackElementId(u);l.length>0&&(l+="|"),l+=s;let o=this.g[l];return o||(o=new C(u,s),this.g[l]=o,o)}}v.d=new v(y);class C{constructor(u,s){this.parent=u,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(u){let s="";for(;u!==null;)s.length>0&&(s+="|"),s+=u.state,u=u.parent;return s}static d(u,s){for(;u!==null&&s!==null;){if(u===s)return!0;if(u.state!==s.state)return!1;u=u.parent,s=s.parent}return u===null&&s===null}equals(u){return C.d(this,u)}push(u){return v.create(this,u)}pop(){return this.parent}popall(){let u=this;for(;u.parent;)u=u.parent;return u}switchTo(u){return v.create(this.parent,u)}}class d{constructor(u,s){this.languageId=u,this.state=s}equals(u){return this.languageId===u.languageId&&this.state.equals(u.state)}clone(){return this.state.clone()===this.state?this:new d(this.languageId,this.state)}}class g{static create(u,s){return this.d.create(u,s)}constructor(u){this.f=u,this.g=Object.create(null)}create(u,s){if(s!==null)return new i(u,s);if(u!==null&&u.depth>=this.f)return new i(u,s);const l=C.getStackElementId(u);let o=this.g[l];return o||(o=new i(u,null),this.g[l]=o,o)}}g.d=new g(y);class i{constructor(u,s){this.stack=u,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(u){return!(u instanceof i)||!this.stack.equals(u.stack)?!1:this.embeddedLanguageData===null&&u.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||u.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(u.embeddedLanguageData)}}class t{constructor(){this.d=[],this.f=null,this.g=null,this.h=null}enterLanguage(u){this.f=u}emit(u,s){this.g===s&&this.h===this.f||(this.g=s,this.h=this.f,this.d.push(new w.Token(u,s,this.f)))}nestedLanguageTokenize(u,s,l,o){const h=l.languageId,f=l.state,S=w.TokenizationRegistry.get(h);if(!S)return this.enterLanguage(h),this.emit(o,""),f;const p=S.tokenize(u,s,f);if(o!==0)for(const m of p.tokens)this.d.push(new w.Token(m.offset+o,m.type,m.language));else this.d=this.d.concat(p.tokens);return this.g=null,this.h=null,this.f=null,p.endState}finalize(u){return new w.TokenizationResult(this.d,u)}}class n{constructor(u,s){this.d=u,this.f=s,this.g=null,this.h=[],this.j=0,this.k=0}enterLanguage(u){this.j=this.d.languageIdCodec.encodeLanguageId(u)}emit(u,s){const l=this.f.match(this.j,s)|1024;this.k!==l&&(this.k=l,this.h.push(u),this.h.push(l))}static l(u,s,l){const o=u!==null?u.length:0,h=s.length,f=l!==null?l.length:0;if(o===0&&h===0&&f===0)return new Uint32Array(0);if(o===0&&h===0)return l;if(h===0&&f===0)return u;const S=new Uint32Array(o+h+f);u!==null&&S.set(u);for(let p=0;p<h;p++)S[o+p]=s[p];return l!==null&&S.set(l,o+h),S}nestedLanguageTokenize(u,s,l,o){const h=l.languageId,f=l.state,S=w.TokenizationRegistry.get(h);if(!S)return this.enterLanguage(h),this.emit(o,""),f;const p=S.tokenizeEncoded(u,s,f);if(o!==0)for(let m=0,b=p.tokens.length;m<b;m+=2)p.tokens[m]+=o;return this.g=n.l(this.g,this.h,p.tokens),this.h=[],this.j=0,this.k=0,p.endState}finalize(u){return new w.EncodedTokenizationResult(n.l(this.g,this.h,null),u)}}let a=class Mi{constructor(u,s,l,o,h){this.m=h,this.d=u,this.f=s,this.g=l,this.h=o,this.j=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let f=!1;this.k=w.TokenizationRegistry.onDidChange(S=>{if(f)return;let p=!1;for(let m=0,b=S.changedLanguages.length;m<b;m++){const L=S.changedLanguages[m];if(this.j[L]){p=!0;break}}p&&(f=!0,w.TokenizationRegistry.fire([this.g]),f=!1)}),this.l=this.m.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this.g}),this.m.onDidChangeConfiguration(S=>{S.affectsConfiguration("editor.maxTokenizationLineLength")&&(this.l=this.m.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this.g}))})}dispose(){this.k.dispose()}getLoadStatus(){const u=[];for(const s in this.j){const l=w.TokenizationRegistry.get(s);if(l){if(l instanceof Mi){const o=l.getLoadStatus();o.loaded===!1&&u.push(o.promise)}continue}w.TokenizationRegistry.isResolved(s)||u.push(w.TokenizationRegistry.getOrCreate(s))}return u.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(u).then(s=>{})}}getInitialState(){const u=v.create(null,this.h.start);return g.create(u,null)}tokenize(u,s,l){if(u.length>=this.l)return(0,N.nullTokenize)(this.g,l);const o=new t,h=this.n(u,s,l,o);return o.finalize(h)}tokenizeEncoded(u,s,l){if(u.length>=this.l)return(0,N.nullTokenizeEncoded)(this.d.languageIdCodec.encodeLanguageId(this.g),l);const o=new n(this.d,this.f.getColorTheme().tokenTheme),h=this.n(u,s,l,o);return o.finalize(h)}n(u,s,l,o){return l.embeddedLanguageData?this.p(u,s,l,0,o):this.r(u,s,l,0,o)}o(u,s){let l=this.h.tokenizer[s.stack.state];if(!l&&(l=E.findRules(this.h,s.stack.state),!l))throw E.createError(this.h,"tokenizer state is not defined: "+s.stack.state);let o=-1,h=!1;for(const f of l){if(!E.isIAction(f.action)||f.action.nextEmbedded!=="@pop")continue;h=!0;let S=f.regex;const p=f.regex.source;if(p.substr(0,4)==="^(?:"&&p.substr(p.length-1,1)===")"){const b=(S.ignoreCase?"i":"")+(S.unicode?"u":"");S=new RegExp(p.substr(4,p.length-5),b)}const m=u.search(S);m===-1||m!==0&&f.matchOnlyAtLineStart||(o===-1||m<o)&&(o=m)}if(!h)throw E.createError(this.h,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return o}p(u,s,l,o,h){const f=this.o(u,l);if(f===-1){const m=h.nestedLanguageTokenize(u,s,l.embeddedLanguageData,o);return g.create(l.stack,new d(l.embeddedLanguageData.languageId,m))}const S=u.substring(0,f);S.length>0&&h.nestedLanguageTokenize(S,!1,l.embeddedLanguageData,o);const p=u.substring(f);return this.r(p,s,l,o+f,h)}q(u){return u?u.name:"(unknown)"}r(u,s,l,o,h){h.enterLanguage(this.g);const f=u.length,S=s&&this.h.includeLF?u+`
`:u,p=S.length;let m=l.embeddedLanguageData,b=l.stack,L=0,k=null,I=!0;for(;I||L<p;){const M=L,B=b.depth,z=k?k.groups.length:0,P=b.state;let A=null,T=null,O=null,F=null,W=null;if(k){A=k.matches;const $=k.groups.shift();T=$.matched,O=$.action,F=k.rule,k.groups.length===0&&(k=null)}else{if(!I&&L>=p)break;I=!1;let $=this.h.tokenizer[P];if(!$&&($=E.findRules(this.h,P),!$))throw E.createError(this.h,"tokenizer state is not defined: "+P);const X=S.substr(L);for(const ne of $)if((L===0||!ne.matchOnlyAtLineStart)&&(A=X.match(ne.regex),A)){T=A[0],O=ne.action;break}}if(A||(A=[""],T=""),O||(L<p&&(A=[S.charAt(L)],T=A[0]),O=this.h.defaultToken),T===null)break;for(L+=T.length;E.isFuzzyAction(O)&&E.isIAction(O)&&O.test;)O=O.test(T,A,P,L===p);let V=null;if(typeof O=="string"||Array.isArray(O))V=O;else if(O.group)V=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?V=E.substituteMatches(this.h,O.token,T,A,P):V=O.token,O.nextEmbedded)if(O.nextEmbedded==="@pop"){if(!m)throw E.createError(this.h,"cannot pop embedded language if not inside one");m=null}else{if(m)throw E.createError(this.h,"cannot enter embedded language from within an embedded language");W=E.substituteMatches(this.h,O.nextEmbedded,T,A,P)}if(O.goBack&&(L=Math.max(0,L-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let $=E.substituteMatches(this.h,O.switchTo,T,A,P);if($[0]==="@"&&($=$.substr(1)),E.findRules(this.h,$))b=b.switchTo($);else throw E.createError(this.h,"trying to switch to a state '"+$+"' that is undefined in rule: "+this.q(F))}else{if(O.transform&&typeof O.transform=="function")throw E.createError(this.h,"action.transform not supported");if(O.next)if(O.next==="@push"){if(b.depth>=this.h.maxStack)throw E.createError(this.h,"maximum tokenizer stack size reached: ["+b.state+","+b.parent.state+",...]");b=b.push(P)}else if(O.next==="@pop"){if(b.depth<=1)throw E.createError(this.h,"trying to pop an empty stack in rule: "+this.q(F));b=b.pop()}else if(O.next==="@popall")b=b.popall();else{let $=E.substituteMatches(this.h,O.next,T,A,P);if($[0]==="@"&&($=$.substr(1)),E.findRules(this.h,$))b=b.push($);else throw E.createError(this.h,"trying to set a next state '"+$+"' that is undefined in rule: "+this.q(F))}}O.log&&typeof O.log=="string"&&E.log(this.h,this.h.languageId+": "+E.substituteMatches(this.h,O.log,T,A,P))}if(V===null)throw E.createError(this.h,"lexer rule has no well-defined action in rule: "+this.q(F));const R=$=>{const X=this.d.getLanguageIdByLanguageName($)||this.d.getLanguageIdByMimeType($)||$,ne=this.s(X);if(L<p){const ae=u.substr(L);return this.p(ae,s,g.create(b,ne),o+L,h)}else return g.create(b,ne)};if(Array.isArray(V)){if(k&&k.groups.length>0)throw E.createError(this.h,"groups cannot be nested: "+this.q(F));if(A.length!==V.length+1)throw E.createError(this.h,"matched number of groups does not match the number of actions in rule: "+this.q(F));let $=0;for(let X=1;X<A.length;X++)$+=A[X].length;if($!==T.length)throw E.createError(this.h,"with groups, all characters should be matched in consecutive groups in rule: "+this.q(F));k={rule:F,matches:A,groups:[]};for(let X=0;X<V.length;X++)k.groups[X]={action:V[X],matched:A[X+1]};L-=T.length;continue}else{if(V==="@rematch"&&(L-=T.length,T="",A=null,V="",W!==null))return R(W);if(T.length===0){if(p===0||B!==b.depth||P!==b.state||(k?k.groups.length:0)!==z)continue;throw E.createError(this.h,"no progress in tokenizer in rule: "+this.q(F))}let $=null;if(E.isString(V)&&V.indexOf("@brackets")===0){const X=V.substr(9),ne=r(this.h,T);if(!ne)throw E.createError(this.h,"@brackets token returned but no bracket defined as: "+T);$=E.sanitize(ne.token+X)}else{const X=V===""?"":V+this.h.tokenPostfix;$=E.sanitize(X)}M<f&&h.emit(M+o,$)}if(W!==null)return R(W)}return g.create(b,m)}s(u){if(!this.d.isRegisteredLanguageId(u))return new d(u,N.NullState);u!==this.g&&(w.TokenizationRegistry.getOrCreate(u),this.j[u]=!0);const s=w.TokenizationRegistry.get(u);return s?new d(u,s.getInitialState()):new d(u,N.NullState)}};a=De([fe(4,D.IConfigurationService)],a),e.MonarchTokenizer=a;function r(c,u){if(!u)return null;u=E.fixCase(c,u);const s=c.brackets;for(const l of s){if(l.open===u)return{token:l.token,bracketType:1};if(l.close===u)return{token:l.token,bracketType:-1}}return null}}),define(ee[687],te([1,0,9,87,26,106,80,298]),function(K,e,w,N,E,D,y,v){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const d=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("standaloneColorizer",{createHTML:a=>a});class g{static colorizeElement(r,c,u,s){s=s||{};const l=s.theme||"vs",o=s.mimeType||u.getAttribute("lang")||u.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const h=c.getLanguageIdByMimeType(o)||o;r.setTheme(l);const f=u.firstChild?u.firstChild.nodeValue:"";u.className+=" "+l;const S=p=>{var m;const b=(m=d?.createHTML(p))!==null&&m!==void 0?m:p;u.innerHTML=b};return this.colorize(c,f||"",h,s).then(S,p=>console.error(p))}static colorize(r,c,u,s){return Le(this,void 0,void 0,function*(){const l=r.languageIdCodec;let o=4;s&&typeof s.tabSize=="number"&&(o=s.tabSize),w.startsWithUTF8BOM(c)&&(c=c.substr(1));const h=w.splitLines(c);if(!r.isRegisteredLanguageId(u))return t(h,o,l);const f=yield E.TokenizationRegistry.getOrCreate(u);return f?i(h,o,f,l):t(h,o,l)})}static colorizeLine(r,c,u,s,l=4){const o=y.ViewLineRenderingData.isBasicASCII(r,c),h=y.ViewLineRenderingData.containsRTL(r,o,u);return(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,r,!1,o,h,0,s,[],l,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,c,u=4){const s=r.getLineContent(c);r.tokenization.forceTokenization(c);const o=r.tokenization.getLineTokens(c).inflate();return this.colorizeLine(s,r.mightContainNonBasicASCII(),r.mightContainRTL(),o,u)}}e.Colorizer=g;function i(a,r,c,u){return new Promise((s,l)=>{const o=()=>{const h=n(a,r,c,u);if(c instanceof v.MonarchTokenizer){const f=c.getLoadStatus();if(f.loaded===!1){f.promise.then(o,l);return}}s(h)};o()})}function t(a,r,c){let u=[];const l=new Uint32Array(2);l[0]=0,l[1]=33587200;for(let o=0,h=a.length;o<h;o++){const f=a[o];l[0]=f.length;const S=new N.LineTokens(l,f,c),p=y.ViewLineRenderingData.isBasicASCII(f,!0),m=y.ViewLineRenderingData.containsRTL(f,p,!0),b=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,f,!1,p,m,0,S,[],r,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(b.html),u.push("<br/>")}return u.join("")}function n(a,r,c,u){let s=[],l=c.getInitialState();for(let o=0,h=a.length;o<h;o++){const f=a[o],S=c.tokenizeEncoded(f,!0,l);N.LineTokens.convertToEndOffset(S.tokens,f.length);const p=new N.LineTokens(S.tokens,f,u),m=y.ViewLineRenderingData.isBasicASCII(f,!0),b=y.ViewLineRenderingData.containsRTL(f,m,!0),L=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,f,!1,m,b,0,p.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(L.html),s.push("<br/>"),l=S.endState}return s.join("")}}),define(ee[15],te([1,0,16,9,8]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const D=new Map;D.set("false",!1),D.set("true",!0),D.set("isMac",w.isMacintosh),D.set("isLinux",w.isLinux),D.set("isWindows",w.isWindows),D.set("isWeb",w.isWeb),D.set("isMacNative",w.isMacintosh&&!w.isWeb),D.set("isEdge",w.isEdge),D.set("isFirefox",w.isFirefox),D.set("isChrome",w.isChrome),D.set("isSafari",w.isSafari);const y=Object.prototype.hasOwnProperty;class v{static has(T){return t.create(T)}static equals(T,O){return n.create(T,O)}static regex(T,O){return S.create(T,O)}static not(T){return u.create(T)}static and(...T){return b.create(T,null,!0)}static or(...T){return L.create(T,null,!0)}static deserialize(T,O=!1){if(!!T)return this.c(T,O)}static c(T,O){const F=T.split("||");return L.create(F.map(W=>this.d(W,O)),null,!0)}static d(T,O){const F=T.split("&&");return b.create(F.map(W=>this.f(W,O)),null,!0)}static f(T,O){if(T=T.trim(),T.indexOf("!=")>=0){const F=T.split("!=");return c.create(F[0].trim(),this.g(F[1],O))}if(T.indexOf("==")>=0){const F=T.split("==");return n.create(F[0].trim(),this.g(F[1],O))}if(T.indexOf("=~")>=0){const F=T.split("=~");return S.create(F[0].trim(),this.h(F[1],O))}if(T.indexOf(" not in ")>=0){const F=T.split(" not in ");return r.create(F[0].trim(),this.g(F[1],O))}if(T.indexOf(" in ")>=0){const F=T.split(" in ");return a.create(F[0].trim(),this.g(F[1],O))}if(/^[^<=>]+>=[^<=>]+$/.test(T)){const F=T.split(">=");return o.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(T)){const F=T.split(">");return l.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(T)){const F=T.split("<=");return f.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(T)){const F=T.split("<");return h.create(F[0].trim(),F[1].trim())}return/^\!\s*/.test(T)?u.create(T.substr(1).trim()):t.create(T)}static g(T,O){if(T=T.trim(),T==="true")return!0;if(T==="false")return!1;const F=/^'([^']*)'$/.exec(T);return F?F[1].trim():T}static h(T,O){if((0,N.isFalsyOrWhitespace)(T)){if(O)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const F=T.indexOf("/"),W=T.lastIndexOf("/");if(F===W||F<0){if(O)throw new Error(`bad regexp-value '${T}', missing /-enclosure`);return console.warn(`bad regexp-value '${T}', missing /-enclosure`),null}const V=T.slice(F+1,W),R=T[W+1]==="i"?"i":"";try{return new RegExp(V,R)}catch($){if(O)throw new Error(`bad regexp-value '${T}', parse error: ${$}`);return console.warn(`bad regexp-value '${T}', parse error: ${$}`),null}}}e.ContextKeyExpr=v;function C(A,T){const O=A?A.substituteConstants():void 0,F=T?T.substituteConstants():void 0;return!O&&!F?!0:!O||!F?!1:O.equals(F)}e.expressionsAreEqualWithConstantSubstitution=C;function d(A,T){return A.cmp(T)}class g{constructor(){this.type=0}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!1}serialize(){return"false"}keys(){return[]}negate(){return i.INSTANCE}}g.INSTANCE=new g,e.ContextKeyFalseExpr=g;class i{constructor(){this.type=1}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}i.INSTANCE=new i,e.ContextKeyTrueExpr=i;class t{static create(T,O=null){const F=D.get(T);return typeof F=="boolean"?F?i.INSTANCE:g.INSTANCE:new t(T,O)}constructor(T,O){this.key=T,this.c=O,this.type=2}cmp(T){return T.type!==this.type?this.type-T.type:I(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=D.get(this.key);return typeof T=="boolean"?T?i.INSTANCE:g.INSTANCE:this}evaluate(T){return!!T.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.c||(this.c=u.create(this.key,this)),this.c}}e.ContextKeyDefinedExpr=t;class n{static create(T,O,F=null){if(typeof O=="boolean")return O?t.create(T,F):u.create(T,F);const W=D.get(T);return typeof W=="boolean"?O===(W?"true":"false")?i.INSTANCE:g.INSTANCE:new n(T,O,F)}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=4}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){const T=D.get(this.c);if(typeof T=="boolean"){const O=T?"true":"false";return this.d===O?i.INSTANCE:g.INSTANCE}return this}evaluate(T){return T.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}negate(){return this.f||(this.f=c.create(this.c,this.d,this)),this.f}}e.ContextKeyEqualsExpr=n;class a{static create(T,O){return new a(T,O)}constructor(T,O){this.d=T,this.f=O,this.type=10,this.c=null}cmp(T){return T.type!==this.type?this.type-T.type:M(this.d,this.f,T.d,T.f)}equals(T){return T.type===this.type?this.d===T.d&&this.f===T.f:!1}substituteConstants(){return this}evaluate(T){const O=T.getValue(this.f),F=T.getValue(this.d);return Array.isArray(O)?O.includes(F):typeof F=="string"&&typeof O=="object"&&O!==null?y.call(O,F):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}negate(){return this.c||(this.c=r.create(this.d,this.f)),this.c}}e.ContextKeyInExpr=a;class r{static create(T,O){return new r(T,O)}constructor(T,O){this.d=T,this.f=O,this.type=11,this.c=a.create(T,O)}cmp(T){return T.type!==this.type?this.type-T.type:this.c.cmp(T.c)}equals(T){return T.type===this.type?this.c.equals(T.c):!1}substituteConstants(){return this}evaluate(T){return!this.c.evaluate(T)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}negate(){return this.c}}e.ContextKeyNotInExpr=r;class c{static create(T,O,F=null){if(typeof O=="boolean")return O?u.create(T,F):t.create(T,F);const W=D.get(T);return typeof W=="boolean"?O===(W?"true":"false")?g.INSTANCE:i.INSTANCE:new c(T,O,F)}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=5}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){const T=D.get(this.c);if(typeof T=="boolean"){const O=T?"true":"false";return this.d===O?g.INSTANCE:i.INSTANCE}return this}evaluate(T){return T.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}negate(){return this.f||(this.f=n.create(this.c,this.d,this)),this.f}}e.ContextKeyNotEqualsExpr=c;class u{static create(T,O=null){const F=D.get(T);return typeof F=="boolean"?F?g.INSTANCE:i.INSTANCE:new u(T,O)}constructor(T,O){this.c=T,this.d=O,this.type=3}cmp(T){return T.type!==this.type?this.type-T.type:I(this.c,T.c)}equals(T){return T.type===this.type?this.c===T.c:!1}substituteConstants(){const T=D.get(this.c);return typeof T=="boolean"?T?g.INSTANCE:i.INSTANCE:this}evaluate(T){return!T.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}negate(){return this.d||(this.d=t.create(this.c,this)),this.d}}e.ContextKeyNotExpr=u;function s(A,T){if(typeof A=="string"){const O=parseFloat(A);isNaN(O)||(A=O)}return typeof A=="string"||typeof A=="number"?T(A):g.INSTANCE}class l{static create(T,O,F=null){return s(O,W=>new l(T,W,F))}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=12}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){return this}evaluate(T){return typeof this.d=="string"?!1:parseFloat(T.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}negate(){return this.f||(this.f=f.create(this.c,this.d,this)),this.f}}e.ContextKeyGreaterExpr=l;class o{static create(T,O,F=null){return s(O,W=>new o(T,W,F))}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=13}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){return this}evaluate(T){return typeof this.d=="string"?!1:parseFloat(T.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}negate(){return this.f||(this.f=h.create(this.c,this.d,this)),this.f}}e.ContextKeyGreaterEqualsExpr=o;class h{static create(T,O,F=null){return s(O,W=>new h(T,W,F))}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=14}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){return this}evaluate(T){return typeof this.d=="string"?!1:parseFloat(T.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}negate(){return this.f||(this.f=o.create(this.c,this.d,this)),this.f}}e.ContextKeySmallerExpr=h;class f{static create(T,O,F=null){return s(O,W=>new f(T,W,F))}constructor(T,O,F){this.c=T,this.d=O,this.f=F,this.type=15}cmp(T){return T.type!==this.type?this.type-T.type:M(this.c,this.d,T.c,T.d)}equals(T){return T.type===this.type?this.c===T.c&&this.d===T.d:!1}substituteConstants(){return this}evaluate(T){return typeof this.d=="string"?!1:parseFloat(T.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}negate(){return this.f||(this.f=l.create(this.c,this.d,this)),this.f}}e.ContextKeySmallerEqualsExpr=f;class S{static create(T,O){return new S(T,O)}constructor(T,O){this.d=T,this.f=O,this.type=7,this.c=null}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.d<T.d)return-1;if(this.d>T.d)return 1;const O=this.f?this.f.source:"",F=T.f?T.f.source:"";return O<F?-1:O>F?1:0}equals(T){if(T.type===this.type){const O=this.f?this.f.source:"",F=T.f?T.f.source:"";return this.d===T.d&&O===F}return!1}substituteConstants(){return this}evaluate(T){const O=T.getValue(this.d);return this.f?this.f.test(O):!1}serialize(){const T=this.f?`/${this.f.source}/${this.f.ignoreCase?"i":""}`:"/invalid/";return`${this.d} =~ ${T}`}keys(){return[this.d]}negate(){return this.c||(this.c=p.create(this)),this.c}}e.ContextKeyRegexExpr=S;class p{static create(T){return new p(T)}constructor(T){this.c=T,this.type=8}cmp(T){return T.type!==this.type?this.type-T.type:this.c.cmp(T.c)}equals(T){return T.type===this.type?this.c.equals(T.c):!1}substituteConstants(){return this}evaluate(T){return!this.c.evaluate(T)}serialize(){throw new Error("Method not implemented.")}keys(){return this.c.keys()}negate(){return this.c}}e.ContextKeyNotRegexExpr=p;function m(A){let T=null;for(let O=0,F=A.length;O<F;O++){const W=A[O].substituteConstants();if(A[O]!==W&&T===null){T=[];for(let V=0;V<O;V++)T[V]=A[V]}T!==null&&(T[O]=W)}return T===null?A:T}class b{static create(T,O,F){return b.d(T,O,F)}constructor(T,O){this.expr=T,this.c=O,this.type=6}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let O=0,F=this.expr.length;O<F;O++){const W=d(this.expr[O],T.expr[O]);if(W!==0)return W}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let O=0,F=this.expr.length;O<F;O++)if(!this.expr[O].equals(T.expr[O]))return!1;return!0}return!1}substituteConstants(){const T=m(this.expr);return T===this.expr?this:b.create(T,this.c,!1)}evaluate(T){for(let O=0,F=this.expr.length;O<F;O++)if(!this.expr[O].evaluate(T))return!1;return!0}static d(T,O,F){const W=[];let V=!1;for(const R of T)if(!!R){if(R.type===1){V=!0;continue}if(R.type===0)return g.INSTANCE;if(R.type===6){W.push(...R.expr);continue}W.push(R)}if(W.length===0&&V)return i.INSTANCE;if(W.length!==0){if(W.length===1)return W[0];W.sort(d);for(let R=1;R<W.length;R++)W[R-1].equals(W[R])&&(W.splice(R,1),R--);if(W.length===1)return W[0];for(;W.length>1;){const R=W[W.length-1];if(R.type!==9)break;W.pop();const $=W.pop(),X=W.length===0,ne=L.create(R.expr.map(ae=>b.create([ae,$],null,F)),null,X);ne&&(W.push(ne),W.sort(d))}if(W.length===1)return W[0];if(F){for(let R=0;R<W.length;R++)for(let $=R+1;$<W.length;$++)if(W[R].negate().equals(W[$]))return g.INSTANCE;if(W.length===1)return W[0]}return new b(W,O)}}serialize(){return this.expr.map(T=>T.serialize()).join(" && ")}keys(){const T=[];for(const O of this.expr)T.push(...O.keys());return T}negate(){if(!this.c){const T=[];for(const O of this.expr)T.push(O.negate());this.c=L.create(T,this,!0)}return this.c}}class L{static create(T,O,F){return L.d(T,O,F)}constructor(T,O){this.expr=T,this.c=O,this.type=9}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let O=0,F=this.expr.length;O<F;O++){const W=d(this.expr[O],T.expr[O]);if(W!==0)return W}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let O=0,F=this.expr.length;O<F;O++)if(!this.expr[O].equals(T.expr[O]))return!1;return!0}return!1}substituteConstants(){const T=m(this.expr);return T===this.expr?this:L.create(T,this.c,!1)}evaluate(T){for(let O=0,F=this.expr.length;O<F;O++)if(this.expr[O].evaluate(T))return!0;return!1}static d(T,O,F){let W=[],V=!1;if(T){for(let R=0,$=T.length;R<$;R++){const X=T[R];if(!!X){if(X.type===0){V=!0;continue}if(X.type===1)return i.INSTANCE;if(X.type===9){W=W.concat(X.expr);continue}W.push(X)}}if(W.length===0&&V)return g.INSTANCE;W.sort(d)}if(W.length!==0){if(W.length===1)return W[0];for(let R=1;R<W.length;R++)W[R-1].equals(W[R])&&(W.splice(R,1),R--);if(W.length===1)return W[0];if(F){for(let R=0;R<W.length;R++)for(let $=R+1;$<W.length;$++)if(W[R].negate().equals(W[$]))return i.INSTANCE;if(W.length===1)return W[0]}return new L(W,O)}}serialize(){return this.expr.map(T=>T.serialize()).join(" || ")}keys(){const T=[];for(const O of this.expr)T.push(...O.keys());return T}negate(){if(!this.c){const T=[];for(const O of this.expr)T.push(O.negate());for(;T.length>1;){const O=T.shift(),F=T.shift(),W=[];for(const V of P(O))for(const R of P(F))W.push(b.create([V,R],null,!1));T.unshift(L.create(W,null,!1))}this.c=L.create(T,this,!0)}return this.c}}class k extends t{static all(){return k.d.values()}constructor(T,O,F){super(T,null),this.f=O,typeof F=="object"?k.d.push(Object.assign(Object.assign({},F),{key:T})):F!==!0&&k.d.push({key:T,description:F,type:O!=null?typeof O:void 0})}bindTo(T){return T.createKey(this.key,this.f)}getValue(T){return T.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(T){return n.create(this.key,T)}}k.d=[],e.RawContextKey=k,e.IContextKeyService=(0,E.createDecorator)("contextKeyService");function I(A,T){return A<T?-1:A>T?1:0}function M(A,T,O,F){return A<O?-1:A>O?1:T<F?-1:T>F?1:0}function B(A,T){if(A.type===0||T.type===1)return!0;if(A.type===9)return T.type===9?z(A.expr,T.expr):!1;if(T.type===9){for(const O of T.expr)if(B(A,O))return!0;return!1}if(A.type===6){if(T.type===6)return z(T.expr,A.expr);for(const O of A.expr)if(B(O,T))return!0;return!1}return A.equals(T)}e.implies=B;function z(A,T){let O=0,F=0;for(;O<A.length&&F<T.length;){const W=A[O].cmp(T[F]);if(W<0)return!1;W===0&&O++,F++}return O===A.length}function P(A){return A.type===9?A.expr:[A]}}),define(ee[23],te([1,0,575,15]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var E;(function(D){D.editorSimpleInput=new N.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new N.RawContextKey("editorTextFocus",!1,w.localize(0,null)),D.focus=new N.RawContextKey("editorFocus",!1,w.localize(1,null)),D.textInputFocus=new N.RawContextKey("textInputFocus",!1,w.localize(2,null)),D.readOnly=new N.RawContextKey("editorReadonly",!1,w.localize(3,null)),D.inDiffEditor=new N.RawContextKey("inDiffEditor",!1,w.localize(4,null)),D.columnSelection=new N.RawContextKey("editorColumnSelection",!1,w.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new N.RawContextKey("editorHasSelection",!1,w.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new N.RawContextKey("editorHasMultipleSelections",!1,w.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new N.RawContextKey("editorTabMovesFocus",!1,w.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new N.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new N.RawContextKey("canUndo",!1,!0),D.canRedo=new N.RawContextKey("canRedo",!1,!0),D.hoverVisible=new N.RawContextKey("editorHoverVisible",!1,w.localize(9,null)),D.inCompositeEditor=new N.RawContextKey("inCompositeEditor",void 0,w.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new N.RawContextKey("editorLangId","",w.localize(11,null)),D.hasCompletionItemProvider=new N.RawContextKey("editorHasCompletionItemProvider",!1,w.localize(12,null)),D.hasCodeActionsProvider=new N.RawContextKey("editorHasCodeActionsProvider",!1,w.localize(13,null)),D.hasCodeLensProvider=new N.RawContextKey("editorHasCodeLensProvider",!1,w.localize(14,null)),D.hasDefinitionProvider=new N.RawContextKey("editorHasDefinitionProvider",!1,w.localize(15,null)),D.hasDeclarationProvider=new N.RawContextKey("editorHasDeclarationProvider",!1,w.localize(16,null)),D.hasImplementationProvider=new N.RawContextKey("editorHasImplementationProvider",!1,w.localize(17,null)),D.hasTypeDefinitionProvider=new N.RawContextKey("editorHasTypeDefinitionProvider",!1,w.localize(18,null)),D.hasHoverProvider=new N.RawContextKey("editorHasHoverProvider",!1,w.localize(19,null)),D.hasDocumentHighlightProvider=new N.RawContextKey("editorHasDocumentHighlightProvider",!1,w.localize(20,null)),D.hasDocumentSymbolProvider=new N.RawContextKey("editorHasDocumentSymbolProvider",!1,w.localize(21,null)),D.hasReferenceProvider=new N.RawContextKey("editorHasReferenceProvider",!1,w.localize(22,null)),D.hasRenameProvider=new N.RawContextKey("editorHasRenameProvider",!1,w.localize(23,null)),D.hasSignatureHelpProvider=new N.RawContextKey("editorHasSignatureHelpProvider",!1,w.localize(24,null)),D.hasInlayHintsProvider=new N.RawContextKey("editorHasInlayHintsProvider",!1,w.localize(25,null)),D.hasDocumentFormattingProvider=new N.RawContextKey("editorHasDocumentFormattingProvider",!1,w.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,w.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,w.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.localize(29,null))})(E=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[220],te([1,0,20,13,18,21,11,26,19,61,25,15]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new i.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new i.RawContextKey("parameterHintsMultipleSignatures",!1)};function t(n,a,r,c,u){return Le(this,void 0,void 0,function*(){const s=n.ordered(a);for(const l of s)try{const o=yield l.provideSignatureHelp(a,r,u,c);if(o)return o}catch(o){(0,N.onUnexpectedExternalError)(o)}})}e.provideSignatureHelp=t,g.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(n,...a)=>Le(void 0,void 0,void 0,function*(){const[r,c,u]=a;(0,E.assertType)(D.URI.isUri(r)),(0,E.assertType)(y.Position.isIPosition(c)),(0,E.assertType)(typeof u=="string"||!u);const s=n.get(C.ILanguageFeaturesService),l=yield n.get(d.ITextModelService).createModelReference(r);try{const o=yield t(s.signatureHelpProvider,l.object.textEditorModel,y.Position.lift(c),{triggerKind:v.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:u},w.CancellationToken.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{l.dispose()}}))}),define(ee[688],te([1,0,12,13,6,2,113,26,220]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var d;(function(t){t.Default={type:0};class n{constructor(c,u){this.request=c,this.previouslyActiveHints=u,this.type=2}}t.Pending=n;class a{constructor(c){this.hints=c,this.type=1}}t.Active=a})(d||(d={}));class g extends D.Disposable{constructor(n,a,r=g.a){super(),this.b=this.q(new E.Emitter),this.onChangedHints=this.b.event,this.h=!1,this.i=d.Default,this.j=[],this.k=this.q(new D.MutableDisposable),this.l=new y.CharacterSet,this.m=new y.CharacterSet,this.p=0,this.c=n,this.g=a,this.n=new w.Delayer(r),this.q(this.c.onDidBlurEditorWidget(()=>this.cancel())),this.q(this.c.onDidChangeConfiguration(()=>this.C())),this.q(this.c.onDidChangeModel(c=>this.w())),this.q(this.c.onDidChangeModelLanguage(c=>this.w())),this.q(this.c.onDidChangeCursorSelection(c=>this.z(c))),this.q(this.c.onDidChangeModelContent(c=>this.B())),this.q(this.g.onDidChange(this.w,this)),this.q(this.c.onDidType(c=>this.y(c))),this.C(),this.w()}get r(){return this.i}set r(n){this.i.type===2&&this.i.request.cancel(),this.i=n}cancel(n=!1){this.r=d.Default,this.n.cancel(),n||this.b.fire(void 0)}trigger(n,a){const r=this.c.getModel();if(!r||!this.g.has(r))return;const c=++this.p;this.j.push(n),this.n.trigger(()=>this.t(c),a).catch(N.onUnexpectedError)}next(){if(this.r.type!==1)return;const n=this.r.hints.signatures.length,a=this.r.hints.activeSignature,r=a%n===n-1,c=this.c.getOption(81).cycle;if((n<2||r)&&!c){this.cancel();return}this.s(r&&c?0:a+1)}previous(){if(this.r.type!==1)return;const n=this.r.hints.signatures.length,a=this.r.hints.activeSignature,r=a===0,c=this.c.getOption(81).cycle;if((n<2||r)&&!c){this.cancel();return}this.s(r&&c?n-1:a-1)}s(n){this.r.type===1&&(this.r=new d.Active(Object.assign(Object.assign({},this.r.hints),{activeSignature:n})),this.b.fire(this.r.hints))}t(n){return Le(this,void 0,void 0,function*(){const a=this.r.type===1||this.r.type===2,r=this.u();if(this.cancel(!0),this.j.length===0)return!1;const c=this.j.reduce(i);this.j=[];const u={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:a,activeSignatureHelp:r};if(!this.c.hasModel())return!1;const s=this.c.getModel(),l=this.c.getPosition();this.r=new d.Pending((0,w.createCancelablePromise)(o=>(0,C.provideSignatureHelp)(this.g,s,l,u,o)),r);try{const o=yield this.r.request;return n!==this.p?(o?.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o?.dispose(),this.k.clear(),this.cancel(),!1):(this.r=new d.Active(o.value),this.k.value=o,this.b.fire(this.r.hints),!0)}catch(o){return n===this.p&&(this.r=d.Default),(0,N.onUnexpectedError)(o),!1}})}u(){switch(this.r.type){case 1:return this.r.hints;case 2:return this.r.previouslyActiveHints;default:return}}get v(){return this.r.type===1||this.r.type===2||this.n.isTriggered()}w(){this.cancel(),this.l.clear(),this.m.clear();const n=this.c.getModel();if(!!n)for(const a of this.g.ordered(n)){for(const r of a.signatureHelpTriggerCharacters||[])if(r.length){const c=r.charCodeAt(0);this.l.add(c),this.m.add(c)}for(const r of a.signatureHelpRetriggerCharacters||[])r.length&&this.m.add(r.charCodeAt(0))}}y(n){if(!this.h)return;const a=n.length-1,r=n.charCodeAt(a);(this.l.has(r)||this.v&&this.m.has(r))&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(a)})}z(n){n.source==="mouse"?this.cancel():this.v&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.ContentChange})}B(){this.v&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.ContentChange})}C(){this.h=this.c.getOption(81).enabled,this.h||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}g.a=120,e.ParameterHintsModel=g;function i(t,n){switch(n.triggerKind){case v.SignatureHelpTriggerKind.Invoke:return n;case v.SignatureHelpTriggerKind.ContentChange:return t;case v.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(ee[689],te([1,0,15]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let N=class jt{constructor(D,y){this.g=D,this.b=0,this.a=jt.OtherSuggestions.bindTo(y)}dispose(){this.reset()}reset(){var D;this.a.reset(),(D=this.e)===null||D===void 0||D.dispose(),this.c=void 0,this.d=void 0,this.f=!1}set({model:D,index:y},v){if(D.items.length===0){this.reset();return}if(jt.h(!0,D,y)===y){this.reset();return}this.d=v,this.c=D,this.b=y,this.e=this.g.onDidChangeCursorPosition(()=>{this.f||this.reset()}),this.a.set(!0)}static h(D,y,v){let C=v;for(;C=(C+y.items.length+(D?1:-1))%y.items.length,!(C===v||!y.items[C].completion.additionalTextEdits););return C}next(){this.i(!0)}prev(){this.i(!1)}i(D){if(!!this.c)try{this.f=!0,this.b=jt.h(D,this.c,this.b),this.d({index:this.b,item:this.c.items[this.b],model:this.c})}finally{this.f=!1}}};N.OtherSuggestions=new w.RawContextKey("hasOtherSuggestions",!1),N=De([fe(1,w.IContextKeyService)],N),e.SuggestAlternatives=N}),define(ee[690],te([1,0,15]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let N=class Pi{constructor(D,y){this.f=D,this.c=!1,this.a=Pi.AtEnd.bindTo(y),this.b=this.f.onDidChangeConfiguration(v=>v.hasChanged(117)&&this.g()),this.g()}dispose(){var D;this.b.dispose(),(D=this.d)===null||D===void 0||D.dispose(),this.a.reset()}g(){const D=this.f.getOption(117)==="on";if(this.c!==D)if(this.c=D,this.c){const y=()=>{if(!this.f.hasModel()){this.a.set(!1);return}const v=this.f.getModel(),C=this.f.getSelection(),d=v.getWordAtPosition(C.getStartPosition());if(!d){this.a.set(!1);return}this.a.set(d.endColumn===C.getStartPosition().column)};this.d=this.f.onDidChangeCursorSelection(y),y()}else this.d&&(this.a.reset(),this.d.dispose(),this.d=void 0)}};N.AtEnd=new w.RawContextKey("atEndOfWord",!1),N=De([fe(1,w.IContextKeyService)],N),e.WordContextKey=N}),define(ee[75],te([1,0,15,8]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,N.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new w.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[691],te([1,0,44,17,6,2,46,16,282,291,430,283,39,169,216,75]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let c=class extends D.Disposable{constructor(p,m,b,L){super(),this.t=L,this.c=this.q(new E.Emitter),this.onDidChange=this.c.event,this.g=this.q(new E.Emitter),this.onDidChangeFast=this.g.event,this.i=!1,this.j=1,this.k=1,this.l=0,this.m=new t.ComputeOptionsMemory,this.isSimpleWidget=p,this.h=this.q(new C.ElementSizeObserver(b,m.dimension)),this.p=f(m),this.s=h.validateOptions(this.p),this.options=this.v(),this.options.get(10)&&this.h.startObserving(),this.q(n.EditorZoom.onDidChangeZoomLevel(()=>this.u())),this.q(i.TabFocus.onDidChangeTabFocus(()=>this.u())),this.q(this.h.onDidChange(()=>this.u())),this.q(d.FontMeasurements.onDidChange(()=>this.u())),this.q(w.PixelRatio.onDidChange(()=>this.u())),this.q(this.t.onDidChangeScreenReaderOptimized(()=>this.u()))}u(){const p=this.v(),m=h.checkEquals(this.options,p);m!==null&&(this.options=p,this.g.fire(m),this.c.fire(m))}v(){const p=this.w(),m=a.BareFontInfo.createFromValidatedSettings(this.s,p.pixelRatio,this.isSimpleWidget),b=this.y(m),L={memory:this.m,outerWidth:p.outerWidth,outerHeight:p.outerHeight-this.l,fontInfo:b,extraEditorClassName:p.extraEditorClassName,isDominatedByLongLines:this.i,viewLineCount:this.j,lineNumbersDigitCount:this.k,emptySelectionClipboard:p.emptySelectionClipboard,pixelRatio:p.pixelRatio,tabFocusMode:i.TabFocus.getTabFocusMode(),accessibilitySupport:p.accessibilitySupport};return h.computeOptions(this.s,L)}w(){return{extraEditorClassName:s(),outerWidth:this.h.getWidth(),outerHeight:this.h.getHeight(),emptySelectionClipboard:w.isWebKit||w.isFirefox,pixelRatio:w.PixelRatio.value,accessibilitySupport:this.t.isScreenReaderOptimized()?2:this.t.getAccessibilitySupport()}}y(p){return d.FontMeasurements.readFontInfo(p)}getRawOptions(){return this.p}updateOptions(p){const m=f(p);!h.applyUpdate(this.p,m)||(this.s=h.validateOptions(this.p),this.u())}observeContainer(p){this.h.observe(p)}setIsDominatedByLongLines(p){this.i!==p&&(this.i=p,this.u())}setModelLineCount(p){const m=u(p);this.k!==m&&(this.k=m,this.u())}setViewLineCount(p){this.j!==p&&(this.j=p,this.u())}setReservedHeight(p){this.l!==p&&(this.l=p,this.u())}};c=De([fe(3,r.IAccessibilityService)],c),e.EditorConfiguration=c;function u(S){let p=0;for(;S;)S=Math.floor(S/10),p++;return p||1}function s(){let S="";return!w.isSafari&&!w.isWebkitWebView&&(S+="no-user-select "),w.isSafari&&(S+="no-minimap-shadow ",S+="enable-user-select "),v.isMacintosh&&(S+="mac "),S}class l{constructor(){this.c=[]}_read(p){return this.c[p]}get(p){return this.c[p]}_write(p,m){this.c[p]=m}}class o{constructor(){this.c=[]}_read(p){if(p>=this.c.length)throw new Error("Cannot read uninitialized value");return this.c[p]}get(p){return this._read(p)}_write(p,m){this.c[p]=m}}e.ComputedEditorOptions=o;class h{static validateOptions(p){const m=new l;for(const b of t.editorOptionsRegistry){const L=b.name==="_never_"?void 0:p[b.name];m._write(b.id,b.validate(L))}return m}static computeOptions(p,m){const b=new o;for(const L of t.editorOptionsRegistry)b._write(L.id,L.compute(m,b,p._read(L.id)));return b}static c(p,m){if(typeof p!="object"||typeof m!="object"||!p||!m)return p===m;if(Array.isArray(p)||Array.isArray(m))return Array.isArray(p)&&Array.isArray(m)?N.equals(p,m):!1;if(Object.keys(p).length!==Object.keys(m).length)return!1;for(const b in p)if(!h.c(p[b],m[b]))return!1;return!0}static checkEquals(p,m){const b=[];let L=!1;for(const k of t.editorOptionsRegistry){const I=!h.c(p._read(k.id),m._read(k.id));b[k.id]=I,I&&(L=!0)}return L?new t.ConfigurationChangedEvent(b):null}static applyUpdate(p,m){let b=!1;for(const L of t.editorOptionsRegistry)if(m.hasOwnProperty(L.name)){const k=L.applyUpdate(p[L.name],m[L.name]);p[L.name]=k.newValue,b=b||k.didChange}return b}}function f(S){const p=y.deepClone(S);return(0,g.migrateOptions)(p),p}}),define(ee[299],te([1,0,85,6,2,46,3,219,28,75]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const g={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let i=class extends E.Disposable{constructor(n,a={},r,c,u){super(),this.n=r,this.p=c,this.r=u,this.c=this.q(new N.Emitter),this.a=n,this.b=D.mixin(a,g,!1),this.g=!1,this.j=-1,this.k=[],this.m=!1,this.h=Boolean(this.b.alwaysRevealFirst),this.q(this.a.onDidDispose(()=>this.dispose())),this.q(this.a.onDidUpdateDiff(()=>this.t())),this.b.followsCaret&&this.q(this.a.getModifiedEditor().onDidChangeCursorPosition(s=>{this.m||(this._updateAccessibilityState(s.position.lineNumber),this.j=-1)})),this.b.alwaysRevealFirst&&this.q(this.a.getModifiedEditor().onDidChangeModel(s=>{this.h=!0})),this.s()}s(){this.a.getLineChanges()}t(){this.s(),this.u(this.a.getLineChanges()),this.h&&this.a.getLineChanges()!==null&&(this.h=!1,this.j=-1,this.next(1))}u(n){this.k=[],n&&n.forEach(a=>{!this.b.ignoreCharChanges&&a.charChanges?a.charChanges.forEach(r=>{this.k.push({rhs:!0,range:new y.Range(r.modifiedStartLineNumber,r.modifiedStartColumn,r.modifiedEndLineNumber,r.modifiedEndColumn)})}):a.modifiedEndLineNumber===0?this.k.push({rhs:!0,range:new y.Range(a.modifiedStartLineNumber,1,a.modifiedStartLineNumber+1,1)}):this.k.push({rhs:!0,range:new y.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber+1,1)})}),this.k.sort((a,r)=>y.Range.compareRangesUsingStarts(a.range,r.range)),this.c.fire(this)}v(n){let a=!1;const r=this.a.getPosition();if(!r){this.j=0;return}for(let c=0,u=this.k.length;c<u&&!a;c++){const s=this.k[c].range;r.isBeforeOrEqual(s.getStartPosition())&&(this.j=c+(n?0:-1),a=!0)}a||(this.j=n?0:this.k.length-1),this.j<0&&(this.j=this.k.length-1)}w(n,a){if(w.ok(!this.g,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.j===-1?this.v(n):n?(this.j+=1,this.j>=this.k.length&&(this.j=0)):(this.j-=1,this.j<0&&(this.j=this.k.length-1));const r=this.k[this.j];this.m=!0;try{const c=r.range.getStartPosition();this.a.setPosition(c),this.a.revealRangeInCenter(r.range,a),this._updateAccessibilityState(c.lineNumber,!0)}finally{this.m=!1}}_updateAccessibilityState(n,a){var r;const c=(r=this.a.getModel())===null||r===void 0?void 0:r.modified;if(!c)return;const u=c.getLineDecorations(n).find(l=>l.options.className==="line-insert");if(u)this.n.playAudioCue(v.AudioCue.diffLineModified,!0);else if(a)this.n.playAudioCue(v.AudioCue.diffLineDeleted,!0);else return;const s=this.p.getActiveCodeEditor();a&&s&&u&&this.r.isScreenReaderOptimized()&&(s.setSelection({startLineNumber:n,startColumn:0,endLineNumber:n,endColumn:Number.MAX_VALUE}),s.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.k&&this.k.length>0}next(n=0){!this.canNavigateNext()||this.w(!0,n)}previous(n=0){!this.canNavigatePrevious()||this.w(!1,n)}canNavigateNext(){return this.canNavigateLoop()||this.j<this.k.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.j!==0}canNavigateLoop(){return Boolean(this.b.findResultLoop)}dispose(){super.dispose(),this.k=[],this.g=!0}};i=De([fe(2,v.IAudioCueService),fe(3,C.ICodeEditorService),fe(4,d.IAccessibilityService)],i),e.DiffNavigator=i}),define(ee[692],te([1,0,6,54,2,46,182,21,665,25,32,15]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const t="data-keybinding-context";class n{constructor(k,I){this.f=k,this.c=I,this.d=Object.create(null),this.d._contextId=k}get value(){return Object.assign({},this.d)}setValue(k,I){return this.d[k]!==I?(this.d[k]=I,!0):!1}removeValue(k){return k in this.d?(delete this.d[k],!0):!1}getValue(k){const I=this.d[k];return typeof I>"u"&&this.c?this.c.getValue(k):I}}e.Context=n;class a extends n{constructor(){super(-1,null)}setValue(k,I){return!1}removeValue(k){return!1}getValue(k){}}a.INSTANCE=new a;class r extends n{constructor(k,I,M){super(k,null),this.j=I,this.h=y.TernarySearchTree.forConfigKeys(),this.i=this.j.onDidChangeConfiguration(B=>{if(B.source===7){const z=Array.from(this.h,([P])=>P);this.h.clear(),M.fire(new s(z))}else{const z=[];for(const P of B.affectedKeys){const A=`config.${P}`,T=this.h.findSuperstr(A);T!==void 0&&(z.push(...N.Iterable.map(T,([O])=>O)),this.h.deleteSuperstr(A)),this.h.has(A)&&(z.push(A),this.h.delete(A))}M.fire(new s(z))}})}dispose(){this.i.dispose()}getValue(k){if(k.indexOf(r.g)!==0)return super.getValue(k);if(this.h.has(k))return this.h.get(k);const I=k.substr(r.g.length),M=this.j.getValue(I);let B;switch(typeof M){case"number":case"boolean":case"string":B=M;break;default:Array.isArray(M)?B=JSON.stringify(M):B=M}return this.h.set(k,B),B}setValue(k,I){return super.setValue(k,I)}removeValue(k){return super.removeValue(k)}}r.g="config.";class c{constructor(k,I,M){this.c=k,this.d=I,this.f=M,this.reset()}set(k){this.c.setContext(this.d,k)}reset(){typeof this.f>"u"?this.c.removeContext(this.d):this.c.setContext(this.d,this.f)}get(){return this.c.getContextKeyValue(this.d)}}class u{constructor(k){this.key=k}affectsSome(k){return k.has(this.key)}allKeysContainedIn(k){return this.affectsSome(k)}}class s{constructor(k){this.keys=k}affectsSome(k){for(const I of this.keys)if(k.has(I))return!0;return!1}allKeysContainedIn(k){return this.keys.every(I=>k.has(I))}}class l{constructor(k){this.events=k}affectsSome(k){for(const I of this.events)if(I.affectsSome(k))return!0;return!1}allKeysContainedIn(k){return this.events.every(I=>I.allKeysContainedIn(k))}}function o(L,k){return L.allKeysContainedIn(new Set(Object.keys(k)))}class h{constructor(k){this.f=new w.PauseableEmitter({merge:I=>new l(I)}),this.onDidChangeContext=this.f.event,this.c=!1,this.d=k}createKey(k,I){if(this.c)throw new Error("AbstractContextKeyService has been disposed");return new c(this,k,I)}bufferChangeEvents(k){this.f.pause();try{k()}finally{this.f.resume()}}createScoped(k){if(this.c)throw new Error("AbstractContextKeyService has been disposed");return new S(this,k)}contextMatchesRules(k){if(this.c)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this.d);return k?k.evaluate(I):!0}getContextKeyValue(k){if(!this.c)return this.getContextValuesContainer(this.d).getValue(k)}setContext(k,I){if(this.c)return;const M=this.getContextValuesContainer(this.d);!M||M.setValue(k,I)&&this.f.fire(new u(k))}removeContext(k){this.c||this.getContextValuesContainer(this.d).removeValue(k)&&this.f.fire(new u(k))}getContext(k){return this.c?a.INSTANCE:this.getContextValuesContainer(p(k))}}e.AbstractContextKeyService=h;let f=class extends h{constructor(k){super(0),this.h=new Map,this.i=new E.DisposableStore,this.g=0;const I=new r(this.d,k,this.f);this.h.set(this.d,I),this.i.add(I)}dispose(){this.f.dispose(),this.c=!0,this.i.dispose()}getContextValuesContainer(k){return this.c?a.INSTANCE:this.h.get(k)||a.INSTANCE}createChildContext(k=this.d){if(this.c)throw new Error("ContextKeyService has been disposed");const I=++this.g;return this.h.set(I,new n(I,this.getContextValuesContainer(k))),I}disposeContext(k){this.c||this.h.delete(k)}};f=De([fe(0,g.IConfigurationService)],f),e.ContextKeyService=f;class S extends h{constructor(k,I){if(super(k.createChildContext()),this.i=new E.MutableDisposable,this.g=k,this.j(),this.h=I,this.h.hasAttribute(t)){let M="";this.h.classList&&(M=Array.from(this.h.classList.values()).join(", ")),console.error(`Element already has context attribute${M?": "+M:""}`)}this.h.setAttribute(t,String(this.d))}j(){this.i.value=this.g.onDidChangeContext(k=>{const M=this.g.getContextValuesContainer(this.d).value;o(k,M)||this.f.fire(k)})}dispose(){this.c||(this.f.dispose(),this.g.disposeContext(this.d),this.i.dispose(),this.h.removeAttribute(t),this.c=!0)}getContextValuesContainer(k){return this.c?a.INSTANCE:this.g.getContextValuesContainer(k)}createChildContext(k=this.d){if(this.c)throw new Error("ScopedContextKeyService has been disposed");return this.g.createChildContext(k)}disposeContext(k){this.c||this.g.disposeContext(k)}}function p(L){for(;L;){if(L.hasAttribute(t)){const k=L.getAttribute(t);return k?parseInt(k,10):NaN}L=L.parentElement}return 0}function m(L,k,I){L.get(i.IContextKeyService).createKey(String(k),b(I))}e.setContext=m;function b(L){return(0,D.cloneAndChange)(L,k=>{if(typeof k=="object"&&k.$mid===1)return v.URI.revive(k).toString();if(k instanceof v.URI)return k.toString()})}d.CommandsRegistry.registerCommand("_setContext",m),d.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((L,k)=>L.key.localeCompare(k.key))},description:{description:(0,C.localize)(0,null),args:[]}}),d.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const L=[],k=new Set;for(const I of i.RawContextKey.all())k.has(I.key)||(k.add(I.key),L.push(I));L.sort((I,M)=>I.key.localeCompare(M.key)),console.log(JSON.stringify(L,void 0,2))})}),define(ee[300],te([1,0,16,666,15]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new E.RawContextKey("isMac",w.isMacintosh,(0,N.localize)(0,null)),e.IsLinuxContext=new E.RawContextKey("isLinux",w.isLinux,(0,N.localize)(1,null)),e.IsWindowsContext=new E.RawContextKey("isWindows",w.isWindows,(0,N.localize)(2,null)),e.IsWebContext=new E.RawContextKey("isWeb",w.isWeb,(0,N.localize)(3,null)),e.IsMacNativeContext=new E.RawContextKey("isMacNative",w.isMacintosh&&!w.isWeb,(0,N.localize)(4,null)),e.IsIOSContext=new E.RawContextKey("isIOS",w.isIOS,(0,N.localize)(5,null)),e.IsMobileContext=new E.RawContextKey("isMobile",w.isMobile,(0,N.localize)(6,null)),e.IsDevelopmentContext=new E.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new E.RawContextKey("productQualityType","",(0,N.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new E.RawContextKey(e.InputFocusedContextKey,!1,(0,N.localize)(8,null))}),define(ee[56],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,w.createDecorator)("contextViewService"),e.IContextMenuService=(0,w.createDecorator)("contextMenuService")}),define(ee[144],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,w.createDecorator)("dialogService")}),define(ee[173],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...E){this.a=new Map;for(const[D,y]of E)this.set(D,y)}set(E,D){const y=this.a.get(E);return this.a.set(E,D),y}get(E){return this.a.get(E)}}e.ServiceCollection=w}),define(ee[693],te([1,0,12,13,2,217,682,8,173,58]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const g=!1;class i extends Error{constructor(r){var c;super("cyclic dependency between services"),this.message=(c=r.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class t{constructor(r=new C.ServiceCollection,c=!1,u,s=g){var l;this.f=r,this.g=c,this.h=u,this.i=s,this.o=new Set,this.f.set(v.IInstantiationService,this),this._globalGraph=s?(l=u?._globalGraph)!==null&&l!==void 0?l:new y.Graph(o=>o):void 0}createChild(r){return new t(r,this.g,this,this.i)}invokeFunction(r,...c){const u=n.traceInvocation(this.i,r);let s=!1;try{return r({get:o=>{if(s)throw(0,N.illegalState)("service accessor is only valid during the invocation of its target method");const h=this.m(o,u);if(!h)throw new Error(`[invokeFunction] unknown service '${o}'`);return h}},...c)}finally{s=!0,u.stop()}}createInstance(r,...c){let u,s;return r instanceof D.SyncDescriptor?(u=n.traceCreation(this.i,r.ctor),s=this.j(r.ctor,r.staticArguments.concat(c),u)):(u=n.traceCreation(this.i,r),s=this.j(r,c,u)),u.stop(),s}j(r,c=[],u){const s=v._util.getServiceDependencies(r).sort((h,f)=>h.index-f.index),l=[];for(const h of s){const f=this.m(h.id,u);f||this.u(`[createInstance] ${r.name} depends on UNKNOWN service ${h.id}.`,!1),l.push(f)}const o=s.length>0?s[0].index:c.length;if(c.length!==o){console.trace(`[createInstance] First service dependency of ${r.name} at position ${o+1} conflicts with ${c.length} static arguments`);const h=o-c.length;h>0?c=c.concat(new Array(h)):c=c.slice(0,o)}return Reflect.construct(r,c.concat(l))}k(r,c){if(this.f.get(r)instanceof D.SyncDescriptor)this.f.set(r,c);else if(this.h)this.h.k(r,c);else throw new Error("illegalState - setting UNKNOWN service instance")}l(r){const c=this.f.get(r);return!c&&this.h?this.h.l(r):c}m(r,c){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String(r));const u=this.l(r);return u instanceof D.SyncDescriptor?this.q(r,u,c.branch(r,!0)):(c.branch(r,!1),u)}q(r,c,u){if(this.o.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this.o.add(r);try{return this.r(r,c,u)}finally{this.o.delete(r)}}r(r,c,u){var s;const l=new y.Graph(f=>f.id.toString());let o=0;const h=[{id:r,desc:c,_trace:u}];for(;h.length;){const f=h.pop();if(l.lookupOrInsertNode(f),o++>1e3)throw new i(l);for(const S of v._util.getServiceDependencies(f.desc.ctor)){const p=this.l(S.id);if(p||this.u(`[createInstance] ${r} depends on ${S.id} which is NOT registered.`,!0),(s=this._globalGraph)===null||s===void 0||s.insertEdge(String(f.id),String(S.id)),p instanceof D.SyncDescriptor){const m={id:S.id,desc:p,_trace:f._trace.branch(S.id,!0)};l.insertEdge(f,m),h.push(m)}}}for(;;){const f=l.roots();if(f.length===0){if(!l.isEmpty())throw new i(l);break}for(const{data:S}of f){if(this.l(S.id)instanceof D.SyncDescriptor){const m=this.s(S.id,S.desc.ctor,S.desc.staticArguments,S.desc.supportsDelayedInstantiation,S._trace);this.k(S.id,m)}l.removeNode(S)}}return this.l(r)}s(r,c,u=[],s,l){if(this.f.get(r)instanceof D.SyncDescriptor)return this.t(r,c,u,s,l);if(this.h)return this.h.s(r,c,u,s,l);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}t(r,c,u=[],s,l){if(s){const o=new t(void 0,this.g,this,this.i);o.c=String(r);const h=new Map,f=new w.IdleValue(()=>{const S=o.j(c,u,l);for(const[p,m]of h){const b=S[p];if(typeof b=="function")for(const L of m)b.apply(S,L)}return h.clear(),S});return new Proxy(Object.create(null),{get(S,p){if(!f.isInitialized&&typeof p=="string"&&(p.startsWith("onDid")||p.startsWith("onWill"))){let L=h.get(p);return L||(L=new d.LinkedList,h.set(p,L)),(I,M,B)=>{const z=L.push([I,M,B]);return(0,E.toDisposable)(z)}}if(p in S)return S[p];const m=f.value;let b=m[p];return typeof b!="function"||(b=b.bind(m),S[p]=b),b},set(S,p,m){return f.value[p]=m,!0},getPrototypeOf(S){return c.prototype}})}else return this.j(c,u,l)}u(r,c){if(c&&console.warn(r),this.g)throw new Error(r)}}e.InstantiationService=t;class n{static traceInvocation(r,c){return r?new n(2,c.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):n.c}static traceCreation(r,c){return r?new n(1,c.name):n.c}constructor(r,c){this.type=r,this.name=c,this.g=Date.now(),this.h=[]}branch(r,c){const u=new n(3,r.toString());return this.h.push([r,c,u]),u}stop(){const r=Date.now()-this.g;n.f+=r;let c=!1;function u(l,o){const h=[],f=new Array(l+1).join("	");for(const[S,p,m]of o.h)if(p&&m){c=!0,h.push(`${f}CREATES -> ${S}`);const b=u(l+1,m);b&&h.push(b)}else h.push(`${f}uses -> ${S}`);return h.join(`
`)}const s=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${u(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${n.f.toFixed(2)}ms)`];(r>2||c)&&n.all.add(s.join(`
`))}}n.all=new Set,n.c=new class extends n{constructor(){super(0,null)}stop(){}branch(){return this}},n.f=0,e.Trace=n}),define(ee[694],te([1,0,12,6,2,668,268]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const v=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends E.Disposable{get onDidUpdateKeybindings(){return this.a?this.a.event:N.Event.None}constructor(i,t,n,a,r){super(),this.m=i,this.n=t,this.p=n,this.s=a,this.t=r,this.a=this.q(new N.Emitter),this.b=null,this.c=new w.IntervalTimer,this.g=null,this.h=d.EMPTY,this.j=null,this.k=new w.TimeoutTimer,this.l=!1}dispose(){super.dispose()}w(i){this.l&&this.t.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this.u().getKeybindings()}lookupKeybinding(i,t){const n=this.u().lookupPrimaryKeybinding(i,t||this.m);if(!!n)return n.resolvedKeybinding}dispatchEvent(i,t){return this.B(i,t)}softDispatch(i,t){this.w("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(i);if(n.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),null;const[a]=n.getDispatchChords();if(a===null)return this.w("\\ Keyboard event cannot be dispatched"),null;const r=this.m.getContext(t),c=this.b?this.b.keypress:null;return this.u().resolve(r,c,a)}y(i,t){this.b={keypress:i,label:t},this.g=this.s.status(D.localize(0,null,t));const n=Date.now();this.c.cancelAndSet(()=>{if(!this.v()){this.z();return}Date.now()-n>5e3&&this.z()},500),y.IME.disable()}z(){this.g&&(this.g.dispose(),this.g=null),this.c.cancel(),this.b=null,y.IME.enable()}B(i,t){return this.F(this.resolveKeyboardEvent(i),t,!1)}D(i,t){const n=this.resolveKeyboardEvent(i),[a]=n.getSingleModifierDispatchChords();if(a)return this.h.has(a)?(this.w(`+ Ignoring single modifier ${a} due to it being pressed together with other keys.`),this.h=d.EMPTY,this.k.cancel(),this.j=null,!1):(this.h=d.EMPTY,this.j===null?(this.w(`+ Storing single modifier for possible chord ${a}.`),this.j=a,this.k.cancelAndSet(()=>{this.w("+ Clearing single modifier due to 300ms elapsed."),this.j=null},300),!1):a===this.j?(this.w(`/ Dispatching single modifier chord ${a} ${a}`),this.k.cancel(),this.j=null,this.F(n,t,!0)):(this.w(`+ Clearing single modifier due to modifier mismatch: ${this.j} ${a}`),this.k.cancel(),this.j=null,!1));const[r]=n.getChords();return this.h=new d(r),this.j!==null&&this.w("+ Clearing single modifier due to other key up."),this.k.cancel(),this.j=null,!1}F(i,t,n=!1){let a=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let r=null,c=null;if(n){const[o]=i.getSingleModifierDispatchChords();r=o,c=o}else[r]=i.getDispatchChords(),c=this.b?this.b.keypress:null;if(r===null)return this.w("\\ Keyboard event cannot be dispatched in keydown phase."),a;const u=this.m.getContext(t),s=i.getLabel(),l=this.u().resolve(u,c,r);return this.t.trace("KeybindingService#dispatch",s,l?.commandId),l&&l.enterMultiChord?(a=!0,this.y(r,s),this.w("+ Entering chord mode..."),a):(this.b&&(!l||!l.commandId)&&(this.w(`+ Leaving chord mode: Nothing bound to "${this.b.label} ${s}".`),this.s.status(D.localize(1,null,this.b.label,s),{hideAfter:10*1e3}),a=!0),this.z(),l&&l.commandId&&(l.bubble||(a=!0),this.w(`+ Invoking command ${l.commandId}.`),typeof l.commandArgs>"u"?this.n.executeCommand(l.commandId).then(void 0,o=>this.s.warn(o)):this.n.executeCommand(l.commandId,l.commandArgs).then(void 0,o=>this.s.warn(o)),v.test(l.commandId)||this.p.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),a)}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=C;class d{constructor(i){this.a=i?i.ctrlKey:!1,this.b=i?i.shiftKey:!1,this.c=i?i.altKey:!1,this.d=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this.a;case"shift":return this.b;case"alt":return this.c;case"meta":return this.d}}}d.EMPTY=new d(null)}),define(ee[695],te([1,0,13,197,110]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends E.ResolvedKeybinding{constructor(v,C){if(super(),C.length===0)throw(0,w.illegalArgument)("chords");this.a=v,this.b=C}getLabel(){return N.UILabelProvider.toLabel(this.a,this.b,v=>this.d(v))}getAriaLabel(){return N.AriaLabelProvider.toLabel(this.a,this.b,v=>this.e(v))}getElectronAccelerator(){return this.b.length>1||this.b[0].isDuplicateModifierCase()?null:N.ElectronAcceleratorLabelProvider.toLabel(this.a,this.b,v=>this.f(v))}hasMultipleChords(){return this.b.length>1}getChords(){return this.b.map(v=>this.c(v))}c(v){return new E.ResolvedChord(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,this.d(v),this.e(v))}getDispatchChords(){return this.b.map(v=>this.g(v))}getSingleModifierDispatchChords(){return this.b.map(v=>this.h(v))}}e.BaseResolvedKeybinding=D}),define(ee[37],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,w.createDecorator)("keybindingService")}),define(ee[696],te([1,0,7,60,27,31,6,2,18,191,590,37,393]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(a){a.Hidden={type:0};class r{constructor(u,s,l,o){this.actions=u,this.trigger=s,this.editorPosition=l,this.widgetPosition=o,this.type=1}}a.Showing=r})(t||(t={}));let n=class Oi extends v.Disposable{constructor(r,c,u,s){super(),this.j=r,this.c=this.q(new y.Emitter),this.onClick=this.c.event,this.g=t.Hidden,this.b=w.$("div.lightBulbWidget"),this.q(N.Gesture.ignoreTarget(this.b)),this.j.addContentWidget(this),this.q(this.j.onDidChangeModelContent(l=>{const o=this.j.getModel();(this.k.type!==1||!o||this.k.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),this.q(w.addStandardDisposableGenericMouseDownListener(this.b,l=>{if(this.k.type!==1)return;this.j.focus(),l.preventDefault();const{top:o,height:h}=w.getDomNodePagePosition(this.b),f=this.j.getOption(63);let S=Math.floor(f/3);this.k.widgetPosition.position!==null&&this.k.widgetPosition.position.lineNumber<this.k.editorPosition.lineNumber&&(S+=f),this.c.fire({x:l.posx,y:o+h+S,actions:this.k.actions,trigger:this.k.trigger})})),this.q(w.addDisposableListener(this.b,"mouseenter",l=>{(l.buttons&1)===1&&this.hide()})),this.q(this.j.onDidChangeConfiguration(l=>{l.hasChanged(61)&&!this.j.getOption(61).enabled&&this.hide()})),this.q(y.Event.runAndSubscribe(s.onDidUpdateKeybindings,()=>{var l,o;this.h=(0,C.withNullAsUndefined)((l=s.lookupKeybinding(u))===null||l===void 0?void 0:l.getLabel()),this.i=(0,C.withNullAsUndefined)((o=s.lookupKeybinding(c))===null||o===void 0?void 0:o.getLabel()),this.l()}))}dispose(){super.dispose(),this.j.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this.b}getPosition(){return this.g.type===1?this.g.widgetPosition:null}update(r,c,u){if(r.validActions.length<=0)return this.hide();const s=this.j.getOptions();if(!s.get(61).enabled)return this.hide();const l=this.j.getModel();if(!l)return this.hide();const{lineNumber:o,column:h}=l.validatePosition(u),f=l.getOptions().tabSize,S=s.get(47),p=l.getLineContent(o),m=(0,d.computeIndentLevel)(p,f),b=S.spaceWidth*m>22,L=I=>I>2&&this.j.getTopForLineNumber(I)===this.j.getTopForLineNumber(I-1);let k=o;if(!b){if(o>1&&!L(o-1))k-=1;else if(!L(o+1))k+=1;else if(h*S.spaceWidth<22)return this.hide()}this.k=new t.Showing(r,c,u,{position:{lineNumber:k,column:1},preference:Oi.a}),this.j.layoutContentWidget(this)}hide(){this.k!==t.Hidden&&(this.k=t.Hidden,this.j.layoutContentWidget(this))}get k(){return this.g}set k(r){this.g=r,this.l()}l(){if(this.k.type===1&&this.k.actions.hasAutoFix&&(this.b.classList.remove(...D.ThemeIcon.asClassNameArray(E.Codicon.lightBulb)),this.b.classList.add(...D.ThemeIcon.asClassNameArray(E.Codicon.lightbulbAutofix)),this.h)){this.m=g.localize(0,null,this.h);return}this.b.classList.remove(...D.ThemeIcon.asClassNameArray(E.Codicon.lightbulbAutofix)),this.b.classList.add(...D.ThemeIcon.asClassNameArray(E.Codicon.lightBulb)),this.i?this.m=g.localize(1,null,this.i):this.m=g.localize(2,null)}set m(r){this.b.title=r}};n.a=[0],n=De([fe(3,i.IKeybindingService)],n),e.LightBulbWidget=n}),define(ee[697],te([1,0,15]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class N{constructor(v,C,d){this.c=d,this.d=v,this.f=new Map;for(const g of v){const i=g.command;i&&i.charAt(0)!=="-"&&this.f.set(i,!0)}this.g=new Map,this.h=new Map,this.e=N.handleRemovals([].concat(v).concat(C));for(let g=0,i=this.e.length;g<i;g++){const t=this.e[g];t.chords.length!==0&&(t.when&&t.when.type===0||this.l(t.chords[0],t))}}static j(v,C,d,g){return!(C&&v.chords[0]!==C||d&&v.chords[1]!==d||g&&g.type!==1&&(!v.when||!(0,w.expressionsAreEqualWithConstantSubstitution)(g,v.when)))}static handleRemovals(v){const C=new Map;for(let g=0,i=v.length;g<i;g++){const t=v[g];if(t.command&&t.command.charAt(0)==="-"){const n=t.command.substring(1);C.has(n)?C.get(n).push(t):C.set(n,[t])}}if(C.size===0)return v;const d=[];for(let g=0,i=v.length;g<i;g++){const t=v[g];if(!t.command||t.command.length===0){d.push(t);continue}if(t.command.charAt(0)==="-")continue;const n=C.get(t.command);if(!n||!t.isDefault){d.push(t);continue}let a=!1;for(const r of n){const c=r.chords[0],u=r.chords[1],s=r.when;if(this.j(t,c,u,s)){a=!0;break}}if(!a){d.push(t);continue}}return d}l(v,C){const d=this.g.get(v);if(typeof d>"u"){this.g.set(v,[C]),this.m(C);return}for(let g=d.length-1;g>=0;g--){const i=d[g];if(i.command===C.command)continue;const t=i.chords.length>1,n=C.chords.length>1;t&&n&&i.chords[1]!==C.chords[1]||N.whenIsEntirelyIncluded(i.when,C.when)&&this.n(i)}d.push(C),this.m(C)}m(v){if(!v.command)return;let C=this.h.get(v.command);typeof C>"u"?(C=[v],this.h.set(v.command,C)):C.push(v)}n(v){if(!v.command)return;const C=this.h.get(v.command);if(!(typeof C>"u")){for(let d=0,g=C.length;d<g;d++)if(C[d]===v){C.splice(d,1);return}}}static whenIsEntirelyIncluded(v,C){return!C||C.type===1?!0:!v||v.type===1?!1:(0,w.implies)(v,C)}getKeybindings(){return this.e}lookupPrimaryKeybinding(v,C){const d=this.h.get(v);if(typeof d>"u"||d.length===0)return null;if(d.length===1)return d[0];for(let g=d.length-1;g>=0;g--){const i=d[g];if(C.contextMatchesRules(i.when))return i}return d[d.length-1]}resolve(v,C,d){this.c(`| Resolving ${d}${C?` chorded from ${C}`:""}`);let g=null;if(C!==null){const t=this.g.get(C);if(typeof t>"u")return this.c("\\ No keybinding entries."),null;g=[];for(let n=0,a=t.length;n<a;n++){const r=t[n];r.chords[1]===d&&g.push(r)}}else{const t=this.g.get(d);if(typeof t>"u")return this.c("\\ No keybinding entries."),null;g=t}const i=this.o(v,g);return i?C===null&&i.chords.length>1&&i.chords[1]!==null?(this.c(`\\ From ${g.length} keybinding entries, matched chord, when: ${E(i.when)}, source: ${D(i)}.`),{enterMultiChord:!0,leaveMultiChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this.c(`\\ From ${g.length} keybinding entries, matched ${i.command}, when: ${E(i.when)}, source: ${D(i)}.`),{enterMultiChord:!1,leaveMultiChord:i.chords.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this.c(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}o(v,C){for(let d=C.length-1;d>=0;d--){const g=C[d];if(!!N.p(v,g.when))return g}return null}static p(v,C){return C?C.evaluate(v):!0}}e.KeybindingResolver=N;function E(y){return y?`${y.serialize()}`:"no when condition"}function D(y){return y.extensionId?y.isBuiltinExtension?`built-in extension ${y.extensionId}`:`user extension ${y.extensionId}`:y.isDefault?"built-in":"user"}}),define(ee[301],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class w{constructor(D,y,v,C,d,g,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?N(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=N(D.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=v,this.when=C,this.isDefault=d,this.extensionId=g,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=w;function N(E){const D=[];for(let y=0,v=E.length;y<v;y++){const C=E[y];if(!C)return[];D.push(C)}return D}e.toEmptyArrayIfContainsNull=N}),define(ee[698],te([1,0,57,110,695,301]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends E.BaseResolvedKeybinding{constructor(C,d){super(d,C)}i(C){if(this.a===2)switch(C){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return w.KeyCodeUtils.toString(C)}d(C){return C.isDuplicateModifierCase()?"":this.i(C.keyCode)}e(C){return C.isDuplicateModifierCase()?"":w.KeyCodeUtils.toString(C.keyCode)}f(C){return w.KeyCodeUtils.toElectronAccelerator(C.keyCode)}g(C){return y.getDispatchStr(C)}static getDispatchStr(C){if(C.isModifierKey())return null;let d="";return C.ctrlKey&&(d+="ctrl+"),C.shiftKey&&(d+="shift+"),C.altKey&&(d+="alt+"),C.metaKey&&(d+="meta+"),d+=w.KeyCodeUtils.toString(C.keyCode),d}h(C){return C.keyCode===5&&!C.shiftKey&&!C.altKey&&!C.metaKey?"ctrl":C.keyCode===4&&!C.ctrlKey&&!C.altKey&&!C.metaKey?"shift":C.keyCode===6&&!C.ctrlKey&&!C.shiftKey&&!C.metaKey?"alt":C.keyCode===57&&!C.ctrlKey&&!C.shiftKey&&!C.altKey?"meta":null}static o(C){const d=w.IMMUTABLE_CODE_TO_KEY_CODE[C];if(d!==-1)return d;switch(C){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static p(C){if(!C)return null;if(C instanceof N.KeyCodeChord)return C;const d=this.o(C.scanCode);return d===0?null:new N.KeyCodeChord(C.ctrlKey,C.shiftKey,C.altKey,C.metaKey,d)}static resolveKeybinding(C,d){const g=(0,D.toEmptyArrayIfContainsNull)(C.chords.map(i=>this.p(i)));return g.length>0?[new y(g,d)]:[]}}e.USLayoutResolvedKeybinding=y}),define(ee[145],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,w.createDecorator)("labelService")}),define(ee[120],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,w.createDecorator)("layoutService")}),define(ee[302],te([1,0,7,6,120,28,51]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let v=class{get dimension(){return this.a||(this.a=w.getClientArea(window.document.body)),this.a}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this.b.getFocusedCodeEditor())===null||g===void 0||g.focus()}constructor(g){this.b=g,this.onDidLayout=N.Event.None,this.offset={top:0,quickPickTop:0}}};v=De([fe(0,D.ICodeEditorService)],v);let C=class extends v{get hasContainer(){return!1}get container(){return this.c}constructor(g,i){super(i),this.c=g}};C=De([fe(1,D.ICodeEditorService)],C),e.EditorScopedLayoutService=C,(0,y.registerSingleton)(E.ILayoutService,v,1)}),define(ee[699],te([1,0,7,6,2,75,32,15,120]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let d=class extends E.Disposable{constructor(i,t,n){super(),this.j=i,this.k=t,this.l=n,this.b=0,this.c=new N.Emitter,this.i=new N.Emitter,this.a=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this.j);const a=()=>this.a.set(this.isScreenReaderOptimized());this.q(this.l.onDidChangeConfiguration(c=>{c.affectsConfiguration("editor.accessibilitySupport")&&(a(),this.c.fire()),c.affectsConfiguration("workbench.reduceMotion")&&(this.g=this.l.getValue("workbench.reduceMotion"),this.i.fire())})),a(),this.q(this.onDidChangeScreenReaderOptimized(()=>a()));const r=window.matchMedia("(prefers-reduced-motion: reduce)");this.h=r.matches,this.g=this.l.getValue("workbench.reduceMotion"),this.m(r)}m(i){if(!this.k.hasContainer)return;this.q((0,w.addDisposableListener)(i,"change",()=>{this.h=i.matches,this.g==="auto"&&this.i.fire()}));const t=()=>{const n=this.isMotionReduced();this.k.container.classList.toggle("reduce-motion",n),this.k.container.classList.toggle("enable-motion",!n)};t(),this.q(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this.c.event}isScreenReaderOptimized(){const i=this.l.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this.b===2}get onDidChangeReducedMotion(){return this.i.event}isMotionReduced(){const i=this.g;return i==="on"||i==="auto"&&this.h}getAccessibilitySupport(){return this.b}};d=De([fe(0,v.IContextKeyService),fe(1,C.ILayoutService),fe(2,y.IConfigurationService)],d),e.AccessibilityService=d}),define(ee[700],te([1,0,269,2,120]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends N.Disposable{constructor(v){super(),this.h=v,this.a=N.Disposable.None,this.c=v.hasContainer?v.container:null,this.b=this.q(new w.ContextView(this.c,1)),this.layout(),this.q(v.onDidLayout(()=>this.layout()))}j(v,C){this.b.setContainer(v,C||1)}showContextView(v,C,d){C?(C!==this.c||this.g!==d)&&(this.c=C,this.j(C,d?3:2)):this.h.hasContainer&&this.c!==this.h.container&&(this.c=this.h.container,this.j(this.c,1)),this.g=d,this.b.show(v);const g=(0,N.toDisposable)(()=>{this.a===g&&this.hideContextView()});return this.a=g,g}getContextViewElement(){return this.b.getViewElement()}layout(){this.b.layout()}hideContextView(v){this.b.hide(v)}};D=De([fe(0,E.ILayoutService)],D),e.ContextViewService=D}),define(ee[62],te([1,0,6,2,8]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,E.createDecorator)("logService");var D;(function(d){d[d.Off=0]="Off",d[d.Trace=1]="Trace",d[d.Debug=2]="Debug",d[d.Info=3]="Info",d[d.Warning=4]="Warning",d[d.Error=5]="Error"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class y extends N.Disposable{constructor(){super(...arguments),this.a=e.DEFAULT_LOG_LEVEL,this.b=this.q(new w.Emitter),this.onDidChangeLogLevel=this.b.event}setLevel(g){this.a!==g&&(this.a=g,this.b.fire(this.a))}getLevel(){return this.a}c(g){return this.a!==D.Off&&this.a<=g}}e.AbstractLogger=y;class v extends y{constructor(g=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(g)}trace(g,...i){this.c(D.Trace)&&console.log("%cTRACE","color: #888",g,...i)}debug(g,...i){this.c(D.Debug)&&console.log("%cDEBUG","background: #eee; color: #888",g,...i)}info(g,...i){this.c(D.Info)&&console.log("%c INFO","color: #33f",g,...i)}error(g,...i){this.c(D.Error)&&console.log("%c  ERR","color: #f33",g,...i)}dispose(){}}e.ConsoleLogger=v;class C extends y{constructor(g){super(),this.g=g,g.length&&this.setLevel(g[0].getLevel())}setLevel(g){for(const i of this.g)i.setLevel(g);super.setLevel(g)}trace(g,...i){for(const t of this.g)t.trace(g,...i)}debug(g,...i){for(const t of this.g)t.debug(g,...i)}info(g,...i){for(const t of this.g)t.info(g,...i)}error(g,...i){for(const t of this.g)t.error(g,...i)}dispose(){for(const g of this.g)g.dispose()}}e.MultiplexLogger=C}),define(ee[701],te([1,0,44,7,12,2,120,62]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let C=class extends D.Disposable{constructor(g,i){super(),this.b=g,this.c=i,this.a=new Map,this.i="",this.j=[],(w.isSafari||w.isWebkitWebView)&&this.h()}h(){const g=()=>{const i=new E.DeferredPromise;this.g&&!this.g.isSettled&&this.g.cancel(),this.g=i,navigator.clipboard.write([new ClipboardItem({"text/plain":i.p})]).catch(t=>Le(this,void 0,void 0,function*(){(!(t instanceof Error)||t.name!=="NotAllowedError"||!i.isRejected)&&this.c.error(t)}))};this.b.hasContainer&&(this.q((0,N.addDisposableListener)(this.b.container,"click",g)),this.q((0,N.addDisposableListener)(this.b.container,"keydown",g)))}writeText(g,i){return Le(this,void 0,void 0,function*(){if(i){this.a.set(i,g);return}if(this.g)return this.g.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(a){console.error(a)}const t=document.activeElement,n=document.body.appendChild((0,N.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=g,n.focus(),n.select(),document.execCommand("copy"),t instanceof HTMLElement&&t.focus(),document.body.removeChild(n)})}readText(g){return Le(this,void 0,void 0,function*(){if(g)return this.a.get(g)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.i})}writeFindText(g){return Le(this,void 0,void 0,function*(){this.i=g})}readResources(){return Le(this,void 0,void 0,function*(){return this.j})}};C=De([fe(0,y.ILayoutService),fe(1,v.ILogService)],C),e.BrowserClipboardService=C}),define(ee[702],te([1,0,2,62]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class E extends w.Disposable{constructor(y,v=[]){super(),this.a=new N.MultiplexLogger([y,...v]),this.q(y.onDidChangeLogLevel(C=>this.setLevel(C)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(y){this.a.setLevel(y)}getLevel(){return this.a.getLevel()}trace(y,...v){this.a.trace(y,...v)}debug(y,...v){this.a.debug(y,...v)}info(y,...v){this.a.info(y,...v)}error(y,...v){this.a.error(y,...v)}}e.LogService=E}),define(ee[89],te([1,0,93,670,8]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(v){v[v.Hint=1]="Hint",v[v.Info=2]="Info",v[v.Warning=4]="Warning",v[v.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(v){function C(n,a){return a-n}v.compare=C;const d=Object.create(null);d[v.Error]=(0,N.localize)(0,null),d[v.Warning]=(0,N.localize)(1,null),d[v.Info]=(0,N.localize)(2,null);function g(n){return d[n]||""}v.toString=g;function i(n){switch(n){case w.default.Error:return v.Error;case w.default.Warning:return v.Warning;case w.default.Info:return v.Info;case w.default.Ignore:return v.Hint}}v.fromSeverity=i;function t(n){switch(n){case v.Error:return w.default.Error;case v.Warning:return w.default.Warning;case v.Info:return w.default.Info;case v.Hint:return w.default.Ignore}}v.toSeverity=t}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var y;(function(v){const C="";function d(i){return g(i,!0)}v.makeKey=d;function g(i,t){const n=[C];return i.source?n.push(i.source.replace("\xA6","\\\xA6")):n.push(C),i.code?typeof i.code=="string"?n.push(i.code.replace("\xA6","\\\xA6")):n.push(i.code.value.replace("\xA6","\\\xA6")):n.push(C),i.severity!==void 0&&i.severity!==null?n.push(D.toString(i.severity)):n.push(C),i.message&&t?n.push(i.message.replace("\xA6","\\\xA6")):n.push(C),i.startLineNumber!==void 0&&i.startLineNumber!==null?n.push(i.startLineNumber.toString()):n.push(C),i.startColumn!==void 0&&i.startColumn!==null?n.push(i.startColumn.toString()):n.push(C),i.endLineNumber!==void 0&&i.endLineNumber!==null?n.push(i.endLineNumber.toString()):n.push(C),i.endColumn!==void 0&&i.endColumn!==null?n.push(i.endColumn.toString()):n.push(C),n.push(C),n.join("\xA6")}v.makeKeyOptionalMessage=g})(y=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,E.createDecorator)("markerService")}),define(ee[703],te([1,0,17,6,2,58,9,21,3,51,8,89,32]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(u,s,l){this.marker=u,this.index=s,this.total=l}}e.MarkerCoordinate=n;let a=class{constructor(u,s,l){this.h=s,this.j=l,this.c=new N.Emitter,this.onDidChange=this.c.event,this.e=new E.DisposableStore,this.f=[],this.g=-1,v.URI.isUri(u)?this.d=S=>S.toString()===u.toString():u&&(this.d=u);const o=this.j.getValue("problems.sortOrder"),h=(S,p)=>{let m=(0,y.compare)(S.resource.toString(),p.resource.toString());return m===0&&(o==="position"?m=C.Range.compareRangesUsingStarts(S,p)||i.MarkerSeverity.compare(S.severity,p.severity):m=i.MarkerSeverity.compare(S.severity,p.severity)||C.Range.compareRangesUsingStarts(S,p)),m},f=()=>{this.f=this.h.read({resource:v.URI.isUri(u)?u:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof u=="function"&&(this.f=this.f.filter(S=>this.d(S.resource))),this.f.sort(h)};f(),this.e.add(s.onMarkerChanged(S=>{(!this.d||S.some(p=>this.d(p)))&&(f(),this.g=-1,this.c.fire())}))}dispose(){this.e.dispose(),this.c.dispose()}matches(u){return!this.d&&!u?!0:!this.d||!u?!1:this.d(u)}get selected(){const u=this.f[this.g];return u&&new n(u,this.g+1,this.f.length)}k(u,s,l){let o=!1,h=this.f.findIndex(f=>f.resource.toString()===u.uri.toString());h<0&&(h=(0,w.binarySearch)(this.f,{resource:u.uri},(f,S)=>(0,y.compare)(f.resource.toString(),S.resource.toString())),h<0&&(h=~h));for(let f=h;f<this.f.length;f++){let S=C.Range.lift(this.f[f]);if(S.isEmpty()){const p=u.getWordAtPosition(S.getStartPosition());p&&(S=new C.Range(S.startLineNumber,p.startColumn,S.startLineNumber,p.endColumn))}if(s&&(S.containsPosition(s)||s.isBeforeOrEqual(S.getStartPosition()))){this.g=f,o=!0;break}if(this.f[f].resource.toString()!==u.uri.toString())break}o||(this.g=l?0:this.f.length-1),this.g<0&&(this.g=this.f.length-1)}resetIndex(){this.g=-1}move(u,s,l){if(this.f.length===0)return!1;const o=this.g;return this.g===-1?this.k(s,l,u):u?this.g=(this.g+1)%this.f.length:u||(this.g=(this.g-1+this.f.length)%this.f.length),o!==this.g}find(u,s){let l=this.f.findIndex(o=>o.resource.toString()===u.toString());if(!(l<0)){for(;l<this.f.length;l++)if(C.Range.containsPosition(this.f[l],s))return new n(this.f[l],l+1,this.f.length)}}};a=De([fe(1,i.IMarkerService),fe(2,t.IConfigurationService)],a),e.MarkerList=a,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let r=class{constructor(u,s){this.d=u,this.e=s,this.c=new D.LinkedList}getMarkerList(u){for(const s of this.c){const l=s.getMarkerList(u);if(l)return l}return new a(u,this.d,this.e)}};r=De([fe(0,i.IMarkerService),fe(1,t.IConfigurationService)],r),(0,d.registerSingleton)(e.IMarkerNavigationService,r,1)}),define(ee[704],te([1,0,17,6,54,55,47,21,89]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet]);class d{constructor(){this.a=new D.ResourceMap,this.b=new Map}set(n,a,r){let c=this.a.get(n);c||(c=new Map,this.a.set(n,c)),c.set(a,r);let u=this.b.get(a);u||(u=new D.ResourceMap,this.b.set(a,u)),u.set(n,r)}get(n,a){const r=this.a.get(n);return r?.get(a)}delete(n,a){let r=!1,c=!1;const u=this.a.get(n);u&&(r=u.delete(a));const s=this.b.get(a);if(s&&(c=s.delete(n)),r!==c)throw new Error("illegal state");return r&&c}values(n){var a,r,c,u;return typeof n=="string"?(r=(a=this.b.get(n))===null||a===void 0?void 0:a.values())!==null&&r!==void 0?r:E.Iterable.empty():v.URI.isUri(n)?(u=(c=this.a.get(n))===null||c===void 0?void 0:c.values())!==null&&u!==void 0?u:E.Iterable.empty():E.Iterable.map(E.Iterable.concat(...this.b.values()),s=>s[1])}}class g{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this.a=new D.ResourceMap,this.b=n,this.c=n.onMarkerChanged(this.d,this)}dispose(){this.c.dispose()}d(n){for(const a of n){const r=this.a.get(a);r&&this.f(r);const c=this.e(a);this.g(c),this.a.set(a,c)}}e(n){const a={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(n.scheme))return a;for(const{severity:r}of this.b.read({resource:n}))r===C.MarkerSeverity.Error?a.errors+=1:r===C.MarkerSeverity.Warning?a.warnings+=1:r===C.MarkerSeverity.Info?a.infos+=1:a.unknowns+=1;return a}f(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}g(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class i{constructor(){this.a=new N.DebounceEmitter({delay:0,merge:i.f}),this.onMarkerChanged=this.a.event,this.b=new d,this.c=new g(this)}dispose(){this.c.dispose(),this.a.dispose()}remove(n,a){for(const r of a||[])this.changeOne(n,r,[])}changeOne(n,a,r){if((0,w.isFalsyOrEmpty)(r))this.b.delete(a,n)&&this.a.fire([a]);else{const c=[];for(const u of r){const s=i.d(n,a,u);s&&c.push(s)}this.b.set(a,n,c),this.a.fire([a])}}static d(n,a,r){let{code:c,severity:u,message:s,source:l,startLineNumber:o,startColumn:h,endLineNumber:f,endColumn:S,relatedInformation:p,tags:m}=r;if(!!s)return o=o>0?o:1,h=h>0?h:1,f=f>=o?f:o,S=S>0?S:h,{resource:a,owner:n,code:c,severity:u,message:s,source:l,startLineNumber:o,startColumn:h,endLineNumber:f,endColumn:S,relatedInformation:p,tags:m}}changeAll(n,a){const r=[],c=this.b.values(n);if(c)for(const u of c){const s=E.Iterable.first(u);s&&(r.push(s.resource),this.b.delete(s.resource,n))}if((0,w.isNonEmptyArray)(a)){const u=new D.ResourceMap;for(const{resource:s,marker:l}of a){const o=i.d(n,s,l);if(!o)continue;const h=u.get(s);h?h.push(o):(u.set(s,[o]),r.push(s))}for(const[s,l]of u)this.b.set(s,n,l)}r.length>0&&this.a.fire(r)}read(n=Object.create(null)){let{owner:a,resource:r,severities:c,take:u}=n;if((!u||u<0)&&(u=-1),a&&r){const s=this.b.get(r,a);if(s){const l=[];for(const o of s)if(i.e(o,c)){const h=l.push(o);if(u>0&&h===u)break}return l}else return[]}else if(!a&&!r){const s=[];for(const l of this.b.values())for(const o of l)if(i.e(o,c)){const h=s.push(o);if(u>0&&h===u)return s}return s}else{const s=this.b.values(r??a),l=[];for(const o of s)for(const h of o)if(i.e(h,c)){const f=l.push(h);if(u>0&&f===u)return l}return l}}static e(n,a){return a===void 0||(a&n.severity)===n.severity}static f(n){const a=new D.ResourceMap;for(const r of n)for(const c of r)a.set(c,!0);return Array.from(a.keys())}}e.MarkerService=i}),define(ee[42],te([1,0,93,8]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=(0,N.createDecorator)("notificationService");class E{}e.NoOpNotification=E}),define(ee[53],te([1,0,9,21,8]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,E.createDecorator)("openerService");function D(C,d){return N.URI.isUri(C)?(0,w.equalsIgnoreCase)(C.scheme,d):(0,w.startsWithIgnoreCase)(C,d+":")}e.matchesScheme=D;function y(C,...d){return d.some(g=>D(C,g))}e.matchesSomeScheme=y;function v(C){let d;const g=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(C.fragment);return g&&(d={startLineNumber:parseInt(g[1]),startColumn:g[2]?parseInt(g[2]):1,endLineNumber:g[4]?parseInt(g[4]):void 0,endColumn:g[4]?g[5]?parseInt(g[5]):1:void 0},C=C.with({fragment:""})),{selection:d,uri:C}}e.extractSelection=v}),define(ee[705],te([1,0,7,20,58,55,202,47,43,21,28,25,679,53]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let a=class{constructor(s){this.a=s}open(s,l){return Le(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(s,v.Schemas.command))return!1;if(!l?.allowCommands||(typeof s=="string"&&(s=d.URI.parse(s)),Array.isArray(l.allowCommands)&&!l.allowCommands.includes(s.path)))return!0;let o=[];try{o=(0,y.parse)(decodeURIComponent(s.query))}catch{try{o=(0,y.parse)(s.query)}catch{}}return Array.isArray(o)||(o=[o]),yield this.a.executeCommand(s.path,...o),!0})}};a=De([fe(0,i.ICommandService)],a);let r=class{constructor(s){this.a=s}open(s,l){return Le(this,void 0,void 0,function*(){typeof s=="string"&&(s=d.URI.parse(s));const{selection:o,uri:h}=(0,n.extractSelection)(s);return s=h,s.scheme===v.Schemas.file&&(s=(0,C.normalizePath)(s)),yield this.a.openCodeEditor({resource:s,options:Object.assign({selection:o,source:l?.fromUserGesture?t.EditorOpenSource.USER:t.EditorOpenSource.API},l?.editorOptions)},this.a.getFocusedCodeEditor(),l?.openToSide),!0})}};r=De([fe(0,g.ICodeEditorService)],r);let c=class{constructor(s,l){this.a=new E.LinkedList,this.b=new E.LinkedList,this.c=new E.LinkedList,this.d=new D.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this.f=new E.LinkedList,this.e={openExternal:o=>Le(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(o,v.Schemas.http,v.Schemas.https)?w.windowOpenNoOpener(o):window.location.href=o,!0})},this.a.push({open:(o,h)=>Le(this,void 0,void 0,function*(){return h?.openExternal||(0,n.matchesSomeScheme)(o,v.Schemas.mailto,v.Schemas.http,v.Schemas.https,v.Schemas.vsls)?(yield this.g(o,h),!0):!1})}),this.a.push(new a(l)),this.a.push(new r(s))}open(s,l){var o;return Le(this,void 0,void 0,function*(){const h=typeof s=="string"?d.URI.parse(s):s,f=(o=this.d.get(h))!==null&&o!==void 0?o:s;for(const S of this.b)if(!(yield S.shouldOpen(f,l)))return!1;for(const S of this.a)if(yield S.open(s,l))return!0;return!1})}resolveExternalUri(s,l){return Le(this,void 0,void 0,function*(){for(const o of this.c)try{const h=yield o.resolveExternalUri(s,l);if(h)return this.d.has(h.resolved)||this.d.set(h.resolved,s),h}catch{}throw new Error("Could not resolve external URI: "+s.toString())})}g(s,l){return Le(this,void 0,void 0,function*(){const o=typeof s=="string"?d.URI.parse(s):s;let h;try{h=(yield this.resolveExternalUri(o,l)).resolved}catch{h=o}let f;if(typeof s=="string"&&o.toString()===h.toString()?f=s:f=encodeURI(h.toString(!0)),l?.allowContributedOpeners){const S=typeof l?.allowContributedOpeners=="string"?l?.allowContributedOpeners:void 0;for(const p of this.f)if(yield p.openExternal(f,{sourceUri:o,preferredOpenerId:S},N.CancellationToken.None))return!0}return this.e.openExternal(f,{sourceUri:o},N.CancellationToken.None)})}dispose(){this.b.clear()}};c=De([fe(0,g.ICodeEditorService),fe(1,i.ICommandService)],c),e.OpenerService=c}),define(ee[76],te([1,0,129,55,128,51,8,62,53]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,y.createDecorator)("ILanguageFeatureDebounceService");var d;(function(t){const n=new WeakMap;let a=0;function r(c){let u=n.get(c);return u===void 0&&(u=++a,n.set(c,u)),u}t.of=r})(d||(d={}));class g{constructor(n,a,r,c,u,s){this.b=n,this.c=a,this.d=r,this.e=c,this.f=u,this.g=s,this.a=new N.LRUCache(50,.7)}h(n){return n.id+this.d.all(n).reduce((a,r)=>(0,w.doHash)(d.of(r),a),0)}get(n){const a=this.h(n),r=this.a.get(a);return r?(0,E.clamp)(r.value,this.f,this.g):this.default()}update(n,a){const r=this.h(n);let c=this.a.get(r);c||(c=new E.SlidingWindowAverage(6),this.a.set(r,c));const u=(0,E.clamp)(c.update(a),this.f,this.g);return(0,C.matchesScheme)(n.uri,"output")||this.b.trace(`[DEBOUNCE: ${this.c}] for ${n.uri.toString()} is ${u}ms`),u}i(){const n=new E.MovingAverage;for(const[,a]of this.a)n.update(a.value);return n.value}default(){const n=this.i()|0||this.e;return(0,E.clamp)(n,this.f,this.g)}}let i=class{constructor(n){this.b=n,this.a=new Map}for(n,a,r){var c,u,s;const l=(c=r?.min)!==null&&c!==void 0?c:50,o=(u=r?.max)!==null&&u!==void 0?u:Math.pow(l,2),h=(s=r?.key)!==null&&s!==void 0?s:void 0,f=`${d.of(n)},${l}${h?","+h:""}`;let S=this.a.get(f);return S||(S=new g(this.b,a,n,this.c()|0||l*1.5,l,o),this.a.set(f,S)),S}c(){const n=new E.MovingAverage;for(const a of this.a.values())n.update(a.default());return n.value}};i=De([fe(0,v.ILogService)],i),e.LanguageFeatureDebounceService=i,(0,D.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ee[174],te([1,0,17,20,13,54,55,11,3,76,8,51,52,2,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class r{remove(){var h;(h=this.parent)===null||h===void 0||h.children.delete(this.id)}static findId(h,f){let S;typeof h=="string"?S=`${f.id}/${h}`:(S=`${f.id}/${h.name}`,f.children.get(S)!==void 0&&(S=`${f.id}/${h.name}_${h.range.startLineNumber}_${h.range.startColumn}`));let p=S;for(let m=0;f.children.get(p)!==void 0;m++)p=`${S}_${m}`;return p}static empty(h){return h.children.size===0}}e.TreeElement=r;class c extends r{constructor(h,f,S){super(),this.id=h,this.parent=f,this.symbol=S,this.children=new Map}}e.OutlineElement=c;class u extends r{constructor(h,f,S,p){super(),this.id=h,this.parent=f,this.label=S,this.order=p,this.children=new Map}}e.OutlineGroup=u;class s extends r{static create(h,f,S){const p=new N.CancellationTokenSource(S),m=new s(f.uri),b=h.ordered(f),L=b.map((I,M)=>{var B;const z=r.findId(`provider_${M}`,m),P=new u(z,m,(B=I.displayName)!==null&&B!==void 0?B:"Unknown Outline Provider",M);return Promise.resolve(I.provideDocumentSymbols(f,p.token)).then(A=>{for(const T of A||[])s.c(T,P);return P},A=>((0,E.onUnexpectedExternalError)(A),P)).then(A=>{r.empty(A)?A.remove():m.d.set(z,A)})}),k=h.onDidChange(()=>{const I=h.ordered(f);(0,w.equals)(I,b)||p.cancel()});return Promise.all(L).then(()=>p.token.isCancellationRequested&&!S.isCancellationRequested?s.create(h,f,S):m.e()).finally(()=>{k.dispose()})}static c(h,f){const S=r.findId(h,f),p=new c(S,f,h);if(h.children)for(const m of h.children)s.c(m,p);f.children.set(p.id,p)}constructor(h){super(),this.uri=h,this.id="root",this.parent=void 0,this.d=new Map,this.children=new Map,this.id="root",this.parent=void 0}e(){let h=0;for(const[f,S]of this.d)S.children.size===0?this.d.delete(f):h+=1;if(h!==1)this.children=this.d;else{const f=D.Iterable.first(this.d.values());for(const[,S]of f.children)S.parent=this,this.children.set(S.id,S)}return this}getTopLevelSymbols(){const h=[];for(const f of this.children.values())f instanceof c?h.push(f.symbol):h.push(...D.Iterable.map(f.children.values(),S=>S.symbol));return h.sort((f,S)=>C.Range.compareRangesUsingStarts(f.range,S.range))}asListOfDocumentSymbols(){const h=this.getTopLevelSymbols(),f=[];return s.f(f,h,""),f.sort((S,p)=>v.Position.compare(C.Range.getStartPosition(S.range),C.Range.getStartPosition(p.range))||v.Position.compare(C.Range.getEndPosition(p.range),C.Range.getEndPosition(S.range)))}static f(h,f,S){for(const p of f)h.push({kind:p.kind,tags:p.tags,name:p.name,detail:p.detail,containerName:p.containerName||S,range:p.range,selectionRange:p.selectionRange,children:void 0}),p.children&&s.f(h,p.children,p.name)}}e.OutlineModel=s,e.IOutlineModelService=(0,g.createDecorator)("IOutlineModelService");let l=class{constructor(h,f,S){this.f=h,this.c=new n.DisposableStore,this.e=new y.LRUCache(10,.7),this.d=f.for(h.documentSymbolProvider,"DocumentSymbols",{min:350}),this.c.add(S.onModelRemoved(p=>{this.e.delete(p.id)}))}dispose(){this.c.dispose()}getOrCreate(h,f){return Le(this,void 0,void 0,function*(){const S=this.f.documentSymbolProvider,p=S.ordered(h);let m=this.e.get(h.id);if(!m||m.versionId!==h.getVersionId()||!(0,w.equals)(m.provider,p)){const L=new N.CancellationTokenSource;m={versionId:h.getVersionId(),provider:p,promiseCnt:0,source:L,promise:s.create(S,h,L.token),model:void 0},this.e.set(h.id,m);const k=Date.now();m.promise.then(I=>{m.model=I,this.d.update(h,Date.now()-k)}).catch(I=>{this.e.delete(h.id)})}if(m.model)return m.model;m.promiseCnt+=1;const b=f.onCancellationRequested(()=>{--m.promiseCnt===0&&(m.source.cancel(),this.e.delete(h.id))});try{return yield m.promise}finally{b.dispose()}})}};l=De([fe(0,a.ILanguageFeaturesService),fe(1,d.ILanguageFeatureDebounceService),fe(2,t.IModelService)],l),e.OutlineModelService=l,(0,i.registerSingleton)(e.IOutlineModelService,l,1)}),define(ee[706],te([1,0,20,18,21,61,174,25]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),v.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...d){return Le(this,void 0,void 0,function*(){const[g]=d;(0,N.assertType)(E.URI.isUri(g));const i=C.get(y.IOutlineModelService),n=yield C.get(D.ITextModelService).createModelReference(g);try{return(yield i.getOrCreate(n.object.textEditorModel,w.CancellationToken.None)).getTopLevelSymbols()}finally{n.dispose()}})})}),define(ee[707],te([1,0,7,81,45,60,6,2,53,427]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let d=class extends v.Disposable{get enabled(){return this.b}set enabled(i){i?(this.a.setAttribute("aria-disabled","false"),this.a.tabIndex=0,this.a.style.pointerEvents="auto",this.a.style.opacity="1",this.a.style.cursor="pointer",this.b=!1):(this.a.setAttribute("aria-disabled","true"),this.a.tabIndex=-1,this.a.style.pointerEvents="none",this.a.style.opacity="0.4",this.a.style.cursor="default",this.b=!0),this.b=i}constructor(i,t,n={},a){var r;super(),this.c=t,this.b=!0,this.a=(0,w.append)(i,(0,w.$)("a.monaco-link",{tabIndex:(r=t.tabIndex)!==null&&r!==void 0?r:0,href:t.href,title:t.title},t.label)),this.a.setAttribute("role","button");const c=this.q(new N.DomEmitter(this.a,"click")),u=this.q(new N.DomEmitter(this.a,"keypress")),s=y.Event.chain(u.event).map(h=>new E.StandardKeyboardEvent(h)).filter(h=>h.keyCode===3).event,l=this.q(new N.DomEmitter(this.a,D.EventType.Tap)).event;this.q(D.Gesture.addTarget(this.a));const o=y.Event.any(c.event,s,l);this.q(o(h=>{!this.enabled||(w.EventHelper.stop(h,!0),n?.opener?n.opener(this.c.href):a.open(this.c.href,{allowCommands:!0}))})),this.enabled=!0}};d=De([fe(3,C.IOpenerService)],d),e.Link=d}),define(ee[69],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,w.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class N{constructor(D){this.b=D}report(D){this.a=D,this.b(this.a)}}N.None=Object.freeze({report(){}}),e.Progress=N,e.IEditorProgressService=(0,w.createDecorator)("editorProgressService")}),define(ee[708],te([1,0,12,20,2]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(d){d[d.NO_ACTION=0]="NO_ACTION",d[d.CLOSE_PICKER=1]="CLOSE_PICKER",d[d.REFRESH_PICKER=2]="REFRESH_PICKER",d[d.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function y(d){const g=d;return Array.isArray(g.items)}function v(d){const g=d;return!!g.picks&&g.additionalPicks instanceof Promise}class C extends E.Disposable{constructor(g,i){super(),this.g=g,this.h=i}provide(g,i,t){var n;const a=new E.DisposableStore;g.canAcceptInBackground=!!(!((n=this.h)===null||n===void 0)&&n.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let r;const c=a.add(new E.MutableDisposable),u=()=>Le(this,void 0,void 0,function*(){const s=c.value=new E.DisposableStore;r?.dispose(!0),g.busy=!1,r=new N.CancellationTokenSource(i);const l=r.token,o=g.value.substr(this.g.length).trim(),h=this.j(o,s,l,t),f=(S,p)=>{var m;let b,L;if(y(S)?(b=S.items,L=S.active):b=S,b.length===0){if(p)return!1;o.length>0&&((m=this.h)===null||m===void 0?void 0:m.noResultsPick)&&(b=[this.h.noResultsPick])}return g.items=b,L&&(g.activeItems=[L]),!0};if(h!==null)if(v(h)){let S=!1,p=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){yield(0,w.timeout)(C.c),!l.isCancellationRequested&&(p||(S=f(h.picks,!0)))}))(),(()=>Le(this,void 0,void 0,function*(){g.busy=!0;try{const m=yield h.additionalPicks;if(l.isCancellationRequested)return;let b,L;y(h.picks)?(b=h.picks.items,L=h.picks.active):b=h.picks;let k,I;if(y(m)?(k=m.items,I=m.active):k=m,k.length>0||!S){let M;if(!L&&!I){const B=g.activeItems[0];B&&b.indexOf(B)!==-1&&(M=B)}f({items:[...b,...k],active:L||I||M})}}finally{l.isCancellationRequested||(g.busy=!1),p=!0}}))()])}else if(!(h instanceof Promise))f(h);else{g.busy=!0;try{const S=yield h;if(l.isCancellationRequested)return;f(S)}finally{l.isCancellationRequested||(g.busy=!1)}}});return a.add(g.onDidChangeValue(()=>u())),u(),a.add(g.onDidAccept(s=>{const[l]=g.selectedItems;typeof l?.accept=="function"&&(s.inBackground||g.hide(),l.accept(g.keyMods,s))})),a.add(g.onDidTriggerItemButton(({button:s,item:l})=>Le(this,void 0,void 0,function*(){var o,h;if(typeof l.trigger=="function"){const f=(h=(o=l.buttons)===null||o===void 0?void 0:o.indexOf(s))!==null&&h!==void 0?h:-1;if(f>=0){const S=l.trigger(f,g.keyMods),p=typeof S=="number"?S:yield S;if(i.isCancellationRequested)return;switch(p){case D.NO_ACTION:break;case D.CLOSE_PICKER:g.hide();break;case D.REFRESH_PICKER:u();break;case D.REMOVE_ITEM:{const m=g.items.indexOf(l);if(m!==-1){const b=g.items.slice(),L=b.splice(m,1),k=g.activeItems.filter(M=>M!==L[0]),I=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=b,k&&(g.activeItems=k),g.keepScrollPosition=I}break}}}}}))),a}}C.c=200,e.PickerQuickAccessProvider=C});var si=this&&this.__createBinding||(Object.create?function(K,e,w,N){N===void 0&&(N=w);var E=Object.getOwnPropertyDescriptor(e,w);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(K,N,E)}:function(K,e,w,N){N===void 0&&(N=w),K[N]=e[w]}),ri=this&&this.__exportStar||function(K,e){for(var w in K)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&si(e,K,w)};define(ee[83],te([1,0,8,238]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ri(N,e),e.IQuickInputService=(0,w.createDecorator)("quickInputService")}),define(ee[33],te([1,0,85,18]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class E{constructor(){this.a=new Map}add(y,v){w.ok(N.isString(y)),w.ok(N.isObject(v)),w.ok(!this.a.has(y),"There is already an extension with this id"),this.a.set(y,v)}as(y){return this.a.get(y)||null}}e.Registry=new E}),define(ee[709],te([1,0,127,55,202,21,53,33]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.createDraggedEditorInputFromRawResourcesData=e.extractEditorsDropData=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};function C(i){var t;const n=[];if(i.dataTransfer&&i.dataTransfer.types.length>0){const c=i.dataTransfer.getData(e.CodeDataTransfers.EDITORS);if(c)try{n.push(...(0,E.parse)(c))}catch{}else try{const l=i.dataTransfer.getData(w.DataTransfers.RESOURCES);n.push(...d(l))}catch{}if(!((t=i.dataTransfer)===null||t===void 0)&&t.files)for(let l=0;l<i.dataTransfer.files.length;l++){const o=i.dataTransfer.files[l];if(o&&o.path)try{n.push({resource:D.URI.file(o.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const u=i.dataTransfer.getData(e.CodeDataTransfers.FILES);if(u)try{const l=JSON.parse(u);for(const o of l)n.push({resource:D.URI.file(o),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const s=v.Registry.as(e.Extensions.DragAndDropContribution).getAll();for(const l of s){const o=i.dataTransfer.getData(l.dataFormatKey);if(o)try{n.push(...l.getEditorInputs(o))}catch{}}}const a=[],r=new N.ResourceMap;for(const c of n)c.resource?r.has(c.resource)||(a.push(c),r.set(c.resource,!0)):a.push(c);return a}e.extractEditorsDropData=C;function d(i){const t=[];if(i){const n=JSON.parse(i);for(const a of n)if(a.indexOf(":")>0){const{selection:r,uri:c}=(0,y.extractSelection)(D.URI.parse(a));t.push({resource:c,options:{selection:r}})}}return t}e.createDraggedEditorInputFromRawResourcesData=d;class g{constructor(){this.a=new Map}getAll(){return this.a.values()}}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},v.Registry.add(e.Extensions.DragAndDropContribution,new g)}),define(ee[303],te([1,0,127,184,101,21,709]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addExternalEditorsDropData=e.toVSDataTransfer=void 0;function v(i){const t=new N.VSDataTransfer;for(const n of i.items){const a=n.type;if(n.kind==="string"){const r=new Promise(c=>n.getAsString(c));t.append(a,(0,N.createStringDataTransferItem)(r))}else if(n.kind==="file"){const r=n.getAsFile();r&&t.append(a,C(r))}}return t}e.toVSDataTransfer=v;function C(i){const t=i.path?D.URI.parse(i.path):void 0;return(0,N.createFileDataTransferItem)(i.name,t,()=>Le(this,void 0,void 0,function*(){return new Uint8Array(yield i.arrayBuffer())}))}const d=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,w.DataTransfers.RESOURCES]);function g(i,t,n=!1){var a;if(t.dataTransfer&&(n||!i.has(E.Mimes.uriList))){const r=(0,y.extractEditorsDropData)(t).filter(c=>c.resource).map(c=>c.resource.toString());for(const c of(a=t.dataTransfer)===null||a===void 0?void 0:a.items){const u=c.getAsFile();u&&r.push(u.path?D.URI.file(u.path).toString():u.name)}r.length&&i.replace(E.Mimes.uriList,(0,N.createStringDataTransferItem)(N.UriList.create(r)))}for(const r of d)i.delete(r)}e.addExternalEditorsDropData=g}),define(ee[221],te([1,0,6,33]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function E(v){return v.length>0&&v.charAt(v.length-1)==="#"?v.substring(0,v.length-1):v}class D{constructor(){this.b=new w.Emitter,this.a={}}registerSchema(C,d){this.a[E(C)]=d,this.b.fire(C)}notifySchemaChanged(C){this.b.fire(C)}}const y=new D;N.Registry.add(e.Extensions.JSONContribution,y)}),define(ee[90],te([1,0,17,6,18,664,32,221,33]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const d=C.Registry.as(v.Extensions.JSONContribution);class g{constructor(){this.h=new Set,this.i=new N.Emitter,this.j=new N.Emitter,this.a=new Map,this.b={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.c=[this.b],this.g={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.d={},this.e=new Map,this.f={},d.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.r()}registerConfiguration(s,l=!0){this.registerConfigurations([s],l)}registerConfigurations(s,l=!0){const o=new Set;this.m(s,l,o),d.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.i.fire(),this.j.fire({properties:o})}registerDefaultConfigurations(s){const l=new Set;this.k(s,l),this.i.fire(),this.j.fire({properties:l,defaultsOverrides:!0})}k(s,l){var o;const h=[];for(const{overrides:f,source:S}of s)for(const p in f)if(l.add(p),e.OVERRIDE_PROPERTY_REGEX.test(p)){const m=this.a.get(p),b=(o=m?.valuesSources)!==null&&o!==void 0?o:new Map;if(S)for(const M of Object.keys(f[p]))b.set(M,S);const L=Object.assign(Object.assign({},m?.value||{}),f[p]);this.a.set(p,{source:S,value:L,valuesSources:b});const k=(0,y.getLanguageTagSettingPlainKey)(p),I={type:"object",default:L,description:D.localize(1,null,k),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:L,source:E.isString(S)?void 0:S,defaultValueSource:S};h.push(...n(p)),this.d[p]=I,this.b.properties[p]=I}else{this.a.set(p,{value:f[p],source:S});const m=this.d[p];m&&(this.s(p,m),this.p(p,m))}this.l(h)}registerOverrideIdentifiers(s){this.l(s),this.i.fire()}l(s){for(const l of s)this.h.add(l);this.q()}m(s,l,o){s.forEach(h=>{this.n(h,l,h.extensionInfo,h.restrictedProperties,void 0,o),this.c.push(h),this.o(h)})}n(s,l=!0,o,h,f=3,S){var p;f=E.isUndefinedOrNull(s.scope)?f:s.scope;const m=s.properties;if(m)for(const L in m){const k=m[L];if(l&&c(L,k)){delete m[L];continue}if(k.source=o,k.defaultDefaultValue=m[L].default,this.s(L,k),e.OVERRIDE_PROPERTY_REGEX.test(L)?k.scope=void 0:(k.scope=E.isUndefinedOrNull(k.scope)?f:k.scope,k.restricted=E.isUndefinedOrNull(k.restricted)?!!h?.includes(L):k.restricted),m[L].hasOwnProperty("included")&&!m[L].included){this.f[L]=m[L],delete m[L];continue}else this.d[L]=m[L],!((p=m[L].policy)===null||p===void 0)&&p.name&&this.e.set(m[L].policy.name,L);!m[L].deprecationMessage&&m[L].markdownDeprecationMessage&&(m[L].deprecationMessage=m[L].markdownDeprecationMessage),S.add(L)}const b=s.allOf;if(b)for(const L of b)this.n(L,l,o,h,f,S)}getConfigurationProperties(){return this.d}getPolicyConfigurations(){return this.e}o(s){const l=o=>{const h=o.properties;if(h)for(const S in h)this.p(S,h[S]);const f=o.allOf;f?.forEach(l)};l(s)}p(s,l){switch(e.allSettings.properties[s]=l,l.scope){case 1:e.applicationSettings.properties[s]=l;break;case 2:e.machineSettings.properties[s]=l;break;case 6:e.machineOverridableSettings.properties[s]=l;break;case 3:e.windowSettings.properties[s]=l;break;case 4:e.resourceSettings.properties[s]=l;break;case 5:e.resourceSettings.properties[s]=l,this.g.properties[s]=l;break}}q(){for(const s of this.h.values()){const l=`[${s}]`,o={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.s(l,o),e.allSettings.properties[l]=o,e.applicationSettings.properties[l]=o,e.machineSettings.properties[l]=o,e.machineOverridableSettings.properties[l]=o,e.windowSettings.properties[l]=o,e.resourceSettings.properties[l]=o}}r(){const s={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this.i.fire()}s(s,l){const o=this.a.get(s);let h=o?.value,f=o?.source;E.isUndefined(h)&&(h=l.defaultDefaultValue,f=void 0),E.isUndefined(h)&&(h=a(l.type)),l.default=h,l.defaultValueSource=f}}const i="\\[([^\\]]+)\\]",t=new RegExp(i,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${i})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function n(u){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(u)){let l=t.exec(u);for(;l?.length;){const o=l[1].trim();o&&s.push(o),l=t.exec(u)}}return(0,w.distinct)(s)}e.overrideIdentifiersFromKey=n;function a(u){switch(Array.isArray(u)?u[0]:u){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=a;const r=new g;C.Registry.add(e.Extensions.Configuration,r);function c(u,s){var l,o,h,f;return u.trim()?e.OVERRIDE_PROPERTY_REGEX.test(u)?D.localize(7,null,u):r.getConfigurationProperties()[u]!==void 0?D.localize(8,null,u):((l=s.policy)===null||l===void 0?void 0:l.name)&&r.getPolicyConfigurations().get((o=s.policy)===null||o===void 0?void 0:o.name)!==void 0?D.localize(9,null,u,(h=s.policy)===null||h===void 0?void 0:h.name,r.getPolicyConfigurations().get((f=s.policy)===null||f===void 0?void 0:f.name)):null:D.localize(6,null)}e.validateProperty=c}),define(ee[222],te([1,0,39,157,571,90,33]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:E.localize(0,null),scope:5});const v=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:N.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:E.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:E.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:N.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:E.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:N.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:E.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:N.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:E.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:N.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:E.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:E.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[E.localize(8,null),E.localize(9,null),E.localize(10,null)],description:E.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[E.localize(12,null),E.localize(13,null),E.localize(14,null)],default:"configuredByTheme",description:E.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:E.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:E.localize(17,null)},"editor.language.brackets":{type:["array","null"],default:null,description:E.localize(18,null),items:{type:"array",items:[{type:"string",description:E.localize(19,null)},{type:"string",description:E.localize(20,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:E.localize(21,null),items:{type:"array",items:[{type:"string",description:E.localize(22,null)},{type:"string",description:E.localize(23,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:E.localize(24,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:E.localize(25,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:E.localize(26,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:E.localize(27,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:E.localize(28,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:E.localize(29,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:E.localize(30,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[E.localize(31,null),E.localize(32,null),E.localize(33,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["smart","experimental"],default:"smart",markdownEnumDescriptions:[E.localize(34,null),E.localize(35,null)]}}});function C(a){return typeof a.type<"u"||typeof a.anyOf<"u"}for(const a of w.editorOptionsRegistry){const r=a.schema;if(typeof r<"u")if(C(r))v.properties[`editor.${a.name}`]=r;else for(const c in r)Object.hasOwnProperty.call(r,c)&&(v.properties[c]=r[c])}let d=null;function g(){return d===null&&(d=Object.create(null),Object.keys(v.properties).forEach(a=>{d[a]=!0})),d}function i(a){return g()[`editor.${a}`]||!1}e.isEditorConfigurationKey=i;function t(a){return g()[`diffEditor.${a}`]||!1}e.isDiffEditorConfigurationKey=t,y.Registry.as(D.Extensions.Configuration).registerConfiguration(v)}),define(ee[70],te([1,0,576,6,33,101,90]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class v{constructor(){this.b=new N.Emitter,this.onDidChangeLanguages=this.b.event,this.a=[]}registerLanguage(d){return this.a.push(d),this.b.fire(void 0),{dispose:()=>{for(let g=0,i=this.a.length;g<i;g++)if(this.a[g]===d){this.a.splice(g,1);return}}}}getLanguages(){return this.a}}e.EditorModesRegistry=v,e.ModesRegistry=new v,E.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[w.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),E.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ee[34],te([1,0,6,2,9,133,102,116,450,546,451,454,213,8,32,40,51,70,453]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class l{constructor(A){this.languageId=A}affects(A){return this.languageId?this.languageId===A:!0}}e.LanguageConfigurationServiceChangeEvent=l,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let o=class extends N.Disposable{constructor(A,T){super(),this.j=A,this.l=T,this.c=this.q(new B),this.g=this.q(new w.Emitter),this.onDidChange=this.g.event,this.h=new Map;const O=new Set(Object.values(f));this.q(this.j.onDidChangeConfiguration(F=>{const W=F.change.keys.some(R=>O.has(R)),V=F.change.overrides.filter(([R,$])=>$.some(X=>O.has(X))).map(([R])=>R);if(W)this.h.clear(),this.g.fire(new l(void 0));else for(const R of V)this.l.isRegisteredLanguageId(R)&&(this.h.delete(R),this.g.fire(new l(R)))})),this.q(this.c.onDidChange(F=>{this.h.delete(F.languageId),this.g.fire(new l(F.languageId))}))}register(A,T,O){return this.c.register(A,T,O)}getLanguageConfiguration(A){let T=this.h.get(A);return T||(T=h(A,this.c,this.j,this.l),this.h.set(A,T)),T}};o=De([fe(0,a.IConfigurationService),fe(1,r.ILanguageService)],o),e.LanguageConfigurationService=o;function h(P,A,T,O){let F=A.getLanguageConfiguration(P);if(!F){if(!O.isRegisteredLanguageId(P))return new z(P,{});F=new z(P,{})}const W=S(F.languageId,T),V=k([F.underlyingConfig,W]);return new z(F.languageId,V)}const f={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function S(P,A){const T=A.getValue(f.brackets,{overrideIdentifier:P}),O=A.getValue(f.colorizedBracketPairs,{overrideIdentifier:P});return{brackets:p(T),colorizedBracketPairs:p(O)}}function p(P){if(!!Array.isArray(P))return P.map(A=>{if(!(!Array.isArray(A)||A.length!==2))return[A[0],A[1]]}).filter(A=>!!A)}function m(P,A,T){const O=P.getLineContent(A);let F=E.getLeadingWhitespace(O);return F.length>T-1&&(F=F.substring(0,T-1)),F}e.getIndentationAtPosition=m;function b(P,A,T){P.tokenization.forceTokenization(A);const O=P.tokenization.getLineTokens(A),F=typeof T>"u"?P.getLineMaxColumn(A)-1:T-1;return(0,v.createScopedLineTokens)(O,F)}e.getScopedLineTokens=b;class L{constructor(A){this.languageId=A,this.f=null,this.c=[],this.d=0,this.f=null}register(A,T){const O=new I(A,T,++this.d);return this.c.push(O),this.f=null,(0,N.toDisposable)(()=>{for(let F=0;F<this.c.length;F++)if(this.c[F]===O){this.c.splice(F,1),this.f=null;break}})}getResolvedConfiguration(){if(!this.f){const A=this.g();A&&(this.f=new z(this.languageId,A))}return this.f}g(){return this.c.length===0?null:(this.c.sort(I.cmp),k(this.c.map(A=>A.configuration)))}}function k(P){let A={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const T of P)A={comments:T.comments||A.comments,brackets:T.brackets||A.brackets,wordPattern:T.wordPattern||A.wordPattern,indentationRules:T.indentationRules||A.indentationRules,onEnterRules:T.onEnterRules||A.onEnterRules,autoClosingPairs:T.autoClosingPairs||A.autoClosingPairs,surroundingPairs:T.surroundingPairs||A.surroundingPairs,autoCloseBefore:T.autoCloseBefore||A.autoCloseBefore,folding:T.folding||A.folding,colorizedBracketPairs:T.colorizedBracketPairs||A.colorizedBracketPairs,__electricCharacterSupport:T.__electricCharacterSupport||A.__electricCharacterSupport};return A}class I{constructor(A,T,O){this.configuration=A,this.priority=T,this.order=O}static cmp(A,T){return A.priority===T.priority?A.order-T.order:A.priority-T.priority}}class M{constructor(A){this.languageId=A}}e.LanguageConfigurationChangeEvent=M;class B extends N.Disposable{constructor(){super(),this.c=new Map,this.g=this.q(new w.Emitter),this.onDidChange=this.g.event,this.q(this.register(u.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(A,T,O=0){let F=this.c.get(A);F||(F=new L(A),this.c.set(A,F));const W=F.register(T,O);return this.g.fire(new M(A)),(0,N.toDisposable)(()=>{W.dispose(),this.g.fire(new M(A))})}getLanguageConfiguration(A){const T=this.c.get(A);return T?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=B;class z{constructor(A,T){this.languageId=A,this.underlyingConfig=T,this.c=null,this.d=null,this.f=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=z.g(this.underlyingConfig),this.characterPair=new C.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new s.LanguageBracketsConfiguration(A,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this.c&&this.underlyingConfig.brackets&&(this.c=new t.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this.c}get electricCharacter(){return this.d||(this.d=new d.BracketElectricCharacterSupport(this.brackets)),this.d}onEnter(A,T,O,F){return this.f?this.f.onEnter(A,T,O,F):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(A){return this.characterPair.getAutoCloseBeforeSet(A)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static g(A){const T=A.comments;if(!T)return null;const O={};if(T.lineComment&&(O.lineCommentToken=T.lineComment),T.blockComment){const[F,W]=T.blockComment;O.blockCommentStartToken=F,O.blockCommentEndToken=W}return O}}e.ResolvedLanguageConfiguration=z,(0,c.registerSingleton)(e.ILanguageConfigurationService,o,1)}),define(ee[304],te([1,0,12,2,280,537,3,34,554,52,172,9,17,62,59,13,19,159]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const s=60*1e3,l=5*60*1e3;function o(k,I){const M=k.getModel(I);return!(!M||M.isTooLargeForSyncing())}let h=class extends N.Disposable{constructor(I,M,B,z,P){super(),this.a=I,this.b=this.q(new S(this.a,z)),this.g=B,this.q(P.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(A,T)=>o(this.a,A.uri)?this.b.withWorker().then(O=>O.computeLinks(A.uri)).then(O=>O&&{links:O}):Promise.resolve({links:[]})})),this.q(P.completionProvider.register("*",new f(this.b,M,this.a,z)))}dispose(){super.dispose()}canComputeUnicodeHighlights(I){return o(this.a,I)}computedUnicodeHighlights(I,M,B){return this.b.withWorker().then(z=>z.computedUnicodeHighlights(I,M,B))}computeDiff(I,M,B,z){return Le(this,void 0,void 0,function*(){const P=yield this.b.withWorker().then(T=>T.computeDiff(I,M,B,z));return P?{identical:P.identical,quitEarly:P.quitEarly,changes:P.changes.map(T=>{var O;return new u.LineRangeMapping(new u.LineRange(T[0],T[1]),new u.LineRange(T[2],T[3]),(O=T[4])===null||O===void 0?void 0:O.map(F=>new u.RangeMapping(new y.Range(F[0],F[1],F[2],F[3]),new y.Range(F[4],F[5],F[6],F[7]))))})}:null})}computeMoreMinimalEdits(I,M){if((0,t.isNonEmptyArray)(M)){if(!o(this.a,I))return Promise.resolve(M);const B=a.StopWatch.create(!0),z=this.b.withWorker().then(P=>P.computeMoreMinimalEdits(I,M));return z.finally(()=>this.g.trace("FORMAT#computeMoreMinimalEdits",I.toString(!0),B.elapsed())),Promise.race([z,(0,w.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(I){return o(this.a,I)}navigateValueSet(I,M,B){return this.b.withWorker().then(z=>z.navigateValueSet(I,M,B))}canComputeWordRanges(I){return o(this.a,I)}computeWordRanges(I,M){return this.b.withWorker().then(B=>B.computeWordRanges(I,M))}};h=De([fe(0,d.IModelService),fe(1,g.ITextResourceConfigurationService),fe(2,n.ILogService),fe(3,v.ILanguageConfigurationService),fe(4,c.ILanguageFeaturesService)],h),e.EditorWorkerService=h;class f{constructor(I,M,B,z){this.f=z,this._debugDisplayName="wordbasedCompletions",this.a=I,this.b=M,this.d=B}provideCompletionItems(I,M){return Le(this,void 0,void 0,function*(){const B=this.b.getValue(I.uri,M,"editor");if(!B.wordBasedSuggestions)return;const z=[];if(B.wordBasedSuggestionsMode==="currentDocument")o(this.d,I.uri)&&z.push(I.uri);else for(const V of this.d.getModels())!o(this.d,V.uri)||(V===I?z.unshift(V.uri):(B.wordBasedSuggestionsMode==="allDocuments"||V.getLanguageId()===I.getLanguageId())&&z.push(V.uri));if(z.length===0)return;const P=this.f.getLanguageConfiguration(I.getLanguageId()).getWordDefinition(),A=I.getWordAtPosition(M),T=A?new y.Range(M.lineNumber,A.startColumn,M.lineNumber,A.endColumn):y.Range.fromPositions(M),O=T.setEndPosition(M.lineNumber,M.column),W=yield(yield this.a.withWorker()).textualSuggest(z,A?.word,P);if(!!W)return{duration:W.duration,suggestions:W.words.map(V=>({kind:18,label:V,insertText:V,range:{insert:O,replace:T}}))}})}}class S extends N.Disposable{constructor(I,M){super(),this.h=M,this.a=I,this.b=null,this.g=new Date().getTime(),this.q(new w.IntervalTimer).cancelAndSet(()=>this.j(),Math.round(l/2)),this.q(this.a.onModelRemoved(z=>this.i()))}dispose(){this.b&&(this.b.dispose(),this.b=null),super.dispose()}i(){if(!this.b)return;this.a.getModels().length===0&&(this.b.dispose(),this.b=null)}j(){if(!this.b)return;new Date().getTime()-this.g>l&&(this.b.dispose(),this.b=null)}withWorker(){return this.g=new Date().getTime(),this.b||(this.b=new L(this.a,!1,"editorWorkerService",this.h)),Promise.resolve(this.b)}}class p extends N.Disposable{constructor(I,M,B){if(super(),this.g=Object.create(null),this.h=Object.create(null),this.a=I,this.b=M,!B){const z=new w.IntervalTimer;z.cancelAndSet(()=>this.i(),Math.round(s/2)),this.q(z)}}dispose(){for(const I in this.g)(0,N.dispose)(this.g[I]);this.g=Object.create(null),this.h=Object.create(null),super.dispose()}ensureSyncedResources(I,M){for(const B of I){const z=B.toString();this.g[z]||this.j(B,M),this.g[z]&&(this.h[z]=new Date().getTime())}}i(){const I=new Date().getTime(),M=[];for(const B in this.h)I-this.h[B]>s&&M.push(B);for(const B of M)this.k(B)}j(I,M){const B=this.b.getModel(I);if(!B||!M&&B.isTooLargeForSyncing())return;const z=I.toString();this.a.acceptNewModel({url:B.uri.toString(),lines:B.getLinesContent(),EOL:B.getEOL(),versionId:B.getVersionId()});const P=new N.DisposableStore;P.add(B.onDidChangeContent(A=>{this.a.acceptModelChanged(z.toString(),A)})),P.add(B.onWillDispose(()=>{this.k(z)})),P.add((0,N.toDisposable)(()=>{this.a.acceptRemovedModel(z)})),this.g[z]=P}k(I){const M=this.g[I];delete this.g[I],delete this.h[I],(0,N.dispose)(M)}}class m{constructor(I){this.a=I,this.b=Promise.resolve(this.a)}dispose(){this.a.dispose()}getProxyObject(){return this.b}}class b{constructor(I){this.a=I}fhr(I,M){return this.a.fhr(I,M)}}e.EditorWorkerHost=b;class L extends N.Disposable{constructor(I,M,B,z){super(),this.k=z,this.j=!1,this.a=I,this.b=M,this.h=new D.DefaultWorkerFactory(B),this.g=null,this.i=null}fhr(I,M){throw new Error("Not implemented!")}l(){if(!this.g)try{this.g=this.q(new E.SimpleWorkerClient(this.h,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(I){(0,E.logOnceWebWorkerWarning)(I),this.g=new m(new C.EditorSimpleWorker(new b(this),null))}return this.g}m(){return this.l().getProxyObject().then(void 0,I=>((0,E.logOnceWebWorkerWarning)(I),this.g=new m(new C.EditorSimpleWorker(new b(this),null)),this.l().getProxyObject()))}n(I){return this.i||(this.i=this.q(new p(I,this.a,this.b))),this.i}p(I,M=!1){return Le(this,void 0,void 0,function*(){return this.j?Promise.reject((0,r.canceled)()):this.m().then(B=>(this.n(B).ensureSyncedResources(I,M),B))})}computedUnicodeHighlights(I,M,B){return this.p([I]).then(z=>z.computeUnicodeHighlights(I.toString(),M,B))}computeDiff(I,M,B,z){return this.p([I,M],!0).then(P=>P.computeDiff(I.toString(),M.toString(),B,z))}computeMoreMinimalEdits(I,M){return this.p([I]).then(B=>B.computeMoreMinimalEdits(I.toString(),M))}computeLinks(I){return this.p([I]).then(M=>M.computeLinks(I.toString()))}textualSuggest(I,M,B){return Le(this,void 0,void 0,function*(){const z=yield this.p(I),P=B.source,A=(0,i.regExpFlags)(B);return z.textualSuggest(I.map(T=>T.toString()),M,P,A)})}computeWordRanges(I,M){return this.p([I]).then(B=>{const z=this.a.getModel(I);if(!z)return Promise.resolve(null);const P=this.k.getLanguageConfiguration(z.getLanguageId()).getWordDefinition(),A=P.source,T=(0,i.regExpFlags)(P);return B.computeWordRanges(I.toString(),M,A,T)})}navigateValueSet(I,M,B){return this.p([I]).then(z=>{const P=this.a.getModel(I);if(!P)return null;const A=this.k.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),T=A.source,O=(0,i.regExpFlags)(A);return z.navigateValueSet(I.toString(),M,B,T,O)})}dispose(){super.dispose(),this.j=!0}}e.EditorWorkerClient=L}),define(ee[710],te([1,0,46,304]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function E(y,v,C){return new D(y,v,C)}e.createWebWorker=E;class D extends N.EditorWorkerClient{constructor(v,C,d){super(v,d.keepIdleModels||!1,d.label,C),this.s=d.moduleId,this.u=d.createData||null,this.t=d.host||null,this.v=null}fhr(v,C){if(!this.t||typeof this.t[v]!="function")return Promise.reject(new Error("Missing method "+v+" or missing main thread foreign host."));try{return Promise.resolve(this.t[v].apply(this.t,C))}catch(d){return Promise.reject(d)}}w(){return this.v||(this.v=this.m().then(v=>{const C=this.t?(0,w.getAllMethodNames)(this.t):[];return v.loadForeignModule(this.s,this.u,C).then(d=>{this.u=null;const g=(n,a)=>v.fmr(n,a),i=(n,a)=>function(){const r=Array.prototype.slice.call(arguments,0);return a(n,r)},t={};for(const n of d)t[n]=i(n,g);return t})})),this.v}getProxy(){return this.w()}withSyncedResources(v){return this.p(v).then(C=>this.getProxy())}}}),define(ee[223],te([1,0,9,102,116,34]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function y(t,n,a){const r=t.tokenization.getLanguageIdAtPosition(n,0);if(n>1){let c,u=-1;for(c=n-1;c>=1;c--){if(t.tokenization.getLanguageIdAtPosition(c,0)!==r)return u;const s=t.getLineContent(c);if(a.shouldIgnore(s)||/^\s+$/.test(s)||s===""){u=c;continue}return c}}return-1}function v(t,n,a,r=!0,c){if(t<4)return null;const u=c.getLanguageConfiguration(n.tokenization.getLanguageId()).indentRulesSupport;if(!u)return null;if(a<=1)return{indentation:"",action:null};for(let o=a-1;o>0&&n.getLineContent(o)==="";o--)if(o===1)return{indentation:"",action:null};const s=y(n,a,u);if(s<0)return null;if(s<1)return{indentation:"",action:null};const l=n.getLineContent(s);if(u.shouldIncrease(l)||u.shouldIndentNextLine(l))return{indentation:w.getLeadingWhitespace(l),action:N.IndentAction.Indent,line:s};if(u.shouldDecrease(l))return{indentation:w.getLeadingWhitespace(l),action:null,line:s};{if(s===1)return{indentation:w.getLeadingWhitespace(n.getLineContent(s)),action:null,line:s};const o=s-1,h=u.getIndentMetadata(n.getLineContent(o));if(!(h&3)&&h&4){let f=0;for(let S=o-1;S>0;S--)if(!u.shouldIndentNextLine(n.getLineContent(S))){f=S;break}return{indentation:w.getLeadingWhitespace(n.getLineContent(f+1)),action:null,line:f+1}}if(r)return{indentation:w.getLeadingWhitespace(n.getLineContent(s)),action:null,line:s};for(let f=s;f>0;f--){const S=n.getLineContent(f);if(u.shouldIncrease(S))return{indentation:w.getLeadingWhitespace(S),action:N.IndentAction.Indent,line:f};if(u.shouldIndentNextLine(S)){let p=0;for(let m=f-1;m>0;m--)if(!u.shouldIndentNextLine(n.getLineContent(f))){p=m;break}return{indentation:w.getLeadingWhitespace(n.getLineContent(p+1)),action:null,line:p+1}}else if(u.shouldDecrease(S))return{indentation:w.getLeadingWhitespace(S),action:null,line:f}}return{indentation:w.getLeadingWhitespace(n.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=v;function C(t,n,a,r,c,u){if(t<4)return null;const s=u.getLanguageConfiguration(a);if(!s)return null;const l=u.getLanguageConfiguration(a).indentRulesSupport;if(!l)return null;const o=v(t,n,r,void 0,u),h=n.getLineContent(r);if(o){const f=o.line;if(f!==void 0){let S=!0;for(let p=f;p<r-1;p++)if(!/^\s*$/.test(n.getLineContent(p))){S=!1;break}if(S){const p=s.onEnter(t,"",n.getLineContent(f),"");if(p){let m=w.getLeadingWhitespace(n.getLineContent(f));return p.removeText&&(m=m.substring(0,m.length-p.removeText)),p.indentAction===N.IndentAction.Indent||p.indentAction===N.IndentAction.IndentOutdent?m=c.shiftIndent(m):p.indentAction===N.IndentAction.Outdent&&(m=c.unshiftIndent(m)),l.shouldDecrease(h)&&(m=c.unshiftIndent(m)),p.appendText&&(m+=p.appendText),w.getLeadingWhitespace(m)}}}return l.shouldDecrease(h)?o.action===N.IndentAction.Indent?o.indentation:c.unshiftIndent(o.indentation):o.action===N.IndentAction.Indent?c.shiftIndent(o.indentation):o.indentation}return null}e.getGoodIndentForLine=C;function d(t,n,a,r,c){if(t<4)return null;n.tokenization.forceTokenization(a.startLineNumber);const u=n.tokenization.getLineTokens(a.startLineNumber),s=(0,E.createScopedLineTokens)(u,a.startColumn-1),l=s.getLineContent();let o=!1,h;s.firstCharOffset>0&&u.getLanguageId(0)!==s.languageId?(o=!0,h=l.substr(0,a.startColumn-1-s.firstCharOffset)):h=u.getLineContent().substring(0,a.startColumn-1);let f;a.isEmpty()?f=l.substr(a.startColumn-1-s.firstCharOffset):f=(0,D.getScopedLineTokens)(n,a.endLineNumber,a.endColumn).getLineContent().substr(a.endColumn-1-s.firstCharOffset);const S=c.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!S)return null;const p=h,m=w.getLeadingWhitespace(h),b={tokenization:{getLineTokens:M=>n.tokenization.getLineTokens(M),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(M,B)=>n.getLanguageIdAtPosition(M,B)},getLineContent:M=>M===a.startLineNumber?p:n.getLineContent(M)},L=w.getLeadingWhitespace(u.getLineContent()),k=v(t,b,a.startLineNumber+1,void 0,c);if(!k){const M=o?L:m;return{beforeEnter:M,afterEnter:M}}let I=o?L:k.indentation;return k.action===N.IndentAction.Indent&&(I=r.shiftIndent(I)),S.shouldDecrease(f)&&(I=r.unshiftIndent(I)),{beforeEnter:o?L:m,afterEnter:I}}e.getIndentForEnter=d;function g(t,n,a,r,c,u){if(t<4)return null;const s=(0,D.getScopedLineTokens)(n,a.startLineNumber,a.startColumn);if(s.firstCharOffset)return null;const l=u.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!l)return null;const o=s.getLineContent(),h=o.substr(0,a.startColumn-1-s.firstCharOffset);let f;if(a.isEmpty()?f=o.substr(a.startColumn-1-s.firstCharOffset):f=(0,D.getScopedLineTokens)(n,a.endLineNumber,a.endColumn).getLineContent().substr(a.endColumn-1-s.firstCharOffset),!l.shouldDecrease(h+f)&&l.shouldDecrease(h+r+f)){const S=v(t,n,a.startLineNumber,!1,u);if(!S)return null;let p=S.indentation;return S.action!==N.IndentAction.Indent&&(p=c.unshiftIndent(p)),p}return null}e.getIndentActionForType=g;function i(t,n,a){const r=a.getLanguageConfiguration(t.getLanguageId()).indentRulesSupport;return!r||n<1||n>t.getLineCount()?null:r.getIndentMetadata(t.getLineContent(n))}e.getIndentMetadata=i}),define(ee[224],te([1,0,102,34]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function E(D,y,v,C){const d=(0,N.getScopedLineTokens)(y,v.startLineNumber,v.startColumn),g=C.getLanguageConfiguration(d.languageId);if(!g)return null;const i=d.getLineContent(),t=i.substr(0,v.startColumn-1-d.firstCharOffset);let n;v.isEmpty()?n=i.substr(v.startColumn-1-d.firstCharOffset):n=(0,N.getScopedLineTokens)(y,v.endLineNumber,v.endColumn).getLineContent().substr(v.endColumn-1-d.firstCharOffset);let a="";if(v.startLineNumber>1&&d.firstCharOffset===0){const o=(0,N.getScopedLineTokens)(y,v.startLineNumber-1);o.languageId===d.languageId&&(a=o.getLineContent())}const r=g.onEnter(D,a,t,n);if(!r)return null;const c=r.indentAction;let u=r.appendText;const s=r.removeText||0;u?c===w.IndentAction.Indent&&(u="	"+u):c===w.IndentAction.Indent||c===w.IndentAction.IndentOutdent?u="	":u="";let l=(0,N.getIndentationAtPosition)(y,v.startLineNumber,v.startColumn);return s&&(l=l.substring(0,l.length-s)),{indentAction:c,appendText:u,removeText:s,indentation:l}}e.getEnterAction=E}),define(ee[225],te([1,0,9,73,3,22,224,34]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const C=Object.create(null);function d(i,t){if(t<=0)return"";C[i]||(C[i]=["",i]);const n=C[i];for(let a=n.length;a<=t;a++)n[a]=n[a-1]+i;return n[t]}let g=class oi{static unshiftIndent(t,n,a,r,c){const u=N.CursorColumns.visibleColumnFromColumn(t,n,a);if(c){const s=d(" ",r),o=N.CursorColumns.prevIndentTabStop(u,r)/r;return d(s,o)}else{const s="	",o=N.CursorColumns.prevRenderTabStop(u,a)/a;return d(s,o)}}static shiftIndent(t,n,a,r,c){const u=N.CursorColumns.visibleColumnFromColumn(t,n,a);if(c){const s=d(" ",r),o=N.CursorColumns.nextIndentTabStop(u,r)/r;return d(s,o)}else{const s="	",o=N.CursorColumns.nextRenderTabStop(u,a)/a;return d(s,o)}}constructor(t,n,a){this.f=a,this.a=n,this.b=t,this.c=null,this.d=!1,this.e=!1}g(t,n,a){this.d?t.addTrackedEditOperation(n,a):t.addEditOperation(n,a)}getEditOperations(t,n){const a=this.b.startLineNumber;let r=this.b.endLineNumber;this.b.endColumn===1&&a!==r&&(r=r-1);const{tabSize:c,indentSize:u,insertSpaces:s}=this.a,l=a===r;if(this.a.useTabStops){this.b.isEmpty()&&/^\s*$/.test(t.getLineContent(a))&&(this.d=!0);let o=0,h=0;for(let f=a;f<=r;f++,o=h){h=0;const S=t.getLineContent(f);let p=w.firstNonWhitespaceIndex(S);if(this.a.isUnshift&&(S.length===0||p===0)||!l&&!this.a.isUnshift&&S.length===0)continue;if(p===-1&&(p=S.length),f>1&&N.CursorColumns.visibleColumnFromColumn(S,p+1,c)%u!==0&&t.tokenization.isCheapToTokenize(f-1)){const L=(0,y.getEnterAction)(this.a.autoIndent,t,new E.Range(f-1,t.getLineMaxColumn(f-1),f-1,t.getLineMaxColumn(f-1)),this.f);if(L){if(h=o,L.appendText)for(let k=0,I=L.appendText.length;k<I&&h<u&&L.appendText.charCodeAt(k)===32;k++)h++;L.removeText&&(h=Math.max(0,h-L.removeText));for(let k=0;k<h&&!(p===0||S.charCodeAt(p-1)!==32);k++)p--}}if(this.a.isUnshift&&p===0)continue;let m;this.a.isUnshift?m=oi.unshiftIndent(S,p+1,c,u,s):m=oi.shiftIndent(S,p+1,c,u,s),this.g(n,new E.Range(f,1,f,p+1),m),f===a&&!this.b.isEmpty()&&(this.e=this.b.startColumn<=p+1)}}else{!this.a.isUnshift&&this.b.isEmpty()&&t.getLineLength(a)===0&&(this.d=!0);const o=s?d(" ",u):"	";for(let h=a;h<=r;h++){const f=t.getLineContent(h);let S=w.firstNonWhitespaceIndex(f);if(!(this.a.isUnshift&&(f.length===0||S===0))&&!(!l&&!this.a.isUnshift&&f.length===0)&&(S===-1&&(S=f.length),!(this.a.isUnshift&&S===0)))if(this.a.isUnshift){S=Math.min(S,u);for(let p=0;p<S;p++)if(f.charCodeAt(p)===9){S=p+1;break}this.g(n,new E.Range(h,1,h,S+1),"")}else this.g(n,new E.Range(h,1,h,1),o),h===a&&!this.b.isEmpty()&&(this.e=this.b.startColumn===1)}}this.c=n.trackSelection(this.b)}computeCursorState(t,n){if(this.d){const r=n.getInverseEditOperations()[0];return new D.Selection(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const a=n.getTrackedSelection(this.c);if(this.e){const r=this.b.startColumn;return a.startColumn<=r?a:a.getDirection()===0?new D.Selection(a.startLineNumber,r,a.endLineNumber,a.endColumn):new D.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,r)}return a}};g=De([fe(2,v.ILanguageConfigurationService)],g),e.ShiftCommand=g}),define(ee[226],te([1,0,13,9,114,225,436,65,132,3,11,102,34,116,223,224]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(p,m,b){if(m===null||b===null)return[];const L=[];for(let k=0,I=b.length;k<I;k++)L[k]=new D.ShiftCommand(b[k],{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return L}static outdent(p,m,b){const L=[];for(let k=0,I=b.length;k<I;k++)L[k]=new D.ShiftCommand(b[k],{isUnshift:!0,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return L}static shiftIndent(p,m,b){return b=b||1,D.ShiftCommand.shiftIndent(m,m.length+b,p.tabSize,p.indentSize,p.insertSpaces)}static unshiftIndent(p,m,b){return b=b||1,D.ShiftCommand.unshiftIndent(m,m.length+b,p.tabSize,p.indentSize,p.insertSpaces)}static a(p,m,b,L){const k=[];for(let I=0,M=b.length;I<M;I++)k[I]=new E.ReplaceCommand(b[I],L[I]);return new v.EditOperationResult(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static b(p,m,b,L,k){const I=[];for(let M=0,B=b.length;M<B;M++){const z=b[M],P=z.getPosition();if(k&&!z.isEmpty()&&(k=!1),k&&L.indexOf(`
`)!==L.length-1&&(k=!1),k){const A=new d.Range(P.lineNumber,1,P.lineNumber,1);I[M]=new E.ReplaceCommandThatPreservesSelection(A,L,z,!0)}else I[M]=new E.ReplaceCommand(z,L)}return new v.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static c(p,m,b,L,k){if(L||m.length===1)return null;if(k&&k.length===m.length)return k;if(p.multiCursorPaste==="spread"){b.charCodeAt(b.length-1)===10&&(b=b.substr(0,b.length-1)),b.charCodeAt(b.length-1)===13&&(b=b.substr(0,b.length-1));const I=N.splitLines(b);if(I.length===m.length)return I}return null}static paste(p,m,b,L,k,I){const M=this.c(p,b,L,k,I);return M?(b=b.sort(d.Range.compareRangesUsingStarts),this.a(p,m,b,M)):this.b(p,m,b,L,k)}static d(p,m,b){let L=null,k="";const I=(0,a.getInheritIndentForLine)(p.autoIndent,m,b,!1,p.languageConfigurationService);if(I)L=I.action,k=I.indentation;else if(b>1){let M;for(M=b-1;M>=1;M--){const P=m.getLineContent(M);if(N.lastNonWhitespaceIndex(P)>=0)break}if(M<1)return null;const B=m.getLineMaxColumn(M),z=(0,r.getEnterAction)(p.autoIndent,m,new d.Range(M,B,M,B),p.languageConfigurationService);z&&(k=z.indentation+z.appendText)}return L&&(L===i.IndentAction.Indent&&(k=c.shiftIndent(p,k)),L===i.IndentAction.Outdent&&(k=c.unshiftIndent(p,k)),k=p.normalizeIndentation(k)),k||null}static f(p,m,b,L){let k="";const I=b.getStartPosition();if(p.insertSpaces){const M=p.visibleColumnFromColumn(m,I),B=p.indentSize,z=B-M%B;for(let P=0;P<z;P++)k+=" "}else k="	";return new E.ReplaceCommand(b,k,L)}static tab(p,m,b){const L=[];for(let k=0,I=b.length;k<I;k++){const M=b[k];if(M.isEmpty()){const B=m.getLineContent(M.startLineNumber);if(/^\s*$/.test(B)&&m.tokenization.isCheapToTokenize(M.startLineNumber)){let z=this.d(p,m,M.startLineNumber);z=z||"	";const P=p.normalizeIndentation(z);if(!B.startsWith(P)){L[k]=new E.ReplaceCommand(new d.Range(M.startLineNumber,1,M.startLineNumber,B.length+1),P,!0);continue}}L[k]=this.f(p,m,M,!0)}else{if(M.startLineNumber===M.endLineNumber){const B=m.getLineMaxColumn(M.startLineNumber);if(M.startColumn!==1||M.endColumn!==B){L[k]=this.f(p,m,M,!1);continue}}L[k]=new D.ShiftCommand(M,{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService)}}return L}static compositionType(p,m,b,L,k,I,M,B){const z=L.map(P=>this.g(b,P,k,I,M,B));return new v.EditOperationResult(4,z,{shouldPushStackElementBefore:o(p,4),shouldPushStackElementAfter:!1})}static g(p,m,b,L,k,I){if(!m.isEmpty())return null;const M=m.getPosition(),B=Math.max(1,M.column-L),z=Math.min(p.getLineMaxColumn(M.lineNumber),M.column+k),P=new d.Range(M.lineNumber,B,M.lineNumber,z);return p.getValueInRange(P)===b&&I===0?null:new E.ReplaceCommandWithOffsetCursorState(P,b,0,I)}static h(p,m,b){return b?new E.ReplaceCommandWithoutChangingPosition(p,m,!0):new E.ReplaceCommand(p,m,!0)}static k(p,m,b,L){if(p.autoIndent===0)return c.h(L,`
`,b);if(!m.tokenization.isCheapToTokenize(L.getStartPosition().lineNumber)||p.autoIndent===1){const B=m.getLineContent(L.startLineNumber),z=N.getLeadingWhitespace(B).substring(0,L.startColumn-1);return c.h(L,`
`+p.normalizeIndentation(z),b)}const k=(0,r.getEnterAction)(p.autoIndent,m,L,p.languageConfigurationService);if(k){if(k.indentAction===i.IndentAction.None)return c.h(L,`
`+p.normalizeIndentation(k.indentation+k.appendText),b);if(k.indentAction===i.IndentAction.Indent)return c.h(L,`
`+p.normalizeIndentation(k.indentation+k.appendText),b);if(k.indentAction===i.IndentAction.IndentOutdent){const B=p.normalizeIndentation(k.indentation),z=p.normalizeIndentation(k.indentation+k.appendText),P=`
`+z+`
`+B;return b?new E.ReplaceCommandWithoutChangingPosition(L,P,!0):new E.ReplaceCommandWithOffsetCursorState(L,P,-1,z.length-B.length,!0)}else if(k.indentAction===i.IndentAction.Outdent){const B=c.unshiftIndent(p,k.indentation);return c.h(L,`
`+p.normalizeIndentation(B+k.appendText),b)}}const I=m.getLineContent(L.startLineNumber),M=N.getLeadingWhitespace(I).substring(0,L.startColumn-1);if(p.autoIndent>=4){const B=(0,a.getIndentForEnter)(p.autoIndent,m,L,{unshiftIndent:z=>c.unshiftIndent(p,z),shiftIndent:z=>c.shiftIndent(p,z),normalizeIndentation:z=>p.normalizeIndentation(z)},p.languageConfigurationService);if(B){let z=p.visibleColumnFromColumn(m,L.getEndPosition());const P=L.endColumn,A=m.getLineContent(L.endLineNumber),T=N.firstNonWhitespaceIndex(A);if(T>=0?L=L.setEndPosition(L.endLineNumber,Math.max(L.endColumn,T+1)):L=L.setEndPosition(L.endLineNumber,m.getLineMaxColumn(L.endLineNumber)),b)return new E.ReplaceCommandWithoutChangingPosition(L,`
`+p.normalizeIndentation(B.afterEnter),!0);{let O=0;return P<=T+1&&(p.insertSpaces||(z=Math.ceil(z/p.indentSize)),O=Math.min(z+1-p.normalizeIndentation(B.afterEnter).length-1,0)),new E.ReplaceCommandWithOffsetCursorState(L,`
`+p.normalizeIndentation(B.afterEnter),0,O,!0)}}}return c.h(L,`
`+p.normalizeIndentation(M),b)}static l(p,m,b){if(p.autoIndent<4)return!1;for(let L=0,k=b.length;L<k;L++)if(!m.tokenization.isCheapToTokenize(b[L].getEndPosition().lineNumber))return!1;return!0}static m(p,m,b,L){const k=(0,t.getIndentationAtPosition)(m,b.startLineNumber,b.startColumn),I=(0,a.getIndentActionForType)(p.autoIndent,m,b,L,{shiftIndent:M=>c.shiftIndent(p,M),unshiftIndent:M=>c.unshiftIndent(p,M)},p.languageConfigurationService);if(I===null)return null;if(I!==p.normalizeIndentation(k)){const M=m.getLineFirstNonWhitespaceColumn(b.startLineNumber);return M===0?c.h(new d.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),p.normalizeIndentation(I)+L,!1):c.h(new d.Range(b.startLineNumber,1,b.endLineNumber,b.endColumn),p.normalizeIndentation(I)+m.getLineContent(b.startLineNumber).substring(M-1,b.startColumn-1)+L,!1)}return null}static n(p,m,b,L,k){if(p.autoClosingOvertype==="never"||!p.autoClosingPairs.autoClosingPairsCloseSingleChar.has(k))return!1;for(let I=0,M=b.length;I<M;I++){const B=b[I];if(!B.isEmpty())return!1;const z=B.getPosition(),P=m.getLineContent(z.lineNumber);if(P.charAt(z.column-1)!==k)return!1;const T=(0,v.isQuote)(k);if((z.column>2?P.charCodeAt(z.column-2):0)===92&&T)return!1;if(p.autoClosingOvertype==="auto"){let F=!1;for(let W=0,V=L.length;W<V;W++){const R=L[W];if(z.lineNumber===R.startLineNumber&&z.column===R.startColumn){F=!0;break}}if(!F)return!1}}return!0}static o(p,m,b,L,k){const I=[];for(let M=0,B=L.length;M<B;M++){const P=L[M].getPosition(),A=new d.Range(P.lineNumber,P.column,P.lineNumber,P.column+1);I[M]=new E.ReplaceCommand(A,k)}return new v.EditOperationResult(4,I,{shouldPushStackElementBefore:o(p,4),shouldPushStackElementAfter:!1})}static q(p,m){const b=m.charAt(0),L=p.autoClosingPairs.autoClosingPairsOpenByStart.get(b)||[],k=p.autoClosingPairs.autoClosingPairsCloseByStart.get(b)||[],I=L.some(B=>m.startsWith(B.open)),M=k.some(B=>m.startsWith(B.close));return!I&&M}static t(p,m,b,L){const k=p.autoClosingPairs.autoClosingPairsOpenByEnd.get(L);if(!k)return null;let I=null;for(const M of k)if(I===null||M.open.length>I.open.length){let B=!0;for(const z of b)if(m.getValueInRange(new d.Range(z.lineNumber,z.column-M.open.length+1,z.lineNumber,z.column))+L!==M.open){B=!1;break}B&&(I=M)}return I}static u(p,m){if(m.open.length<=1)return null;const b=m.close.charAt(m.close.length-1),L=p.autoClosingPairs.autoClosingPairsCloseByEnd.get(b)||[];let k=null;for(const I of L)I.open!==m.open&&m.open.includes(I.open)&&m.close.endsWith(I.close)&&(!k||I.open.length>k.open.length)&&(k=I);return k}static v(p,m,b,L,k){const I=(0,v.isQuote)(L),M=I?p.autoClosingQuotes:p.autoClosingBrackets,B=I?p.shouldAutoCloseBefore.quote:p.shouldAutoCloseBefore.bracket;if(M==="never")return null;for(const F of b)if(!F.isEmpty())return null;const z=b.map(F=>{const W=F.getPosition();return k?{lineNumber:W.lineNumber,beforeColumn:W.column-L.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),P=this.t(p,m,z.map(F=>new g.Position(F.lineNumber,F.beforeColumn)),L);if(!P)return null;const A=this.u(p,P),T=A?A.close:"";let O=!0;for(const F of z){const{lineNumber:W,beforeColumn:V,afterColumn:R}=F,$=m.getLineContent(W),X=$.substring(0,V-1),ne=$.substring(R-1);if(ne.startsWith(T)||(O=!1),ne.length>0){const J=ne.charAt(0);if(!c.q(p,ne)&&!B(J))return null}if(P.open.length===1&&(L==="'"||L==='"')&&M!=="always"){const J=(0,C.getMapForWordSeparators)(p.wordSeparators);if(X.length>0){const x=X.charCodeAt(X.length-1);if(J.get(x)===0)return null}}if(!m.tokenization.isCheapToTokenize(W))return null;m.tokenization.forceTokenization(W);const ae=m.tokenization.getLineTokens(W),ie=(0,n.createScopedLineTokens)(ae,V-1);if(!P.shouldAutoClose(ie,V-ie.firstCharOffset))return null;const le=P.findNeutralCharacter();if(le){const J=m.tokenization.getTokenTypeIfInsertingCharacter(W,V,le);if(!P.isOK(J))return null}}return O?P.close.substring(0,P.close.length-T.length):P.close}static w(p,m,b,L,k,I,M){const B=[];for(let z=0,P=L.length;z<P;z++){const A=L[z];B[z]=new u(A,k,!I,M)}return new v.EditOperationResult(4,B,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static y(p,m){return(0,v.isQuote)(m)?p.autoSurround==="quotes"||p.autoSurround==="languageDefined":p.autoSurround==="brackets"||p.autoSurround==="languageDefined"}static z(p,m,b,L){if(!c.y(p,L)||!p.surroundingPairs.hasOwnProperty(L))return!1;const k=(0,v.isQuote)(L);for(const I of b){if(I.isEmpty())return!1;let M=!0;for(let B=I.startLineNumber;B<=I.endLineNumber;B++){const z=m.getLineContent(B),P=B===I.startLineNumber?I.startColumn-1:0,A=B===I.endLineNumber?I.endColumn-1:z.length,T=z.substring(P,A);if(/[^ \t]/.test(T)){M=!1;break}}if(M)return!1;if(k&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const B=m.getValueInRange(I);if((0,v.isQuote)(B))return!1}}return!0}static A(p,m,b,L,k){const I=[];for(let M=0,B=L.length;M<B;M++){const z=L[M],P=m.surroundingPairs[k];I[M]=new y.SurroundSelectionCommand(z,k,P)}return new v.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static B(p,m,b){return!!(b.length===1&&m.tokenization.isCheapToTokenize(b[0].getEndPosition().lineNumber))}static C(p,m,b,L,k){if(!m.electricChars.hasOwnProperty(k)||!L.isEmpty())return null;const I=L.getPosition();b.tokenization.forceTokenization(I.lineNumber);const M=b.tokenization.getLineTokens(I.lineNumber);let B;try{B=m.onElectricCharacter(k,M,I.column)}catch(z){return(0,w.onUnexpectedError)(z),null}if(!B)return null;if(B.matchOpenBracket){const z=(M.getLineContent()+k).lastIndexOf(B.matchOpenBracket)+1,P=b.bracketPairs.findMatchingBracketUp(B.matchOpenBracket,{lineNumber:I.lineNumber,column:z},500);if(P){if(P.startLineNumber===I.lineNumber)return null;const A=b.getLineContent(P.startLineNumber),T=N.getLeadingWhitespace(A),O=m.normalizeIndentation(T),F=b.getLineContent(I.lineNumber),W=b.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,V=F.substring(W-1,I.column-1),R=O+V+k,$=new d.Range(I.lineNumber,1,I.lineNumber,I.column),X=new E.ReplaceCommand($,R);return new v.EditOperationResult(l(R,p),[X],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(p,m,b,L,k,I){if(!L)return null;let M=null;for(const A of L)if(M===null)M=A.insertedText;else if(M!==A.insertedText)return null;if(!M||M.length!==1)return null;const B=M;let z=!1;for(const A of L)if(A.deletedText.length!==0){z=!0;break}if(z){if(!c.y(m,B)||!m.surroundingPairs.hasOwnProperty(B))return null;const A=(0,v.isQuote)(B);for(const F of L)if(F.deletedSelectionStart!==0||F.deletedSelectionEnd!==F.deletedText.length||/^[ \t]+$/.test(F.deletedText)||A&&(0,v.isQuote)(F.deletedText))return null;const T=[];for(const F of k){if(!F.isEmpty())return null;T.push(F.getPosition())}if(T.length!==L.length)return null;const O=[];for(let F=0,W=T.length;F<W;F++)O.push(new y.CompositionSurroundSelectionCommand(T[F],L[F].deletedText,m.surroundingPairs[B]));return new v.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this.n(m,b,k,I,B)){const A=k.map(T=>new E.ReplaceCommand(new d.Range(T.positionLineNumber,T.positionColumn,T.positionLineNumber,T.positionColumn+1),"",!1));return new v.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const P=this.v(m,b,k,B,!0);return P!==null?this.w(p,m,b,k,B,!0,P):null}static typeWithInterceptors(p,m,b,L,k,I,M){if(!p&&M===`
`){const P=[];for(let A=0,T=k.length;A<T;A++)P[A]=c.k(b,L,!1,k[A]);return new v.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!p&&this.l(b,L,k)){const P=[];let A=!1;for(let T=0,O=k.length;T<O;T++)if(P[T]=this.m(b,L,k[T],M),!P[T]){A=!0;break}if(!A)return new v.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this.n(b,L,k,I,M))return this.o(m,b,L,k,M);if(!p){const P=this.v(b,L,k,M,!1);if(P)return this.w(m,b,L,k,M,!1,P)}if(!p&&this.z(b,L,k,M))return this.A(m,b,L,k,M);if(!p&&this.B(b,L,k)){const P=this.C(m,b,L,k[0],M);if(P)return P}const B=[];for(let P=0,A=k.length;P<A;P++)B[P]=new E.ReplaceCommand(k[P],M);const z=l(M,m);return new v.EditOperationResult(z,B,{shouldPushStackElementBefore:o(m,z),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(p,m,b,L,k){const I=[];for(let B=0,z=L.length;B<z;B++)I[B]=new E.ReplaceCommand(L[B],k);const M=l(k,p);return new v.EditOperationResult(M,I,{shouldPushStackElementBefore:o(p,M),shouldPushStackElementAfter:!1})}static lineInsertBefore(p,m,b){if(m===null||b===null)return[];const L=[];for(let k=0,I=b.length;k<I;k++){let M=b[k].positionLineNumber;if(M===1)L[k]=new E.ReplaceCommandWithoutChangingPosition(new d.Range(1,1,1,1),`
`);else{M--;const B=m.getLineMaxColumn(M);L[k]=this.k(p,m,!1,new d.Range(M,B,M,B))}}return L}static lineInsertAfter(p,m,b){if(m===null||b===null)return[];const L=[];for(let k=0,I=b.length;k<I;k++){const M=b[k].positionLineNumber,B=m.getLineMaxColumn(M);L[k]=this.k(p,m,!1,new d.Range(M,B,M,B))}return L}static lineBreakInsert(p,m,b){const L=[];for(let k=0,I=b.length;k<I;k++)L[k]=this.k(p,m,!0,b[k]);return L}}e.TypeOperations=c;class u extends E.ReplaceCommandWithOffsetCursorState{constructor(p,m,b,L){super(p,(b?m:"")+L,0,-L.length),this.f=m,this.g=L,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(p,m){const L=m.getInverseEditOperations()[0].range;return this.closeCharacterRange=new d.Range(L.startLineNumber,L.endColumn-this.g.length,L.endLineNumber,L.endColumn),this.enclosingRange=new d.Range(L.startLineNumber,L.endColumn-this.f.length-this.g.length,L.endLineNumber,L.endColumn),super.computeCursorState(p,m)}}e.TypeWithAutoClosingCommand=u;class s{constructor(p,m,b,L,k,I){this.deletedText=p,this.deletedSelectionStart=m,this.deletedSelectionEnd=b,this.insertedText=L,this.insertedSelectionStart=k,this.insertedSelectionEnd=I}}e.CompositionOutcome=s;function l(S,p){return S===" "?p===5||p===6?6:5:4}function o(S,p){return f(S)&&!f(p)?!0:S===5?!1:h(S)!==h(p)}function h(S){return S===6||S===5?"space":S}function f(S){return S===4||S===5||S===6}}),define(ee[711],te([1,0,13,9,449,65,437,187,226,3,22,103,194,2,214]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class r extends n.Disposable{constructor(f,S,p,m){super(),this.c=f,this.g=this.c.getVersionId(),this.h=S,this.k=p,this.context=new y.CursorContext(this.c,this.h,this.k,m),this.n=new E.CursorCollection(this.context),this.p=!1,this.t=!1,this.u=null,this.v=null,this.w=[],this.y=0}dispose(){this.n.dispose(),this.w=(0,n.dispose)(this.w),super.dispose()}updateConfiguration(f){this.context=new y.CursorContext(this.c,this.h,this.k,f),this.n.updateContext(this.context)}onLineMappingChanged(f){this.g===this.c.getVersionId()&&this.setStates(f,"viewModel",0,this.getCursorStates())}setHasFocus(f){this.p=f}z(){if(this.w.length>0){const f=this.n.getSelections();for(let S=0;S<this.w.length;S++){const p=this.w[S];p.isValid(f)||(p.dispose(),this.w.splice(S,1),S--)}}}getPrimaryCursorState(){return this.n.getPrimaryCursor()}getLastAddedCursorIndex(){return this.n.getLastAddedCursorIndex()}getCursorStates(){return this.n.getAll()}setStates(f,S,p,m){let b=!1;const L=this.context.cursorConfig.multiCursorLimit;m!==null&&m.length>L&&(m=m.slice(0,L),b=!0);const k=c.from(this.c,this);return this.n.setStates(m),this.n.normalize(),this.v=null,this.z(),this.F(f,S,p,k,b)}setCursorColumnSelectData(f){this.v=f}revealPrimary(f,S,p,m,b,L){const k=this.n.getViewPositions();let I=null,M=null;k.length>1?M=this.n.getViewSelections():I=d.Range.fromPositions(k[0],k[0]),f.emitViewEvent(new t.ViewRevealRangeRequestEvent(S,p,I,M,m,b,L))}saveState(){const f=[],S=this.n.getSelections();for(let p=0,m=S.length;p<m;p++){const b=S[p];f.push({inSelectionMode:!b.isEmpty(),selectionStart:{lineNumber:b.selectionStartLineNumber,column:b.selectionStartColumn},position:{lineNumber:b.positionLineNumber,column:b.positionColumn}})}return f}restoreState(f,S){const p=[];for(let m=0,b=S.length;m<b;m++){const L=S[m];let k=1,I=1;L.position&&L.position.lineNumber&&(k=L.position.lineNumber),L.position&&L.position.column&&(I=L.position.column);let M=k,B=I;L.selectionStart&&L.selectionStart.lineNumber&&(M=L.selectionStart.lineNumber),L.selectionStart&&L.selectionStart.column&&(B=L.selectionStart.column),p.push({selectionStartLineNumber:M,selectionStartColumn:B,positionLineNumber:k,positionColumn:I})}this.setStates(f,"restoreState",0,D.CursorState.fromModelSelections(p)),this.revealPrimary(f,"restoreState",!1,0,!0,1)}onModelContentChanged(f,S){if(S instanceof i.ModelInjectedTextChangedEvent){if(this.t)return;this.t=!0;try{this.setStates(f,"modelChange",0,this.getCursorStates())}finally{this.t=!1}}else{const p=S.rawContentChangedEvent;if(this.g=p.versionId,this.t)return;const m=p.containsEvent(1);if(this.y=0,m)this.n.dispose(),this.n=new E.CursorCollection(this.context),this.z(),this.F(f,"model",1,null,!1);else if(this.p&&p.resultingSelection&&p.resultingSelection.length>0){const b=D.CursorState.fromModelSelections(p.resultingSelection);this.setStates(f,"modelChange",p.isUndoing?5:p.isRedoing?6:2,b)&&this.revealPrimary(f,"modelChange",!1,0,!0,0)}else{const b=this.n.readSelectionFromMarkers();this.setStates(f,"modelChange",2,D.CursorState.fromModelSelections(b))}}}getSelection(){return this.n.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this.n.getTopMostViewPosition()}getBottomMostViewPosition(){return this.n.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this.v)return this.v;const f=this.n.getPrimaryCursor(),S=f.viewState.selectionStart.getStartPosition(),p=f.viewState.position;return{isReal:!1,fromViewLineNumber:S.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this.h,S),toViewLineNumber:p.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this.h,p)}}getSelections(){return this.n.getSelections()}setSelections(f,S,p,m){this.setStates(f,S,m,D.CursorState.fromModelSelections(p))}getPrevEditOperationType(){return this.y}setPrevEditOperationType(f){this.y=f}B(f,S){const p=[],m=[];for(let k=0,I=f.length;k<I;k++)p.push({range:f[k],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),m.push({range:S[k],options:{description:"auto-closed-enclosing",stickiness:1}});const b=this.c.deltaDecorations([],p),L=this.c.deltaDecorations([],m);this.w.push(new u(this.c,b,L))}C(f){if(!f)return;f.shouldPushStackElementBefore&&this.c.pushStackElement();const S=s.executeCommands(this.c,this.n.getSelections(),f.commands);if(S){this.D(S);const p=[],m=[];for(let b=0;b<f.commands.length;b++){const L=f.commands[b];L instanceof C.TypeWithAutoClosingCommand&&L.enclosingRange&&L.closeCharacterRange&&(p.push(L.closeCharacterRange),m.push(L.enclosingRange))}p.length>0&&this.B(p,m),this.y=f.type}f.shouldPushStackElementAfter&&this.c.pushStackElement()}D(f){(!f||f.length===0)&&(f=this.n.readSelectionFromMarkers()),this.v=null,this.n.setSelections(f),this.n.normalize()}F(f,S,p,m,b){const L=c.from(this.c,this);if(L.equals(m))return!1;const k=this.n.getSelections(),I=this.n.getViewSelections();if(f.emitViewEvent(new t.ViewCursorStateChangedEvent(I,k,p)),!m||m.cursorState.length!==L.cursorState.length||L.cursorState.some((M,B)=>!M.modelState.equals(m.cursorState[B].modelState))){const M=m?m.cursorState.map(z=>z.modelState.selection):null,B=m?m.modelVersionId:0;f.emitOutgoingEvent(new a.CursorStateChangedEvent(M,k,B,L.modelVersionId,S||"keyboard",p,b))}return!0}G(f){if(!f.length)return null;const S=[];for(let p=0,m=f.length;p<m;p++){const b=f[p];if(!b.text||b.text.indexOf(`
`)>=0)return null;const L=b.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!L)return null;const k=L[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(k);if(!I||I.length!==1)return null;const M=I[0].open,B=b.text.length-L[2].length-1,z=b.text.lastIndexOf(M,B-1);if(z===-1)return null;S.push([z,B])}return S}executeEdits(f,S,p,m){let b=null;S==="snippet"&&(b=this.G(p)),b&&(p[0]._isTracked=!0);const L=[],k=[],I=this.c.pushEditOperations(this.getSelections(),p,M=>{if(b)for(let z=0,P=b.length;z<P;z++){const[A,T]=b[z],O=M[z],F=O.range.startLineNumber,W=O.range.startColumn-1+A,V=O.range.startColumn-1+T;L.push(new d.Range(F,V+1,F,V+2)),k.push(new d.Range(F,W+1,F,V+2))}const B=m(M);return B&&(this.t=!0),B});I&&(this.t=!1,this.setSelections(f,S,I,0)),L.length>0&&this.B(L,k)}H(f,S,p,m=0){if(this.context.cursorConfig.readOnly)return;const b=c.from(this.c,this);this.n.stopTrackingSelections(),this.t=!0;try{this.n.ensureValidState(),f()}catch(L){(0,w.onUnexpectedError)(L)}this.t=!1,this.n.startTrackingSelections(),this.z(),this.F(S,p,m,b,!1)&&this.revealPrimary(S,p,!1,0,!0,0)}getAutoClosedCharacters(){return u.getAllAutoClosedCharacters(this.w)}startComposition(f){this.u=new o(this.c,this.getSelections())}endComposition(f,S){const p=this.u?this.u.deduceOutcome(this.c,this.getSelections()):null;this.u=null,this.H(()=>{S==="keyboard"&&this.C(C.TypeOperations.compositionEndWithInterceptors(this.y,this.context.cursorConfig,this.c,p,this.getSelections(),this.getAutoClosedCharacters()))},f,S)}type(f,S,p){this.H(()=>{if(p==="keyboard"){const m=S.length;let b=0;for(;b<m;){const L=N.nextCharLength(S,b),k=S.substr(b,L);this.C(C.TypeOperations.typeWithInterceptors(!!this.u,this.y,this.context.cursorConfig,this.c,this.getSelections(),this.getAutoClosedCharacters(),k)),b+=L}}else this.C(C.TypeOperations.typeWithoutInterceptors(this.y,this.context.cursorConfig,this.c,this.getSelections(),S))},f,p)}compositionType(f,S,p,m,b,L){if(S.length===0&&p===0&&m===0){if(b!==0){const k=this.getSelections().map(I=>{const M=I.getPosition();return new g.Selection(M.lineNumber,M.column+b,M.lineNumber,M.column+b)});this.setSelections(f,L,k,0)}return}this.H(()=>{this.C(C.TypeOperations.compositionType(this.y,this.context.cursorConfig,this.c,this.getSelections(),S,p,m,b))},f,L)}paste(f,S,p,m,b){this.H(()=>{this.C(C.TypeOperations.paste(this.context.cursorConfig,this.c,this.getSelections(),S,p,m||[]))},f,b,4)}cut(f,S){this.H(()=>{this.C(v.DeleteOperations.cut(this.context.cursorConfig,this.c,this.getSelections()))},f,S)}executeCommand(f,S,p){this.H(()=>{this.n.killSecondaryCursors(),this.C(new D.EditOperationResult(0,[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},f,p)}executeCommands(f,S,p){this.H(()=>{this.C(new D.EditOperationResult(0,S,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},f,p)}}e.CursorsController=r;class c{static from(f,S){return new c(f.getVersionId(),S.getCursorStates())}constructor(f,S){this.modelVersionId=f,this.cursorState=S}equals(f){if(!f||this.modelVersionId!==f.modelVersionId||this.cursorState.length!==f.cursorState.length)return!1;for(let S=0,p=this.cursorState.length;S<p;S++)if(!this.cursorState[S].equals(f.cursorState[S]))return!1;return!0}}class u{static getAllAutoClosedCharacters(f){let S=[];for(const p of f)S=S.concat(p.getAutoClosedCharactersRanges());return S}constructor(f,S,p){this.c=f,this.d=S,this.f=p}dispose(){this.d=this.c.deltaDecorations(this.d,[]),this.f=this.c.deltaDecorations(this.f,[])}getAutoClosedCharactersRanges(){const f=[];for(let S=0;S<this.d.length;S++){const p=this.c.getDecorationRange(this.d[S]);p&&f.push(p)}return f}isValid(f){const S=[];for(let p=0;p<this.f.length;p++){const m=this.c.getDecorationRange(this.f[p]);if(m&&(S.push(m),m.startLineNumber!==m.endLineNumber))return!1}S.sort(d.Range.compareRangesUsingStarts),f.sort(d.Range.compareRangesUsingStarts);for(let p=0;p<f.length;p++)if(p>=S.length||!S[p].strictContainsRange(f[p]))return!1;return!0}}class s{static executeCommands(f,S,p){const m={model:f,selectionsBefore:S,trackedRanges:[],trackedRangesDirection:[]},b=this.c(m,p);for(let L=0,k=m.trackedRanges.length;L<k;L++)m.model._setTrackedRange(m.trackedRanges[L],null,0);return b}static c(f,S){if(this.d(S))return null;const p=this.f(f,S);if(p.operations.length===0)return null;const m=p.operations,b=this.h(m);if(b.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const L=[];for(let M=0,B=m.length;M<B;M++)b.hasOwnProperty(m[M].identifier.major.toString())||L.push(m[M]);p.hadTrackedEditOperation&&L.length>0&&(L[0]._isTracked=!0);let k=f.model.pushEditOperations(f.selectionsBefore,L,M=>{const B=[];for(let A=0;A<f.selectionsBefore.length;A++)B[A]=[];for(const A of M)!A.identifier||B[A.identifier.major].push(A);const z=(A,T)=>A.identifier.minor-T.identifier.minor,P=[];for(let A=0;A<f.selectionsBefore.length;A++)B[A].length>0?(B[A].sort(z),P[A]=S[A].computeCursorState(f.model,{getInverseEditOperations:()=>B[A],getTrackedSelection:T=>{const O=parseInt(T,10),F=f.model._getTrackedRange(f.trackedRanges[O]);return f.trackedRangesDirection[O]===0?new g.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn):new g.Selection(F.endLineNumber,F.endColumn,F.startLineNumber,F.startColumn)}})):P[A]=f.selectionsBefore[A];return P});k||(k=f.selectionsBefore);const I=[];for(const M in b)b.hasOwnProperty(M)&&I.push(parseInt(M,10));I.sort((M,B)=>B-M);for(const M of I)k.splice(M,1);return k}static d(f){for(let S=0,p=f.length;S<p;S++)if(f[S])return!1;return!0}static f(f,S){let p=[],m=!1;for(let b=0,L=S.length;b<L;b++){const k=S[b];if(k){const I=this.g(f,b,k);p=p.concat(I.operations),m=m||I.hadTrackedEditOperation}}return{operations:p,hadTrackedEditOperation:m}}static g(f,S,p){const m=[];let b=0;const L=(z,P,A=!1)=>{d.Range.isEmpty(z)&&P===""||m.push({identifier:{major:S,minor:b++},range:z,text:P,forceMoveMarkers:A,isAutoWhitespaceEdit:p.insertsAutoWhitespace})};let k=!1;const B={addEditOperation:L,addTrackedEditOperation:(z,P,A)=>{k=!0,L(z,P,A)},trackSelection:(z,P)=>{const A=g.Selection.liftSelection(z);let T;if(A.isEmpty())if(typeof P=="boolean")P?T=2:T=3;else{const W=f.model.getLineMaxColumn(A.startLineNumber);A.startColumn===W?T=2:T=3}else T=1;const O=f.trackedRanges.length,F=f.model._setTrackedRange(null,A,T);return f.trackedRanges[O]=F,f.trackedRangesDirection[O]=A.getDirection(),O.toString()}};try{p.getEditOperations(f.model,B)}catch(z){return(0,w.onUnexpectedError)(z),{operations:[],hadTrackedEditOperation:!1}}return{operations:m,hadTrackedEditOperation:k}}static h(f){f=f.slice(0),f.sort((p,m)=>-d.Range.compareRangesUsingEnds(p.range,m.range));const S={};for(let p=1;p<f.length;p++){const m=f[p-1],b=f[p];if(d.Range.getStartPosition(m.range).isBefore(d.Range.getEndPosition(b.range))){let L;m.identifier.major>b.identifier.major?L=m.identifier.major:L=b.identifier.major,S[L.toString()]=!0;for(let k=0;k<f.length;k++)f[k].identifier.major===L&&(f.splice(k,1),k<p&&p--,k--);p>0&&p--}}return S}}class l{constructor(f,S,p){this.text=f,this.startSelection=S,this.endSelection=p}}class o{static d(f,S){const p=[];for(const m of S){if(m.startLineNumber!==m.endLineNumber)return null;p.push(new l(f.getLineContent(m.startLineNumber),m.startColumn-1,m.endColumn-1))}return p}constructor(f,S){this.c=o.d(f,S)}deduceOutcome(f,S){if(!this.c)return null;const p=o.d(f,S);if(!p||this.c.length!==p.length)return null;const m=[];for(let b=0,L=this.c.length;b<L;b++)m.push(o.f(this.c[b],p[b]));return m}static f(f,S){const p=Math.min(f.startSelection,S.startSelection,N.commonPrefixLength(f.text,S.text)),m=Math.min(f.text.length-f.endSelection,S.text.length-S.endSelection,N.commonSuffixLength(f.text,S.text)),b=f.text.substring(p,f.text.length-m),L=S.text.substring(p,S.text.length-m);return new C.CompositionOutcome(b,f.startSelection-p,f.endSelection-p,L,S.startSelection-p,S.endSelection-p)}}}),define(ee[712],te([1,0,47,43,70,294]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const y=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function v(g,i,t,n){const a=n===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:n===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let r;if(t.scheme===w.Schemas.data)r=N.DataUri.parseMetaData(t).get(N.DataUri.META_DATA_LABEL);else{const c=t.path.match(y);c?(r=d(c[2].toLowerCase()),c[1]&&a.push(`${d(c[1].toLowerCase())}-name-dir-icon`)):r=d(t.authority.toLowerCase())}if(n===D.FileKind.FOLDER)a.push(`${r}-name-folder-icon`);else{if(r){if(a.push(`${r}-name-file-icon`),a.push("name-file-icon"),r.length<=255){const u=r.split(".");for(let s=1;s<u.length;s++)a.push(`${u.slice(s).join(".")}-ext-file-icon`)}a.push("ext-file-icon")}const c=C(g,i,t);c&&a.push(`${d(c)}-lang-file-icon`)}}return a}e.getIconClasses=v;function C(g,i,t){if(!t)return null;let n=null;if(t.scheme===w.Schemas.data){const r=N.DataUri.parseMetaData(t).get(N.DataUri.META_DATA_MIME);r&&(n=i.getLanguageIdByMimeType(r))}else{const a=g.getModel(t);a&&(n=a.getLanguageId())}return n&&n!==E.PLAINTEXT_LANGUAGE_ID?n:i.guessLanguageIdByFilepathOrFirstLine(t)}function d(g){return g.replace(/[\11\12\14\15\40]/g,"/")}}),define(ee[713],te([1,0,267,101,47,88,43,9,70]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let d=[],g=[],i=[];function t(o,h=!1){n(o,!1,h)}e.registerPlatformLanguageAssociation=t;function n(o,h,f){const S=a(o,h);d.push(S),S.userConfigured?i.push(S):g.push(S),f&&!S.userConfigured&&d.forEach(p=>{p.mime===S.mime||p.userConfigured||(S.extension&&p.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&p.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&p.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&p.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function a(o,h){return{id:o.id,mime:o.mime,filename:o.filename,extension:o.extension,filepattern:o.filepattern,firstline:o.firstline,userConfigured:h,filenameLowercase:o.filename?o.filename.toLowerCase():void 0,extensionLowercase:o.extension?o.extension.toLowerCase():void 0,filepatternLowercase:o.filepattern?(0,w.parse)(o.filepattern.toLowerCase()):void 0,filepatternOnPath:o.filepattern?o.filepattern.indexOf(D.posix.sep)>=0:!1}}function r(){d=d.filter(o=>o.userConfigured),g=[]}e.clearPlatformLanguageAssociations=r;function c(o,h){return u(o,h).map(f=>f.id)}e.getLanguageIds=c;function u(o,h){let f;if(o)switch(o.scheme){case E.Schemas.file:f=o.fsPath;break;case E.Schemas.data:{f=y.DataUri.parseMetaData(o).get(y.DataUri.META_DATA_LABEL);break}case E.Schemas.vscodeNotebookCell:f=void 0;break;default:f=o.path}if(!f)return[{id:"unknown",mime:N.Mimes.unknown}];f=f.toLowerCase();const S=(0,D.basename)(f),p=s(f,S,i);if(p)return[p,{id:C.PLAINTEXT_LANGUAGE_ID,mime:N.Mimes.text}];const m=s(f,S,g);if(m)return[m,{id:C.PLAINTEXT_LANGUAGE_ID,mime:N.Mimes.text}];if(h){const b=l(h);if(b)return[b,{id:C.PLAINTEXT_LANGUAGE_ID,mime:N.Mimes.text}]}return[{id:"unknown",mime:N.Mimes.unknown}]}function s(o,h,f){var S;let p,m,b;for(let L=f.length-1;L>=0;L--){const k=f[L];if(h===k.filenameLowercase){p=k;break}if(k.filepattern&&(!m||k.filepattern.length>m.filepattern.length)){const I=k.filepatternOnPath?o:h;!((S=k.filepatternLowercase)===null||S===void 0)&&S.call(k,I)&&(m=k)}k.extension&&(!b||k.extension.length>b.extension.length)&&h.endsWith(k.extensionLowercase)&&(b=k)}if(p)return p;if(m)return m;if(b)return b}function l(o){if((0,v.startsWithUTF8BOM)(o)&&(o=o.substr(1)),o.length>0)for(let h=d.length-1;h>=0;h--){const f=d[h];if(!f.firstline)continue;const S=o.match(f.firstline);if(S&&S.length>0)return f}}}),define(ee[714],te([1,0,6,2,9,713,70,90,33]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const d=Object.prototype.hasOwnProperty,g="vs.editor.nullLanguage";class i{constructor(){this.b=[],this.c=new Map,this.e(g,0),this.e(y.PLAINTEXT_LANGUAGE_ID,1),this.a=2}e(a,r){this.b[r]=a,this.c.set(a,r)}register(a){if(this.c.has(a))return;const r=this.a++;this.e(a,r)}encodeLanguageId(a){return this.c.get(a)||0}decodeLanguageId(a){return this.b[a]||g}}e.LanguageIdCodec=i;class t extends N.Disposable{constructor(a=!0,r=!1){super(),this.a=this.q(new w.Emitter),this.onDidChange=this.a.event,t.instanceCount++,this.b=r,this.languageIdCodec=new i,this.c=[],this.g={},this.h={},this.i={},this.j={},a&&(this.k(),this.q(y.ModesRegistry.onDidChangeLanguages(c=>{this.k()})))}dispose(){t.instanceCount--,super.dispose()}k(){this.g={},this.h={},this.i={},this.j={},(0,D.clearPlatformLanguageAssociations)();const a=[].concat(y.ModesRegistry.getLanguages()).concat(this.c);this._registerLanguages(a)}_registerLanguages(a){for(const r of a)this.l(r);this.h={},this.i={},this.j={},Object.keys(this.g).forEach(r=>{const c=this.g[r];c.name&&(this.i[c.name]=c.identifier),c.aliases.forEach(u=>{this.j[u.toLowerCase()]=c.identifier}),c.mimetypes.forEach(u=>{this.h[u]=c.identifier})}),C.Registry.as(v.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this.a.fire()}l(a){const r=a.id;let c;d.call(this.g,r)?c=this.g[r]:(this.languageIdCodec.register(r),c={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this.g[r]=c),this.n(c,a)}n(a,r){const c=r.id;let u=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(a.mimetypes.push(...r.mimetypes),u=r.mimetypes[0]),u||(u=`text/x-${c}`,a.mimetypes.push(u)),Array.isArray(r.extensions)){r.configuration?a.extensions=r.extensions.concat(a.extensions):a.extensions=a.extensions.concat(r.extensions);for(const o of r.extensions)(0,D.registerPlatformLanguageAssociation)({id:c,mime:u,extension:o},this.b)}if(Array.isArray(r.filenames))for(const o of r.filenames)(0,D.registerPlatformLanguageAssociation)({id:c,mime:u,filename:o},this.b),a.filenames.push(o);if(Array.isArray(r.filenamePatterns))for(const o of r.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:c,mime:u,filepattern:o},this.b);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let o=r.firstLine;o.charAt(0)!=="^"&&(o="^"+o);try{const h=new RegExp(o);(0,E.regExpLeadsToEndlessLoop)(h)||(0,D.registerPlatformLanguageAssociation)({id:c,mime:u,firstline:h},this.b)}catch(h){console.warn(`[${r.id}]: Invalid regular expression \`${o}\`: `,h)}}a.aliases.push(c);let s=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?s=[null]:s=r.aliases),s!==null)for(const o of s)!o||o.length===0||a.aliases.push(o);const l=s!==null&&s.length>0;if(!(l&&s[0]===null)){const o=(l?s[0]:null)||c;(l||!a.name)&&(a.name=o)}r.configuration&&a.configurationFiles.push(r.configuration),r.icon&&a.icons.push(r.icon)}isRegisteredLanguageId(a){return a?d.call(this.g,a):!1}getRegisteredLanguageIds(){return Object.keys(this.g)}getLanguageIdByLanguageName(a){const r=a.toLowerCase();return d.call(this.j,r)?this.j[r]:null}getLanguageIdByMimeType(a){return a&&d.call(this.h,a)?this.h[a]:null}guessLanguageIdByFilepathOrFirstLine(a,r){return!a&&!r?[]:(0,D.getLanguageIds)(a,r)}}t.instanceCount=0,e.LanguagesRegistry=t}),define(ee[715],te([1,0,6,2,714,17,26,70]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class C extends N.Disposable{constructor(i=!1){super(),this.c=this.q(new w.Emitter),this.onDidEncounterLanguage=this.c.event,this.g=this.q(new w.Emitter({leakWarningThreshold:200})),this.onDidChange=this.g.event,C.instanceCount++,this.a=new Set,this.b=this.q(new E.LanguagesRegistry(!0,i)),this.languageIdCodec=this.b.languageIdCodec,this.q(this.b.onDidChange(()=>this.g.fire()))}dispose(){C.instanceCount--,super.dispose()}isRegisteredLanguageId(i){return this.b.isRegisteredLanguageId(i)}getLanguageIdByLanguageName(i){return this.b.getLanguageIdByLanguageName(i)}getLanguageIdByMimeType(i){return this.b.getLanguageIdByMimeType(i)}guessLanguageIdByFilepathOrFirstLine(i,t){const n=this.b.guessLanguageIdByFilepathOrFirstLine(i,t);return(0,D.firstOrDefault)(n,null)}createById(i){return new d(this.onDidChange,()=>this.h(i))}createByFilepathOrFirstLine(i,t){return new d(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(i,t);return this.h(n)})}h(i){return(!i||!this.isRegisteredLanguageId(i))&&(i=v.PLAINTEXT_LANGUAGE_ID),this.a.has(i)||(this.a.add(i),y.TokenizationRegistry.getOrCreate(i),this.c.fire(i)),i}}C.instanceCount=0,e.LanguageService=C;class d{constructor(i,t){this.c=i,this.d=t,this.a=null,this.b=null,this.languageId=this.d()}e(){this.a&&(this.a.dispose(),this.a=null),this.b&&(this.b.dispose(),this.b=null)}get onDidChange(){return this.a||(this.a=this.c(()=>this.f())),this.b||(this.b=new w.Emitter({onDidRemoveLastListener:()=>{this.e()}})),this.b.event}f(){var i;const t=this.d();t!==this.languageId&&(this.languageId=t,(i=this.b)===null||i===void 0||i.fire(this.languageId))}}}),define(ee[716],te([1,0,9,225,3,22,102,34,262,223,224]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let i=class{constructor(n,a,r,c){this.g=c,this.a=n,this.b=a,this.c=r,this.d=null,this.f=!1}getEditOperations(n,a){const r=n.getLineCount();if(this.b&&this.a.endLineNumber===r){this.d=a.trackSelection(this.a);return}if(!this.b&&this.a.startLineNumber===1){this.d=a.trackSelection(this.a);return}this.e=!1;let c=this.a;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this.e=!0,c=c.setEndPosition(c.endLineNumber-1,n.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:u,indentSize:s,insertSpaces:l}=n.getOptions(),o=this.h(u,s,l),h={tokenization:{getLineTokens:f=>n.tokenization.getLineTokens(f),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(f,S)=>n.getLanguageIdAtPosition(f,S)},getLineContent:null};if(c.startLineNumber===c.endLineNumber&&n.getLineMaxColumn(c.startLineNumber)===1){const f=c.startLineNumber,S=this.b?f+1:f-1;n.getLineMaxColumn(S)===1?a.addEditOperation(new E.Range(1,1,1,1),null):(a.addEditOperation(new E.Range(f,1,f,1),n.getLineContent(S)),a.addEditOperation(new E.Range(S,1,S,n.getLineMaxColumn(S)),null)),c=new D.Selection(S,1,S,1)}else{let f,S;if(this.b){f=c.endLineNumber+1,S=n.getLineContent(f),a.addEditOperation(new E.Range(f-1,n.getLineMaxColumn(f-1),f,n.getLineMaxColumn(f)),null);let p=S;if(this.n(n,c)){const m=this.l(n,o,u,f,c.startLineNumber-1);if(m!==null){const L=w.getLeadingWhitespace(n.getLineContent(f)),k=m+C.getSpaceCnt(L,u);p=C.generateIndent(k,u,l)+this.m(S)}else{h.getLineContent=k=>k===c.startLineNumber?n.getLineContent(f):n.getLineContent(k);const L=(0,d.getGoodIndentForLine)(this.c,h,n.getLanguageIdAtPosition(f,1),c.startLineNumber,o,this.g);if(L!==null){const k=w.getLeadingWhitespace(n.getLineContent(f)),I=C.getSpaceCnt(L,u),M=C.getSpaceCnt(k,u);I!==M&&(p=C.generateIndent(I,u,l)+this.m(S))}}a.addEditOperation(new E.Range(c.startLineNumber,1,c.startLineNumber,1),p+`
`);const b=this.k(n,o,u,c.startLineNumber,f,p);if(b!==null)b!==0&&this.o(n,a,c,u,l,b);else{h.getLineContent=k=>k===c.startLineNumber?p:k>=c.startLineNumber+1&&k<=c.endLineNumber+1?n.getLineContent(k-1):n.getLineContent(k);const L=(0,d.getGoodIndentForLine)(this.c,h,n.getLanguageIdAtPosition(f,1),c.startLineNumber+1,o,this.g);if(L!==null){const k=w.getLeadingWhitespace(n.getLineContent(c.startLineNumber)),I=C.getSpaceCnt(L,u),M=C.getSpaceCnt(k,u);if(I!==M){const B=I-M;this.o(n,a,c,u,l,B)}}}}else a.addEditOperation(new E.Range(c.startLineNumber,1,c.startLineNumber,1),p+`
`)}else if(f=c.startLineNumber-1,S=n.getLineContent(f),a.addEditOperation(new E.Range(f,1,f+1,1),null),a.addEditOperation(new E.Range(c.endLineNumber,n.getLineMaxColumn(c.endLineNumber),c.endLineNumber,n.getLineMaxColumn(c.endLineNumber)),`
`+S),this.n(n,c)){h.getLineContent=m=>m===f?n.getLineContent(c.startLineNumber):n.getLineContent(m);const p=this.l(n,o,u,c.startLineNumber,c.startLineNumber-2);if(p!==null)p!==0&&this.o(n,a,c,u,l,p);else{const m=(0,d.getGoodIndentForLine)(this.c,h,n.getLanguageIdAtPosition(c.startLineNumber,1),f,o,this.g);if(m!==null){const b=w.getLeadingWhitespace(n.getLineContent(c.startLineNumber)),L=C.getSpaceCnt(m,u),k=C.getSpaceCnt(b,u);if(L!==k){const I=L-k;this.o(n,a,c,u,l,I)}}}}}this.d=a.trackSelection(c)}h(n,a,r){return{shiftIndent:c=>N.ShiftCommand.shiftIndent(c,c.length+1,n,a,r),unshiftIndent:c=>N.ShiftCommand.unshiftIndent(c,c.length+1,n,a,r)}}j(n,a,r,c,u){if(u){let s=u.indentation;u.indentAction===y.IndentAction.None||u.indentAction===y.IndentAction.Indent?s=u.indentation+u.appendText:u.indentAction===y.IndentAction.IndentOutdent?s=u.indentation:u.indentAction===y.IndentAction.Outdent&&(s=a.unshiftIndent(u.indentation)+u.appendText);const l=n.getLineContent(c);if(this.m(l).indexOf(this.m(s))>=0){const o=w.getLeadingWhitespace(n.getLineContent(c));let h=w.getLeadingWhitespace(s);const f=(0,d.getIndentMetadata)(n,c,this.g);f!==null&&f&2&&(h=a.unshiftIndent(h));const S=C.getSpaceCnt(h,r),p=C.getSpaceCnt(o,r);return S-p}}return null}k(n,a,r,c,u,s){if(w.lastNonWhitespaceIndex(s)>=0){const l=n.getLineMaxColumn(u),o=(0,g.getEnterAction)(this.c,n,new E.Range(u,l,u,l),this.g);return this.j(n,a,r,c,o)}else{let l=c-1;for(;l>=1;){const f=n.getLineContent(l);if(w.lastNonWhitespaceIndex(f)>=0)break;l--}if(l<1||c>n.getLineCount())return null;const o=n.getLineMaxColumn(l),h=(0,g.getEnterAction)(this.c,n,new E.Range(l,o,l,o),this.g);return this.j(n,a,r,c,h)}}l(n,a,r,c,u,s){let l=u;for(;l>=1;){let f;if(l===u&&s!==void 0?f=s:f=n.getLineContent(l),w.lastNonWhitespaceIndex(f)>=0)break;l--}if(l<1||c>n.getLineCount())return null;const o=n.getLineMaxColumn(l),h=(0,g.getEnterAction)(this.c,n,new E.Range(l,o,l,o),this.g);return this.j(n,a,r,c,h)}m(n){return n.replace(/^\s+/,"")}n(n,a){if(this.c<4||!n.tokenization.isCheapToTokenize(a.startLineNumber))return!1;const r=n.getLanguageIdAtPosition(a.startLineNumber,1),c=n.getLanguageIdAtPosition(a.endLineNumber,1);return!(r!==c||this.g.getLanguageConfiguration(r).indentRulesSupport===null)}o(n,a,r,c,u,s){for(let l=r.startLineNumber;l<=r.endLineNumber;l++){const o=n.getLineContent(l),h=w.getLeadingWhitespace(o),S=C.getSpaceCnt(h,c)+s,p=C.generateIndent(S,c,u);p!==h&&(a.addEditOperation(new E.Range(l,1,l,h.length+1),p),l===r.endLineNumber&&r.endColumn<=h.length+1&&p===""&&(this.f=!0))}}computeCursorState(n,a){let r=a.getTrackedSelection(this.d);return this.e&&(r=r.setEndPosition(r.endLineNumber+1,1)),this.f&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}};i=De([fe(3,v.ILanguageConfigurationService)],i),e.MoveLinesCommand=i}),define(ee[121],te([1,0,277,13,6,2,72,40,70,286,53]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let t=class Ri{constructor(c,u,s){this.c=c,this.d=u,this.f=s,this.b=new E.Emitter,this.onDidRenderAsync=this.b.event}dispose(){this.b.dispose()}render(c,u,s){if(!c)return{element:document.createElement("span"),dispose:()=>{}};const l=new D.DisposableStore;return{element:l.add((0,w.renderMarkdown)(c,Object.assign(Object.assign({},this.g(c,l)),u),s)).element,dispose:()=>l.dispose()}}g(c,u){return{codeBlockRenderer:(s,l)=>Le(this,void 0,void 0,function*(){var o,h,f;let S;s?S=this.d.getLanguageIdByLanguageName(s):this.c.editor&&(S=(o=this.c.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),S||(S=C.PLAINTEXT_LANGUAGE_ID);const p=yield(0,d.tokenizeToString)(this.d,l,S),m=document.createElement("span");if(m.innerHTML=(f=(h=Ri.a)===null||h===void 0?void 0:h.createHTML(p))!==null&&f!==void 0?f:p,this.c.editor){const b=this.c.editor.getOption(47);(0,y.applyFontInfo)(m,b)}else this.c.codeBlockFontFamily&&(m.style.fontFamily=this.c.codeBlockFontFamily);return this.c.codeBlockFontSize!==void 0&&(m.style.fontSize=this.c.codeBlockFontSize),m}),asyncRenderCallback:()=>this.b.fire(),actionHandler:{callback:s=>n(this.f,s,c.isTrusted),disposables:u}}}};t.a=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(r){return r}}),t=De([fe(1,v.ILanguageService),fe(2,g.IOpenerService)],t),e.MarkdownRenderer=t;function n(r,c,u){return Le(this,void 0,void 0,function*(){try{return yield r.open(c,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a(u)})}catch(s){return(0,N.onUnexpectedError)(s),!1}})}e.openLinkFromMarkdown=n;function a(r){return r===!0?!0:r&&Array.isArray(r.enabledCommands)?r.enabledCommands:!1}}),define(ee[717],te([1,0,7,17,71,2,121,289,274]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const d=w.$;class g extends D.Disposable{constructor(n,a,r){super(),this.k=this.q(new D.DisposableStore),this.a=n,this.c=!1,this.g=[],this.b=this.q(new C.HoverWidget),this.b.containerDomNode.classList.toggle("hidden",!this.c),this.h=this.q(new y.MarkdownRenderer({editor:this.a},a,r)),this.i=new i(this.a),this.j=this.q(new v.HoverOperation(this.a,this.i)),this.q(this.j.onResult(c=>{this.n(c.value)})),this.q(this.a.onDidChangeModelDecorations(()=>this.m())),this.q(this.a.onDidChangeConfiguration(c=>{c.hasChanged(47)&&this.l()})),this.a.addOverlayWidget(this)}dispose(){this.a.removeOverlayWidget(this),super.dispose()}getId(){return g.ID}getDomNode(){return this.b.containerDomNode}getPosition(){return null}l(){Array.prototype.slice.call(this.b.contentsDomNode.getElementsByClassName("code")).forEach(a=>this.a.applyFontInfo(a))}m(){this.c&&(this.j.cancel(),this.j.start(0))}startShowingAt(n){this.i.lineNumber!==n&&(this.j.cancel(),this.hide(),this.i.lineNumber=n,this.j.start(0))}hide(){this.i.lineNumber=-1,this.j.cancel(),this.c&&(this.c=!1,this.b.containerDomNode.classList.toggle("hidden",!this.c))}n(n){this.g=n,this.g.length>0?this.p(this.i.lineNumber,this.g):this.hide()}p(n,a){this.k.clear();const r=document.createDocumentFragment();for(const c of a){const u=d("div.hover-row.markdown-hover"),s=w.append(u,d("div.hover-contents")),l=this.k.add(this.h.render(c.value));s.appendChild(l.element),r.appendChild(u)}this.r(r),this.s(n)}r(n){this.b.contentsDomNode.textContent="",this.b.contentsDomNode.appendChild(n),this.l()}s(n){this.c||(this.c=!0,this.b.containerDomNode.classList.toggle("hidden",!this.c));const a=this.a.getLayoutInfo(),r=this.a.getTopForLineNumber(n),c=this.a.getScrollTop(),u=this.a.getOption(63),s=this.b.containerDomNode.clientHeight,l=r-c-(s-u)/2;this.b.containerDomNode.style.left=`${a.glyphMarginLeft+a.glyphMarginWidth}px`,this.b.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}g.ID="editor.contrib.modesGlyphHoverWidget",e.MarginHoverWidget=g;class i{get lineNumber(){return this.a}set lineNumber(n){this.a=n}constructor(n){this.b=n,this.a=-1}computeSync(){const n=c=>({value:c}),a=this.b.getLineDecorations(this.a),r=[];if(!a)return r;for(const c of a){if(!c.options.glyphMarginClassName)continue;const u=c.options.glyphMarginHoverMessage;!u||(0,E.isEmptyMarkdownString)(u)||r.push(...(0,N.asArray)(u).map(n))}return r}}}),define(ee[305],te([1,0,7,74,27,31,6,71,2,121,272,646,8]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function n(c){return!!c&&Boolean(c.completion.documentation||c.completion.detail&&c.completion.detail!==c.completion.label)}e.canExpandCompletionItem=n;let a=class{constructor(u,s){this.r=u,this.c=new y.Emitter,this.onDidClose=this.c.event,this.d=new y.Emitter,this.onDidChangeContents=this.d.event,this.l=new C.DisposableStore,this.n=new C.DisposableStore,this.o=1,this.q=new w.Dimension(330,0),this.domNode=w.$(".suggest-details"),this.domNode.classList.add("no-docs"),this.m=s.createInstance(d.MarkdownRenderer,{editor:u}),this.h=w.$(".body"),this.g=new N.DomScrollableElement(this.h,{alwaysConsumeMouseWheel:!0}),w.append(this.domNode,this.g.getDomNode()),this.l.add(this.g),this.i=w.append(this.h,w.$(".header")),this.f=w.append(this.i,w.$("span"+D.ThemeIcon.asCSSSelector(E.Codicon.close))),this.f.title=i.localize(0,null),this.j=w.append(this.i,w.$("p.type")),this.k=w.append(this.h,w.$("p.docs")),this.s(),this.l.add(this.r.onDidChangeConfiguration(l=>{l.hasChanged(47)&&this.s()}))}dispose(){this.l.dispose(),this.n.dispose()}s(){const u=this.r.getOptions(),s=u.get(47),l=s.getMassagedFontFamily(),o=u.get(113)||s.fontSize,h=u.get(114)||s.lineHeight,f=s.fontWeight,S=`${o}px`,p=`${h}px`;this.domNode.style.fontSize=S,this.domNode.style.lineHeight=`${h/o}`,this.domNode.style.fontWeight=f,this.domNode.style.fontFeatureSettings=s.fontFeatureSettings,this.j.style.fontFamily=l,this.f.style.height=p,this.f.style.width=p}getLayoutInfo(){const u=this.r.getOption(114)||this.r.getOption(47).lineHeight,s=this.o,l=s*2;return{lineHeight:u,borderWidth:s,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this.j.textContent=i.localize(1,null),this.k.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this.d.fire(this)}renderItem(u,s){var l,o;this.n.clear();let{detail:h,documentation:f}=u.completion;if(s){let S="";S+=`score: ${u.score[0]}
`,S+=`prefix: ${(l=u.word)!==null&&l!==void 0?l:"(no prefix)"}
`,S+=`word: ${u.completion.filterText?u.completion.filterText+" (filterText)":u.textLabel}
`,S+=`distance: ${u.distance} (localityBonus-setting)
`,S+=`index: ${u.idx}, based on ${u.completion.sortText&&`sortText: "${u.completion.sortText}"`||"label"}
`,S+=`commit_chars: ${(o=u.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,f=new v.MarkdownString().appendCodeblock("empty",S),h=`Provider: ${u.provider._debugDisplayName}`}if(!s&&!n(u)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),h){const S=h.length>1e5?`${h.substr(0,1e5)}\u2026`:h;this.j.textContent=S,this.j.title=S,w.show(this.j),this.j.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(S))}else w.clearNode(this.j),this.j.title="",w.hide(this.j),this.domNode.classList.add("no-type");if(w.clearNode(this.k),typeof f=="string")this.k.classList.remove("markdown-docs"),this.k.textContent=f;else if(f){this.k.classList.add("markdown-docs"),w.clearNode(this.k);const S=this.m.render(f);this.k.appendChild(S.element),this.n.add(S),this.n.add(this.m.onDidRenderAsync(()=>{this.layout(this.q.width,this.j.clientHeight+this.k.clientHeight),this.d.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this.f.onmousedown=S=>{S.preventDefault(),S.stopPropagation()},this.f.onclick=S=>{S.preventDefault(),S.stopPropagation(),this.c.fire()},this.h.scrollTop=0,this.layout(this.q.width,this.j.clientHeight+this.k.clientHeight),this.d.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this.j.textContent="",this.k.textContent=""}get size(){return this.q}layout(u,s){const l=new w.Dimension(u,s);w.Dimension.equals(l,this.q)||(this.q=l,w.size(this.domNode,u,s)),this.g.scanDomNode()}scrollDown(u=8){this.h.scrollTop+=u}scrollUp(u=8){this.h.scrollTop-=u}scrollTop(){this.h.scrollTop=0}scrollBottom(){this.h.scrollTop=this.h.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(u){this.o=u}get borderWidth(){return this.o}};a=De([fe(1,t.IInstantiationService)],a),e.SuggestDetailsWidget=a;class r{constructor(u,s){this.widget=u,this.k=s,this.c=new C.DisposableStore,this.f=!1,this.h=!0,this.d=new g.ResizableHTMLElement,this.d.domNode.classList.add("suggest-details-container"),this.d.domNode.appendChild(u.domNode),this.d.enableSashes(!1,!0,!0,!1);let l,o,h=0,f=0;this.c.add(this.d.onDidWillResize(()=>{l=this.j,o=this.d.size})),this.c.add(this.d.onDidResize(S=>{if(l&&o){this.widget.layout(S.dimension.width,S.dimension.height);let p=!1;S.west&&(f=o.width-S.dimension.width,p=!0),S.north&&(h=o.height-S.dimension.height,p=!0),p&&this.l({top:l.top+h,left:l.left+f})}S.done&&(l=void 0,o=void 0,h=0,f=0,this.i=S.dimension)})),this.c.add(this.widget.onDidChangeContents(()=>{var S;this.g&&this._placeAtAnchor(this.g,(S=this.i)!==null&&S!==void 0?S:this.widget.size,this.h)}))}dispose(){this.d.dispose(),this.c.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this.d.domNode}getPosition(){return null}show(){this.f||(this.k.addOverlayWidget(this),this.getDomNode().style.position="fixed",this.f=!0)}hide(u=!1){this.d.clearSashHoverState(),this.f&&(this.k.removeOverlayWidget(this),this.f=!1,this.g=void 0,this.j=void 0),u&&(this.i=void 0,this.widget.clearContents())}placeAtAnchor(u,s){var l;const o=u.getBoundingClientRect();this.g=o,this.h=s,this._placeAtAnchor(this.g,(l=this.i)!==null&&l!==void 0?l:this.widget.size,s)}_placeAtAnchor(u,s,l){var o;const h=w.getClientArea(document.body),f=this.widget.getLayoutInfo(),S=new w.Dimension(220,2*f.lineHeight),p=u.top,m=function(){const T=h.width-(u.left+u.width+f.borderWidth+f.horizontalPadding),O=-f.borderWidth+u.left+u.width,F=new w.Dimension(T,h.height-u.top-f.borderHeight-f.verticalPadding),W=F.with(void 0,u.top+u.height-f.borderHeight-f.verticalPadding);return{top:p,left:O,fit:T-s.width,maxSizeTop:F,maxSizeBottom:W,minSize:S.with(Math.min(T,S.width))}}(),b=function(){const T=u.left-f.borderWidth-f.horizontalPadding,O=Math.max(f.horizontalPadding,u.left-s.width-f.borderWidth),F=new w.Dimension(T,h.height-u.top-f.borderHeight-f.verticalPadding),W=F.with(void 0,u.top+u.height-f.borderHeight-f.verticalPadding);return{top:p,left:O,fit:T-s.width,maxSizeTop:F,maxSizeBottom:W,minSize:S.with(Math.min(T,S.width))}}(),L=function(){const T=u.left,O=-f.borderWidth+u.top+u.height,F=new w.Dimension(u.width-f.borderHeight,h.height-u.top-u.height-f.verticalPadding);return{top:O,left:T,fit:F.height-s.height,maxSizeBottom:F,maxSizeTop:F,minSize:S.with(F.width)}}(),k=[m,b,L],I=(o=k.find(T=>T.fit>=0))!==null&&o!==void 0?o:k.sort((T,O)=>O.fit-T.fit)[0],M=u.top+u.height-f.borderHeight;let B,z=s.height;const P=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);z>P&&(z=P);let A;l?z<=I.maxSizeTop.height?(B=!0,A=I.maxSizeTop):(B=!1,A=I.maxSizeBottom):z<=I.maxSizeBottom.height?(B=!1,A=I.maxSizeBottom):(B=!0,A=I.maxSizeTop),this.l({left:I.left,top:B?I.top:M-z}),this.getDomNode().style.position="fixed",this.d.enableSashes(!B,I===m,B,I!==m),this.d.minSize=I.minSize,this.d.maxSize=A,this.d.layout(z,Math.min(A.width,s.width)),this.widget.layout(this.d.size.width,this.d.size.height)}l(u){this.j=u,this.getDomNode().style.left=`${this.j.left}px`,this.getDomNode().style.top=`${this.j.top}px`}}e.SuggestDetailsOverlay=r}),define(ee[306],te([1,0,17,55,46,18,21,32,90,33]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function g(c){return Object.isFrozen(c)?c:E.deepFreeze(c)}class i{constructor(u={},s=[],l=[],o){this.b=u,this.c=s,this.d=l,this.raw=o,this.a=new Map}get rawConfiguration(){var u;if(!this.f)if(!((u=this.raw)===null||u===void 0)&&u.length){const s=this.raw.map(l=>{if(l instanceof i)return l;const o=new t("");return o.parseRaw(l),o.configurationModel});this.f=s.reduce((l,o)=>o===l?o:l.merge(o),s[0])}else this.f=this;return this.f}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(u){return u?(0,v.getConfigurationValue)(this.contents,u):this.contents}inspect(u,s){const l=this.rawConfiguration.getValue(u),o=s?this.rawConfiguration.getOverrideValue(u,s):void 0,h=s?this.rawConfiguration.override(s).getValue(u):l;return{value:l,override:o,merged:h}}getOverrideValue(u,s){const l=this.i(s);return l?u?(0,v.getConfigurationValue)(l,u):l:void 0}override(u){let s=this.a.get(u);return s||(s=this.g(u),this.a.set(u,s)),s}merge(...u){var s,l;const o=E.deepClone(this.contents),h=E.deepClone(this.overrides),f=[...this.keys],S=!((s=this.raw)===null||s===void 0)&&s.length?[...this.raw]:[this];for(const p of u)if(S.push(...!((l=p.raw)===null||l===void 0)&&l.length?p.raw:[p]),!p.isEmpty()){this.h(o,p.contents);for(const m of p.overrides){const[b]=h.filter(L=>w.equals(L.identifiers,m.identifiers));b?(this.h(b.contents,m.contents),b.keys.push(...m.keys),b.keys=w.distinct(b.keys)):h.push(E.deepClone(m))}for(const m of p.keys)f.indexOf(m)===-1&&f.push(m)}return new i(o,f,h,S.every(p=>p instanceof i)?void 0:S)}g(u){const s=this.i(u);if(!s||typeof s!="object"||!Object.keys(s).length)return this;const l={};for(const o of w.distinct([...Object.keys(this.contents),...Object.keys(s)])){let h=this.contents[o];const f=s[o];f&&(typeof h=="object"&&typeof f=="object"?(h=E.deepClone(h),this.h(h,f)):h=f),l[o]=h}return new i(l,this.keys,this.overrides)}h(u,s){for(const l of Object.keys(s)){if(l in u&&D.isObject(u[l])&&D.isObject(s[l])){this.h(u[l],s[l]);continue}u[l]=E.deepClone(s[l])}}i(u){let s=null,l=null;const o=h=>{h&&(l?this.h(l,h):l=E.deepClone(h))};for(const h of this.overrides)w.equals(h.identifiers,[u])?s=h.contents:h.identifiers.includes(u)&&o(h.contents);return o(s),l}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(u,s){this.j(u,s,!0)}setValue(u,s){this.j(u,s,!1)}removeValue(u){const s=this.keys.indexOf(u);s!==-1&&(this.keys.splice(s,1),(0,v.removeFromValueTree)(this.contents,u),C.OVERRIDE_PROPERTY_REGEX.test(u)&&this.overrides.splice(this.overrides.findIndex(l=>w.equals(l.identifiers,(0,C.overrideIdentifiersFromKey)(u))),1))}j(u,s,l){(0,v.addToValueTree)(this.contents,u,s,o=>console.error(o)),l=l||this.keys.indexOf(u)===-1,l&&this.keys.push(u),C.OVERRIDE_PROPERTY_REGEX.test(u)&&this.overrides.push({identifiers:(0,C.overrideIdentifiersFromKey)(u),keys:Object.keys(this.contents[u]),contents:(0,v.toValuesTree)(this.contents[u],o=>console.error(o))})}}e.ConfigurationModel=i;class t{constructor(u){this.d=u,this.a=null,this.b=null,this.c=[]}get configurationModel(){return this.b||new i}parseRaw(u,s){this.a=u;const{contents:l,keys:o,overrides:h,restricted:f,hasExcludedProperties:S}=this.f(u,s);this.b=new i(l,o,h,S?[u]:void 0),this.c=f||[]}f(u,s){const l=d.Registry.as(C.Extensions.Configuration).getConfigurationProperties(),o=this.g(u,l,!0,s);u=o.raw;const h=(0,v.toValuesTree)(u,p=>console.error(`Conflict in settings file ${this.d}: ${p}`)),f=Object.keys(u),S=this.h(u,p=>console.error(`Conflict in settings file ${this.d}: ${p}`));return{contents:h,keys:f,overrides:S,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}g(u,s,l,o){let h=!1;if(!o?.scopes&&!o?.skipRestricted)return{raw:u,restricted:[],hasExcludedProperties:h};const f={},S=[];for(const p in u)if(C.OVERRIDE_PROPERTY_REGEX.test(p)&&l){const m=this.g(u[p],s,!1,o);f[p]=m.raw,h=h||m.hasExcludedProperties,S.push(...m.restricted)}else{const m=s[p],b=m?typeof m.scope<"u"?m.scope:3:void 0;m?.restricted&&S.push(p),(b===void 0||o.scopes===void 0||o.scopes.includes(b))&&!(o.skipRestricted&&m?.restricted)?f[p]=u[p]:h=!0}return{raw:f,restricted:S,hasExcludedProperties:h}}h(u,s){const l=[];for(const o of Object.keys(u))if(C.OVERRIDE_PROPERTY_REGEX.test(o)){const h={};for(const f in u[o])h[f]=u[o][f];l.push({identifiers:(0,C.overrideIdentifiersFromKey)(o),keys:Object.keys(h),contents:(0,v.toValuesTree)(h,s)})}return l}}e.ConfigurationModelParser=t;class n{constructor(u,s,l,o,h,f,S,p,m,b,L,k,I){this.a=u,this.b=s,this.c=l,this.overrideIdentifiers=o,this.d=h,this.f=f,this.g=S,this.h=p,this.i=m,this.j=b,this.k=L,this.l=k,this.m=I}n(u,s,l){const o=u.inspect(s,l);return{get value(){return g(o.value)},get override(){return g(o.override)},get merged(){return g(o.merged)}}}get q(){return this.p||(this.p=this.n(this.h,this.a,this.b.overrideIdentifier)),this.p}get user(){return this.q.value!==void 0||this.q.override!==void 0?{value:this.q.value,override:this.q.override}:void 0}}class a{constructor(u,s,l,o,h=new i,f=new i,S=new N.ResourceMap,p=new i,m=new N.ResourceMap){this.c=u,this.d=s,this.f=l,this.g=o,this.h=h,this.i=f,this.j=S,this.k=p,this.l=m,this.a=null,this.b=new N.ResourceMap,this.m=null}getValue(u,s,l){return this.n(u,s,l).getValue(u)}updateValue(u,s,l={}){let o;l.resource?(o=this.l.get(l.resource),o||(o=new i,this.l.set(l.resource,o))):o=this.k,s===void 0?o.removeValue(u):o.setValue(u,s),l.resource||(this.a=null)}inspect(u,s,l){const o=this.n(u,s,l),h=this.s(s.resource,l),f=s.resource?this.l.get(s.resource)||this.k:this.k,S=new Set;for(const p of o.overrides)for(const m of p.identifiers)o.getOverrideValue(u,m)!==void 0&&S.add(m);return new n(u,s,o.getValue(u),S.size?[...S]:void 0,this.c,this.d.isEmpty()?void 0:this.d,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,l?this.i:void 0,h||void 0,f)}get applicationConfiguration(){return this.f}get userConfiguration(){return this.m||(this.m=this.h.isEmpty()?this.g:this.g.merge(this.h)),this.m}get localUserConfiguration(){return this.g}get remoteUserConfiguration(){return this.h}n(u,s,l){let o=this.p(s,l);return s.overrideIdentifier&&(o=o.override(s.overrideIdentifier)),!this.d.isEmpty()&&this.d.getValue(u)!==void 0&&(o=o.merge(this.d)),o}p({resource:u},s){let l=this.q();if(s&&u){const o=s.getFolder(u);o&&(l=this.r(o.uri)||l);const h=this.l.get(u);h&&(l=l.merge(h))}return l}q(){return this.a||(this.a=this.c.merge(this.applicationConfiguration,this.userConfiguration,this.i,this.k)),this.a}r(u){let s=this.b.get(u);if(!s){const l=this.q(),o=this.j.get(u);o?(s=l.merge(o),this.b.set(u,s)):s=l}return s}s(u,s){if(s&&u){const l=s.getFolder(u);if(l)return this.j.get(l.uri)}}toData(){return{defaults:{contents:this.c.contents,overrides:this.c.overrides,keys:this.c.keys},policy:{contents:this.d.contents,overrides:this.d.overrides,keys:this.d.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.i.contents,overrides:this.i.overrides,keys:this.i.keys},folders:[...this.j.keys()].reduce((u,s)=>{const{contents:l,overrides:o,keys:h}=this.j.get(s);return u.push([s,{contents:l,overrides:o,keys:h}]),u},[])}}static parse(u){const s=this.t(u.defaults),l=this.t(u.policy),o=this.t(u.application),h=this.t(u.user),f=this.t(u.workspace),S=u.folders.reduce((p,m)=>(p.set(y.URI.revive(m[0]),this.t(m[1])),p),new N.ResourceMap);return new a(s,l,o,h,new i,f,S,new i,new N.ResourceMap)}static t(u){return new i(u.contents,u.keys,u.overrides)}}e.Configuration=a;class r{constructor(u,s,l,o){this.change=u,this.f=s,this.g=l,this.h=o,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=".".charCodeAt(0),this.affectedKeys=new Set,this.i=void 0;for(const h of u.keys)this.affectedKeys.add(h);for(const[,h]of u.overrides)for(const f of h)this.affectedKeys.add(f);this.d=this.a;for(const h of this.affectedKeys)this.d+=h+this.a}get previousConfiguration(){return!this.i&&this.f&&(this.i=a.parse(this.f.data)),this.i}affectsConfiguration(u,s){var l;const o=this.a+u,h=this.d.indexOf(o);if(h<0)return!1;const f=h+o.length;if(f>=this.d.length)return!1;const S=this.d.charCodeAt(f);if(S!==this.b&&S!==this.c)return!1;if(s){const p=this.previousConfiguration?this.previousConfiguration.getValue(u,s,(l=this.f)===null||l===void 0?void 0:l.workspace):void 0,m=this.g.getValue(u,s,this.h);return!E.equals(p,m)}return!0}}e.ConfigurationChangeEvent=r}),define(ee[718],te([1,0,2,306,90,33]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends w.Disposable{constructor(){super(...arguments),this.a=new N.ConfigurationModel}get configurationModel(){return this.a}reload(){return this.c(),this.configurationModel}b(){return{}}c(){this.a=new N.ConfigurationModel;const C=D.Registry.as(E.Extensions.Configuration).getConfigurationProperties();this.g(Object.keys(C),C)}g(C,d){const g=this.b();for(const i of C){const t=g[i],n=d[i];t!==void 0?this.a.addValue(i,t):n?this.a.addValue(i,n.default):this.a.removeValue(i)}}}e.DefaultConfiguration=y}),define(ee[108],te([1,0,110,16,25,33,2,58]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class C{constructor(){this.c=new v.LinkedList,this.d=[],this.e=null}static f(i){if(N.OS===1){if(i&&i.win)return i.win}else if(N.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const t=C.f(i),n=new y.DisposableStore;if(t&&t.primary){const a=(0,w.decodeKeybinding)(t.primary,N.OS);a&&n.add(this.g(a,i.id,i.args,i.weight,0,i.when))}if(t&&Array.isArray(t.secondary))for(let a=0,r=t.secondary.length;a<r;a++){const c=t.secondary[a],u=(0,w.decodeKeybinding)(c,N.OS);u&&n.add(this.g(u,i.id,i.args,i.weight,-a-1,i.when))}return n}registerCommandAndKeybindingRule(i){return(0,y.combinedDisposable)(this.registerKeybindingRule(i),E.CommandsRegistry.registerCommand(i))}g(i,t,n,a,r,c){const u=this.c.push({keybinding:i,command:t,commandArgs:n,when:c,weight1:a,weight2:r,extensionId:null,isBuiltinExtension:!1});return this.e=null,(0,y.toDisposable)(()=>{u(),this.e=null})}getDefaultKeybindings(){return this.e||(this.e=Array.from(this.c).concat(this.d),this.e.sort(d)),this.e.slice(0)}}e.KeybindingsRegistry=new C,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function d(g,i){if(g.weight1!==i.weight1)return g.weight1-i.weight1;if(g.command&&i.command){if(g.command<i.command)return-1;if(g.command>i.command)return 1}return g.weight2-i.weight2}});var An=this&&this.__rest||function(K,e){var w={};for(var N in K)Object.prototype.hasOwnProperty.call(K,N)&&e.indexOf(N)<0&&(w[N]=K[N]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,N=Object.getOwnPropertySymbols(K);E<N.length;E++)e.indexOf(N[E])<0&&Object.prototype.propertyIsEnumerable.call(K,N[E])&&(w[N[E]]=K[N[E]]);return w};define(ee[29],te([1,0,41,31,6,2,58,25,15,8,108]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function i(l){return l.command!==void 0}e.isIMenuItem=i;function t(l){return l.submenu!==void 0}e.isISubmenuItem=t;class n{constructor(o){if(n.a.has(o))throw new TypeError(`MenuId with identifier '${o}' already exists. Use MenuId.for(ident) or a unique identifier`);n.a.set(o,this),this.id=o}}n.a=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContent=new n("EditorContent"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.PanelAlignmentMenu=new n("PanelAlignmentMenu"),n.PanelPositionMenu=new n("PanelPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.SearchActionMenu=new n("SearchActionContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.StickyScrollContext=new n("StickyScrollContext"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentEditorActions=new n("CommentEditorActions"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions"),n.CommentThreadTitleContext=new n("CommentThreadTitleContext"),n.CommentThreadCommentContext=new n("CommentThreadCommentContext"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar"),n.MergeBaseToolbar=new n("MergeBaseToolbar"),n.MergeInputResultToolbar=new n("MergeToolbarResultToolbar"),n.InlineSuggestionToolbar=new n("InlineSuggestionToolbar"),e.MenuId=n,e.IMenuService=(0,d.createDecorator)("menuService");class a{static for(o){let h=this.a.get(o);return h||(h=new a(o),this.a.set(o,h)),h}static merge(o){const h=new Set;for(const f of o)f instanceof a&&h.add(f.b);return h}constructor(o){this.b=o,this.has=h=>h===o}}a.a=new Map,e.MenuRegistry=new class{constructor(){this.a=new Map,this.b=new Map,this.c=new E.MicrotaskEmitter({merge:a.merge}),this.onDidChangeMenu=this.c.event}addCommand(l){return this.a.set(l.id,l),this.c.fire(a.for(n.CommandPalette)),(0,D.toDisposable)(()=>{this.a.delete(l.id)&&this.c.fire(a.for(n.CommandPalette))})}getCommand(l){return this.a.get(l)}getCommands(){const l=new Map;return this.a.forEach((o,h)=>l.set(h,o)),l}appendMenuItem(l,o){let h=this.b.get(l);h||(h=new y.LinkedList,this.b.set(l,h));const f=h.push(o);return this.c.fire(a.for(l)),(0,D.toDisposable)(f)}appendMenuItems(l){const o=new D.DisposableStore;for(const{id:h,item:f}of l)o.add(this.appendMenuItem(h,f));return o}getMenuItems(l){let o;return this.b.has(l)?o=[...this.b.get(l)]:o=[],l===n.CommandPalette&&this.d(o),o}d(l){const o=new Set;for(const h of l)i(h)&&(o.add(h.command.id),h.alt&&o.add(h.alt.id));this.a.forEach((h,f)=>{o.has(f)||l.push({command:h})})}};class r extends w.SubmenuAction{constructor(o,h,f){super(`submenuitem.${o.submenu.id}`,typeof o.title=="string"?o.title:o.title.value,f,"submenu"),this.item=o,this.hideActions=h}}e.SubmenuItemAction=r;let c=class ai{static label(o,h){return h?.renderShortTitle&&o.shortTitle?typeof o.shortTitle=="string"?o.shortTitle:o.shortTitle.value:typeof o.title=="string"?o.title:o.title.value}constructor(o,h,f,S,p,m){var b,L;if(this.hideActions=S,this.b=m,this.id=o.id,this.label=ai.label(o,f),this.tooltip=(L=typeof o.tooltip=="string"?o.tooltip:(b=o.tooltip)===null||b===void 0?void 0:b.value)!==null&&L!==void 0?L:"",this.enabled=!o.precondition||p.contextMatchesRules(o.precondition),this.checked=void 0,o.toggled){const k=o.toggled.condition?o.toggled:{condition:o.toggled};this.checked=p.contextMatchesRules(k.condition),this.checked&&k.tooltip&&(this.tooltip=typeof k.tooltip=="string"?k.tooltip:k.tooltip.value),k.title&&(this.label=typeof k.title=="string"?k.title:k.title.value)}this.item=o,this.alt=h?new ai(h,void 0,f,S,p,m):void 0,this.a=f,N.ThemeIcon.isThemeIcon(o.icon)&&(this.class=N.ThemeIcon.asClassName(o.icon))}run(...o){var h,f;let S=[];return!((h=this.a)===null||h===void 0)&&h.arg&&(S=[...S,this.a.arg]),!((f=this.a)===null||f===void 0)&&f.shouldForwardArgs&&(S=[...S,...o]),this.b.executeCommand(this.id,...S)}};c=De([fe(4,C.IContextKeyService),fe(5,v.ICommandService)],c),e.MenuItemAction=c;class u{constructor(o){this.desc=o}}e.Action2=u;function s(l){const o=new D.DisposableStore,h=new l,f=h.desc,{f1:S,menu:p,keybinding:m,description:b}=f,L=An(f,["f1","menu","keybinding","description"]);if(o.add(v.CommandsRegistry.registerCommand({id:L.id,handler:(k,...I)=>h.run(k,...I),description:b})),Array.isArray(p))for(const k of p)o.add(e.MenuRegistry.appendMenuItem(k.id,Object.assign({command:Object.assign(Object.assign({},L),{precondition:k.precondition===null?void 0:L.precondition})},k)));else p&&o.add(e.MenuRegistry.appendMenuItem(p.id,Object.assign({command:Object.assign(Object.assign({},L),{precondition:p.precondition===null?void 0:L.precondition})},p)));if(S&&(o.add(e.MenuRegistry.appendMenuItem(n.CommandPalette,{command:L,when:L.precondition})),o.add(e.MenuRegistry.addCommand(L))),Array.isArray(m))for(const k of m)o.add(g.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},k),{id:L.id,when:L.precondition?C.ContextKeyExpr.and(L.precondition,k.when):k.when})));else m&&o.add(g.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},m),{id:L.id,when:L.precondition?C.ContextKeyExpr.and(L.precondition,m.when):m.when})));return o}e.registerAction2=s}),define(ee[719],te([1,0,642,678,29,32,15]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleStickyScroll=void 0;class v extends E.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,w.localize)(0,null),mnemonicTitle:(0,w.localize)(1,null),original:"Toggle Sticky Scroll"},category:N.Categories.View,toggled:{condition:y.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,w.localize)(2,null),mnemonicTitle:(0,w.localize)(3,null)},menu:[{id:E.MenuId.CommandPalette},{id:E.MenuId.MenubarViewMenu,group:"5_editor",order:2},{id:E.MenuId.StickyScrollContext}]})}run(d){return Le(this,void 0,void 0,function*(){const g=d.get(D.IConfigurationService),i=!g.getValue("editor.stickyScroll.enabled");return g.updateValue("editor.stickyScroll.enabled",i)})}}e.ToggleStickyScroll=v}),define(ee[307],te([1,0,210,532,15,108,667,2]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new E.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(0,null));const C="historyNavigationWidgetFocus",d="historyNavigationForwardsEnabled",g="historyNavigationBackwardsEnabled";let i;const t=[];function n(c,u){if(t.includes(u))throw new Error("Cannot register the same widget multiple times");t.push(u);const s=new v.DisposableStore,l=new E.RawContextKey(C,!1).bindTo(c),o=new E.RawContextKey(d,!0).bindTo(c),h=new E.RawContextKey(g,!0).bindTo(c),f=()=>{l.set(!0),i=u},S=()=>{l.set(!1),i===u&&(i=void 0)};return u.element===document.activeElement&&f(),s.add(u.onDidFocus(()=>f())),s.add(u.onDidBlur(()=>S())),s.add((0,v.toDisposable)(()=>{t.splice(t.indexOf(u),1),S()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:h,dispose(){s.dispose()}}}e.registerAndCreateHistoryNavigationContext=n;let a=class extends w.FindInput{constructor(u,s,l,o){super(u,s,l);const h=this.q(o.createScoped(this.inputBox.element));this.q(n(h,this.inputBox))}};a=De([fe(3,E.IContextKeyService)],a),e.ContextScopedFindInput=a;let r=class extends N.ReplaceInput{constructor(u,s,l,o,h=!1){super(u,s,h,l);const f=this.q(o.createScoped(this.inputBox.element));this.q(n(f,this.inputBox))}};r=De([fe(3,E.IContextKeyService)],r),e.ContextScopedReplaceInput=r,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(C),E.ContextKeyExpr.equals(g,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:c=>{i?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(C),E.ContextKeyExpr.equals(d,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:c=>{i?.showNextValue()}})}),define(ee[122],te([1,0,20,13,63,2,59,18,21,11,3,61,95,643,29,25,15,19,307]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:s.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,n.localize)(0,null)),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new a.MenuId("suggestWidgetStatusBar");class l{constructor(P,A,T,O){this.position=P,this.completion=A,this.container=T,this.provider=O,this.isInvalid=!1,this.score=E.FuzzyScore.Default,this.distance=0,this.textLabel=typeof A.label=="string"?A.label:A.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=A.sortText&&A.sortText.toLowerCase(),this.filterTextLow=A.filterText&&A.filterText.toLowerCase(),this.extensionId=A.extensionId,g.Range.isIRange(A.range)?(this.editStart=new d.Position(A.range.startLineNumber,A.range.startColumn),this.editInsertEnd=new d.Position(A.range.endLineNumber,A.range.endColumn),this.editReplaceEnd=new d.Position(A.range.endLineNumber,A.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(A.range)||A.range.startLineNumber!==P.lineNumber):(this.editStart=new d.Position(A.range.insert.startLineNumber,A.range.insert.startColumn),this.editInsertEnd=new d.Position(A.range.insert.endLineNumber,A.range.insert.endColumn),this.editReplaceEnd=new d.Position(A.range.replace.endLineNumber,A.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(A.range.insert)||g.Range.spansMultipleLines(A.range.replace)||A.range.insert.startLineNumber!==P.lineNumber||A.range.replace.startLineNumber!==P.lineNumber||A.range.insert.startColumn!==A.range.replace.startColumn),typeof O.resolveCompletionItem!="function"&&(this.d=Promise.resolve(),this.c=!0)}get isResolved(){return!!this.c}resolve(P){return Le(this,void 0,void 0,function*(){if(!this.d){const A=P.onCancellationRequested(()=>{this.d=void 0,this.c=!1});this.d=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(T=>{Object.assign(this.completion,T),this.c=!0,A.dispose()},T=>{(0,N.isCancellationError)(T)&&(this.d=void 0,this.c=!1)})}return this.d})}}e.CompletionItem=l;class o{constructor(P=2,A=new Set,T=new Set,O=new Map,F=!0){this.snippetSortOrder=P,this.kindFilter=A,this.providerFilter=T,this.providerItemsToReuse=O,this.showDeprecated=F}}o.default=new o,e.CompletionOptions=o;let h;function f(){return h}e.getSnippetSuggestSupport=f;class S{constructor(P,A,T,O){this.items=P,this.needsClipboard=A,this.durations=T,this.disposable=O}}e.CompletionItemModel=S;function p(z,P,A,T=o.default,O={triggerKind:0},F=w.CancellationToken.None){return Le(this,void 0,void 0,function*(){const W=new y.StopWatch(!0);A=A.clone();const V=P.getWordAtPosition(A),R=V?new g.Range(A.lineNumber,V.startColumn,A.lineNumber,V.endColumn):g.Range.fromPositions(A),$={replace:R,insert:R.setEndPosition(A.lineNumber,A.column)},X=[],ne=new D.DisposableStore,ae=[];let ie=!1;const le=(x,q,Y)=>{var Q,re,oe;let G=!1;if(!q)return G;for(const Z of q.suggestions)if(!T.kindFilter.has(Z.kind)){if(!T.showDeprecated&&((Q=Z?.tags)===null||Q===void 0?void 0:Q.includes(1)))continue;Z.range||(Z.range=$),Z.sortText||(Z.sortText=typeof Z.label=="string"?Z.label:Z.label.label),!ie&&Z.insertTextRules&&Z.insertTextRules&4&&(ie=t.SnippetParser.guessNeedsClipboard(Z.insertText)),X.push(new l(A,Z,q,x)),G=!0}return(0,D.isDisposable)(q)&&ne.add(q),ae.push({providerName:(re=x._debugDisplayName)!==null&&re!==void 0?re:"unknown_provider",elapsedProvider:(oe=q.duration)!==null&&oe!==void 0?oe:-1,elapsedOverall:Y.elapsed()}),G},J=(()=>Le(this,void 0,void 0,function*(){if(!h||T.kindFilter.has(27)||T.providerFilter.size>0&&!T.providerFilter.has(h))return;const x=new y.StopWatch(!0),q=yield h.provideCompletionItems(P,A,O,F);le(h,q,x)}))();for(const x of z.orderedGroups(P)){let q=!1;if(yield Promise.all(x.map(Y=>Le(this,void 0,void 0,function*(){if(T.providerItemsToReuse.has(Y)){const Q=T.providerItemsToReuse.get(Y);Q.forEach(re=>X.push(re)),q=q||Q.length>0;return}if(!(T.providerFilter.size>0&&!T.providerFilter.has(Y)))try{const Q=new y.StopWatch(!0),re=yield Y.provideCompletionItems(P,A,O,F);q=le(Y,re,Q)||q}catch(Q){(0,N.onUnexpectedExternalError)(Q)}}))),q||F.isCancellationRequested)break}return yield J,F.isCancellationRequested?(ne.dispose(),Promise.reject(new N.CancellationError)):new S(X.sort(I(T.snippetSortOrder)),ie,{entries:ae,elapsed:W.elapsed()},ne)})}e.provideSuggestionItems=p;function m(z,P){if(z.sortTextLow&&P.sortTextLow){if(z.sortTextLow<P.sortTextLow)return-1;if(z.sortTextLow>P.sortTextLow)return 1}return z.textLabel<P.textLabel?-1:z.textLabel>P.textLabel?1:z.completion.kind-P.completion.kind}function b(z,P){if(z.completion.kind!==P.completion.kind){if(z.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return m(z,P)}function L(z,P){if(z.completion.kind!==P.completion.kind){if(z.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return m(z,P)}const k=new Map;k.set(0,b),k.set(2,L),k.set(1,m);function I(z){return k.get(z)}e.getSuggestionComparator=I,r.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(z,...P)=>Le(void 0,void 0,void 0,function*(){const[A,T,O,F]=P;(0,v.assertType)(C.URI.isUri(A)),(0,v.assertType)(d.Position.isIPosition(T)),(0,v.assertType)(typeof O=="string"||!O),(0,v.assertType)(typeof F=="number"||!F);const{completionProvider:W}=z.get(u.ILanguageFeaturesService),V=yield z.get(i.ITextModelService).createModelReference(A);try{const R={incomplete:!1,suggestions:[]},$=[],X=yield p(W,V.object.textEditorModel,d.Position.lift(T),void 0,{triggerCharacter:O??void 0,triggerKind:O?1:0});for(const ne of X.items)$.length<(F??0)&&$.push(ne.resolve(w.CancellationToken.None)),R.incomplete=R.incomplete||ne.container.incomplete,R.suggestions.push(ne.completion);try{return yield Promise.all($),R}finally{setTimeout(()=>X.disposable.dispose(),100)}}finally{V.dispose()}}));function M(z,P){var A;(A=z.getContribution("editor.contrib.suggestController"))===null||A===void 0||A.triggerSuggest(new Set().add(P),void 0,!0)}e.showSimpleSuggestions=M;class B{static isAllOff(P){return P.other==="off"&&P.comments==="off"&&P.strings==="off"}static isAllOn(P){return P.other==="on"&&P.comments==="on"&&P.strings==="on"}static valueFor(P,A){switch(A){case 1:return P.comments;case 2:return P.strings;default:return P.other}}}e.QuickSuggestionsOptions=B}),define(ee[123],te([1,0,17,2,33]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(v){v[v.PRESERVE=0]="PRESERVE",v[v.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.a=[],this.b=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.b=C:this.a.push(C),this.a.sort((d,g)=>g.prefix.length-d.prefix.length),(0,N.toDisposable)(()=>{this.a.splice(this.a.indexOf(C),1),this.b===C&&(this.b=void 0)})}getQuickAccessProviders(){return(0,w.coalesce)([this.b,...this.a])}getQuickAccessProvider(C){return C&&this.a.find(g=>C.startsWith(g.prefix))||void 0||this.b}}e.QuickAccessRegistry=y,E.Registry.add(e.Extensions.Quickaccess,new y)}),define(ee[720],te([1,0,672,33,2,37,123,83]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let C=class Ut{constructor(g,i){this.b=g,this.c=i,this.a=N.Registry.as(y.Extensions.Quickaccess)}provide(g){const i=new E.DisposableStore;return i.add(g.onDidAccept(()=>{const[t]=g.selectedItems;t&&this.b.quickAccess.show(t.prefix,{preserveValue:!0})})),i.add(g.onDidChangeValue(t=>{const n=this.a.getQuickAccessProvider(t.substr(Ut.PREFIX.length));n&&n.prefix&&n.prefix!==Ut.PREFIX&&this.b.quickAccess.show(n.prefix,{preserveValue:!0})})),g.items=this.getQuickAccessProviders().filter(t=>t.prefix!==Ut.PREFIX),i}getQuickAccessProviders(){return this.a.getQuickAccessProviders().sort((i,t)=>i.prefix.localeCompare(t.prefix)).flatMap(i=>this.d(i))}d(g){return g.helpEntries.map(i=>{const t=i.prefix||g.prefix,n=t||"\u2026";return{prefix:t,label:n,keybinding:i.commandId?this.c.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,w.localize)(0,null,n,i.description),description:i.description}})}};C.PREFIX="?",C=De([fe(0,v.IQuickInputService),fe(1,D.IKeybindingService)],C),e.HelpQuickAccessProvider=C}),define(ee[721],te([1,0,33,123,82,720]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:E.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ee[722],te([1,0,12,20,92,2,8,123,83,33]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends D.Disposable{constructor(t,n){super(),this.h=t,this.i=n,this.a=d.Registry.as(v.Extensions.Quickaccess),this.b=new Map,this.c=new Map,this.g=void 0}show(t="",n){this.j(t,!1,n)}j(t,n,a){var r;const[c,u]=this.m(t),s=this.g,l=s?.descriptor;if(s&&u&&l===u){t!==u.prefix&&!a?.preserveValue&&(s.picker.value=t),this.k(s.picker,u,a);return}if(u&&!a?.preserveValue){let p;if(s&&l&&l!==u){const m=s.value.substr(l.prefix.length);m&&(p=`${u.prefix}${m}`)}if(!p){const m=c?.defaultFilterValue;m===v.DefaultQuickAccessFilterValue.LAST?p=this.c.get(u):typeof m=="string"&&(p=`${u.prefix}${m}`)}typeof p=="string"&&(t=p)}const o=new D.DisposableStore,h=o.add(this.h.createQuickPick());h.value=t,this.k(h,u,a),h.placeholder=u?.placeholder,h.quickNavigate=a?.quickNavigateConfiguration,h.hideInput=!!h.quickNavigate&&!s,(typeof a?.itemActivation=="number"||a?.quickNavigateConfiguration)&&(h.itemActivation=(r=a?.itemActivation)!==null&&r!==void 0?r:C.ItemActivation.SECOND),h.contextKey=u?.contextKey,h.filterValue=p=>p.substring(u?u.prefix.length:0),u?.placeholder&&(h.ariaLabel=u?.placeholder);let f;n&&(f=new w.DeferredPromise,o.add((0,E.once)(h.onWillAccept)(p=>{p.veto(),h.hide()}))),o.add(this.l(h,c,u,t,a?.providerOptions));const S=o.add(new N.CancellationTokenSource);if(c&&o.add(c.provide(h,S.token,a?.providerOptions)),(0,E.once)(h.onDidHide)(()=>{h.selectedItems.length===0&&S.cancel(),o.dispose(),f?.complete(h.selectedItems.slice(0))}),h.show(),n)return f?.p}k(t,n,a){var r;let c;a?.preserveValue?c=[t.value.length,t.value.length]:c=[(r=n?.prefix.length)!==null&&r!==void 0?r:0,t.value.length],t.valueSelection=c}l(t,n,a,r,c){const u=new D.DisposableStore,s=this.g={picker:t,descriptor:a,value:r};return u.add((0,D.toDisposable)(()=>{s===this.g&&(this.g=void 0)})),u.add(t.onDidChangeValue(l=>{const[o]=this.m(l);o!==n?this.show(l,{preserveValue:!0,providerOptions:c}):s.value=l})),a&&u.add(t.onDidAccept(()=>{this.c.set(a,t.value)})),u}m(t){const n=this.a.getQuickAccessProvider(t);if(!n)return[void 0,void 0];let a=this.b.get(n);return a||(a=this.i.createInstance(n.ctor),this.b.set(n,a)),[a,n]}};g=De([fe(0,C.IQuickInputService),fe(1,y.IInstantiationService)],g),e.QuickAccessController=g}),define(ee[723],te([1,0,27,31,93,428]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(y){function v(C){switch(C){case E.default.Ignore:return"severity-ignore "+N.ThemeIcon.asClassName(w.Codicon.info);case E.default.Info:return N.ThemeIcon.asClassName(w.Codicon.info);case E.default.Warning:return N.ThemeIcon.asClassName(w.Codicon.warning);case E.default.Error:return N.ThemeIcon.asClassName(w.Codicon.error);default:return""}}y.className=v})(D=e.SeverityIcon||(e.SeverityIcon={}))}),define(ee[84],te([1,0,6,2,18,539,8]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var v;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));function C(i){const t=i.get(e.TARGET_KEY);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}e.loadKeyTargets=C;class d extends N.Disposable{constructor(t={flushInterval:d.a}){super(),this.h=t,this.b=this.q(new w.PauseableEmitter),this.onDidChangeValue=this.b.event,this.c=this.q(new w.PauseableEmitter),this.g=this.q(new w.Emitter),this.onWillSaveState=this.g.event,this.l=void 0,this.n=void 0,this.r=void 0}i(t,n){if(n===e.TARGET_KEY){switch(t){case-1:this.r=void 0;break;case 0:this.n=void 0;break;case 1:this.l=void 0;break}this.c.fire({scope:t})}else this.b.fire({scope:t,key:n,target:this.t(t)[n]})}get(t,n,a){var r;return(r=this.v(n))===null||r===void 0?void 0:r.get(t,a)}getBoolean(t,n,a){var r;return(r=this.v(n))===null||r===void 0?void 0:r.getBoolean(t,a)}getNumber(t,n,a){var r;return(r=this.v(n))===null||r===void 0?void 0:r.getNumber(t,a)}store(t,n,a,r){if((0,E.isUndefinedOrNull)(n)){this.remove(t,a);return}this.j(()=>{var c;this.k(t,a,r),(c=this.v(a))===null||c===void 0||c.set(t,n)})}remove(t,n){this.j(()=>{var a;this.k(t,n,void 0),(a=this.v(n))===null||a===void 0||a.delete(t)})}j(t){this.b.pause(),this.c.pause();try{t()}finally{this.b.resume(),this.c.resume()}}k(t,n,a){var r,c;const u=this.t(n);typeof a=="number"?u[t]!==a&&(u[t]=a,(r=this.v(n))===null||r===void 0||r.set(e.TARGET_KEY,JSON.stringify(u))):typeof u[t]=="number"&&(delete u[t],(c=this.v(n))===null||c===void 0||c.set(e.TARGET_KEY,JSON.stringify(u)))}get m(){return this.l||(this.l=this.u(1)),this.l}get p(){return this.n||(this.n=this.u(0)),this.n}get s(){return this.r||(this.r=this.u(-1)),this.r}t(t){switch(t){case-1:return this.s;case 0:return this.p;default:return this.m}}u(t){const n=this.v(t);return n?C(n):Object.create(null)}}d.a=60*1e3,e.AbstractStorageService=d;class g extends d{constructor(){super(),this.w=this.q(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.y=this.q(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.z=this.q(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.q(this.z.onDidChangeStorage(t=>this.i(1,t))),this.q(this.y.onDidChangeStorage(t=>this.i(0,t))),this.q(this.w.onDidChangeStorage(t=>this.i(-1,t)))}v(t){switch(t){case-1:return this.w;case 0:return this.y;default:return this.z}}}e.InMemoryStorageService=g}),define(ee[724],te([1,0,12,92,55,3,296,51,8,84]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,C.createDecorator)("ICodeLensCache");class g{constructor(n,a){this.lineCount=n,this.data=a}}let i=class{constructor(n){this.a=new class{provideCodeLenses(){throw new Error("not supported")}},this.b=new E.LRUCache(20,.75);const a="codelens/cache";(0,w.runWhenIdle)(()=>n.remove(a,1));const r="codelens/cache2",c=n.get(r,1,"{}");this.f(c),(0,N.once)(n.onWillSaveState)(u=>{u.reason===d.WillSaveStateReason.SHUTDOWN&&n.store(r,this.c(),1,1)})}put(n,a){const r=a.lenses.map(s=>{var l;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(l=s.symbol.command)===null||l===void 0?void 0:l.title}}}),c=new y.CodeLensModel;c.add({lenses:r,dispose:()=>{}},this.a);const u=new g(n.getLineCount(),c);this.b.set(n.uri.toString(),u)}get(n){const a=this.b.get(n.uri.toString());return a&&a.lineCount===n.getLineCount()?a.data:void 0}delete(n){this.b.delete(n.uri.toString())}c(){const n=Object.create(null);for(const[a,r]of this.b){const c=new Set;for(const u of r.data.lenses)c.add(u.symbol.range.startLineNumber);n[a]={lineCount:r.lineCount,lines:[...c.values()]}}return JSON.stringify(n)}f(n){try{const a=JSON.parse(n);for(const r in a){const c=a[r],u=[];for(const l of c.lines)u.push({range:new D.Range(l,1,l,11)});const s=new y.CodeLensModel;s.add({lenses:u,dispose(){}},this.a),this.b.set(r,new g(c.lineCount,s))}}catch{}}};i=De([fe(0,d.IStorageService)],i),e.CodeLensCache=i,(0,v.registerSingleton)(e.ICodeLensCache,i,1)}),define(ee[308],te([1,0,12,2,55,182,26,32,51,8,84]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class i{constructor(u){this.name=u}select(u,s,l){if(l.length===0)return 0;const o=l[0].score[0];for(let h=0;h<l.length;h++){const{score:f,completion:S}=l[h];if(f[0]!==o)break;if(S.preselect)return h}return 0}}e.Memory=i;class t extends i{constructor(){super("first")}memorize(u,s,l){}toJSON(){}fromJSON(){}}e.NoMemory=t;class n extends i{constructor(){super("recentlyUsed"),this.c=new E.LRUCache(300,.66),this.d=0}memorize(u,s,l){const o=`${u.getLanguageId()}/${l.textLabel}`;this.c.set(o,{touch:this.d++,type:l.completion.kind,insertText:l.completion.insertText})}select(u,s,l){if(l.length===0)return 0;const o=u.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(o))return super.select(u,s,l);const h=l[0].score[0];let f=-1,S=-1,p=-1;for(let m=0;m<l.length&&l[m].score[0]===h;m++){const b=`${u.getLanguageId()}/${l[m].textLabel}`,L=this.c.peek(b);if(L&&L.touch>p&&L.type===l[m].completion.kind&&L.insertText===l[m].completion.insertText&&(p=L.touch,S=m),l[m].completion.preselect&&f===-1)return f=m}return S!==-1?S:f!==-1?f:0}toJSON(){return this.c.toJSON()}fromJSON(u){this.c.clear();const s=0;for(const[l,o]of u)o.touch=s,o.type=typeof o.type=="number"?o.type:y.CompletionItemKinds.fromString(o.type),this.c.set(l,o);this.d=this.c.size}}e.LRUMemory=n;class a extends i{constructor(){super("recentlyUsedByPrefix"),this.c=D.TernarySearchTree.forStrings(),this.d=0}memorize(u,s,l){const{word:o}=u.getWordUntilPosition(s),h=`${u.getLanguageId()}/${o}`;this.c.set(h,{type:l.completion.kind,insertText:l.completion.insertText,touch:this.d++})}select(u,s,l){const{word:o}=u.getWordUntilPosition(s);if(!o)return super.select(u,s,l);const h=`${u.getLanguageId()}/${o}`;let f=this.c.get(h);if(f||(f=this.c.findSubstr(h)),f)for(let S=0;S<l.length;S++){const{kind:p,insertText:m}=l[S].completion;if(p===f.type&&m===f.insertText)return S}return super.select(u,s,l)}toJSON(){const u=[];return this.c.forEach((s,l)=>u.push([l,s])),u.sort((s,l)=>-(s[1].touch-l[1].touch)).forEach((s,l)=>s[1].touch=l),u.slice(0,200)}fromJSON(u){if(this.c.clear(),u.length>0){this.d=u[0][1].touch+1;for(const[s,l]of u)l.type=typeof l.type=="number"?l.type:y.CompletionItemKinds.fromString(l.type),this.c.set(s,l)}}}e.PrefixMemory=a;let r=class Kt{constructor(u,s){this.j=u,this.k=s,this.g=new N.DisposableStore,this.f=new w.RunOnceScheduler(()=>this.m(),500),this.g.add(u.onWillSaveState(l=>{l.reason===g.WillSaveStateReason.SHUTDOWN&&this.m()}))}dispose(){this.g.dispose(),this.f.dispose()}memorize(u,s,l){this.l(u,s).memorize(u,s,l),this.f.schedule()}select(u,s,l){return this.l(u,s).select(u,s,l)}l(u,s){var l;const o=this.k.getValue("editor.suggestSelection",{overrideIdentifier:u.getLanguageIdAtPosition(s.lineNumber,s.column),resource:u.uri});if(((l=this.h)===null||l===void 0?void 0:l.name)!==o){this.m();const h=Kt.c.get(o)||t;this.h=new h;try{const S=this.k.getValue("editor.suggest.shareSuggestSelections")?0:1,p=this.j.get(`${Kt.d}/${o}`,S);p&&this.h.fromJSON(JSON.parse(p))}catch{}}return this.h}m(){if(this.h){const s=this.k.getValue("editor.suggest.shareSuggestSelections")?0:1,l=JSON.stringify(this.h);this.j.store(`${Kt.d}/${this.h.name}`,l,s,1)}}};r.c=new Map([["recentlyUsedByPrefix",a],["recentlyUsed",n],["first",t]]),r.d="suggest/memories",r=De([fe(0,g.IStorageService),fe(1,v.IConfigurationService)],r),e.SuggestMemoryService=r,e.ISuggestMemoryService=(0,d.createDecorator)("ISuggestMemories"),(0,C.registerSingleton)(e.ISuggestMemoryService,r,1)}),define(ee[725],te([1,0,12,6,2,29,25,15,41,84,17,662]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(s,l){this.d=s,this.c=new n(l)}createMenu(s,l,o){return new r(s,this.c,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},o),this.d,l)}resetHiddenStates(s){this.c.reset(s)}};t=De([fe(0,y.ICommandService),fe(1,d.IStorageService)],t),e.MenuService=t;let n=class Bt{constructor(s){this.k=s,this.d=new E.DisposableStore,this.f=new N.Emitter,this.onDidChange=this.f.event,this.h=!1,this.j=new Map;try{const l=s.get(Bt.c,0,"{}");this.i=JSON.parse(l)}catch{this.i=Object.create(null)}this.d.add(s.onDidChangeValue(l=>{if(l.key===Bt.c){if(!this.h)try{const o=s.get(Bt.c,0,"{}");this.i=JSON.parse(o)}catch(o){console.log("FAILED to read storage after UPDATE",o)}this.f.fire()}}))}dispose(){this.f.dispose(),this.d.dispose()}l(s,l){var o;return(o=this.j.get(`${s.id}/${l}`))!==null&&o!==void 0?o:!1}setDefaultState(s,l,o){this.j.set(`${s.id}/${l}`,o)}isHidden(s,l){var o,h;const f=this.l(s,l),S=(h=(o=this.i[s.id])===null||o===void 0?void 0:o.includes(l))!==null&&h!==void 0?h:!1;return f?!S:S}updateHidden(s,l,o){this.l(s,l)&&(o=!o);const f=this.i[s.id];if(o)f?f.indexOf(l)<0&&f.push(l):this.i[s.id]=[l];else if(f){const S=f.indexOf(l);S>=0&&(0,g.removeFastWithoutKeepingOrder)(f,S),f.length===0&&delete this.i[s.id]}this.m()}reset(s){if(s===void 0)this.i=Object.create(null),this.m();else{for(const{id:l}of s)this.i[l]&&delete this.i[l];this.m()}}m(){try{this.h=!0;const s=JSON.stringify(this.i);this.k.store(Bt.c,s,0,0)}finally{this.h=!1}}};n.c="menu.hiddenCommands",n=De([fe(0,d.IStorageService)],n);let a=class Nt{constructor(s,l,o,h,f){this.i=s,this.j=l,this.k=o,this.l=h,this.m=f,this.c=[],this.d=new Set,this.f=new Set,this.h=new Set,this.refresh()}get structureContextKeys(){return this.d}get preconditionContextKeys(){return this.f}get toggledContextKeys(){return this.h}refresh(){this.c.length=0,this.d.clear(),this.f.clear(),this.h.clear();const s=D.MenuRegistry.getMenuItems(this.i);let l;s.sort(Nt.p);for(const o of s){const h=o.group||"";(!l||l[0]!==h)&&(l=[h,[]],this.c.push(l)),l[1].push(o),this.n(o)}}n(s){if(Nt.o(s.when,this.d),(0,D.isIMenuItem)(s)){if(s.command.precondition&&Nt.o(s.command.precondition,this.f),s.command.toggled){const l=s.command.toggled.condition||s.command.toggled;Nt.o(l,this.h)}}else this.k&&D.MenuRegistry.getMenuItems(s.submenu).forEach(this.n,this)}createActionGroups(s){const l=[];for(const o of this.c){const[h,f]=o,S=[];for(const p of f)if(this.m.contextMatchesRules(p.when)){const m=(0,D.isIMenuItem)(p);m&&this.j.setDefaultState(this.i,p.command.id,!!p.isHiddenByDefault);const b=c(this.i,m?p.command:p,this.j);if(m)S.push(new D.MenuItemAction(p.command,p.alt,s,b,this.m,this.l));else{const L=new Nt(p.submenu,this.j,this.k,this.l,this.m).createActionGroups(s),k=C.Separator.join(...L.map(I=>I[1]));k.length>0&&S.push(new D.SubmenuItemAction(p,b,k))}}S.length>0&&l.push([h,S])}return l}static o(s,l){if(s)for(const o of s.keys())l.add(o)}static p(s,l){const o=s.group,h=l.group;if(o!==h){if(o){if(!h)return-1}else return 1;if(o==="navigation")return-1;if(h==="navigation")return 1;const p=o.localeCompare(h);if(p!==0)return p}const f=s.order||0,S=l.order||0;return f<S?-1:f>S?1:Nt.q((0,D.isIMenuItem)(s)?s.command.title:s.title,(0,D.isIMenuItem)(l)?l.command.title:l.title)}static q(s,l){const o=typeof s=="string"?s:s.original,h=typeof l=="string"?l:l.original;return o.localeCompare(h)}};a=De([fe(3,y.ICommandService),fe(4,v.IContextKeyService)],a);let r=class{constructor(s,l,o,h,f){this.d=new E.DisposableStore,this.c=new a(s,l,o.emitEventsForSubmenuChanges,h,f);const S=new w.RunOnceScheduler(()=>{this.c.refresh(),this.f.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},o.eventDebounceDelay);this.d.add(S),this.d.add(D.MenuRegistry.onDidChangeMenu(L=>{L.has(s)&&S.schedule()}));const p=this.d.add(new E.DisposableStore),m=L=>{let k=!1,I=!1,M=!1;for(const B of L)if(k=k||B.isStructuralChange,I=I||B.isEnablementChange,M=M||B.isToggleChange,k&&I&&M)break;return{menu:this,isStructuralChange:k,isEnablementChange:I,isToggleChange:M}},b=()=>{p.add(f.onDidChangeContext(L=>{const k=L.affectsSome(this.c.structureContextKeys),I=L.affectsSome(this.c.preconditionContextKeys),M=L.affectsSome(this.c.toggledContextKeys);(k||I||M)&&this.f.fire({menu:this,isStructuralChange:k,isEnablementChange:I,isToggleChange:M})})),p.add(l.onDidChange(L=>{this.f.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this.f=new N.DebounceEmitter({onWillAddFirstListener:b,onDidRemoveLastListener:p.clear.bind(p),delay:o.eventDebounceDelay,merge:m}),this.onDidChange=this.f.event}getActions(s){return this.c.createActionGroups(s)}dispose(){this.d.dispose(),this.f.dispose()}};r=De([fe(3,y.ICommandService),fe(4,v.IContextKeyService)],r);function c(u,s,l){const o=(0,D.isISubmenuItem)(s)?s.submenu.id:s.id,h=typeof s.title=="string"?s.title:s.title.value,f=(0,C.toAction)({id:`hide/${u.id}/${o}`,label:(0,i.localize)(0,null,h),run(){l.updateHidden(u,o,!0)}}),S=(0,C.toAction)({id:`toggle/${u.id}/${o}`,label:h,get checked(){return!l.isHidden(u,o)},run(){l.updateHidden(u,o,!!this.checked)}});return{hide:f,toggle:S,get isHidden(){return!S.checked}}}}),define(ee[77],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,w.createDecorator)("telemetryService")}),define(ee[14],te([1,0,565,21,28,11,52,61,29,25,15,8,108,33,77,18,62]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class u{constructor(T){this.id=T.id,this.precondition=T.precondition,this.f=T.kbOpts,this.g=T.menuOpts,this.k=T.description}register(){if(Array.isArray(this.g)?this.g.forEach(this.o,this):this.g&&this.o(this.g),this.f){const T=Array.isArray(this.f)?this.f:[this.f];for(const O of T){let F=O.kbExpr;this.precondition&&(F?F=g.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const W={id:this.id,weight:O.weight,args:O.args,when:F,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};t.KeybindingsRegistry.registerKeybindingRule(W)}}d.CommandsRegistry.registerCommand({id:this.id,handler:(T,O)=>this.runCommand(T,O),description:this.k})}o(T){C.MenuRegistry.appendMenuItem(T.menuId,{group:T.group,command:{id:this.id,title:T.title,icon:T.icon,precondition:this.precondition},when:T.when,order:T.order})}}e.Command=u;class s extends u{constructor(){super(...arguments),this.d=[]}addImplementation(T,O,F){return this.d.push({priority:T,name:O,implementation:F}),this.d.sort((W,V)=>V.priority-W.priority),{dispose:()=>{for(let W=0;W<this.d.length;W++)if(this.d[W].implementation===F){this.d.splice(W,1);return}}}}runCommand(T,O){const F=T.get(c.ILogService);F.trace(`Executing Command '${this.id}' which has ${this.d.length} bound.`);for(const W of this.d){const V=W.implementation(T,O);if(V)return F.trace(`Command '${this.id}' was handled by '${W.name}'.`),typeof V=="boolean"?void 0:V}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class l extends u{constructor(T,O){super(O),this.d=T}runCommand(T,O){return this.d.runCommand(T,O)}}e.ProxyCommand=l;class o extends u{static bindToContribution(T){return class extends o{constructor(F){super(F),this.d=F.handler}runEditorCommand(F,W,V){const R=T(W);R&&this.d(R,V)}}}static runEditorCommand(T,O,F,W){const V=T.get(E.ICodeEditorService),R=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(!!R)return R.invokeWithinContext($=>{if(!!$.get(g.IContextKeyService).contextMatchesRules((0,r.withNullAsUndefined)(F)))return W($,R,O)})}runCommand(T,O){return o.runEditorCommand(T,O,this.precondition,(F,W,V)=>this.runEditorCommand(F,W,V))}}e.EditorCommand=o;class h extends o{static p(T){let O;Array.isArray(T.menuOpts)?O=T.menuOpts:T.menuOpts?O=[T.menuOpts]:O=[];function F(W){return W.menuId||(W.menuId=C.MenuId.EditorContext),W.title||(W.title=T.label),W.when=g.ContextKeyExpr.and(T.precondition,W.when),W}return Array.isArray(T.contextMenuOpts)?O.push(...T.contextMenuOpts.map(F)):T.contextMenuOpts&&O.push(F(T.contextMenuOpts)),T.menuOpts=O,T}constructor(T){super(h.p(T)),this.label=T.label,this.alias=T.alias}runEditorCommand(T,O,F){return this.q(T,O),this.run(T,O,F||{})}q(T,O){T.get(a.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=h;class f extends h{constructor(){super(...arguments),this.d=[]}addImplementation(T,O){return this.d.push([T,O]),this.d.sort((F,W)=>W[0]-F[0]),{dispose:()=>{for(let F=0;F<this.d.length;F++)if(this.d[F][1]===O){this.d.splice(F,1);return}}}}run(T,O,F){for(const W of this.d){const V=W[1](T,O,F);if(V)return typeof V=="boolean"?void 0:V}}}e.MultiEditorAction=f;class S extends C.Action2{run(T,...O){const F=T.get(E.ICodeEditorService),W=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!W)return W.invokeWithinContext(V=>{if(V.get(g.IContextKeyService).contextMatchesRules((0,r.withNullAsUndefined)(this.desc.precondition)))return this.runEditorCommand(V,W,...O)})}}e.EditorAction2=S;function p(A,T){d.CommandsRegistry.registerCommand(A,function(O,...F){const W=O.get(i.IInstantiationService),[V,R]=F;(0,r.assertType)(N.URI.isUri(V)),(0,r.assertType)(D.Position.isIPosition(R));const $=O.get(y.IModelService).getModel(V);if($){const X=D.Position.lift(R);return W.invokeFunction(T,$,X,...F.slice(2))}return O.get(v.ITextModelService).createModelReference(V).then(X=>new Promise((ne,ae)=>{try{const ie=W.invokeFunction(T,X.object.textEditorModel,D.Position.lift(R),F.slice(2));ne(ie)}catch(ie){ae(ie)}}).finally(()=>{X.dispose()}))})}e.registerModelAndPositionCommand=p;function m(A){return z.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=m;function b(A){const T=new A;return z.INSTANCE.registerEditorAction(T),T}e.registerEditorAction=b;function L(A){return z.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=L;function k(A){z.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=k;function I(A,T,O){z.INSTANCE.registerEditorContribution(A,T,O)}e.registerEditorContribution=I;var M;(function(A){function T(R){return z.INSTANCE.getEditorCommand(R)}A.getEditorCommand=T;function O(){return z.INSTANCE.getEditorActions()}A.getEditorActions=O;function F(){return z.INSTANCE.getEditorContributions()}A.getEditorContributions=F;function W(R){return z.INSTANCE.getEditorContributions().filter($=>R.indexOf($.id)>=0)}A.getSomeEditorContributions=W;function V(){return z.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=V})(M=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const B={EditorCommonContributions:"editor.contributions"};class z{constructor(){this.d=[],this.e=[],this.f=[],this.g=Object.create(null)}registerEditorContribution(T,O,F){this.d.push({id:T,ctor:O,instantiation:F})}getEditorContributions(){return this.d.slice(0)}getDiffEditorContributions(){return this.e.slice(0)}registerEditorAction(T){T.register(),this.f.push(T)}getEditorActions(){return this.f}registerEditorCommand(T){T.register(),this.g[T.id]=T}getEditorCommand(T){return this.g[T]||null}}z.INSTANCE=new z,n.Registry.add(B.EditorCommonContributions,z.INSTANCE);function P(A){return A.register(),A}e.UndoCommand=P(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(1,null),order:1}]})),P(new l(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(3,null),order:1}]})),P(new l(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:w.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:w.localize(5,null),order:1}]}))}),define(ee[175],te([1,0,564,44,18,50,14,28,447,65,187,188,226,11,3,23,15,108]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class l extends y.EditorCommand{runEditorCommand(B,z,P){const A=z._getViewModel();!A||this.runCoreEditorCommand(A,P||{})}}e.CoreEditorCommand=l;var o;(function(M){const B=function(P){if(!E.isObject(P))return!1;const A=P;return!(!E.isString(A.to)||!E.isUndefined(A.by)&&!E.isString(A.by)||!E.isUndefined(A.value)&&!E.isNumber(A.value)||!E.isUndefined(A.revealCursor)&&!E.isBoolean(A.revealCursor))};M.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:B,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},M.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},M.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function z(P){let A;switch(P.to){case M.RawDirection.Up:A=1;break;case M.RawDirection.Right:A=2;break;case M.RawDirection.Down:A=3;break;case M.RawDirection.Left:A=4;break;default:return null}let T;switch(P.by){case M.RawUnit.Line:T=1;break;case M.RawUnit.WrappedLine:T=2;break;case M.RawUnit.Page:T=3;break;case M.RawUnit.HalfPage:T=4;break;case M.RawUnit.Editor:T=5;break;case M.RawUnit.Column:T=6;break;default:T=2}const O=Math.floor(P.value||1),F=!!P.revealCursor;return{direction:A,unit:T,value:O,revealCursor:F,select:!!P.select}}M.parse=z})(o=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(M){const B=function(z){if(!E.isObject(z))return!1;const P=z;return!(!E.isNumber(P.lineNumber)&&!E.isString(P.lineNumber)||!E.isUndefined(P.at)&&!E.isString(P.at))};M.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:B,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},M.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class f{constructor(B){B.addImplementation(1e4,"code-editor",(z,P)=>{const A=z.get(v.ICodeEditorService).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(z,A,P):!1}),B.addImplementation(1e3,"generic-dom-input-textarea",(z,P)=>{const A=document.activeElement;return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),B.addImplementation(0,"generic-dom",(z,P)=>{const A=z.get(v.ICodeEditorService).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(z,A,P)):!1})}_runEditorCommand(B,z,P){const A=this.runEditorCommand(B,z,P);return A||!0}}var S;(function(M){class B extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){if(!q.position)return;x.model.pushStackElement(),x.setCursorStates(q.source,3,[i.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),this.d,q.position,q.viewPosition)])&&q.revealType!==2&&x.revealPrimaryCursor(q.source,!0,!0)}}M.MoveTo=(0,y.registerEditorCommand)(new B({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),M.MoveToSelect=(0,y.registerEditorCommand)(new B({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class z extends l{runCoreEditorCommand(x,q){x.model.pushStackElement();const Y=this.d(x,x.getPrimaryCursorState(),x.getCursorColumnSelectData(),q);Y!==null&&(x.setCursorStates(q.source,3,Y.viewStates.map(Q=>d.CursorState.fromViewState(Q))),x.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Y.fromLineNumber,fromViewVisualColumn:Y.fromVisualColumn,toViewLineNumber:Y.toLineNumber,toViewVisualColumn:Y.toVisualColumn}),Y.reversed?x.revealTopMostCursor(q.source):x.revealBottomMostCursor(q.source))}}M.ColumnSelect=(0,y.registerEditorCommand)(new class extends z{constructor(){super({id:"columnSelect",precondition:void 0})}d(J,x,q,Y){if(typeof Y.position>"u"||typeof Y.viewPosition>"u"||typeof Y.mouseColumn>"u")return null;const Q=J.model.validatePosition(Y.position),re=J.coordinatesConverter.validateViewPosition(new n.Position(Y.viewPosition.lineNumber,Y.viewPosition.column),Q),oe=Y.doColumnSelect?q.fromViewLineNumber:re.lineNumber,G=Y.doColumnSelect?q.fromViewVisualColumn:Y.mouseColumn-1;return C.ColumnSelection.columnSelect(J.cursorConfig,J,oe,G,re.lineNumber,Y.mouseColumn-1)}}),M.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends z{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}d(J,x,q,Y){return C.ColumnSelection.columnSelectLeft(J.cursorConfig,J,q)}}),M.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends z{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}d(J,x,q,Y){return C.ColumnSelection.columnSelectRight(J.cursorConfig,J,q)}});class P extends z{constructor(x){super(x),this.e=x.isPaged}d(x,q,Y,Q){return C.ColumnSelection.columnSelectUp(x.cursorConfig,x,Y,this.e)}}M.CursorColumnSelectUp=(0,y.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),M.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class A extends z{constructor(x){super(x),this.e=x.isPaged}d(x,q,Y,Q){return C.ColumnSelection.columnSelectDown(x.cursorConfig,x,Y,this.e)}}M.CursorColumnSelectDown=(0,y.registerEditorCommand)(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),M.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class T extends l{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(x,q){const Y=i.CursorMove.parse(q);!Y||this.d(x,q.source,Y)}d(x,q,Y){x.model.pushStackElement(),x.setCursorStates(q,3,T.e(x,x.getCursorStates(),Y)),x.revealPrimaryCursor(q,!0)}static e(x,q,Y){const Q=Y.select,re=Y.value;switch(Y.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(x,q,Y.direction,Q,re,Y.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(x,q,Y.direction,Q,re);default:return null}}}M.CursorMoveImpl=T,M.CursorMove=(0,y.registerEditorCommand)(new T);class O extends l{constructor(x){super(x),this.d=x.args}runCoreEditorCommand(x,q){let Y=this.d;this.d.value===-1&&(Y={direction:this.d.direction,unit:this.d.unit,select:this.d.select,value:q.pageSize||x.cursorConfig.pageSize}),x.model.pushStackElement(),x.setCursorStates(q.source,3,i.CursorMoveCommands.simpleMove(x,x.getCursorStates(),Y.direction,Y.select,Y.value,Y.unit)),x.revealPrimaryCursor(q.source,!0)}}M.CursorLeft=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),M.CursorLeftSelect=(0,y.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1039}})),M.CursorRight=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),M.CursorRightSelect=(0,y.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1041}})),M.CursorUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),M.CursorUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),M.CursorPageUp=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),M.CursorPageUpSelect=(0,y.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1035}})),M.CursorDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),M.CursorDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),M.CursorPageDown=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),M.CursorPageDownSelect=(0,y.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1036}})),M.CreateCursor=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(J,x){if(!x.position)return;let q;x.wholeLine?q=i.CursorMoveCommands.line(J,J.getPrimaryCursorState(),!1,x.position,x.viewPosition):q=i.CursorMoveCommands.moveTo(J,J.getPrimaryCursorState(),!1,x.position,x.viewPosition);const Y=J.getCursorStates();if(Y.length>1){const Q=q.modelState?q.modelState.position:null,re=q.viewState?q.viewState.position:null;for(let oe=0,G=Y.length;oe<G;oe++){const Z=Y[oe];if(!(Q&&!Z.modelState.selection.containsPosition(Q))&&!(re&&!Z.viewState.selection.containsPosition(re))){Y.splice(oe,1),J.model.pushStackElement(),J.setCursorStates(x.source,3,Y);return}}}Y.push(q),J.model.pushStackElement(),J.setCursorStates(x.source,3,Y)}}),M.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(J,x){if(!x.position)return;const q=J.getLastAddedCursorIndex(),Y=J.getCursorStates(),Q=Y.slice(0);Q[q]=i.CursorMoveCommands.moveTo(J,Y[q],!0,x.position,x.viewPosition),J.model.pushStackElement(),J.setCursorStates(x.source,3,Q)}});class F extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,i.CursorMoveCommands.moveToBeginningOfLine(x,x.getCursorStates(),this.d)),x.revealPrimaryCursor(q.source,!0)}}M.CursorHome=(0,y.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),M.CursorHomeSelect=(0,y.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,this.e(x.getCursorStates())),x.revealPrimaryCursor(q.source,!0)}e(x){const q=[];for(let Y=0,Q=x.length;Y<Q;Y++){const re=x[Y],oe=re.modelState.position.lineNumber;q[Y]=d.CursorState.fromModelState(re.modelState.move(this.d,oe,1,0))}return q}}M.CursorLineStart=(0,y.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),M.CursorLineStartSelect=(0,y.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class V extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,i.CursorMoveCommands.moveToEndOfLine(x,x.getCursorStates(),this.d,q.sticky||!1)),x.revealPrimaryCursor(q.source,!0)}}M.CursorEnd=(0,y.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(0,null),type:"boolean",default:!1}}}}]}})),M.CursorEndSelect=(0,y.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(1,null),type:"boolean",default:!1}}}}]}}));class R extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,this.e(x,x.getCursorStates())),x.revealPrimaryCursor(q.source,!0)}e(x,q){const Y=[];for(let Q=0,re=q.length;Q<re;Q++){const oe=q[Q],G=oe.modelState.position.lineNumber,Z=x.model.getLineMaxColumn(G);Y[Q]=d.CursorState.fromModelState(oe.modelState.move(this.d,G,Z,0))}return Y}}M.CursorLineEnd=(0,y.registerEditorCommand)(new R({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),M.CursorLineEndSelect=(0,y.registerEditorCommand)(new R({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class $ extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(x,x.getCursorStates(),this.d)),x.revealPrimaryCursor(q.source,!0)}}M.CursorTop=(0,y.registerEditorCommand)(new $({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),M.CursorTopSelect=(0,y.registerEditorCommand)(new $({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class X extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){x.model.pushStackElement(),x.setCursorStates(q.source,3,i.CursorMoveCommands.moveToEndOfBuffer(x,x.getCursorStates(),this.d)),x.revealPrimaryCursor(q.source,!0)}}M.CursorBottom=(0,y.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),M.CursorBottomSelect=(0,y.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class ne extends l{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}determineScrollMethod(x){const q=[6],Y=[1,2,3,4,5,6],Q=[4,2],re=[1,3];return q.includes(x.unit)&&Q.includes(x.direction)?this._runHorizontalEditorScroll.bind(this):Y.includes(x.unit)&&re.includes(x.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(x,q){const Y=o.parse(q);if(!Y)return;const Q=this.determineScrollMethod(Y);!Q||Q(x,q.source,Y)}_runVerticalEditorScroll(x,q,Y){const Q=this.d(x,Y);if(Y.revealCursor){const re=x.getCompletelyVisibleViewRangeAtScrollTop(Q);x.setCursorStates(q,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(x,x.getPrimaryCursorState(),re,Y.select)])}x.viewLayout.setScrollPosition({scrollTop:Q},0)}d(x,q){if(q.unit===1){const re=x.viewLayout.getFutureViewport(),oe=x.getCompletelyVisibleViewRangeAtScrollTop(re.top),G=x.coordinatesConverter.convertViewRangeToModelRange(oe);let Z;q.direction===1?Z=Math.max(1,G.startLineNumber-q.value):Z=Math.min(x.model.getLineCount(),G.startLineNumber+q.value);const U=x.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(Z,1));return x.viewLayout.getVerticalOffsetForLineNumber(U.lineNumber)}if(q.unit===5){let re=0;return q.direction===3&&(re=x.model.getLineCount()-x.cursorConfig.pageSize),x.viewLayout.getVerticalOffsetForLineNumber(re)}let Y;q.unit===3?Y=x.cursorConfig.pageSize*q.value:q.unit===4?Y=Math.round(x.cursorConfig.pageSize/2)*q.value:Y=q.value;const Q=(q.direction===1?-1:1)*Y;return x.viewLayout.getCurrentScrollTop()+Q*x.cursorConfig.lineHeight}_runHorizontalEditorScroll(x,q,Y){const Q=this._computeDesiredScrollLeft(x,Y);x.viewLayout.setScrollPosition({scrollLeft:Q},0)}_computeDesiredScrollLeft(x,q){const Y=(q.direction===4?-1:1)*q.value;return x.viewLayout.getCurrentScrollLeft()+Y*x.cursorConfig.typicalHalfwidthCharacterWidth}}M.EditorScrollImpl=ne,M.EditorScroll=(0,y.registerEditorCommand)(new ne),M.ScrollLineUp=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Up,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollPageUp=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Up,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Up,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollLineDown=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Down,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollPageDown=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Down,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Down,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollLeft=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Left,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:x.source})}}),M.ScrollRight=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(J,x){M.EditorScroll.runCoreEditorCommand(J,{to:o.RawDirection.Right,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:x.source})}});class ae extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){!q.position||(x.model.pushStackElement(),x.setCursorStates(q.source,3,[i.CursorMoveCommands.word(x,x.getPrimaryCursorState(),this.d,q.position)]),q.revealType!==2&&x.revealPrimaryCursor(q.source,!0,!0))}}M.WordSelect=(0,y.registerEditorCommand)(new ae({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),M.WordSelectDrag=(0,y.registerEditorCommand)(new ae({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),M.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(J,x){if(!x.position)return;const q=J.getLastAddedCursorIndex(),Y=J.getCursorStates(),Q=Y.slice(0),re=Y[q];Q[q]=i.CursorMoveCommands.word(J,re,re.modelState.hasSelection(),x.position),J.model.pushStackElement(),J.setCursorStates(x.source,3,Q)}});class ie extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){!q.position||(x.model.pushStackElement(),x.setCursorStates(q.source,3,[i.CursorMoveCommands.line(x,x.getPrimaryCursorState(),this.d,q.position,q.viewPosition)]),q.revealType!==2&&x.revealPrimaryCursor(q.source,!1,!0))}}M.LineSelect=(0,y.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),M.LineSelectDrag=(0,y.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class le extends l{constructor(x){super(x),this.d=x.inSelectionMode}runCoreEditorCommand(x,q){if(!q.position)return;const Y=x.getLastAddedCursorIndex(),Q=x.getCursorStates(),re=Q.slice(0);re[Y]=i.CursorMoveCommands.line(x,Q[Y],this.d,q.position,q.viewPosition),x.model.pushStackElement(),x.setCursorStates(q.source,3,re)}}M.LastCursorLineSelect=(0,y.registerEditorCommand)(new le({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),M.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new le({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),M.CancelSelection=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(J,x){J.model.pushStackElement(),J.setCursorStates(x.source,3,[i.CursorMoveCommands.cancelSelection(J,J.getPrimaryCursorState())]),J.revealPrimaryCursor(x.source,!0)}}),M.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(J,x){J.model.pushStackElement(),J.setCursorStates(x.source,3,[J.getPrimaryCursorState()]),J.revealPrimaryCursor(x.source,!0),(0,D.status)(w.localize(2,null))}}),M.RevealLine=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(J,x){const q=x,Y=q.lineNumber||0;let Q=typeof Y=="number"?Y+1:parseInt(Y)+1;Q<1&&(Q=1);const re=J.model.getLineCount();Q>re&&(Q=re);const oe=new a.Range(Q,1,Q,J.model.getLineMaxColumn(Q));let G=0;if(q.at)switch(q.at){case h.RawAtArgument.Top:G=3;break;case h.RawAtArgument.Center:G=1;break;case h.RawAtArgument.Bottom:G=4;break;default:break}const Z=J.coordinatesConverter.convertModelRangeToViewRange(oe);J.revealRange(x.source,!1,Z,G,0)}}),M.SelectAll=new class extends f{constructor(){super(y.SelectAllCommand)}runDOMCommand(){N.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(J,x,q){const Y=x._getViewModel();!Y||this.runCoreEditorCommand(Y,q)}runCoreEditorCommand(J,x){J.model.pushStackElement(),J.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(J,J.getPrimaryCursorState())])}},M.SetSelection=(0,y.registerEditorCommand)(new class extends l{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(J,x){!x.selection||(J.model.pushStackElement(),J.setCursorStates(x.source,3,[d.CursorState.fromModelSelection(x.selection)]))}})})(S=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const p=c.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function m(M,B){u.KeybindingsRegistry.registerKeybindingRule({id:M,primary:B,when:p,weight:s+1})}m(S.CursorColumnSelectLeft.id,1039),m(S.CursorColumnSelectRight.id,1041),m(S.CursorColumnSelectUp.id,1040),m(S.CursorColumnSelectPageUp.id,1035),m(S.CursorColumnSelectDown.id,1042),m(S.CursorColumnSelectPageDown.id,1036);function b(M){return M.register(),M}var L;(function(M){class B extends y.EditorCommand{runEditorCommand(P,A,T){const O=A._getViewModel();!O||this.runCoreEditingCommand(A,O,T||{})}}M.CoreEditingCommand=B,M.LineBreakInsert=(0,y.registerEditorCommand)(new class extends B{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(z,P,A){z.pushUndoStop(),z.executeCommands(this.id,t.TypeOperations.lineBreakInsert(P.cursorConfig,P.model,P.getCursorStates().map(T=>T.modelState.selection)))}}),M.Outdent=(0,y.registerEditorCommand)(new class extends B{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:c.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(z,P,A){z.pushUndoStop(),z.executeCommands(this.id,t.TypeOperations.outdent(P.cursorConfig,P.model,P.getCursorStates().map(T=>T.modelState.selection))),z.pushUndoStop()}}),M.Tab=(0,y.registerEditorCommand)(new class extends B{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:c.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(z,P,A){z.pushUndoStop(),z.executeCommands(this.id,t.TypeOperations.tab(P.cursorConfig,P.model,P.getCursorStates().map(T=>T.modelState.selection))),z.pushUndoStop()}}),M.DeleteLeft=(0,y.registerEditorCommand)(new class extends B{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(z,P,A){const[T,O]=g.DeleteOperations.deleteLeft(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(F=>F.modelState.selection),P.getCursorAutoClosedCharacters());T&&z.pushUndoStop(),z.executeCommands(this.id,O),P.setPrevEditOperationType(2)}}),M.DeleteRight=(0,y.registerEditorCommand)(new class extends B{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(z,P,A){const[T,O]=g.DeleteOperations.deleteRight(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(F=>F.modelState.selection));T&&z.pushUndoStop(),z.executeCommands(this.id,O),P.setPrevEditOperationType(3)}}),M.Undo=new class extends f{constructor(){super(y.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(z,P,A){if(!(!P.hasModel()||P.getOption(86)===!0))return P.getModel().undo()}},M.Redo=new class extends f{constructor(){super(y.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(z,P,A){if(!(!P.hasModel()||P.getOption(86)===!0))return P.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class k extends y.Command{constructor(B,z,P){super({id:B,precondition:void 0,description:P}),this.d=z}runCommand(B,z){const P=B.get(v.ICodeEditorService).getFocusedCodeEditor();!P||P.trigger("keyboard",this.d,z)}}function I(M,B){b(new k("default:"+M,M)),b(new k(M,M,B))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(ee[726],te([1,0,218,14]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let E=class{constructor(y,v){}dispose(){}};E.ID="editor.contrib.markerDecorations",E=De([fe(1,w.IMarkerDecorationsService)],E),e.MarkerDecorationsContribution=E,(0,N.registerEditorContribution)(E.ID,E,0)}),define(ee[727],te([1,0,175,11,16]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(v,C,d,g){this.a=v,this.b=C,this.c=d,this.d=g}paste(v,C,d,g){this.d.paste(v,C,d,g)}type(v){this.d.type(v)}compositionType(v,C,d,g){this.d.compositionType(v,C,d,g)}compositionStart(){this.d.startComposition()}compositionEnd(){this.d.endComposition()}cut(){this.d.cut()}setSelection(v){w.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.b,{source:"keyboard",selection:v})}f(v){const C=this.b.getLineMinColumn(v.lineNumber);return v.column<C?new N.Position(v.lineNumber,C):v}g(v){switch(this.a.options.get(74)){case"altKey":return v.altKey;case"ctrlKey":return v.ctrlKey;case"metaKey":return v.metaKey;default:return!1}}h(v){switch(this.a.options.get(74)){case"altKey":return v.ctrlKey||v.metaKey;case"ctrlKey":return v.altKey||v.metaKey;case"metaKey":return v.ctrlKey||v.altKey;default:return!1}}dispatchMouse(v){const C=this.a.options,d=E.isLinux&&C.get(101),g=C.get(19);v.middleButton&&!d?this.k(v.position,v.mouseColumn,v.inSelectionMode):v.startedOnLineNumbers?this.g(v)?v.inSelectionMode?this.s(v.position,v.revealType):this.l(v.position,!0):v.inSelectionMode?this.r(v.position,v.revealType):this.q(v.position,v.revealType):v.mouseDownCount>=4?this.u():v.mouseDownCount===3?this.g(v)?v.inSelectionMode?this.t(v.position,v.revealType):this.s(v.position,v.revealType):v.inSelectionMode?this.r(v.position,v.revealType):this.q(v.position,v.revealType):v.mouseDownCount===2?v.onInjectedText||(this.g(v)?this.p(v.position,v.revealType):v.inSelectionMode?this.o(v.position,v.revealType):this.n(v.position,v.revealType)):this.g(v)?this.h(v)||(v.shiftKey?this.k(v.position,v.mouseColumn,!0):v.inSelectionMode?this.m(v.position,v.revealType):this.l(v.position,!1)):v.inSelectionMode?v.altKey?this.k(v.position,v.mouseColumn,!0):g?this.k(v.position,v.mouseColumn,!0):this.j(v.position,v.revealType):this.moveTo(v.position,v.revealType)}i(v,C){return v=this.f(v),{source:"mouse",position:this.v(v),viewPosition:v,revealType:C}}moveTo(v,C){w.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.b,this.i(v,C))}j(v,C){w.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.b,this.i(v,C))}k(v,C,d){v=this.f(v),w.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.b,{source:"mouse",position:this.v(v),viewPosition:v,mouseColumn:C,doColumnSelect:d})}l(v,C){v=this.f(v),w.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.b,{source:"mouse",position:this.v(v),viewPosition:v,wholeLine:C})}m(v,C){w.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.b,this.i(v,C))}n(v,C){w.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.b,this.i(v,C))}o(v,C){w.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.b,this.i(v,C))}p(v,C){w.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.b,this.i(v,C))}q(v,C){w.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.b,this.i(v,C))}r(v,C){w.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.b,this.i(v,C))}s(v,C){w.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.b,this.i(v,C))}t(v,C){w.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.b,this.i(v,C))}u(){w.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.b,{source:"mouse"})}v(v){return this.b.coordinatesConverter.convertViewPositionToModelPosition(v)}emitKeyDown(v){this.c.emitKeyDown(v)}emitKeyUp(v){this.c.emitKeyUp(v)}emitContextMenu(v){this.c.emitContextMenu(v)}emitMouseMove(v){this.c.emitMouseMove(v)}emitMouseLeave(v){this.c.emitMouseLeave(v)}emitMouseUp(v){this.c.emitMouseUp(v)}emitMouseDown(v){this.c.emitMouseDown(v)}emitMouseDrag(v){this.c.emitMouseDrag(v)}emitMouseDrop(v){this.c.emitMouseDrop(v)}emitMouseDropCanceled(){this.c.emitMouseDropCanceled()}emitMouseWheel(v){this.c.emitMouseWheel(v)}}e.ViewController=D}),define(ee[728],te([1,0,50,71,57,14,22,23,580,15,391]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new d.RawContextKey("selectionAnchorSet",!1);let g=class Fi{static get(c){return c.getContribution(Fi.ID)}constructor(c,u){this.d=c,this.b=e.SelectionAnchorSet.bindTo(u),this.c=c.onDidChangeModel(()=>this.b.reset())}setSelectionAnchor(){if(this.d.hasModel()){const c=this.d.getPosition();this.d.changeDecorations(u=>{this.a&&u.removeDecoration(this.a),this.a=u.addDecoration(y.Selection.fromPositions(c,c),{description:"selection-anchor",stickiness:1,hoverMessage:new N.MarkdownString().appendText((0,C.localize)(0,null)),className:"selection-anchor"})}),this.b.set(!!this.a),(0,w.alert)((0,C.localize)(1,null,c.lineNumber,c.column))}}goToSelectionAnchor(){if(this.d.hasModel()&&this.a){const c=this.d.getModel().getDecorationRange(this.a);c&&this.d.setPosition(c.getStartPosition())}}selectFromAnchorToCursor(){if(this.d.hasModel()&&this.a){const c=this.d.getModel().getDecorationRange(this.a);if(c){const u=this.d.getPosition();this.d.setSelection(y.Selection.fromPositions(c.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.a){const c=this.a;this.d.changeDecorations(u=>{u.removeDecoration(c),this.a=void 0}),this.b.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.c.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=De([fe(1,d.IContextKeyService)],g);class i extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,C.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2080),weight:100}})}run(c,u){var s;return Le(this,void 0,void 0,function*(){(s=g.get(u))===null||s===void 0||s.setSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,C.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(c,u){var s;return Le(this,void 0,void 0,function*(){(s=g.get(u))===null||s===void 0||s.goToSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,C.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2089),weight:100}})}run(c,u){var s;return Le(this,void 0,void 0,function*(){(s=g.get(u))===null||s===void 0||s.selectFromAnchorToCursor()})}}class a extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,C.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(c,u){var s;return Le(this,void 0,void 0,function*(){(s=g.get(u))===null||s===void 0||s.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(g.ID,g,4),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(a)}),define(ee[729],te([1,0,14,23,486,582]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends w.EditorAction{constructor(g,i){super(i),this.d=g}run(g,i){if(!i.hasModel())return;const t=[],n=i.getSelections();for(const a of n)t.push(new E.MoveCaretCommand(a,this.d));i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop()}}class v extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:N.EditorContextKeys.writable})}}class C extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:N.EditorContextKeys.writable})}}(0,w.registerEditorAction)(v),(0,w.registerEditorAction)(C)}),define(ee[730],te([1,0,14,114,186,3,23,583]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends w.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:v.localize(0,null),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(g,i){if(!i.hasModel())return;const t=i.getModel(),n=[],a=i.getSelections();for(const r of a){if(!r.isEmpty())continue;const c=r.startLineNumber,u=r.startColumn,s=t.getLineMaxColumn(c);if(c===1&&(u===1||u===2&&s===2))continue;const l=u===s?r.getPosition():E.MoveOperations.rightPosition(t,r.getPosition().lineNumber,r.getPosition().column),o=E.MoveOperations.leftPosition(t,l),h=E.MoveOperations.leftPosition(t,o),f=t.getValueInRange(D.Range.fromPositions(h,o)),S=t.getValueInRange(D.Range.fromPositions(o,l)),p=D.Range.fromPositions(h,l);n.push(new N.ReplaceCommand(p,S+f))}n.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,n),i.pushUndoStop())}}(0,w.registerEditorAction)(C)}),define(ee[731],te([1,0,44,16,211,14,28,23,584,29,97]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",t=N.isNative||document.queryCommandSupported("cut"),n=N.isNative||document.queryCommandSupported("copy"),a=typeof navigator.clipboard>"u"||w.isFirefox?document.queryCommandSupported("paste"):!0;function r(s){return s.register(),s}e.CutAction=t?r(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:N.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:d.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:d.MenuId.EditorContext,group:i,title:C.localize(1,null),when:v.EditorContextKeys.writable,order:1},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:d.MenuId.SimpleEditorContext,group:i,title:C.localize(3,null),when:v.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=n?r(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:N.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:d.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:d.MenuId.EditorContext,group:i,title:C.localize(5,null),order:2},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:d.MenuId.SimpleEditorContext,group:i,title:C.localize(7,null),order:2}]})):void 0,d.MenuRegistry.appendMenuItem(d.MenuId.MenubarEditMenu,{submenu:d.MenuId.MenubarCopy,title:{value:C.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),d.MenuRegistry.appendMenuItem(d.MenuId.EditorContext,{submenu:d.MenuId.EditorContextCopy,title:{value:C.localize(9,null),original:"Copy As"},group:i,order:3}),d.MenuRegistry.appendMenuItem(d.MenuId.EditorContext,{submenu:d.MenuId.EditorContextShare,title:{value:C.localize(10,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=a?r(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:N.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:d.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(11,null),order:4},{menuId:d.MenuId.EditorContext,group:i,title:C.localize(12,null),when:v.EditorContextKeys.writable,order:4},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(13,null),order:1},{menuId:d.MenuId.SimpleEditorContext,group:i,title:C.localize(14,null),when:v.EditorContextKeys.writable,order:4}]})):void 0;class c extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(15,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(l,o){!o.hasModel()||!o.getOption(34)&&o.getSelection().isEmpty()||(E.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.focus(),document.execCommand("copy"),E.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function u(s,l){!s||(s.addImplementation(1e4,"code-editor",(o,h)=>{const f=o.get(y.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const S=f.getOption(34),p=f.getSelection();return p&&p.isEmpty()&&!S||document.execCommand(l),!0}return!1}),s.addImplementation(0,"generic-dom",(o,h)=>(document.execCommand(l),!0)))}u(e.CutAction,"cut"),u(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,l)=>{const o=s.get(y.ICodeEditorService),h=s.get(g.IClipboardService),f=o.getFocusedCodeEditor();return f&&f.hasTextFocus()?!document.execCommand("paste")&&N.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const p=yield h.readText();if(p!==""){const m=E.InMemoryClipboardMetadataManager.INSTANCE.get(p);let b=!1,L=null,k=null;m&&(b=f.getOption(34)&&!!m.isFromEmptySelection,L=typeof m.multicursorText<"u"?m.multicursorText:null,k=m.mode),f.trigger("keyboard","paste",{text:p,pasteOnNewLine:b,multicursorText:L,mode:k})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,l)=>(document.execCommand("paste"),!0))),n&&(0,D.registerEditorAction)(c)}),define(ee[732],te([1,0,57,14,3,23,34,260,487,593,29]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i extends N.EditorAction{constructor(u,s){super(s),this.d=u}run(u,s){const l=u.get(y.ILanguageConfigurationService);if(!s.hasModel())return;const o=s.getModel(),h=[],f=o.getOptions(),S=s.getOption(20),p=s.getSelections().map((b,L)=>({selection:b,index:L,ignoreFirstLine:!1}));p.sort((b,L)=>E.Range.compareRangesUsingStarts(b.selection,L.selection));let m=p[0];for(let b=1;b<p.length;b++){const L=p[b];m.selection.endLineNumber===L.selection.startLineNumber&&(m.index<L.index?L.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=L))}for(const b of p)h.push(new C.LineCommentCommand(l,b.selection,f.tabSize,this.d,S.insertSpace,S.ignoreEmptyLines,b.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}class t extends i{constructor(){super(0,{id:"editor.action.commentLine",label:d.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:d.localize(1,null),order:1}})}}class n extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:d.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2081),weight:100}})}}class a extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:d.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2099),weight:100}})}}class r extends N.EditorAction{constructor(){super({id:"editor.action.blockComment",label:d.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:d.localize(5,null),order:2}})}run(u,s){const l=u.get(y.ILanguageConfigurationService);if(!s.hasModel())return;const o=s.getOption(20),h=[],f=s.getSelections();for(const S of f)h.push(new v.BlockCommentCommand(S,o.insertSpace,l));s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}(0,N.registerEditorAction)(t),(0,N.registerEditorAction)(n),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(r)}),define(ee[733],te([1,0,7,140,41,2,16,14,23,594,29,15,56,37,32]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let r=class Bi{static get(s){return s.getContribution(Bi.ID)}constructor(s,l,o,h,f,S,p){this.d=l,this.f=o,this.g=h,this.h=f,this.i=S,this.j=p,this.a=new D.DisposableStore,this.b=0,this.c=s,this.a.add(this.c.onContextMenu(m=>this.k(m))),this.a.add(this.c.onMouseWheel(m=>{if(this.b>0){const b=this.f.getContextViewElement(),L=m.srcElement;L.shadowRoot&&w.getShadowRoot(b)===L.shadowRoot||this.f.hideContextView()}})),this.a.add(this.c.onKeyDown(m=>{!this.c.getOption(21)||m.keyCode===58&&(m.preventDefault(),m.stopPropagation(),this.showContextMenu())}))}k(s){if(!this.c.hasModel())return;if(!this.c.getOption(21)){this.c.focus(),s.target.position&&!this.c.getSelection().containsPosition(s.target.position)&&this.c.setPosition(s.target.position);return}if(s.target.type===12||s.target.type===6&&s.target.detail.injectedText)return;if(s.event.preventDefault(),s.event.stopPropagation(),s.target.type===11)return this.n({x:s.event.posx-1,width:2,y:s.event.posy-1,height:2});if(s.target.type!==6&&s.target.type!==7&&s.target.type!==1)return;if(this.c.focus(),s.target.position){let o=!1;for(const h of this.c.getSelections())if(h.containsPosition(s.target.position)){o=!0;break}o||this.c.setPosition(s.target.position)}let l=null;s.target.type!==1&&(l={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(l)}showContextMenu(s){if(!this.c.getOption(21)||!this.c.hasModel())return;const l=this.l(this.c.getModel(),this.c.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);l.length>0&&this.m(l,s)}l(s,l){const o=[],h=this.i.createMenu(l,this.g),f=h.getActions({arg:s.uri});h.dispose();for(const S of f){const[,p]=S;let m=0;for(const b of p)if(b instanceof g.SubmenuItemAction){const L=this.l(s,b.item.submenu);L.length>0&&(o.push(new E.SubmenuAction(b.id,b.label,L)),m++)}else o.push(b),m++;m&&o.push(new E.Separator)}return o.length&&o.pop(),o}m(s,l=null){if(!this.c.hasModel())return;const o=this.c.getOption(57);if(this.c.updateOptions({hover:{enabled:!1}}),!l){this.c.revealPosition(this.c.getPosition(),1),this.c.render();const f=this.c.getScrolledVisiblePosition(this.c.getPosition()),S=w.getDomNodePagePosition(this.c.getDomNode()),p=S.left+f.left,m=S.top+f.top+f.height;l={x:p,y:m}}const h=this.c.getOption(121)&&!y.isIOS;this.b++,this.d.showContextMenu({domForShadowRoot:h?this.c.getDomNode():void 0,getAnchor:()=>l,getActions:()=>s,getActionViewItem:f=>{const S=this.o(f);if(S)return new N.ActionViewItem(f,f,{label:!0,keybinding:S.getLabel(),isMenu:!0});const p=f;return typeof p.getActionViewItem=="function"?p.getActionViewItem():new N.ActionViewItem(f,f,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:f=>this.o(f),onHide:f=>{this.b--,this.c.updateOptions({hover:o})}})}n(s){if(!this.c.hasModel())return;const l=this.c.getOption(69);let o=0;const h=b=>({id:`menu-action-${++o}`,label:b.label,tooltip:"",class:void 0,enabled:typeof b.enabled>"u"?!0:b.enabled,checked:b.checked,run:b.run}),f=(b,L)=>new E.SubmenuAction(`menu-action-${++o}`,b,L,void 0),S=(b,L,k,I,M)=>{if(!L)return h({label:b,enabled:L,run:()=>{}});const B=P=>()=>{this.j.updateValue(k,P)},z=[];for(const P of M)z.push(h({label:P.label,checked:I===P.value,run:B(P.value)}));return f(b,z)},p=[];p.push(h({label:d.localize(0,null),checked:l.enabled,run:()=>{this.j.updateValue("editor.minimap.enabled",!l.enabled)}})),p.push(new E.Separator),p.push(h({label:d.localize(1,null),enabled:l.enabled,checked:l.renderCharacters,run:()=>{this.j.updateValue("editor.minimap.renderCharacters",!l.renderCharacters)}})),p.push(S(d.localize(2,null),l.enabled,"editor.minimap.size",l.size,[{label:d.localize(3,null),value:"proportional"},{label:d.localize(4,null),value:"fill"},{label:d.localize(5,null),value:"fit"}])),p.push(S(d.localize(6,null),l.enabled,"editor.minimap.showSlider",l.showSlider,[{label:d.localize(7,null),value:"mouseover"},{label:d.localize(8,null),value:"always"}]));const m=this.c.getOption(121)&&!y.isIOS;this.b++,this.d.showContextMenu({domForShadowRoot:m?this.c.getDomNode():void 0,getAnchor:()=>s,getActions:()=>p,onHide:b=>{this.b--,this.c.focus()}})}o(s){return this.h.lookupKeybinding(s.id)}dispose(){this.b>0&&this.f.hideContextView(),this.a.dispose()}};r.ID="editor.contrib.contextmenu",r=De([fe(1,t.IContextMenuService),fe(2,t.IContextViewService),fe(3,i.IContextKeyService),fe(4,n.IKeybindingService),fe(5,g.IMenuService),fe(6,a.IConfigurationService)],r),e.ContextMenuController=r;class c extends v.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:d.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(s,l){var o;(o=r.get(l))===null||o===void 0||o.showContextMenu()}}(0,v.registerEditorContribution)(r.ID,r,2),(0,v.registerEditorAction)(c)}),define(ee[734],te([1,0,2,14,23,597]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(t){this.selections=t}equals(t){const n=this.selections.length,a=t.selections.length;if(n!==a)return!1;for(let r=0;r<n;r++)if(!this.selections[r].equalsSelection(t.selections[r]))return!1;return!0}}class v{constructor(t,n,a){this.cursorState=t,this.scrollTop=n,this.scrollLeft=a}}class C extends w.Disposable{static get(t){return t.getContribution(C.ID)}constructor(t){super(),this.a=t,this.b=!1,this.c=[],this.g=[],this.q(t.onDidChangeModel(n=>{this.c=[],this.g=[]})),this.q(t.onDidChangeModelContent(n=>{this.c=[],this.g=[]})),this.q(t.onDidChangeCursorSelection(n=>{if(this.b||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const a=new y(n.oldSelections);this.c.length>0&&this.c[this.c.length-1].cursorState.equals(a)||(this.c.push(new v(a,t.getScrollTop(),t.getScrollLeft())),this.g=[],this.c.length>50&&this.c.shift())}))}cursorUndo(){!this.a.hasModel()||this.c.length===0||(this.g.push(new v(new y(this.a.getSelections()),this.a.getScrollTop(),this.a.getScrollLeft())),this.h(this.c.pop()))}cursorRedo(){!this.a.hasModel()||this.g.length===0||(this.c.push(new v(new y(this.a.getSelections()),this.a.getScrollTop(),this.a.getScrollLeft())),this.h(this.g.pop()))}h(t){this.b=!0,this.a.setSelections(t.cursorState.selections),this.a.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this.b=!1}}C.ID="editor.contrib.cursorUndoRedoController",e.CursorUndoRedoController=C;class d extends N.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(t,n,a){var r;(r=C.get(n))===null||r===void 0||r.cursorUndo()}}e.CursorUndo=d;class g extends N.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(t,n,a){var r;(r=C.get(n))===null||r===void 0||r.cursorRedo()}}e.CursorRedo=g,(0,N.registerEditorContribution)(C.ID,C,0),(0,N.registerEditorAction)(d),(0,N.registerEditorAction)(g)}),define(ee[735],te([1,0,14,15,20,58,8,51,599]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const d=(0,y.createDecorator)("IEditorCancelService"),g=new N.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,v.registerSingleton)(d,class{constructor(){this.a=new WeakMap}add(t,n){let a=this.a.get(t);a||(a=t.invokeWithinContext(c=>{const u=g.bindTo(c.get(N.IContextKeyService)),s=new D.LinkedList;return{key:u,tokens:s}}),this.a.set(t,a));let r;return a.key.set(!0),r=a.tokens.push(n),()=>{r&&(r(),a.key.set(!a.tokens.isEmpty()),r=void 0)}}cancel(t){const n=this.a.get(t);if(!n)return;const a=n.tokens.pop();a&&(a.cancel(),n.key.set(!n.tokens.isEmpty()))}},1);class i extends E.CancellationTokenSource{constructor(n,a){super(a),this.editor=n,this.c=n.invokeWithinContext(r=>r.get(d).add(n,this))}dispose(){this.c(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,w.registerEditorCommand)(new class extends w.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(t,n){t.get(d).cancel(n)}})}),define(ee[98],te([1,0,9,3,20,2,735]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class v{constructor(i,t){if(this.a=t,(this.a&1)!==0){const n=i.getModel();this.d=n?w.format("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.d=null;(this.a&4)!==0?this.b=i.getPosition():this.b=null,(this.a&2)!==0?this.c=i.getSelection():this.c=null,(this.a&8)!==0?(this.f=i.getScrollLeft(),this.g=i.getScrollTop()):(this.f=-1,this.g=-1)}h(i){if(!(i instanceof v))return!1;const t=i;return!(this.d!==t.d||this.f!==t.f||this.g!==t.g||!this.b&&t.b||this.b&&!t.b||this.b&&t.b&&!this.b.equals(t.b)||!this.c&&t.c||this.c&&!t.c||this.c&&t.c&&!this.c.equalsRange(t.c))}validate(i){return this.h(new v(i,this.a))}}e.EditorState=v;class C extends y.EditorKeybindingCancellationTokenSource{constructor(i,t,n,a){super(i,a),this.d=new D.DisposableStore,t&4&&this.d.add(i.onDidChangeCursorPosition(r=>{(!n||!N.Range.containsPosition(n,r.position))&&this.cancel()})),t&2&&this.d.add(i.onDidChangeCursorSelection(r=>{(!n||!N.Range.containsRange(n,r.selection))&&this.cancel()})),t&8&&this.d.add(i.onDidScrollChange(r=>this.cancel())),t&1&&(this.d.add(i.onDidChangeModel(r=>this.cancel())),this.d.add(i.onDidChangeModelContent(r=>this.cancel())))}dispose(){this.d.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class d extends E.CancellationTokenSource{constructor(i,t){super(t),this.c=i.onDidChangeContent(()=>this.cancel())}dispose(){this.c.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=d}),define(ee[176],te([1,0,17,20,13,2,21,143,3,22,19,52,98,585,25,42,69,77,118]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorPreviewCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.refactorPreviewCommandId="editor.action.refactor.preview",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l extends D.Disposable{static c(I,M){return I.isPreferred&&!M.isPreferred?-1:!I.isPreferred&&M.isPreferred?1:0}static g({action:I},{action:M}){return(0,w.isNonEmptyArray)(I.diagnostics)?(0,w.isNonEmptyArray)(M.diagnostics)?l.c(I,M):-1:(0,w.isNonEmptyArray)(M.diagnostics)?1:l.c(I,M)}constructor(I,M,B){super(),this.documentation=M,this.q(B),this.allActions=[...I].sort(l.g),this.validActions=this.allActions.filter(({action:z})=>!z.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&s.CodeActionKind.QuickFix.contains(new s.CodeActionKind(I.kind))&&!!I.isPreferred)}}const o={actions:[],documentation:void 0};function h(k,I,M,B,z,P){var A;return Le(this,void 0,void 0,function*(){const T=B.filter||{},O={only:(A=T.include)===null||A===void 0?void 0:A.value,trigger:B.type},F=new t.TextModelCancellationTokenSource(I,P),W=f(k,I,T),V=new D.DisposableStore,R=W.map(X=>Le(this,void 0,void 0,function*(){try{z.report(X);const ne=yield X.provideCodeActions(I,M,O,F.token);if(ne&&V.add(ne),F.token.isCancellationRequested)return o;const ae=(ne?.actions||[]).filter(le=>le&&(0,s.filtersAction)(T,le)),ie=p(X,ae,T.include);return{actions:ae.map(le=>new s.CodeActionItem(le,X)),documentation:ie}}catch(ne){if((0,E.isCancellationError)(ne))throw ne;return(0,E.onUnexpectedExternalError)(ne),o}})),$=k.onDidChange(()=>{const X=k.all(I);(0,w.equals)(X,W)||F.cancel()});try{const X=yield Promise.all(R),ne=X.map(ie=>ie.actions).flat(),ae=[...(0,w.coalesce)(X.map(ie=>ie.documentation)),...S(k,I,B,ne)];return new l(ne,ae,V)}finally{$.dispose(),F.dispose()}})}e.getCodeActions=h;function f(k,I,M){return k.all(I).filter(B=>B.providedCodeActionKinds?B.providedCodeActionKinds.some(z=>(0,s.mayIncludeActionsOfKind)(M,new s.CodeActionKind(z))):!0)}function*S(k,I,M,B){var z,P,A;if(I&&B.length)for(const T of k.all(I))T._getAdditionalMenuItems&&(yield*(z=T._getAdditionalMenuItems)===null||z===void 0?void 0:z.call(T,{trigger:M.type,only:(A=(P=M.filter)===null||P===void 0?void 0:P.include)===null||A===void 0?void 0:A.value},B.map(O=>O.action)))}function p(k,I,M){if(!k.documentation)return;const B=k.documentation.map(z=>({kind:new s.CodeActionKind(z.kind),command:z.command}));if(M){let z;for(const P of B)P.kind.contains(M)&&(z?z.kind.contains(P.kind)&&(z=P):z=P);if(z)return z?.command}for(const z of I)if(!!z.kind){for(const P of B)if(P.kind.contains(new s.CodeActionKind(z.kind)))return P.command}}var m;(function(k){k.OnSave="onSave",k.FromProblemsView="fromProblemsView",k.FromCodeActions="fromCodeActions"})(m=e.ApplyCodeActionReason||(e.ApplyCodeActionReason={}));function b(k,I,M,B,z=N.CancellationToken.None){var P;return Le(this,void 0,void 0,function*(){const A=k.get(v.IBulkEditService),T=k.get(a.ICommandService),O=k.get(u.ITelemetryService),F=k.get(r.INotificationService);if(O.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:M}),yield I.resolve(z),!z.isCancellationRequested&&!(!((P=I.action.edit)===null||P===void 0)&&P.edits.length&&!(yield A.apply(I.action.edit,{editor:B?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:M!==m.OnSave,showPreview:B?.preview})).isApplied)&&I.action.command)try{yield T.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(W){const V=L(W);F.error(typeof V=="string"?V:n.localize(0,null))}})}e.applyCodeAction=b;function L(k){return typeof k=="string"?k:k instanceof Error&&typeof k.message=="string"?k.message:void 0}a.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(k,I,M,B,z){return Le(this,void 0,void 0,function*(){if(!(I instanceof y.URI))throw(0,E.illegalArgument)();const{codeActionProvider:P}=k.get(g.ILanguageFeaturesService),A=k.get(i.IModelService).getModel(I);if(!A)throw(0,E.illegalArgument)();const T=d.Selection.isISelection(M)?d.Selection.liftSelection(M):C.Range.isIRange(M)?A.validateRange(M):void 0;if(!T)throw(0,E.illegalArgument)();const O=typeof B=="string"?new s.CodeActionKind(B):void 0,F=yield h(P,A,T,{type:1,triggerAction:s.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:O}},c.Progress.None,N.CancellationToken.None),W=[],V=Math.min(F.validActions.length,typeof z=="number"?z:0);for(let R=0;R<V;R++)W.push(F.validActions[R].resolve(N.CancellationToken.None));try{return yield Promise.all(W),F.validActions.map(R=>R.action)}finally{setTimeout(()=>F.dispose(),100)}})})}),define(ee[736],te([1,0,100,176,118,37]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let y=class zi{constructor(C){this.b=C}getResolver(){const C=new w.Lazy(()=>this.b.getKeybindings().filter(d=>zi.a.indexOf(d.command)>=0).filter(d=>d.resolvedKeybinding).map(d=>{let g=d.commandArgs;return d.command===N.organizeImportsCommandId?g={kind:E.CodeActionKind.SourceOrganizeImports.value}:d.command===N.fixAllCommandId&&(g={kind:E.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:d.resolvedKeybinding},E.CodeActionCommandArgs.fromUser(g,{kind:E.CodeActionKind.None,apply:"never"}))}));return d=>{if(d.kind){const g=this.c(d,C.value);return g?.resolvedKeybinding}}}c(C,d){if(!C.kind)return;const g=new E.CodeActionKind(C.kind);return d.filter(i=>i.kind.contains(g)).filter(i=>i.preferred?C.isPreferred:!0).reduceRight((i,t)=>i?i.kind.contains(t.kind)?t:i:t,void 0)}};y.a=[N.refactorCommandId,N.codeActionCommandId,N.sourceActionCommandId,N.organizeImportsCommandId,N.fixAllCommandId],y=De([fe(0,D.IKeybindingService)],y),e.CodeActionKeybindingResolver=y});var Ft=this&&this.__classPrivateFieldGet||function(K,e,w,N){if(w==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?N:w==="a"?N.call(K):N?N.value:e.get(K)},ni=this&&this.__classPrivateFieldSet||function(K,e,w,N,E){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!E:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?E.call(K,w):E?E.value=w:e.set(K,w),w};define(ee[737],te([1,0,12,13,6,2,43,15,69,176,118]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class t extends D.Disposable{constructor(u,s,l,o=250){super(),this.b=u,this.c=s,this.g=l,this.h=o,this.a=this.q(new w.TimeoutTimer),this.q(this.c.onMarkerChanged(h=>this.i(h))),this.q(this.b.onDidChangeCursorPosition(()=>this.j()))}trigger(u){const s=this.k(u);return this.l(u,s)}i(u){const s=this.b.getModel();!s||u.some(l=>(0,y.isEqual)(l,s.uri))&&this.a.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})},this.h)}j(){this.a.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})},this.h)}k(u){if(!this.b.hasModel())return;const s=this.b.getModel(),l=this.b.getSelection();if(l.isEmpty()&&u.type===2){const{lineNumber:o,column:h}=l.getPosition(),f=s.getLineContent(o);if(f.length===0)return;if(h===1){if(/\s/.test(f[0]))return}else if(h===s.getLineMaxColumn(o)){if(/\s/.test(f[f.length-1]))return}else if(/\s/.test(f[h-2])&&/\s/.test(f[h-1]))return}return l}l(u,s){const l=this.b.getModel();if(!s||!l){this.g(void 0);return}const o={trigger:u,selection:s,position:s.getStartPosition()};return this.g(o),o}}var n;(function(c){c.Empty={type:0};class u{constructor(l,o,h,f){this.trigger=l,this.rangeOrSelection=o,this.position=h,this.a=f,this.type=1,this.actions=f.catch(S=>{if((0,N.isCancellationError)(S))return a;throw S})}cancel(){this.a.cancel()}}c.Triggered=u})(n=e.CodeActionsState||(e.CodeActionsState={}));const a={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends D.Disposable{constructor(u,s,l,o,h){super(),this.h=u,this.i=s,this.j=l,this.k=h,this.a=this.q(new D.MutableDisposable),this.b=n.Empty,this.g=this.q(new E.Emitter),this.onDidChangeState=this.g.event,i.set(this,!1),this.c=e.SUPPORTED_CODE_ACTIONS.bindTo(o),this.q(this.h.onDidChangeModel(()=>this.l())),this.q(this.h.onDidChangeModelLanguage(()=>this.l())),this.q(this.i.onDidChange(()=>this.l())),this.l()}dispose(){Ft(this,i,"f")||(ni(this,i,!0,"f"),super.dispose(),this.m(n.Empty,!0))}l(){if(Ft(this,i,"f"))return;this.a.value=void 0,this.m(n.Empty);const u=this.h.getModel();if(u&&this.i.has(u)&&!this.h.getOption(86)){const s=[];for(const l of this.i.all(u))Array.isArray(l.providedCodeActionKinds)&&s.push(...l.providedCodeActionKinds);this.c.set(s.join(" ")),this.a.value=new t(this.h,this.j,l=>{var o;if(!l){this.m(n.Empty);return}const h=(0,w.createCancelablePromise)(f=>(0,d.getCodeActions)(this.i,u,l.selection,l.trigger,C.Progress.None,f));l.trigger.type===1&&((o=this.k)===null||o===void 0||o.showWhile(h,250)),this.m(new n.Triggered(l.trigger,l.selection,l.position,h))},void 0),this.a.value.trigger({type:2,triggerAction:g.CodeActionTriggerSource.Default})}else this.c.reset()}trigger(u){var s;(s=this.a.value)===null||s===void 0||s.trigger(u)}m(u,s){u!==this.b&&(this.b.type===1&&this.b.cancel(),this.b=u,!s&&!Ft(this,i,"f")&&this.g.fire(u))}}e.CodeActionModel=r,i=new WeakMap}),define(ee[738],te([1,0,127,7,12,184,2,101,47,183,303,143,3,22,19,98,95,596,97,32,69]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=void 0;const h="application/vnd.code.copyMetadata";let f=class extends y.Disposable{constructor(m,b,L,k,I,M){super(),this.c=b,this.g=L,this.h=k,this.i=I,this.j=M,this.a=m;const B=m.getContainerDomNode();this.q((0,N.addDisposableListener)(B,"copy",z=>this.l(z))),this.q((0,N.addDisposableListener)(B,"cut",z=>this.l(z))),this.q((0,N.addDisposableListener)(B,"paste",z=>this.n(z),!0))}k(m){return this.h.getValue("editor.experimental.pasteActions.enabled",{resource:m.uri})?!0:m.uri.scheme===C.Schemas.vscodeNotebookCell}l(m){var b;if(!m.clipboardData||!this.a.hasTextFocus())return;const L=this.a.getModel(),k=this.a.getSelections();if(!L||!k?.length||!this.k(L))return;const I=[...k],M=k[0],B=M.isEmpty();if(B){if(!this.a.getOption(34))return;I[0]=new t.Range(M.startLineNumber,0,M.startLineNumber,L.getLineLength(M.startLineNumber))}const z=this.i.documentPasteEditProvider.ordered(L).filter(O=>!!O.prepareDocumentPaste);if(!z.length){this.m(m.clipboardData,{wasFromEmptySelection:B});return}const P=(0,g.toVSDataTransfer)(m.clipboardData),A=(0,d.generateUuid)();this.m(m.clipboardData,{id:A,wasFromEmptySelection:B});const T=(0,E.createCancelablePromise)(O=>Le(this,void 0,void 0,function*(){const F=yield Promise.all(z.map(W=>W.prepareDocumentPaste(L,I,P,O)));for(const W of F)W?.forEach((V,R)=>{P.replace(R,V)});return P}));(b=this.b)===null||b===void 0||b.dataTransferPromise.cancel(),this.b={handle:A,dataTransferPromise:T}}m(m,b){m.setData(h,JSON.stringify(b))}n(m){var b,L,k,I;return Le(this,void 0,void 0,function*(){if(!m.clipboardData||!this.a.hasTextFocus())return;const M=this.a.getSelections();if(!M?.length||!this.a.hasModel())return;const B=this.a.getModel();if(!this.k(B))return;let z;const P=(b=m.clipboardData)===null||b===void 0?void 0:b.getData(h);P&&typeof P=="string"&&(z=JSON.parse(P));const A=this.i.documentPasteEditProvider.ordered(B);if(!A.length)return;m.preventDefault(),m.stopImmediatePropagation();const T=new r.EditorStateCancellationTokenSource(this.a,3);try{const O=(0,g.toVSDataTransfer)(m.clipboardData);if(z?.id&&((L=this.b)===null||L===void 0?void 0:L.handle)===z.id){const W=yield this.b.dataTransferPromise;if(T.token.isCancellationRequested)return;W.forEach((V,R)=>{O.replace(R,V)})}if(!O.has(v.Mimes.uriList)){const W=yield this.g.readResources();if(T.token.isCancellationRequested)return;W.length&&O.append(v.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(W)))}O.delete(h);const F=yield this.j.withProgress({location:15,delay:750,title:(0,u.localize)(0,null),cancellable:!0},()=>this.p(A,O,B,M,T.token),()=>T.cancel());if(T.token.isCancellationRequested)return;if(F){const W=typeof F.insertText=="string"?c.SnippetParser.escape(F.insertText):F.insertText.snippet,V={edits:[new i.ResourceTextEdit(B.uri,{range:n.Selection.liftSelection(this.a.getSelection()),text:W,insertAsSnippet:!0}),...(I=(k=F.additionalEdit)===null||k===void 0?void 0:k.edits)!==null&&I!==void 0?I:[]]};yield this.c.apply(V,{editor:this.a});return}yield this.r(O,z,T.token)}finally{T.dispose()}})}p(m,b,L,k,I){return(0,E.raceCancellation)((()=>Le(this,void 0,void 0,function*(){for(const M of m){if(I.isCancellationRequested)return;if(!S(M,b))continue;const B=yield M.provideDocumentPasteEdits(L,k,b,I);if(B)return B}}))(),I)}r(m,b,L){var k;return Le(this,void 0,void 0,function*(){const I=(k=m.get(v.Mimes.text))!==null&&k!==void 0?k:m.get("text");if(!I)return;const M=yield I.asString();L.isCancellationRequested||this.a.trigger("keyboard","paste",{text:M,pasteOnNewLine:b?.wasFromEmptySelection,multicursorText:null})})}};f.ID="editor.contrib.copyPasteActionController",f=De([fe(1,i.IBulkEditService),fe(2,s.IClipboardService),fe(3,l.IConfigurationService),fe(4,a.ILanguageFeaturesService),fe(5,o.IProgressService)],f),e.CopyPasteController=f;function S(p,m){return p.pasteMimeTypes.some(b=>b.toLowerCase()===w.DataTransfers.FILES.toLowerCase()?[...m.values()].some(L=>L.asFile()):m.has(b))}}),define(ee[739],te([1,0,14,222,738,595,90,33]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(E.CopyPasteController.ID,E.CopyPasteController,0),v.Registry.as(y.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},N.editorConfigurationBaseNode),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:D.localize(0,null),default:!1}}}))}),define(ee[740],te([1,0,14,169,604]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:E.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(d,g){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()+1)}}class y extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:E.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(d,g){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()-1)}}class v extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:E.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(d,g){N.EditorZoom.setZoomLevel(0)}}(0,w.registerEditorAction)(D),(0,w.registerEditorAction)(y),(0,w.registerEditorAction)(v)}),define(ee[309],te([1,0,50,17,20,13,54,58,18,21,98,161,11,3,22,107,61,261,605,25,680,8,19,62]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function p(A){if(A=A.filter(W=>W.range),!A.length)return;let{range:T}=A[0];for(let W=1;W<A.length;W++)T=n.Range.plusRange(T,A[W].range);const{startLineNumber:O,endLineNumber:F}=T;O===F?A.length===1?(0,w.alert)(s.localize(0,null,O)):(0,w.alert)(s.localize(1,null,A.length,O)):A.length===1?(0,w.alert)(s.localize(2,null,O,F)):(0,w.alert)(s.localize(3,null,A.length,O,F))}e.alertFormattingEdits=p;function m(A,T,O){const F=[],W=new Set,V=A.ordered(O);for(const $ of V)F.push($),$.extensionId&&W.add(o.ExtensionIdentifier.toKey($.extensionId));const R=T.ordered(O);for(const $ of R){if($.extensionId){if(W.has(o.ExtensionIdentifier.toKey($.extensionId)))continue;W.add(o.ExtensionIdentifier.toKey($.extensionId))}F.push({displayName:$.displayName,extensionId:$.extensionId,provideDocumentFormattingEdits(X,ne,ae){return $.provideDocumentRangeFormattingEdits(X,X.getFullModelRange(),ne,ae)}})}return F}e.getRealAndSyntheticDocumentFormattersOrdered=m;class b{static setFormatterSelector(T){return{dispose:b.c.unshift(T)}}static select(T,O,F){return Le(this,void 0,void 0,function*(){if(T.length===0)return;const W=y.Iterable.first(b.c);if(W)return yield W(T,O,F)})}}b.c=new v.LinkedList,e.FormattingConflicts=b;function L(A,T,O,F,W,V){return Le(this,void 0,void 0,function*(){const R=A.get(h.IInstantiationService),{documentRangeFormattingEditProvider:$}=A.get(f.ILanguageFeaturesService),X=(0,i.isCodeEditor)(T)?T.getModel():T,ne=$.ordered(X),ae=yield b.select(ne,X,F);ae&&(W.report(ae),yield R.invokeFunction(k,ae,T,O,V))})}e.formatDocumentRangesWithSelectedProvider=L;function k(A,T,O,F,W){return Le(this,void 0,void 0,function*(){const V=A.get(r.IEditorWorkerService),R=A.get(S.ILogService);let $,X;(0,i.isCodeEditor)(O)?($=O.getModel(),X=new g.EditorStateCancellationTokenSource(O,5,void 0,W)):($=O,X=new g.TextModelCancellationTokenSource(O,W));const ne=[];let ae=0;for(const q of(0,N.asArray)(F).sort(n.Range.compareRangesUsingStarts))ae>0&&n.Range.areIntersectingOrTouching(ne[ae-1],q)?ne[ae-1]=n.Range.fromPositions(ne[ae-1].getStartPosition(),q.getEndPosition()):ae=ne.push(q);const ie=q=>Le(this,void 0,void 0,function*(){var Y,Q;R.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Y=T.extensionId)===null||Y===void 0?void 0:Y.value,q);const re=(yield T.provideDocumentRangeFormattingEdits($,q,$.getFormattingOptions(),X.token))||[];return R.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Q=T.extensionId)===null||Q===void 0?void 0:Q.value,re),re}),le=(q,Y)=>{if(!q.length||!Y.length)return!1;const Q=q.reduce((re,oe)=>n.Range.plusRange(re,oe.range),q[0].range);if(!Y.some(re=>n.Range.intersectRanges(Q,re.range)))return!1;for(const re of q)for(const oe of Y)if(n.Range.intersectRanges(re.range,oe.range))return!0;return!1},J=[],x=[];try{for(const q of ne){if(X.token.isCancellationRequested)return!0;x.push(yield ie(q))}for(let q=0;q<ne.length;++q)for(let Y=q+1;Y<ne.length;++Y){if(X.token.isCancellationRequested)return!0;if(le(x[q],x[Y])){const Q=n.Range.plusRange(ne[q],ne[Y]),re=yield ie(Q);ne.splice(Y,1),ne.splice(q,1),ne.push(Q),x.splice(Y,1),x.splice(q,1),x.push(re),q=0,Y=0}}for(const q of x){if(X.token.isCancellationRequested)return!0;const Y=yield V.computeMoreMinimalEdits($.uri,q);Y&&J.push(...Y)}}finally{X.dispose()}if(J.length===0)return!1;if((0,i.isCodeEditor)(O))u.FormattingEdit.execute(O,J,!0),p(J),O.revealPositionInCenterIfOutsideViewport(O.getPosition(),1);else{const[{range:q}]=J,Y=new a.Selection(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn);$.pushEditOperations([Y],J.map(Q=>({text:Q.text,range:n.Range.lift(Q.range),forceMoveMarkers:!0})),Q=>{for(const{range:re}of Q)if(n.Range.areIntersectingOrTouching(re,Y))return[new a.Selection(re.startLineNumber,re.startColumn,re.endLineNumber,re.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=k;function I(A,T,O,F,W){return Le(this,void 0,void 0,function*(){const V=A.get(h.IInstantiationService),R=A.get(f.ILanguageFeaturesService),$=(0,i.isCodeEditor)(T)?T.getModel():T,X=m(R.documentFormattingEditProvider,R.documentRangeFormattingEditProvider,$),ne=yield b.select(X,$,O);ne&&(F.report(ne),yield V.invokeFunction(M,ne,T,O,W))})}e.formatDocumentWithSelectedProvider=I;function M(A,T,O,F,W){return Le(this,void 0,void 0,function*(){const V=A.get(r.IEditorWorkerService);let R,$;(0,i.isCodeEditor)(O)?(R=O.getModel(),$=new g.EditorStateCancellationTokenSource(O,5,void 0,W)):(R=O,$=new g.TextModelCancellationTokenSource(O,W));let X;try{const ne=yield T.provideDocumentFormattingEdits(R,R.getFormattingOptions(),$.token);if(X=yield V.computeMoreMinimalEdits(R.uri,ne),$.token.isCancellationRequested)return!0}finally{$.dispose()}if(!X||X.length===0)return!1;if((0,i.isCodeEditor)(O))u.FormattingEdit.execute(O,X,F!==2),F!==2&&(p(X),O.revealPositionInCenterIfOutsideViewport(O.getPosition(),1));else{const[{range:ne}]=X,ae=new a.Selection(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn);R.pushEditOperations([ae],X.map(ie=>({text:ie.text,range:n.Range.lift(ie.range),forceMoveMarkers:!0})),ie=>{for(const{range:le}of ie)if(n.Range.areIntersectingOrTouching(le,ae))return[new a.Selection(le.startLineNumber,le.startColumn,le.endLineNumber,le.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function B(A,T,O,F,W,V){return Le(this,void 0,void 0,function*(){const R=T.documentRangeFormattingEditProvider.ordered(O);for(const $ of R){const X=yield Promise.resolve($.provideDocumentRangeFormattingEdits(O,F,W,V)).catch(D.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(X))return yield A.computeMoreMinimalEdits(O.uri,X)}})}e.getDocumentRangeFormattingEditsUntilResult=B;function z(A,T,O,F,W){return Le(this,void 0,void 0,function*(){const V=m(T.documentFormattingEditProvider,T.documentRangeFormattingEditProvider,O);for(const R of V){const $=yield Promise.resolve(R.provideDocumentFormattingEdits(O,F,W)).catch(D.onUnexpectedExternalError);if((0,N.isNonEmptyArray)($))return yield A.computeMoreMinimalEdits(O.uri,$)}})}e.getDocumentFormattingEditsUntilResult=z;function P(A,T,O,F,W,V,R){const $=T.onTypeFormattingEditProvider.ordered(O);return $.length===0||$[0].autoFormatTriggerCharacters.indexOf(W)<0?Promise.resolve(void 0):Promise.resolve($[0].provideOnTypeFormattingEdits(O,F,W,V,R)).catch(D.onUnexpectedExternalError).then(X=>A.computeMoreMinimalEdits(O.uri,X))}e.getOnTypeFormattingEdits=P,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(A,...T){return Le(this,void 0,void 0,function*(){const[O,F,W]=T;(0,C.assertType)(d.URI.isUri(O)),(0,C.assertType)(n.Range.isIRange(F));const V=A.get(c.ITextModelService),R=A.get(r.IEditorWorkerService),$=A.get(f.ILanguageFeaturesService),X=yield V.createModelReference(O);try{return B(R,$,X.object.textEditorModel,n.Range.lift(F),W,E.CancellationToken.None)}finally{X.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(A,...T){return Le(this,void 0,void 0,function*(){const[O,F]=T;(0,C.assertType)(d.URI.isUri(O));const W=A.get(c.ITextModelService),V=A.get(r.IEditorWorkerService),R=A.get(f.ILanguageFeaturesService),$=yield W.createModelReference(O);try{return z(V,R,$.object.textEditorModel,F,E.CancellationToken.None)}finally{$.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(A,...T){return Le(this,void 0,void 0,function*(){const[O,F,W,V]=T;(0,C.assertType)(d.URI.isUri(O)),(0,C.assertType)(t.Position.isIPosition(F)),(0,C.assertType)(typeof W=="string");const R=A.get(c.ITextModelService),$=A.get(r.IEditorWorkerService),X=A.get(f.ILanguageFeaturesService),ne=yield R.createModelReference(O);try{return P($,X,ne.object.textEditorModel,t.Position.lift(F),W,V,E.CancellationToken.None)}finally{ne.dispose()}})})}),define(ee[741],te([1,0,17,20,13,57,2,14,28,113,3,23,107,19,309,261,606,25,15,8,69]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(b,L,k){this.c=b,this.d=L,this.f=k,this.a=new y.DisposableStore,this.b=new y.DisposableStore,this.a.add(L.onTypeFormattingEditProvider.onDidChange(this.g,this)),this.a.add(b.onDidChangeModel(()=>this.g())),this.a.add(b.onDidChangeModelLanguage(()=>this.g())),this.a.add(b.onDidChangeConfiguration(I=>{I.hasChanged(53)&&this.g()}))}dispose(){this.a.dispose(),this.b.dispose()}g(){if(this.b.clear(),!this.c.getOption(53)||!this.c.hasModel())return;const b=this.c.getModel(),[L]=this.d.onTypeFormattingEditProvider.ordered(b);if(!L||!L.autoFormatTriggerCharacters)return;const k=new d.CharacterSet;for(const I of L.autoFormatTriggerCharacters)k.add(I.charCodeAt(0));this.b.add(this.c.onDidType(I=>{const M=I.charCodeAt(I.length-1);k.has(M)&&this.h(String.fromCharCode(M))}))}h(b){if(!this.c.hasModel()||this.c.getSelections().length>1||!this.c.getSelection().isEmpty())return;const L=this.c.getModel(),k=this.c.getPosition(),I=new N.CancellationTokenSource,M=this.c.onDidChangeModelContent(B=>{if(B.isFlush){I.cancel(),M.dispose();return}for(let z=0,P=B.changes.length;z<P;z++)if(B.changes[z].range.endLineNumber<=k.lineNumber){I.cancel(),M.dispose();return}});(0,a.getOnTypeFormattingEdits)(this.f,this.d,L,k,b,L.getFormattingOptions(),I.token).then(B=>{I.token.isCancellationRequested||(0,w.isNonEmptyArray)(B)&&(r.FormattingEdit.execute(this.c,B,!0),(0,a.alertFormattingEdits)(B))}).finally(()=>{M.dispose()})}};h.ID="editor.contrib.autoFormat",h=De([fe(1,n.ILanguageFeaturesService),fe(2,t.IEditorWorkerService)],h);let f=class{constructor(b,L,k){this.c=b,this.d=L,this.f=k,this.a=new y.DisposableStore,this.b=new y.DisposableStore,this.a.add(b.onDidChangeConfiguration(()=>this.g())),this.a.add(b.onDidChangeModel(()=>this.g())),this.a.add(b.onDidChangeModelLanguage(()=>this.g())),this.a.add(L.documentRangeFormattingEditProvider.onDidChange(this.g,this))}dispose(){this.a.dispose(),this.b.dispose()}g(){this.b.clear(),this.c.getOption(52)&&(!this.c.hasModel()||!this.d.documentRangeFormattingEditProvider.has(this.c.getModel())||this.b.add(this.c.onDidPaste(({range:b})=>this.h(b))))}h(b){!this.c.hasModel()||this.c.getSelections().length>1||this.f.invokeFunction(a.formatDocumentRangesWithSelectedProvider,this.c,b,2,o.Progress.None,N.CancellationToken.None).catch(E.onUnexpectedError)}};f.ID="editor.contrib.formatOnPaste",f=De([fe(1,n.ILanguageFeaturesService),fe(2,l.IInstantiationService)],f);class S extends v.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(b,L){return Le(this,void 0,void 0,function*(){if(L.hasModel()){const k=b.get(l.IInstantiationService);yield b.get(o.IEditorProgressService).showWhile(k.invokeFunction(a.formatDocumentWithSelectedProvider,L,1,o.Progress.None,N.CancellationToken.None),250)}})}}class p extends v.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(b,L){return Le(this,void 0,void 0,function*(){if(!L.hasModel())return;const k=b.get(l.IInstantiationService),I=L.getModel(),M=L.getSelections().map(z=>z.isEmpty()?new g.Range(z.startLineNumber,1,z.startLineNumber,I.getLineMaxColumn(z.startLineNumber)):z);yield b.get(o.IEditorProgressService).showWhile(k.invokeFunction(a.formatDocumentRangesWithSelectedProvider,L,M,1,o.Progress.None,N.CancellationToken.None),250)})}}(0,v.registerEditorContribution)(h.ID,h,2),(0,v.registerEditorContribution)(f.ID,f,2),(0,v.registerEditorAction)(S),(0,v.registerEditorAction)(p),u.CommandsRegistry.registerCommand("editor.action.format",m=>Le(void 0,void 0,void 0,function*(){const b=m.get(C.ICodeEditorService).getFocusedCodeEditor();if(!b||!b.hasModel())return;const L=m.get(u.ICommandService);b.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}))}),define(ee[227],te([1,0,17,20,13,14,19,142]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function C(r,c,u,s){return Le(this,void 0,void 0,function*(){const o=u.ordered(r).map(f=>Promise.resolve(s(f,r,c)).then(void 0,S=>{(0,E.onUnexpectedExternalError)(S)})),h=yield Promise.all(o);return(0,w.coalesce)(h.flat())})}function d(r,c,u,s){return C(c,u,r,(l,o,h)=>l.provideDefinition(o,h,s))}e.getDefinitionsAtPosition=d;function g(r,c,u,s){return C(c,u,r,(l,o,h)=>l.provideDeclaration(o,h,s))}e.getDeclarationsAtPosition=g;function i(r,c,u,s){return C(c,u,r,(l,o,h)=>l.provideImplementation(o,h,s))}e.getImplementationsAtPosition=i;function t(r,c,u,s){return C(c,u,r,(l,o,h)=>l.provideTypeDefinition(o,h,s))}e.getTypeDefinitionsAtPosition=t;function n(r,c,u,s,l){return C(c,u,r,(o,h,f)=>Le(this,void 0,void 0,function*(){const S=yield o.provideReferences(h,f,{includeDeclaration:!0},l);if(!s||!S||S.length!==2)return S;const p=yield o.provideReferences(h,f,{includeDeclaration:!1},l);return p&&p.length===1?p:S}))}e.getReferencesAtPosition=n;function a(r){return Le(this,void 0,void 0,function*(){const c=yield r(),u=new v.ReferencesModel(c,""),s=u.references.map(l=>l.link);return u.dispose(),s})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,c,u)=>{const s=r.get(y.ILanguageFeaturesService),l=d(s.definitionProvider,c,u,N.CancellationToken.None);return a(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,c,u)=>{const s=r.get(y.ILanguageFeaturesService),l=t(s.typeDefinitionProvider,c,u,N.CancellationToken.None);return a(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,c,u)=>{const s=r.get(y.ILanguageFeaturesService),l=g(s.declarationProvider,c,u,N.CancellationToken.None);return a(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(r,c,u)=>{const s=r.get(y.ILanguageFeaturesService),l=n(s.referenceProvider,c,u,!1,N.CancellationToken.None);return a(()=>l)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(r,c,u)=>{const s=r.get(y.ILanguageFeaturesService),l=i(s.implementationProvider,c,u,N.CancellationToken.None);return a(()=>l)})}),define(ee[742],te([1,0,6,2,43,14,28,3,615,15,51,8,37,108,42]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new d.RawContextKey("hasSymbols",!1,(0,C.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let r=class{constructor(s,l,o,h){this.g=l,this.h=o,this.i=h,this.b=void 0,this.c=-1,this.f=!1,this.a=e.ctxHasSymbols.bindTo(s)}reset(){var s,l;this.a.reset(),(s=this.d)===null||s===void 0||s.dispose(),(l=this.e)===null||l===void 0||l.dispose(),this.b=void 0,this.c=-1}put(s){const l=s.parent.parent;if(l.references.length<=1){this.reset();return}this.b=l,this.c=l.references.indexOf(s),this.a.set(!0),this.j();const o=new c(this.g),h=o.onDidChange(f=>{if(this.f)return;const S=this.g.getActiveCodeEditor();if(!S)return;const p=S.getModel(),m=S.getPosition();if(!p||!m)return;let b=!1,L=!1;for(const k of l.references)if((0,E.isEqual)(k.uri,p.uri))b=!0,L=L||v.Range.containsPosition(k.range,m);else if(b)break;(!b||!L)&&this.reset()});this.d=(0,N.combinedDisposable)(o,h)}revealNext(s){if(!this.b)return Promise.resolve();this.c+=1,this.c%=this.b.references.length;const l=this.b.references[this.c];return this.j(),this.f=!0,this.g.openCodeEditor({resource:l.uri,options:{selection:v.Range.collapseToStart(l.range),selectionRevealType:3}},s).finally(()=>{this.f=!1})}j(){var s;(s=this.e)===null||s===void 0||s.dispose();const l=this.i.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=l?(0,C.localize)(1,null,this.c+1,this.b.references.length,l.getLabel()):(0,C.localize)(2,null,this.c+1,this.b.references.length);this.e=this.h.status(o)}};r=De([fe(0,d.IContextKeyService),fe(1,y.ICodeEditorService),fe(2,a.INotificationService),fe(3,t.IKeybindingService)],r),(0,g.registerSingleton)(e.ISymbolNavigationService,r,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(u,s){return u.get(e.ISymbolNavigationService).revealNext(s)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(u){u.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(s){this.a=new Map,this.b=new N.DisposableStore,this.c=new w.Emitter,this.onDidChange=this.c.event,this.b.add(s.onCodeEditorRemove(this.e,this)),this.b.add(s.onCodeEditorAdd(this.d,this)),s.listCodeEditors().forEach(this.d,this)}dispose(){this.b.dispose(),this.c.dispose(),(0,N.dispose)(this.a.values())}d(s){this.a.set(s,(0,N.combinedDisposable)(s.onDidChangeCursorPosition(l=>this.c.fire({editor:s})),s.onDidChangeModelContent(l=>this.c.fire({editor:s}))))}e(s){var l;(l=this.a.get(s))===null||l===void 0||l.dispose(),this.a.delete(s)}};c=De([fe(0,y.ICodeEditorService)],c)}),define(ee[310],te([1,0,12,20,13,14,19]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class v{constructor(n,a,r){this.provider=n,this.hover=a,this.ordinal=r}}e.HoverProviderResult=v;function C(t,n,a,r,c){return Le(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(t.provideHover(a,r,c));if(u&&i(u))return new v(t,u,n)}catch(u){(0,E.onUnexpectedExternalError)(u)}})}function d(t,n,a,r){const u=t.ordered(n).map((s,l)=>C(s,l,n,a,r));return w.AsyncIterableObject.fromPromises(u).coalesce()}e.getHover=d;function g(t,n,a,r){return d(t,n,a,r).map(c=>c.hover).toPromise()}e.getHoverPromise=g,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(t,n,a)=>{const r=t.get(y.ILanguageFeaturesService);return g(r.hoverProvider,n,a,N.CancellationToken.None)});function i(t){const n=typeof t.range<"u",a=typeof t.contents<"u"&&t.contents&&t.contents.length>0;return n&&a}}),define(ee[228],te([1,0,7,17,12,71,2,121,11,3,40,310,617,32,53,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=w.$;class u{constructor(h,f,S,p,m){this.owner=h,this.range=f,this.contents=S,this.isBeforeContent=p,this.ordinal=m}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.MarkdownHover=u;let s=class{constructor(h,f,S,p,m){this.c=h,this.e=f,this.f=S,this.g=p,this.h=m,this.hoverOrdinal=2}createLoadingMessage(h){return new u(this,h.range,[new D.MarkdownString().appendText(t.localize(0,null))],!1,2e3)}computeSync(h,f){if(!this.c.hasModel()||h.type!==1)return[];const S=this.c.getModel(),p=h.range.startLineNumber,m=S.getLineMaxColumn(p),b=[];let L=1e3;const k=S.getLineLength(p),I=S.getLanguageIdAtPosition(h.range.startLineNumber,h.range.startColumn),M=this.c.getOption(111),B=this.g.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let z=!1;M>=0&&k>M&&h.range.startColumn>=M&&(z=!0,b.push(new u(this,h.range,[{value:t.localize(1,null)}],!1,L++))),!z&&typeof B=="number"&&k>=B&&b.push(new u(this,h.range,[{value:t.localize(2,null)}],!1,L++));let P=!1;for(const A of f){const T=A.range.startLineNumber===p?A.range.startColumn:1,O=A.range.endLineNumber===p?A.range.endColumn:m,F=A.options.hoverMessage;if(!F||(0,D.isEmptyMarkdownString)(F))continue;A.options.beforeContentClassName&&(P=!0);const W=new d.Range(h.range.startLineNumber,T,h.range.startLineNumber,O);b.push(new u(this,W,(0,N.asArray)(F),P,L++))}return b}computeAsync(h,f,S){if(!this.c.hasModel()||h.type!==1)return E.AsyncIterableObject.EMPTY;const p=this.c.getModel();if(!this.h.hoverProvider.has(p))return E.AsyncIterableObject.EMPTY;const m=new C.Position(h.range.startLineNumber,h.range.startColumn);return(0,i.getHover)(this.h.hoverProvider,p,m,S).filter(b=>!(0,D.isEmptyMarkdownString)(b.hover.contents)).map(b=>{const L=b.hover.range?d.Range.lift(b.hover.range):h.range;return new u(this,L,b.hover.contents,!1,b.ordinal)})}renderHoverParts(h,f){return l(h,f,this.c,this.e,this.f)}};s=De([fe(1,g.ILanguageService),fe(2,a.IOpenerService),fe(3,n.IConfigurationService),fe(4,r.ILanguageFeaturesService)],s),e.MarkdownHoverParticipant=s;function l(o,h,f,S,p){h.sort((b,L)=>b.ordinal-L.ordinal);const m=new y.DisposableStore;for(const b of h)for(const L of b.contents){if((0,D.isEmptyMarkdownString)(L))continue;const k=c("div.hover-row.markdown-hover"),I=w.append(k,c("div.hover-contents")),M=m.add(new v.MarkdownRenderer({editor:f},S,p));m.add(M.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",o.onContentsChanged()}));const B=m.add(M.render(L));I.appendChild(B.element),o.fragment.appendChild(k)}return m}e.renderMarkdownHovers=l}),define(ee[743],te([1,0,2,9,14,225,64,3,22,23,34,52,262,620,83,185,223]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function u(z,P,A,T,O){if(z.getLineCount()===1&&z.getLineMaxColumn(1)===1)return[];const F=P.getLanguageConfiguration(z.getLanguageId()).indentationRules;if(!F)return[];for(T=Math.min(T,z.getLineCount());A<=T&&F.unIndentedLinePattern;){const x=z.getLineContent(A);if(!F.unIndentedLinePattern.test(x))break;A++}if(A>T-1)return[];const{tabSize:W,indentSize:V,insertSpaces:R}=z.getOptions(),$=(x,q)=>(q=q||1,D.ShiftCommand.shiftIndent(x,x.length+q,W,V,R)),X=(x,q)=>(q=q||1,D.ShiftCommand.unshiftIndent(x,x.length+q,W,V,R)),ne=[];let ae;const ie=z.getLineContent(A);let le=ie;if(O!=null){ae=O;const x=N.getLeadingWhitespace(ie);le=ae+ie.substring(x.length),F.decreaseIndentPattern&&F.decreaseIndentPattern.test(le)&&(ae=X(ae),le=ae+ie.substring(x.length)),ie!==le&&ne.push(y.EditOperation.replaceMove(new C.Selection(A,1,A,x.length+1),(0,r.normalizeIndentation)(ae,V,R)))}else ae=N.getLeadingWhitespace(ie);let J=ae;F.increaseIndentPattern&&F.increaseIndentPattern.test(le)?(J=$(J),ae=$(ae)):F.indentNextLinePattern&&F.indentNextLinePattern.test(le)&&(J=$(J)),A++;for(let x=A;x<=T;x++){const q=z.getLineContent(x),Y=N.getLeadingWhitespace(q),Q=J+q.substring(Y.length);F.decreaseIndentPattern&&F.decreaseIndentPattern.test(Q)&&(J=X(J),ae=X(ae)),Y!==J&&ne.push(y.EditOperation.replaceMove(new C.Selection(x,1,x,Y.length+1),(0,r.normalizeIndentation)(J,V,R))),!(F.unIndentedLinePattern&&F.unIndentedLinePattern.test(q))&&(F.increaseIndentPattern&&F.increaseIndentPattern.test(Q)?(ae=$(ae),J=ae):F.indentNextLinePattern&&F.indentNextLinePattern.test(Q)?J=$(J):J=ae)}return ne}e.getReindentEditOperations=u;class s extends E.EditorAction{constructor(){super({id:s.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:d.EditorContextKeys.writable})}run(P,A){const T=A.getModel();if(!T)return;const O=T.getOptions(),F=A.getSelection();if(!F)return;const W=new M(F,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[W]),A.pushUndoStop(),T.updateOptions({insertSpaces:!0})}}s.ID="editor.action.indentationToSpaces",e.IndentationToSpacesAction=s;class l extends E.EditorAction{constructor(){super({id:l.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:d.EditorContextKeys.writable})}run(P,A){const T=A.getModel();if(!T)return;const O=T.getOptions(),F=A.getSelection();if(!F)return;const W=new B(F,O.tabSize);A.pushUndoStop(),A.executeCommands(this.id,[W]),A.pushUndoStop(),T.updateOptions({insertSpaces:!1})}}l.ID="editor.action.indentationToTabs",e.IndentationToTabsAction=l;class o extends E.EditorAction{constructor(P,A,T){super(T),this.d=P,this.e=A}run(P,A){const T=P.get(a.IQuickInputService),O=P.get(i.IModelService),F=A.getModel();if(!F)return;const W=O.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget),V=F.getOptions(),R=[1,2,3,4,5,6,7,8].map(X=>({id:X.toString(),label:X.toString(),description:X===W.tabSize&&X===V.tabSize?n.localize(2,null):X===W.tabSize?n.localize(3,null):X===V.tabSize?n.localize(4,null):void 0})),$=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{T.pick(R,{placeHolder:n.localize(5,null),activeItem:R[$]}).then(X=>{if(X&&F&&!F.isDisposed()){const ne=parseInt(X.label,10);this.e?F.updateOptions({tabSize:ne}):F.updateOptions({tabSize:ne,indentSize:ne,insertSpaces:this.d})}})},50)}}e.ChangeIndentationSizeAction=o;class h extends o{constructor(){super(!1,!1,{id:h.ID,label:n.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}h.ID="editor.action.indentUsingTabs",e.IndentUsingTabs=h;class f extends o{constructor(){super(!0,!1,{id:f.ID,label:n.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}f.ID="editor.action.indentUsingSpaces",e.IndentUsingSpaces=f;class S extends o{constructor(){super(!0,!0,{id:S.ID,label:n.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}S.ID="editor.action.changeTabDisplaySize",e.ChangeTabDisplaySize=S;class p extends E.EditorAction{constructor(){super({id:p.ID,label:n.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(P,A){const T=P.get(i.IModelService),O=A.getModel();if(!O)return;const F=T.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget);O.detectIndentation(F.insertSpaces,F.tabSize)}}p.ID="editor.action.detectIndentation",e.DetectIndentation=p;class m extends E.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:n.localize(10,null),alias:"Reindent Lines",precondition:d.EditorContextKeys.writable})}run(P,A){const T=P.get(g.ILanguageConfigurationService),O=A.getModel();if(!O)return;const F=u(O,T,1,O.getLineCount());F.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,F),A.pushUndoStop())}}e.ReindentLinesAction=m;class b extends E.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:n.localize(11,null),alias:"Reindent Selected Lines",precondition:d.EditorContextKeys.writable})}run(P,A){const T=P.get(g.ILanguageConfigurationService),O=A.getModel();if(!O)return;const F=A.getSelections();if(F===null)return;const W=[];for(const V of F){let R=V.startLineNumber,$=V.endLineNumber;if(R!==$&&V.endColumn===1&&$--,R===1){if(R===$)continue}else R--;const X=u(O,T,R,$);W.push(...X)}W.length>0&&(A.pushUndoStop(),A.executeEdits(this.id,W),A.pushUndoStop())}}e.ReindentSelectedLinesAction=b;class L{constructor(P,A){this.b=A,this.a=[],this.c=null;for(const T of P)T.range&&typeof T.text=="string"&&this.a.push(T)}getEditOperations(P,A){for(const O of this.a)A.addEditOperation(v.Range.lift(O.range),O.text);let T=!1;Array.isArray(this.a)&&this.a.length===1&&this.b.isEmpty()&&(this.a[0].range.startColumn===this.b.endColumn&&this.a[0].range.startLineNumber===this.b.endLineNumber?(T=!0,this.c=A.trackSelection(this.b,!0)):this.a[0].range.endColumn===this.b.startColumn&&this.a[0].range.endLineNumber===this.b.startLineNumber&&(T=!0,this.c=A.trackSelection(this.b,!1))),T||(this.c=A.trackSelection(this.b))}computeCursorState(P,A){return A.getTrackedSelection(this.c)}}e.AutoIndentOnPasteCommand=L;let k=class{constructor(P,A){this.c=P,this.d=A,this.a=new w.DisposableStore,this.b=new w.DisposableStore,this.a.add(P.onDidChangeConfiguration(()=>this.e())),this.a.add(P.onDidChangeModel(()=>this.e())),this.a.add(P.onDidChangeModelLanguage(()=>this.e()))}e(){this.b.clear(),!(this.c.getOption(9)<4||this.c.getOption(52))&&(!this.c.hasModel()||this.b.add(this.c.onDidPaste(({range:P})=>{this.trigger(P)})))}trigger(P){const A=this.c.getSelections();if(A===null||A.length>1)return;const T=this.c.getModel();if(!T||!T.tokenization.isCheapToTokenize(P.getStartPosition().lineNumber))return;const O=this.c.getOption(9),{tabSize:F,indentSize:W,insertSpaces:V}=T.getOptions(),R=[],$={shiftIndent:ie=>D.ShiftCommand.shiftIndent(ie,ie.length+1,F,W,V),unshiftIndent:ie=>D.ShiftCommand.unshiftIndent(ie,ie.length+1,F,W,V)};let X=P.startLineNumber;for(;X<=P.endLineNumber;){if(this.f(T,X)){X++;continue}break}if(X>P.endLineNumber)return;let ne=T.getLineContent(X);if(!/\S/.test(ne.substring(0,P.startColumn-1))){const ie=(0,c.getGoodIndentForLine)(O,T,T.getLanguageId(),X,$,this.d);if(ie!==null){const le=N.getLeadingWhitespace(ne),J=t.getSpaceCnt(ie,F),x=t.getSpaceCnt(le,F);if(J!==x){const q=t.generateIndent(J,F,V);R.push({range:new v.Range(X,1,X,le.length+1),text:q}),ne=q+ne.substr(le.length)}else{const q=(0,c.getIndentMetadata)(T,X,this.d);if(q===0||q===8)return}}}const ae=X;for(;X<P.endLineNumber;){if(!/\S/.test(T.getLineContent(X+1))){X++;continue}break}if(X!==P.endLineNumber){const ie={tokenization:{getLineTokens:J=>T.tokenization.getLineTokens(J),getLanguageId:()=>T.getLanguageId(),getLanguageIdAtPosition:(J,x)=>T.getLanguageIdAtPosition(J,x)},getLineContent:J=>J===ae?ne:T.getLineContent(J)},le=(0,c.getGoodIndentForLine)(O,ie,T.getLanguageId(),X+1,$,this.d);if(le!==null){const J=t.getSpaceCnt(le,F),x=t.getSpaceCnt(N.getLeadingWhitespace(T.getLineContent(X+1)),F);if(J!==x){const q=J-x;for(let Y=X+1;Y<=P.endLineNumber;Y++){const Q=T.getLineContent(Y),re=N.getLeadingWhitespace(Q),G=t.getSpaceCnt(re,F)+q,Z=t.generateIndent(G,F,V);Z!==re&&R.push({range:new v.Range(Y,1,Y,re.length+1),text:Z})}}}}if(R.length>0){this.c.pushUndoStop();const ie=new L(R,this.c.getSelection());this.c.executeCommand("autoIndentOnPaste",ie),this.c.pushUndoStop()}}f(P,A){P.tokenization.forceTokenization(A);const T=P.getLineFirstNonWhitespaceColumn(A);if(T===0)return!0;const O=P.tokenization.getLineTokens(A);if(O.getCount()>0){const F=O.findTokenIndexAtOffset(T);if(F>=0&&O.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.a.dispose(),this.b.dispose()}};k.ID="editor.contrib.autoIndentOnPaste",k=De([fe(1,g.ILanguageConfigurationService)],k),e.AutoIndentOnPaste=k;function I(z,P,A,T){if(z.getLineCount()===1&&z.getLineMaxColumn(1)===1)return;let O="";for(let W=0;W<A;W++)O+=" ";const F=new RegExp(O,"gi");for(let W=1,V=z.getLineCount();W<=V;W++){let R=z.getLineFirstNonWhitespaceColumn(W);if(R===0&&(R=z.getLineMaxColumn(W)),R===1)continue;const $=new v.Range(W,1,W,R),X=z.getValueInRange($),ne=T?X.replace(/\t/ig,O):X.replace(F,"	");P.addEditOperation($,ne)}}class M{constructor(P,A){this.b=P,this.c=A,this.a=null}getEditOperations(P,A){this.a=A.trackSelection(this.b),I(P,A,this.c,!0)}computeCursorState(P,A){return A.getTrackedSelection(this.a)}}e.IndentationToSpacesCommand=M;class B{constructor(P,A){this.b=P,this.c=A,this.a=null}getEditOperations(P,A){this.a=A.trackSelection(this.b),I(P,A,this.c,!1)}computeCursorState(P,A){return A.getTrackedSelection(this.a)}}e.IndentationToTabsCommand=B,(0,E.registerEditorContribution)(k.ID,k,2),(0,E.registerEditorAction)(s),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(f),(0,E.registerEditorAction)(S),(0,E.registerEditorAction)(p),(0,E.registerEditorAction)(m),(0,E.registerEditorAction)(b)}),define(ee[744],te([1,0,14,188,23,625]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends w.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:E.EditorContextKeys.textInputFocus,primary:2090}})}run(C,d,g){if(g=g||{},!d.hasModel())return;const i=d._getViewModel();i.model.pushStackElement(),i.setCursorStates(g.source,3,N.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=y,(0,w.registerEditorAction)(y)}),define(ee[745],te([1,0,57,175,14,114,435,226,64,11,3,22,23,494,716,495,626,29,34]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class l extends E.EditorAction{constructor(Y,Q){super(Q),this.d=Y}run(Y,Q){if(!Q.hasModel())return;const re=Q.getSelections().map((Z,U)=>({selection:Z,index:U,ignore:!1}));re.sort((Z,U)=>g.Range.compareRangesUsingStarts(Z.selection,U.selection));let oe=re[0];for(let Z=1;Z<re.length;Z++){const U=re[Z];oe.selection.endLineNumber===U.selection.startLineNumber&&(oe.index<U.index?U.ignore=!0:(oe.ignore=!0,oe=U))}const G=[];for(const Z of re)G.push(new n.CopyLinesCommand(Z.selection,this.d,Z.ignore));Q.pushUndoStop(),Q.executeCommands(this.id,G),Q.pushUndoStop()}}class o extends l{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class h extends l{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class f extends E.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:t.EditorContextKeys.writable,menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(Y,Q,re){if(!Q.hasModel())return;const oe=[],G=Q.getSelections(),Z=Q.getModel();for(const U of G)if(U.isEmpty())oe.push(new n.CopyLinesCommand(U,!0));else{const j=new i.Selection(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn);oe.push(new D.ReplaceCommandThatSelectsText(j,Z.getValueInRange(U)))}Q.pushUndoStop(),Q.executeCommands(this.id,oe),Q.pushUndoStop()}}e.DuplicateSelectionAction=f;class S extends E.EditorAction{constructor(Y,Q){super(Q),this.d=Y}run(Y,Q){const re=Y.get(s.ILanguageConfigurationService),oe=[],G=Q.getSelections()||[],Z=Q.getOption(9);for(const U of G)oe.push(new a.MoveLinesCommand(U,this.d,Z,re));Q.pushUndoStop(),Q.executeCommands(this.id,oe),Q.pushUndoStop()}}class p extends S{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class m extends S{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class b extends E.EditorAction{constructor(Y,Q){super(Q),this.d=Y}run(Y,Q){const re=Q.getSelections()||[];for(const G of re)if(!r.SortLinesCommand.canRun(Q.getModel(),G,this.d))return;const oe=[];for(let G=0,Z=re.length;G<Z;G++)oe[G]=new r.SortLinesCommand(re[G],this.d);Q.pushUndoStop(),Q.executeCommands(this.id,oe),Q.pushUndoStop()}}e.AbstractSortLinesAction=b;class L extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:t.EditorContextKeys.writable})}}e.SortLinesAscendingAction=L;class k extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:t.EditorContextKeys.writable})}}e.SortLinesDescendingAction=k;class I extends E.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:t.EditorContextKeys.writable})}run(Y,Q){if(!Q.hasModel())return;const re=Q.getModel();if(re.getLineCount()===1&&re.getLineMaxColumn(1)===1)return;const oe=[],G=[];let Z=0;for(const U of Q.getSelections()){const j=new Set,H=[];for(let se=U.startLineNumber;se<=U.endLineNumber;se++){const he=re.getLineContent(se);j.has(he)||(H.push(he),j.add(he))}const _=new i.Selection(U.startLineNumber,1,U.endLineNumber,re.getLineMaxColumn(U.endLineNumber)),ce=U.startLineNumber-Z,ue=new i.Selection(ce,1,ce+H.length-1,H[H.length-1].length);oe.push(C.EditOperation.replace(_,H.join(`
`))),G.push(ue),Z+=U.endLineNumber-U.startLineNumber+1-H.length}Q.pushUndoStop(),Q.executeEdits(this.id,oe,G),Q.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class M extends E.EditorAction{constructor(){super({id:M.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2102),weight:100}})}run(Y,Q,re){let oe=[];re.reason==="auto-save"&&(oe=(Q.getSelections()||[]).map(U=>new d.Position(U.positionLineNumber,U.positionColumn)));const G=Q.getSelection();if(G===null)return;const Z=new y.TrimTrailingWhitespaceCommand(G,oe);Q.pushUndoStop(),Q.executeCommands(this.id,[Z]),Q.pushUndoStop()}}M.ID="editor.action.trimTrailingWhitespace",e.TrimTrailingWhitespaceAction=M;class B extends E.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(Y,Q){if(!Q.hasModel())return;const re=this.d(Q),oe=Q.getModel();if(oe.getLineCount()===1&&oe.getLineMaxColumn(1)===1)return;let G=0;const Z=[],U=[];for(let j=0,H=re.length;j<H;j++){const _=re[j];let ce=_.startLineNumber,ue=_.endLineNumber,se=1,he=oe.getLineMaxColumn(ue);ue<oe.getLineCount()?(ue+=1,he=1):ce>1&&(ce-=1,se=oe.getLineMaxColumn(ce)),Z.push(C.EditOperation.replace(new i.Selection(ce,se,ue,he),"")),U.push(new i.Selection(ce-G,_.positionColumn,ce-G,_.positionColumn)),G+=_.endLineNumber-_.startLineNumber+1}Q.pushUndoStop(),Q.executeEdits(this.id,Z,U),Q.pushUndoStop()}d(Y){const Q=Y.getSelections().map(G=>{let Z=G.endLineNumber;return G.startLineNumber<G.endLineNumber&&G.endColumn===1&&(Z-=1),{startLineNumber:G.startLineNumber,selectionStartColumn:G.selectionStartColumn,endLineNumber:Z,positionColumn:G.positionColumn}});Q.sort((G,Z)=>G.startLineNumber===Z.startLineNumber?G.endLineNumber-Z.endLineNumber:G.startLineNumber-Z.startLineNumber);const re=[];let oe=Q[0];for(let G=1;G<Q.length;G++)oe.endLineNumber+1>=Q[G].startLineNumber?oe.endLineNumber=Q[G].endLineNumber:(re.push(oe),oe=Q[G]);return re.push(oe),re}}e.DeleteLinesAction=B;class z extends E.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2137,weight:100}})}run(Y,Q){const re=Q._getViewModel();!re||(Q.pushUndoStop(),Q.executeCommands(this.id,v.TypeOperations.indent(re.cursorConfig,Q.getModel(),Q.getSelections())),Q.pushUndoStop())}}e.IndentLinesAction=z;class P extends E.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2135,weight:100}})}run(Y,Q){N.CoreEditingCommands.Outdent.runEditorCommand(Y,Q,null)}}class A extends E.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(Y,Q){const re=Q._getViewModel();!re||(Q.pushUndoStop(),Q.executeCommands(this.id,v.TypeOperations.lineInsertBefore(re.cursorConfig,Q.getModel(),Q.getSelections())))}}e.InsertLineBeforeAction=A;class T extends E.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(Y,Q){const re=Q._getViewModel();!re||(Q.pushUndoStop(),Q.executeCommands(this.id,v.TypeOperations.lineInsertAfter(re.cursorConfig,Q.getModel(),Q.getSelections())))}}e.InsertLineAfterAction=T;class O extends E.EditorAction{run(Y,Q){if(!Q.hasModel())return;const re=Q.getSelection(),oe=this.e(Q),G=[];for(let j=0,H=oe.length-1;j<H;j++){const _=oe[j],ce=oe[j+1];g.Range.intersectRanges(_,ce)===null?G.push(_):oe[j+1]=g.Range.plusRange(_,ce)}G.push(oe[oe.length-1]);const Z=this.d(re,G),U=G.map(j=>C.EditOperation.replace(j,""));Q.pushUndoStop(),Q.executeEdits(this.id,U,Z),Q.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=O;class F extends O{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}d(Y,Q){let re=null;const oe=[];let G=0;return Q.forEach(Z=>{let U;if(Z.endColumn===1&&G>0){const j=Z.startLineNumber-G;U=new i.Selection(j,Z.startColumn,j,Z.startColumn)}else U=new i.Selection(Z.startLineNumber,Z.startColumn,Z.startLineNumber,Z.startColumn);G+=Z.endLineNumber-Z.startLineNumber,Z.intersectRanges(Y)?re=U:oe.push(U)}),re&&oe.unshift(re),oe}e(Y){const Q=Y.getSelections();if(Q===null)return[];let re=Q;const oe=Y.getModel();return oe===null?[]:(re.sort(g.Range.compareRangesUsingStarts),re=re.map(G=>{if(G.isEmpty())if(G.startColumn===1){const Z=Math.max(1,G.startLineNumber-1),U=G.startLineNumber===1?1:oe.getLineContent(Z).length+1;return new g.Range(Z,U,G.startLineNumber,1)}else return new g.Range(G.startLineNumber,1,G.startLineNumber,G.startColumn);else return new g.Range(G.startLineNumber,1,G.endLineNumber,G.endColumn)}),re)}}e.DeleteAllLeftAction=F;class W extends O{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}d(Y,Q){let re=null;const oe=[];for(let G=0,Z=Q.length,U=0;G<Z;G++){const j=Q[G],H=new i.Selection(j.startLineNumber-U,j.startColumn,j.startLineNumber-U,j.startColumn);j.intersectRanges(Y)?re=H:oe.push(H)}return re&&oe.unshift(re),oe}e(Y){const Q=Y.getModel();if(Q===null)return[];const re=Y.getSelections();if(re===null)return[];const oe=re.map(G=>{if(G.isEmpty()){const Z=Q.getLineMaxColumn(G.startLineNumber);return G.startColumn===Z?new g.Range(G.startLineNumber,G.startColumn,G.startLineNumber+1,1):new g.Range(G.startLineNumber,G.startColumn,G.startLineNumber,Z)}return G});return oe.sort(g.Range.compareRangesUsingStarts),oe}}e.DeleteAllRightAction=W;class V extends E.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Y,Q){const re=Q.getSelections();if(re===null)return;let oe=Q.getSelection();if(oe===null)return;re.sort(g.Range.compareRangesUsingStarts);const G=[],Z=re.reduce((ue,se)=>ue.isEmpty()?ue.endLineNumber===se.startLineNumber?(oe.equalsSelection(ue)&&(oe=se),se):se.startLineNumber>ue.endLineNumber+1?(G.push(ue),se):new i.Selection(ue.startLineNumber,ue.startColumn,se.endLineNumber,se.endColumn):se.startLineNumber>ue.endLineNumber?(G.push(ue),se):new i.Selection(ue.startLineNumber,ue.startColumn,se.endLineNumber,se.endColumn));G.push(Z);const U=Q.getModel();if(U===null)return;const j=[],H=[];let _=oe,ce=0;for(let ue=0,se=G.length;ue<se;ue++){const he=G[ue],me=he.startLineNumber,Se=1;let ye=0,ke,Te;const Pe=U.getLineContent(he.endLineNumber).length-he.endColumn;if(he.isEmpty()||he.startLineNumber===he.endLineNumber){const ge=he.getStartPosition();ge.lineNumber<U.getLineCount()?(ke=me+1,Te=U.getLineMaxColumn(ke)):(ke=ge.lineNumber,Te=U.getLineMaxColumn(ge.lineNumber))}else ke=he.endLineNumber,Te=U.getLineMaxColumn(ke);let Ie=U.getLineContent(me);for(let ge=me+1;ge<=ke;ge++){const we=U.getLineContent(ge),de=U.getLineFirstNonWhitespaceColumn(ge);if(de>=1){let pe=!0;Ie===""&&(pe=!1),pe&&(Ie.charAt(Ie.length-1)===" "||Ie.charAt(Ie.length-1)==="	")&&(pe=!1,Ie=Ie.replace(/[\s\uFEFF\xA0]+$/g," "));const be=we.substr(de-1);Ie+=(pe?" ":"")+be,pe?ye=be.length+1:ye=be.length}else ye=0}const ve=new g.Range(me,Se,ke,Te);if(!ve.isEmpty()){let ge;he.isEmpty()?(j.push(C.EditOperation.replace(ve,Ie)),ge=new i.Selection(ve.startLineNumber-ce,Ie.length-ye+1,me-ce,Ie.length-ye+1)):he.startLineNumber===he.endLineNumber?(j.push(C.EditOperation.replace(ve,Ie)),ge=new i.Selection(he.startLineNumber-ce,he.startColumn,he.endLineNumber-ce,he.endColumn)):(j.push(C.EditOperation.replace(ve,Ie)),ge=new i.Selection(he.startLineNumber-ce,he.startColumn,he.startLineNumber-ce,Ie.length-Pe)),g.Range.intersectRanges(ve,oe)!==null?_=ge:H.push(ge)}ce+=ve.endLineNumber-ve.startLineNumber}H.unshift(_),Q.pushUndoStop(),Q.executeEdits(this.id,j,H),Q.pushUndoStop()}}e.JoinLinesAction=V;class R extends E.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose characters around the cursor",precondition:t.EditorContextKeys.writable})}run(Y,Q){const re=Q.getSelections();if(re===null)return;const oe=Q.getModel();if(oe===null)return;const G=[];for(let Z=0,U=re.length;Z<U;Z++){const j=re[Z];if(!j.isEmpty())continue;const H=j.getStartPosition(),_=oe.getLineMaxColumn(H.lineNumber);if(H.column>=_){if(H.lineNumber===oe.getLineCount())continue;const ce=new g.Range(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),ue=oe.getValueInRange(ce).split("").reverse().join("");G.push(new D.ReplaceCommand(new i.Selection(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),ue))}else{const ce=new g.Range(H.lineNumber,Math.max(1,H.column-1),H.lineNumber,H.column+1),ue=oe.getValueInRange(ce).split("").reverse().join("");G.push(new D.ReplaceCommandThatPreservesSelection(ce,ue,new i.Selection(H.lineNumber,H.column+1,H.lineNumber,H.column+1)))}}Q.pushUndoStop(),Q.executeCommands(this.id,G),Q.pushUndoStop()}}e.TransposeAction=R;class $ extends E.EditorAction{run(Y,Q){const re=Q.getSelections();if(re===null)return;const oe=Q.getModel();if(oe===null)return;const G=Q.getOption(124),Z=[];for(const U of re)if(U.isEmpty()){const j=U.getStartPosition(),H=Q.getConfiguredWordAtPosition(j);if(!H)continue;const _=new g.Range(j.lineNumber,H.startColumn,j.lineNumber,H.endColumn),ce=oe.getValueInRange(_);Z.push(C.EditOperation.replace(_,this.d(ce,G)))}else{const j=oe.getValueInRange(U);Z.push(C.EditOperation.replace(U,this.d(j,G)))}Q.pushUndoStop(),Q.executeEdits(this.id,Z),Q.pushUndoStop()}}e.AbstractCaseAction=$;class X extends ${constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:t.EditorContextKeys.writable})}d(Y,Q){return Y.toLocaleUpperCase()}}e.UpperCaseAction=X;class ne extends ${constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:t.EditorContextKeys.writable})}d(Y,Q){return Y.toLocaleLowerCase()}}e.LowerCaseAction=ne;class ae{constructor(Y,Q){this.e=Y,this.f=Q,this.c=null,this.d=!1}get(){if(!this.d){this.d=!0;try{this.c=new RegExp(this.e,this.f)}catch{}}return this.c}isSupported(){return this.get()!==null}}class ie extends ${constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:t.EditorContextKeys.writable})}d(Y,Q){const re=ie.titleBoundary.get();return re?Y.toLocaleLowerCase().replace(re,oe=>oe.toLocaleUpperCase()):Y}}ie.titleBoundary=new ae("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu"),e.TitleCaseAction=ie;class le extends ${constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:t.EditorContextKeys.writable})}d(Y,Q){const re=le.caseBoundary.get(),oe=le.singleLetters.get();return!re||!oe?Y:Y.replace(re,"$1_$2").replace(oe,"$1_$2$3").toLocaleLowerCase()}}le.caseBoundary=new ae("(\\p{Ll})(\\p{Lu})","gmu"),le.singleLetters=new ae("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),e.SnakeCaseAction=le;class J extends ${constructor(){super({id:"editor.action.transformToCamelcase",label:c.localize(27,null),alias:"Transform to Camel Case",precondition:t.EditorContextKeys.writable})}d(Y,Q){const re=J.wordBoundary.get();if(!re)return Y;const oe=Y.split(re);return oe.shift()+oe.map(Z=>Z.substring(0,1).toLocaleUpperCase()+Z.substring(1)).join("")}}J.wordBoundary=new ae("[_\\s-]","gm"),e.CamelCaseAction=J;class x extends ${static isSupported(){return[this.e,this.h,this.j].every(Q=>Q.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:c.localize(28,null),alias:"Transform to Kebab Case",precondition:t.EditorContextKeys.writable})}d(Y,Q){const re=x.e.get(),oe=x.h.get(),G=x.j.get();return!re||!oe||!G?Y:Y.replace(G,"$1-$3").replace(re,"$1-$2").replace(oe,"$1-$2").toLocaleLowerCase()}}x.e=new ae("(\\p{Ll})(\\p{Lu})","gmu"),x.h=new ae("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),x.j=new ae("(\\S)(_)(\\S)","gm"),e.KebabCaseAction=x,(0,E.registerEditorAction)(o),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(f),(0,E.registerEditorAction)(p),(0,E.registerEditorAction)(m),(0,E.registerEditorAction)(L),(0,E.registerEditorAction)(k),(0,E.registerEditorAction)(I),(0,E.registerEditorAction)(M),(0,E.registerEditorAction)(B),(0,E.registerEditorAction)(z),(0,E.registerEditorAction)(P),(0,E.registerEditorAction)(A),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(F),(0,E.registerEditorAction)(W),(0,E.registerEditorAction)(V),(0,E.registerEditorAction)(R),(0,E.registerEditorAction)(X),(0,E.registerEditorAction)(ne),le.caseBoundary.isSupported()&&le.singleLetters.isSupported()&&(0,E.registerEditorAction)(le),J.wordBoundary.isSupported()&&(0,E.registerEditorAction)(J),ie.titleBoundary.isSupported()&&(0,E.registerEditorAction)(ie),x.isSupported()&&(0,E.registerEditorAction)(x)}),define(ee[746],te([1,0,2,14]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends w.Disposable{constructor(y){super(),this.a=y,this.q(this.a.onMouseDown(v=>{const C=this.a.getOption(111);C>=0&&v.target.type===6&&v.target.position.column>=C&&this.a.updateOptions({stopRenderingLineAfter:-1})}))}}E.ID="editor.contrib.longLinesHelper",(0,N.registerEditorContribution)(E.ID,E,2)}),define(ee[146],te([1,0,50,12,2,14,3,629,15,409]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let d=class li{static get(n){return n.getContribution(li.ID)}constructor(n,a){this.d=new E.MutableDisposable,this.f=new E.DisposableStore,this.a=n,this.b=li.MESSAGE_VISIBLE.bindTo(a)}dispose(){this.f.dispose(),this.d.dispose(),this.b.reset()}showMessage(n,a){(0,w.alert)(n),this.b.set(!0),this.d.clear(),this.f.clear(),this.d.value=new i(this.a,a,n),this.f.add(this.a.onDidBlurEditorText(()=>this.closeMessage())),this.f.add(this.a.onDidChangeCursorPosition(()=>this.closeMessage())),this.f.add(this.a.onDidDispose(()=>this.closeMessage())),this.f.add(this.a.onDidChangeModel(()=>this.closeMessage())),this.f.add(new N.TimeoutTimer(()=>this.closeMessage(),3e3));let r;this.f.add(this.a.onMouseMove(c=>{!c.target.position||(r?r.containsPosition(c.target.position)||this.closeMessage():r=new y.Range(a.lineNumber-3,1,c.target.position.lineNumber+3,1))}))}closeMessage(){this.b.reset(),this.f.clear(),this.d.value&&this.f.add(i.fadeOut(this.d.value))}};d.ID="editor.contrib.messageController",d.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,v.localize(0,null)),d=De([fe(1,C.IContextKeyService)],d),e.MessageController=d;const g=D.EditorCommand.bindToContribution(d.get);(0,D.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:d.MESSAGE_VISIBLE,handler:t=>t.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{static fadeOut(n){const a=()=>{n.dispose(),clearTimeout(r),n.getDomNode().removeEventListener("animationend",a)},r=setTimeout(a,110);return n.getDomNode().addEventListener("animationend",a),n.getDomNode().classList.add("fadeOut"),{dispose:a}}constructor(n,{lineNumber:a,column:r},c){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.a=n,this.a.revealLinesInCenterIfOutsideViewport(a,a,0),this.b={lineNumber:a,column:r},this.d=document.createElement("div"),this.d.classList.add("monaco-editor-overlaymessage"),this.d.style.marginLeft="-6px";const u=document.createElement("div");u.classList.add("anchor","top"),this.d.appendChild(u);const s=document.createElement("div");s.classList.add("message"),s.textContent=c,this.d.appendChild(s);const l=document.createElement("div");l.classList.add("anchor","below"),this.d.appendChild(l),this.a.addContentWidget(this),this.d.classList.add("fadeIn")}dispose(){this.a.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this.d}getPosition(){return{position:this.b,preference:[1,2],positionAffinity:1}}afterRender(n){this.d.classList.toggle("below",n===2)}}(0,D.registerEditorContribution)(d.ID,d,4)}),define(ee[747],te([1,0,2,14,146,636]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class y extends w.Disposable{constructor(C){super(),this.a=C,this.q(this.a.onDidAttemptReadOnlyEdit(()=>this.b()))}b(){const C=E.MessageController.get(this.a);C&&this.a.hasModel()&&(this.a.isSimpleWidget?C.showMessage(D.localize(0,null),this.a.getPosition()):C.showMessage(D.localize(1,null),this.a.getPosition()))}}y.ID="editor.contrib.readOnlyMessageController",e.ReadOnlyMessageController=y,(0,N.registerEditorContribution)(y.ID,y,2)}),define(ee[748],te([1,0,17,20,13,14,11,3,22,23,263,496,639,29,25,19,61,18,21]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class l{constructor(b,L){this.index=b,this.ranges=L}mov(b){const L=this.index+(b?1:-1);if(L<0||L>=this.ranges.length)return this;const k=new l(L,this.ranges);return k.ranges[L].equalsRange(this.ranges[this.index])?k.mov(b):k}}let o=class Wi{static get(b){return b.getContribution(Wi.ID)}constructor(b,L){this.f=b,this.g=L,this.e=!1}dispose(){var b;(b=this.d)===null||b===void 0||b.dispose()}run(b){return Le(this,void 0,void 0,function*(){if(!this.f.hasModel())return;const L=this.f.getSelections(),k=this.f.getModel();if(this.c||(yield p(this.g.selectionRangeProvider,k,L.map(M=>M.getPosition()),this.f.getOption(107),N.CancellationToken.None).then(M=>{var B;if(!(!w.isNonEmptyArray(M)||M.length!==L.length)&&!(!this.f.hasModel()||!w.equals(this.f.getSelections(),L,(z,P)=>z.equalsSelection(P)))){for(let z=0;z<M.length;z++)M[z]=M[z].filter(P=>P.containsPosition(L[z].getStartPosition())&&P.containsPosition(L[z].getEndPosition())),M[z].unshift(L[z]);this.c=M.map(z=>new l(0,z)),(B=this.d)===null||B===void 0||B.dispose(),this.d=this.f.onDidChangeCursorPosition(()=>{var z;this.e||((z=this.d)===null||z===void 0||z.dispose(),this.c=void 0)})}})),!this.c)return;this.c=this.c.map(M=>M.mov(b));const I=this.c.map(M=>C.Selection.fromPositions(M.ranges[M.index].getStartPosition(),M.ranges[M.index].getEndPosition()));this.e=!0;try{this.f.setSelections(I)}finally{this.e=!1}})}};o.ID="editor.contrib.smartSelectController",o=De([fe(1,r.ILanguageFeaturesService)],o);class h extends D.EditorAction{constructor(b,L){super(L),this.d=b}run(b,L){return Le(this,void 0,void 0,function*(){const k=o.get(L);k&&(yield k.run(this.d))})}}class f extends h{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:t.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:t.localize(1,null),order:2}})}}a.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class S extends h{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:t.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"1_basic",title:t.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(o.ID,o,4),(0,D.registerEditorAction)(f),(0,D.registerEditorAction)(S);function p(m,b,L,k,I){return Le(this,void 0,void 0,function*(){const M=m.all(b).concat(new i.WordSelectionRangeProvider);M.length===1&&M.unshift(new g.BracketSelectionRangeProvider);const B=[],z=[];for(const P of M)B.push(Promise.resolve(P.provideSelectionRanges(b,L,I)).then(A=>{if(w.isNonEmptyArray(A)&&A.length===L.length)for(let T=0;T<L.length;T++){z[T]||(z[T]=[]);for(const O of A[T])v.Range.isIRange(O.range)&&v.Range.containsPosition(O.range,L[T])&&z[T].push(v.Range.lift(O.range))}},E.onUnexpectedExternalError));return yield Promise.all(B),z.map(P=>{if(P.length===0)return[];P.sort((F,W)=>y.Position.isBefore(F.getStartPosition(),W.getStartPosition())?1:y.Position.isBefore(W.getStartPosition(),F.getStartPosition())||y.Position.isBefore(F.getEndPosition(),W.getEndPosition())?-1:y.Position.isBefore(W.getEndPosition(),F.getEndPosition())?1:0);const A=[];let T;for(const F of P)(!T||v.Range.containsRange(F,T)&&!v.Range.equalsRange(F,T))&&(A.push(F),T=F);if(!k.selectLeadingAndTrailingWhitespace)return A;const O=[A[0]];for(let F=1;F<A.length;F++){const W=A[F-1],V=A[F];if(V.startLineNumber!==W.startLineNumber||V.endLineNumber!==W.endLineNumber){const R=new v.Range(W.startLineNumber,b.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,b.getLineLastNonWhitespaceColumn(W.endLineNumber));R.containsRange(W)&&!R.equalsRange(W)&&V.containsRange(R)&&!V.equalsRange(R)&&O.push(R);const $=new v.Range(W.startLineNumber,1,W.endLineNumber,b.getLineMaxColumn(W.endLineNumber));$.containsRange(W)&&!$.equalsRange(R)&&V.containsRange($)&&!V.equalsRange($)&&O.push($)}O.push(V)}return O})})}e.provideSelectionRanges=p,a.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(m,...b){return Le(this,void 0,void 0,function*(){const[L,k]=b;(0,u.assertType)(s.URI.isUri(L));const I=m.get(r.ILanguageFeaturesService).selectionRangeProvider,M=yield m.get(c.ITextModelService).createModelReference(L);try{return p(I,M.object.textEditorModel,k,{selectLeadingAndTrailingWhitespace:!0},N.CancellationToken.None)}finally{M.dispose()}})})}),define(ee[749],te([1,0,20,63,54,2,14,28,3,19,165,264,122,308,265,97,8]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class u{constructor(f,S,p,m,b,L){this.range=f,this.insertText=S,this.filterText=p,this.additionalTextEdits=m,this.command=b,this.completion=L}}let s=class extends D.RefCountedDisposable{constructor(f,S,p,m,b,L){super(b.disposable),this.model=f,this.line=S,this.word=p,this.completionModel=m,this.c=L}canBeReused(f,S,p){return this.model===f&&this.line===S&&this.word.word.length>0&&this.word.startColumn===p.startColumn&&this.word.endColumn<p.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var f;const S=[],{items:p}=this.completionModel,m=this.c.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},p),b=E.Iterable.slice(p,m),L=E.Iterable.slice(p,0,m);let k=5;for(const I of E.Iterable.concat(b,L)){if(I.score===N.FuzzyScore.Default)continue;const M=new C.Range(I.editStart.lineNumber,I.editStart.column,I.editInsertEnd.lineNumber,I.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),B=I.completion.insertTextRules&&I.completion.insertTextRules&g.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:I.completion.insertText}:I.completion.insertText;S.push(new u(M,B,(f=I.filterTextLow)!==null&&f!==void 0?f:I.labelLow,I.completion.additionalTextEdits,I.completion.command,I)),k-->=0&&I.resolve(w.CancellationToken.None)}return S}};s=De([fe(5,n.ISuggestMemoryService)],s);let l=class{constructor(f,S,p,m){this.b=f,this.c=S,this.d=p,this.e=m}provideInlineCompletions(f,S,p,m){var b;return Le(this,void 0,void 0,function*(){if(p.selectedSuggestionInfo)return;const L=this.b(84,f);if(t.QuickSuggestionsOptions.isAllOff(L))return;f.tokenization.tokenizeIfCheap(S.lineNumber);const k=f.tokenization.getLineTokens(S.lineNumber),I=k.getStandardTokenType(k.findTokenIndexAtOffset(Math.max(S.column-1-1,0)));if(t.QuickSuggestionsOptions.valueFor(L,I)!=="inline")return;let M=f.getWordAtPosition(S),B;if(M?.word||(B=this.f(f,S)),!M?.word&&!B||(M||(M=f.getWordUntilPosition(S)),M.endColumn!==S.column))return;let z;const P=f.getValueInRange(new C.Range(S.lineNumber,1,S.lineNumber,S.column));if(!B&&((b=this.a)===null||b===void 0?void 0:b.canBeReused(f,S.lineNumber,M))){const A=new i.LineContext(P,S.column-this.a.word.endColumn);this.a.completionModel.lineContext=A,this.a.acquire(),z=this.a}else{const A=yield(0,t.provideSuggestionItems)(this.c.completionProvider,f,S,new t.CompletionOptions(void 0,void 0,B?.providers),B&&{triggerKind:1,triggerCharacter:B.ch},m);let T;A.needsClipboard&&(T=yield this.d.readText());const O=new i.CompletionModel(A.items,S.column,new i.LineContext(P,0),a.WordDistance.None,this.b(112,f),this.b(106,f),{boostFullMatch:!1,firstMatchCanBeWeak:!1},T);z=new s(f,S.lineNumber,M,O,A,this.e)}return this.a=z,z})}handleItemDidShow(f,S){S.completion.resolve(w.CancellationToken.None)}freeInlineCompletions(f){f.release()}f(f,S){var p;const m=f.getValueInRange(C.Range.fromPositions({lineNumber:S.lineNumber,column:S.column-1},S)),b=new Set;for(const L of this.c.completionProvider.all(f))!((p=L.triggerCharacters)===null||p===void 0)&&p.includes(m)&&b.add(L);if(b.size!==0)return{providers:b,ch:m}}};l=De([fe(1,d.ILanguageFeaturesService),fe(2,r.IClipboardService),fe(3,n.ISuggestMemoryService)],l),e.SuggestInlineCompletions=l;let o=class Mt{constructor(f,S,p,m){if(++Mt.a===1){const b=m.createInstance(l,(L,k)=>{var I;return((I=p.listCodeEditors().find(B=>B.getModel()===k))!==null&&I!==void 0?I:f).getOption(L)});Mt.b=S.inlineCompletionsProvider.register("*",b)}}dispose(){var f;--Mt.a===0&&((f=Mt.b)===null||f===void 0||f.dispose(),Mt.b=void 0)}};o.a=0,o=De([fe(1,d.ILanguageFeaturesService),fe(2,v.ICodeEditorService),fe(3,c.IInstantiationService)],o),(0,y.registerEditorContribution)("suggest.inlineCompletionsProvider",o,0)}),define(ee[750],te([1,0,12,20,13,6,2,9,22,107,265,97,32,15,62,77,264,122,19,63,18]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class h{static shouldAutoTrigger(L){if(!L.hasModel())return!1;const k=L.getModel(),I=L.getPosition();k.tokenization.tokenizeIfCheap(I.lineNumber);const M=k.getWordAtPosition(I);return!(!M||M.endColumn!==I.column||!isNaN(Number(M.word)))}constructor(L,k,I){this.leadingLineContent=L.getLineContent(k.lineNumber).substr(0,k.column-1),this.leadingWord=L.getWordUntilPosition(k),this.lineNumber=k.lineNumber,this.column=k.column,this.triggerOptions=I}}e.LineContext=h;function f(b){return b.getOption(112).preview}function S(b,L,k){var I,M;if(!Boolean(L.getContextKeyValue("inlineSuggestionVisible")))return!0;const B=k.getValue("editor.inlineSuggest.allowQuickSuggestions",{overrideIdentifier:(I=b.getModel())===null||I===void 0?void 0:I.getLanguageId(),resource:(M=b.getModel())===null||M===void 0?void 0:M.uri});return B!==void 0?Boolean(B):!1}function p(b,L,k){var I,M;if(!Boolean(L.getContextKeyValue("inlineSuggestionVisible")))return!0;const B=k.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters",{overrideIdentifier:(I=b.getModel())===null||I===void 0?void 0:I.getLanguageId(),resource:(M=b.getModel())===null||M===void 0?void 0:M.uri});return B!==void 0?Boolean(B):!1}let m=class xi{constructor(L,k,I,M,B,z,P,A){this.n=L,this.o=k,this.p=I,this.q=M,this.r=B,this.s=z,this.t=P,this.u=A,this.a=new y.DisposableStore,this.b=new y.DisposableStore,this.c=new w.TimeoutTimer,this.d=void 0,this.j=new y.DisposableStore,this.k=new D.Emitter,this.l=new D.Emitter,this.m=new D.Emitter,this.onDidCancel=this.k.event,this.onDidTrigger=this.l.event,this.onDidSuggest=this.m.event,this.B=0,this.h=this.n.getSelection()||new C.Selection(1,1,1,1),this.a.add(this.n.onDidChangeModel(()=>{this.v(),this.cancel()})),this.a.add(this.n.onDidChangeModelLanguage(()=>{this.v(),this.cancel()})),this.a.add(this.n.onDidChangeConfiguration(()=>{this.v()})),this.a.add(this.u.completionProvider.onDidChange(()=>{this.v(),this.w()}));let T=!1;this.a.add(this.n.onDidCompositionStart(()=>{T=!0})),this.a.add(this.n.onDidCompositionEnd(()=>{T=!1,this.y()})),this.a.add(this.n.onDidChangeCursorSelection(O=>{T||this.x(O)})),this.a.add(this.n.onDidChangeModelContent(()=>{!T&&this.d!==void 0&&this.A()})),this.v()}dispose(){(0,y.dispose)(this.b),(0,y.dispose)([this.k,this.m,this.l,this.c]),this.a.dispose(),this.j.dispose(),this.cancel()}v(){if(this.b.clear(),this.n.getOption(86)||!this.n.hasModel()||!this.n.getOption(115))return;const L=new Map;for(const I of this.u.completionProvider.all(this.n.getModel()))for(const M of I.triggerCharacters||[]){let B=L.get(M);B||(B=new Set,B.add((0,u.getSnippetSuggestSupport)()),L.set(M,B)),B.add(I)}const k=I=>{var M;if(!p(this.n,this.s,this.t)||h.shouldAutoTrigger(this.n))return;if(!I){const P=this.n.getPosition();I=this.n.getModel().getLineContent(P.lineNumber).substr(0,P.column-1)}let B="";(0,v.isLowSurrogate)(I.charCodeAt(I.length-1))?(0,v.isHighSurrogate)(I.charCodeAt(I.length-2))&&(B=I.substr(I.length-2)):B=I.charAt(I.length-1);const z=L.get(B);if(z){const P=new Map;if(this.i)for(const[A,T]of this.i.getItemsByProvider())z.has(A)||P.set(A,T);this.trigger({auto:!0,triggerKind:1,triggerCharacter:B,retrigger:Boolean(this.i),clipboardText:(M=this.i)===null||M===void 0?void 0:M.clipboardText,completionOptions:{providerFilter:z,providerItemsToReuse:P}})}};this.b.add(this.n.onDidType(k)),this.b.add(this.n.onDidCompositionEnd(()=>k()))}get state(){return this.d?this.d.auto?2:1:0}cancel(L=!1){var k;this.d!==void 0&&(this.c.cancel(),(k=this.f)===null||k===void 0||k.cancel(),this.f=void 0,this.d=void 0,this.i=void 0,this.g=void 0,this.k.fire({retrigger:L}))}clear(){this.j.clear()}w(){this.d!==void 0&&(!this.n.hasModel()||!this.u.completionProvider.has(this.n.getModel())?this.cancel():this.trigger({auto:this.d.auto,retrigger:!0}))}x(L){if(!this.n.hasModel())return;const k=this.h;if(this.h=this.n.getSelection(),!L.selection.isEmpty()||L.reason!==0&&L.reason!==3||L.source!=="keyboard"&&L.source!=="deleteLeft"){this.cancel();return}this.d===void 0&&L.reason===0?(k.containsRange(this.h)||k.getEndPosition().isBeforeOrEqual(this.h.getPosition()))&&this.z():this.d!==void 0&&L.reason===3&&this.A()}y(){this.d===void 0?this.z():this.A()}z(){u.QuickSuggestionsOptions.isAllOff(this.n.getOption(84))||(this.cancel(),this.c.cancelAndSet(()=>{if(this.d!==void 0||!h.shouldAutoTrigger(this.n)||!this.n.hasModel()||!this.n.hasWidgetFocus())return;const L=this.n.getModel(),k=this.n.getPosition(),I=this.n.getOption(84);if(!u.QuickSuggestionsOptions.isAllOff(I)){if(!u.QuickSuggestionsOptions.isAllOn(I)){L.tokenization.tokenizeIfCheap(k.lineNumber);const M=L.tokenization.getLineTokens(k.lineNumber),B=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(k.column-1-1,0)));if(u.QuickSuggestionsOptions.valueFor(I,B)!=="on")return}!S(this.n,this.s,this.t)||!this.u.completionProvider.has(L)||this.trigger({auto:!0})}},this.n.getOption(85)))}A(){(0,o.assertType)(this.n.hasModel()),(0,o.assertType)(this.d!==void 0);const L=this.n.getModel(),k=this.n.getPosition(),I=new h(L,k,Object.assign(Object.assign({},this.d),{refilter:!0}));this.E(I)}trigger(L){var k,I,M,B,z,P;if(!this.n.hasModel())return;const A=this.n.getModel(),T=new h(A,this.n.getPosition(),L);this.cancel(L.retrigger),this.d=L,this.l.fire({auto:L.auto,shy:(k=L.shy)!==null&&k!==void 0?k:!1,position:this.n.getPosition()}),this.g=T;let O={triggerKind:(I=L.triggerKind)!==null&&I!==void 0?I:0};L.triggerCharacter&&(O={triggerKind:1,triggerCharacter:L.triggerCharacter}),this.f=new N.CancellationTokenSource;const F=this.n.getOption(106);let W=1;switch(F){case"top":W=0;break;case"bottom":W=2;break}const{itemKind:V,showDeprecated:R}=xi.D(this.n),$=new u.CompletionOptions(W,(B=(M=L.completionOptions)===null||M===void 0?void 0:M.kindFilter)!==null&&B!==void 0?B:V,(z=L.completionOptions)===null||z===void 0?void 0:z.providerFilter,(P=L.completionOptions)===null||P===void 0?void 0:P.providerItemsToReuse,R),X=g.WordDistance.create(this.o,this.n),ne=(0,u.provideSuggestionItems)(this.u.completionProvider,A,this.n.getPosition(),$,O,this.f.token);Promise.all([ne,X]).then(([ae,ie])=>Le(this,void 0,void 0,function*(){var le;if((le=this.f)===null||le===void 0||le.dispose(),!this.n.hasModel())return;let J=L?.clipboardText;if(!J&&ae.needsClipboard&&(J=yield this.p.readText()),this.d===void 0)return;const x=this.n.getModel(),q=new h(x,this.n.getPosition(),L),Y=Object.assign(Object.assign({},l.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this.n.getOption(112).matchOnWordStartOnly});this.i=new c.CompletionModel(ae.items,this.g.column,{leadingLineContent:q.leadingLineContent,characterCountDelta:q.column-this.g.column},ie,this.n.getOption(112),this.n.getOption(106),Y,J),this.j.add(ae.disposable),this.E(q),this.C(ae.durations)})).catch(E.onUnexpectedError)}C(L){this.B++%230===0&&setTimeout(()=>{this.q.publicLog2("suggest.durations.json",{data:JSON.stringify(L)}),this.r.debug("suggest.durations.json",L)})}static D(L){const k=new Set;L.getOption(106)==="none"&&k.add(27);const M=L.getOption(112);return M.showMethods||k.add(0),M.showFunctions||k.add(1),M.showConstructors||k.add(2),M.showFields||k.add(3),M.showVariables||k.add(4),M.showClasses||k.add(5),M.showStructs||k.add(6),M.showInterfaces||k.add(7),M.showModules||k.add(8),M.showProperties||k.add(9),M.showEvents||k.add(10),M.showOperators||k.add(11),M.showUnits||k.add(12),M.showValues||k.add(13),M.showConstants||k.add(14),M.showEnums||k.add(15),M.showEnumMembers||k.add(16),M.showKeywords||k.add(17),M.showWords||k.add(18),M.showColors||k.add(19),M.showFiles||k.add(20),M.showReferences||k.add(21),M.showColors||k.add(22),M.showFolders||k.add(23),M.showTypeParameters||k.add(24),M.showSnippets||k.add(27),M.showUsers||k.add(25),M.showIssues||k.add(26),{itemKind:k,showDeprecated:M.showDeprecated}}E(L){if(!!this.g){if(L.lineNumber!==this.g.lineNumber){this.cancel();return}if((0,v.getLeadingWhitespace)(L.leadingLineContent)!==(0,v.getLeadingWhitespace)(this.g.leadingLineContent)){this.cancel();return}if(L.column<this.g.column){L.leadingWord.word?this.trigger({auto:this.g.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(!!this.i){if(L.leadingWord.word.length!==0&&L.leadingWord.startColumn>this.g.leadingWord.startColumn){if(h.shouldAutoTrigger(this.n)&&this.g){const I=this.i.getItemsByProvider();this.trigger({auto:this.g.triggerOptions.auto,retrigger:!0,clipboardText:this.i.clipboardText,completionOptions:{providerItemsToReuse:I}})}return}if(L.column>this.g.column&&this.i.getIncompleteProvider().size>0&&L.leadingWord.word.length!==0){const k=new Map,I=new Set;for(const[M,B]of this.i.getItemsByProvider())B.length>0&&B[0].container.incomplete?I.add(M):k.set(M,B);this.trigger({auto:this.g.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this.i.clipboardText,completionOptions:{providerFilter:I,providerItemsToReuse:k}})}else{const k=this.i.lineContext;let I=!1;if(this.i.lineContext={leadingLineContent:L.leadingLineContent,characterCountDelta:L.column-this.g.column},this.i.items.length===0){const M=h.shouldAutoTrigger(this.n);if(!this.g){this.cancel();return}if(M&&this.g.leadingWord.endColumn<L.leadingWord.startColumn){this.trigger({auto:this.g.triggerOptions.auto,retrigger:!0});return}if(this.g.triggerOptions.auto){this.cancel();return}else if(this.i.lineContext=k,I=this.i.items.length>0,I&&L.leadingWord.word.length===0){this.cancel();return}}this.m.fire({completionModel:this.i,triggerOptions:L.triggerOptions,isFrozen:I})}}}}};m=De([fe(1,d.IEditorWorkerService),fe(2,i.IClipboardService),fe(3,r.ITelemetryService),fe(4,a.ILogService),fe(5,n.IContextKeyService),fe(6,t.IConfigurationService),fe(7,s.ILanguageFeaturesService)],m),e.SuggestModel=m}),define(ee[311],te([1,0,50,283,14,650]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends E.EditorAction{constructor(){super({id:y.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(C,d){const i=!N.TabFocus.getTabFocusMode();N.TabFocus.setTabFocusMode(i),i?(0,w.alert)(D.localize(1,null)):(0,w.alert)(D.localize(2,null))}}y.ID="editor.action.toggleTabFocusMode",e.ToggleTabFocusModeAction=y,(0,E.registerEditorAction)(y)}),define(ee[751],te([1,0,59,14,651]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends N.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:E.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(v,C){if(!C.hasModel())return;const d=C.getModel();d.tokenization.resetTokenization();const g=new w.StopWatch(!0);d.tokenization.forceTokenization(d.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,N.registerEditorAction)(D)}),define(ee[752],te([1,0,2,43,14,28,653,144]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const C="ignoreUnusualLineTerminators";function d(t,n,a){t.setModelProperty(n.uri,C,a)}function g(t,n){return t.getModelProperty(n.uri,C)}let i=class extends w.Disposable{constructor(n,a,r){super(),this.c=n,this.g=a,this.h=r,this.b=!1,this.a=this.c.getOption(120),this.q(this.c.onDidChangeConfiguration(c=>{c.hasChanged(120)&&(this.a=this.c.getOption(120),this.i())})),this.q(this.c.onDidChangeModel(()=>{this.i()})),this.q(this.c.onDidChangeModelContent(c=>{c.isUndoing||this.i()})),this.i()}i(){return Le(this,void 0,void 0,function*(){if(this.a==="off"||!this.c.hasModel())return;const n=this.c.getModel();if(!n.mightContainUnusualLineTerminators()||g(this.h,n)===!0||this.c.getOption(86))return;if(this.a==="auto"){n.removeUnusualLineTerminators(this.c.getSelections());return}if(this.b)return;let r;try{this.b=!0,r=yield this.g.confirm({title:y.localize(0,null),message:y.localize(1,null),detail:y.localize(2,null,(0,N.basename)(n.uri)),primaryButton:y.localize(3,null),secondaryButton:y.localize(4,null)})}finally{this.b=!1}if(!r.confirmed){d(this.h,n,!0);return}n.removeUnusualLineTerminators(this.c.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=De([fe(1,v.IDialogService),fe(2,D.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,E.registerEditorContribution)(i.ID,i,1)}),define(ee[312],te([1,0,14,114,39,65,162,132,11,3,22,23,34,656,75,15,300]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class u extends w.EditorCommand{constructor(J){super(J),this.d=J.inSelectionMode,this.e=J.wordNavigationType}runEditorCommand(J,x,q){if(!x.hasModel())return;const Y=(0,v.getMapForWordSeparators)(x.getOption(124)),Q=x.getModel(),oe=x.getSelections().map(G=>{const Z=new C.Position(G.positionLineNumber,G.positionColumn),U=this.j(Y,Q,Z,this.e);return this.h(G,U,this.d)});if(Q.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,oe.map(G=>D.CursorState.fromModelSelection(G))),oe.length===1){const G=new C.Position(oe[0].positionLineNumber,oe[0].positionColumn);x.revealPosition(G,0)}}h(J,x,q){return q?new g.Selection(J.selectionStartLineNumber,J.selectionStartColumn,x.lineNumber,x.column):new g.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=u;class s extends u{j(J,x,q,Y){return y.WordOperations.moveWordLeft(J,x,q,Y)}}e.WordLeftCommand=s;class l extends u{j(J,x,q,Y){return y.WordOperations.moveWordRight(J,x,q,Y)}}e.WordRightCommand=l;class o extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class h extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class f extends s{constructor(){var J;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(J=r.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=f;class S extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=S;class p extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=p;class m extends s{constructor(){var J;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(J=r.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=m;class b extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}j(J,x,q,Y){return super.j((0,v.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue),x,q,Y)}}e.CursorWordAccessibilityLeft=b;class L extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}j(J,x,q,Y){return super.j((0,v.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue),x,q,Y)}}e.CursorWordAccessibilityLeftSelect=L;class k extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=k;class I extends l{constructor(){var J;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(J=r.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class M extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=M;class B extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=B;class z extends l{constructor(){var J;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(J=r.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=z;class P extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=P;class A extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}j(J,x,q,Y){return super.j((0,v.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue),x,q,Y)}}e.CursorWordAccessibilityRight=A;class T extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}j(J,x,q,Y){return super.j((0,v.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue),x,q,Y)}}e.CursorWordAccessibilityRightSelect=T;class O extends w.EditorCommand{constructor(J){super(J),this.d=J.whitespaceHeuristics,this.e=J.wordNavigationType}runEditorCommand(J,x,q){const Y=J.get(t.ILanguageConfigurationService);if(!x.hasModel())return;const Q=(0,v.getMapForWordSeparators)(x.getOption(124)),re=x.getModel(),oe=x.getSelections(),G=x.getOption(5),Z=x.getOption(8),U=Y.getLanguageConfiguration(re.getLanguageId()).getAutoClosingPairs(),j=x._getViewModel(),H=oe.map(_=>{const ce=this.h({wordSeparators:Q,model:re,selection:_,whitespaceHeuristics:this.d,autoClosingDelete:x.getOption(6),autoClosingBrackets:G,autoClosingQuotes:Z,autoClosingPairs:U,autoClosedCharacters:j.getCursorAutoClosedCharacters()},this.e);return new N.ReplaceCommand(ce,"")});x.pushUndoStop(),x.executeCommands(this.id,H),x.pushUndoStop()}}e.DeleteWordCommand=O;class F extends O{h(J,x){const q=y.WordOperations.deleteWordLeft(J,x);return q||new d.Range(1,1,1,1)}}e.DeleteWordLeftCommand=F;class W extends O{h(J,x){const q=y.WordOperations.deleteWordRight(J,x);if(q)return q;const Y=J.model.getLineCount(),Q=J.model.getLineMaxColumn(Y);return new d.Range(Y,Q,Y,Q)}}e.DeleteWordRightCommand=W;class V extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class R extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=R;class $ extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=$;class X extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=X;class ne extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=ne;class ae extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=ae;class ie extends w.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(J,x,q){if(!x.hasModel())return;const Y=(0,v.getMapForWordSeparators)(x.getOption(124)),Q=x.getModel(),oe=x.getSelections().map(G=>{const Z=y.WordOperations.deleteInsideWord(Y,Q,G);return new N.ReplaceCommand(Z,"")});x.pushUndoStop(),x.executeCommands(this.id,oe),x.pushUndoStop()}}e.DeleteInsideWord=ie,(0,w.registerEditorCommand)(new o),(0,w.registerEditorCommand)(new h),(0,w.registerEditorCommand)(new f),(0,w.registerEditorCommand)(new S),(0,w.registerEditorCommand)(new p),(0,w.registerEditorCommand)(new m),(0,w.registerEditorCommand)(new k),(0,w.registerEditorCommand)(new I),(0,w.registerEditorCommand)(new M),(0,w.registerEditorCommand)(new B),(0,w.registerEditorCommand)(new z),(0,w.registerEditorCommand)(new P),(0,w.registerEditorCommand)(new b),(0,w.registerEditorCommand)(new L),(0,w.registerEditorCommand)(new A),(0,w.registerEditorCommand)(new T),(0,w.registerEditorCommand)(new V),(0,w.registerEditorCommand)(new R),(0,w.registerEditorCommand)(new $),(0,w.registerEditorCommand)(new X),(0,w.registerEditorCommand)(new ne),(0,w.registerEditorCommand)(new ae),(0,w.registerEditorAction)(ie)}),define(ee[753],te([1,0,14,162,3,23,312,25]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}h(u,s){const l=N.WordPartOperations.deleteWordPartLeft(u);return l||new E.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class d extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}h(u,s){const l=N.WordPartOperations.deleteWordPartRight(u);if(l)return l;const o=u.model.getLineCount(),h=u.model.getLineMaxColumn(o);return new E.Range(o,h,o,h)}}e.DeleteWordPartRight=d;class g extends y.MoveWordCommand{j(u,s,l,o){return N.WordPartOperations.moveWordPartLeft(u,s,l)}}e.WordPartLeftCommand=g;class i extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=i,v.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class t extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=t,v.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends y.MoveWordCommand{j(u,s,l,o){return N.WordPartOperations.moveWordPartRight(u,s,l)}}e.WordPartRightCommand=n;class a extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=a;class r extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=r,(0,w.registerEditorCommand)(new C),(0,w.registerEditorCommand)(new d),(0,w.registerEditorCommand)(new i),(0,w.registerEditorCommand)(new t),(0,w.registerEditorCommand)(new a),(0,w.registerEditorCommand)(new r)}),define(ee[754],te([1,0,7,35,203,50,67,2,16,9,21,14,23,311,15,8,37,53,82,421]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const l=new a.RawContextKey("accessibilityHelpWidgetVisible",!1);let o=class Vi extends v.Disposable{static get(b){return b.getContribution(Vi.ID)}constructor(b,L){super(),this.a=b,this.b=this.q(L.createInstance(f,this.a))}show(){this.b.show()}hide(){this.b.hide()}};o.ID="editor.contrib.accessibilityHelpController",o=De([fe(1,r.IInstantiationService)],o);function h(m,b){return!m||m.length===0?s.AccessibilityHelpNLS.noSelection:m.length===1?b?d.format(s.AccessibilityHelpNLS.singleSelectionRange,m[0].positionLineNumber,m[0].positionColumn,b):d.format(s.AccessibilityHelpNLS.singleSelection,m[0].positionLineNumber,m[0].positionColumn):b?d.format(s.AccessibilityHelpNLS.multiSelectionRange,m.length,b):m.length>0?d.format(s.AccessibilityHelpNLS.multiSelection,m.length):""}let f=class $t extends y.Widget{constructor(b,L,k,I){super(),this.v=L,this.C=k,this.D=I,this.i=b,this.t=l.bindTo(this.v),this.l=(0,N.createFastDomNode)(document.createElement("div")),this.l.setClassName("accessibilityHelpWidget"),this.l.setDisplay("none"),this.l.setAttribute("role","dialog"),this.l.setAttribute("aria-hidden","true"),this.r=(0,N.createFastDomNode)(document.createElement("div")),this.r.setAttribute("role","document"),this.l.appendChild(this.r),this.s=!1,this.q(this.i.onDidLayoutChange(()=>{this.s&&this.H()})),this.q(w.addStandardDisposableListener(this.r.domNode,"keydown",M=>{if(!!this.s&&(M.equals(2083)&&((0,D.alert)(s.AccessibilityHelpNLS.emergencyConfOn),this.i.updateOptions({accessibilitySupport:"on"}),w.clearNode(this.r.domNode),this.G(),this.r.domNode.focus(),M.preventDefault(),M.stopPropagation()),M.equals(2086))){(0,D.alert)(s.AccessibilityHelpNLS.openingDocs);let B=this.i.getRawOptions().accessibilityHelpUrl;typeof B>"u"&&(B="https://go.microsoft.com/fwlink/?linkid=852450"),this.D.open(g.URI.parse(B)),M.preventDefault(),M.stopPropagation()}})),this.y(this.r.domNode,()=>{this.hide()}),this.i.addOverlayWidget(this)}dispose(){this.i.removeOverlayWidget(this),super.dispose()}getId(){return $t.a}getDomNode(){return this.l.domNode}getPosition(){return{preference:null}}show(){this.s||(this.s=!0,this.t.set(!0),this.H(),this.l.setDisplay("block"),this.l.setAttribute("aria-hidden","false"),this.r.domNode.tabIndex=0,this.G(),this.r.domNode.focus())}F(b,L,k){const I=this.C.lookupKeybinding(b);return I?d.format(L,I.getAriaLabel()):d.format(k,b)}G(){const b=this.i.getOptions(),L=this.i.getSelections();let k=0;if(L){const z=this.i.getModel();z&&L.forEach(P=>{k+=z.getValueLengthInRange(P)})}let I=h(L,k);b.get(58)?b.get(86)?I+=s.AccessibilityHelpNLS.readonlyDiffEditor:I+=s.AccessibilityHelpNLS.editableDiffEditor:b.get(86)?I+=s.AccessibilityHelpNLS.readonlyEditor:I+=s.AccessibilityHelpNLS.editableEditor;const M=C.isMacintosh?s.AccessibilityHelpNLS.changeConfigToOnMac:s.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(b.get(2)){case 0:I+=`

 - `+M;break;case 2:I+=`

 - `+s.AccessibilityHelpNLS.auto_on;break;case 1:I+=`

 - `+s.AccessibilityHelpNLS.auto_off,I+=" "+M;break}b.get(137)?I+=`

 - `+this.F(n.ToggleTabFocusModeAction.ID,s.AccessibilityHelpNLS.tabFocusModeOnMsg,s.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):I+=`

 - `+this.F(n.ToggleTabFocusModeAction.ID,s.AccessibilityHelpNLS.tabFocusModeOffMsg,s.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const B=C.isMacintosh?s.AccessibilityHelpNLS.openDocMac:s.AccessibilityHelpNLS.openDocWinLinux;I+=`

 - `+B,I+=`

`+s.AccessibilityHelpNLS.outroMsg,this.r.domNode.appendChild((0,E.renderFormattedText)(I)),this.r.domNode.setAttribute("aria-label",I)}hide(){!this.s||(this.s=!1,this.t.reset(),this.l.setDisplay("none"),this.l.setAttribute("aria-hidden","true"),this.r.domNode.tabIndex=-1,w.clearNode(this.r.domNode),this.i.focus())}H(){const b=this.i.getLayoutInfo(),L=Math.max(5,Math.min($t.b,b.width-40)),k=Math.max(5,Math.min($t.g,b.height-40));this.l.setWidth(L),this.l.setHeight(k);const I=Math.round((b.height-k)/2);this.l.setTop(I);const M=Math.round((b.width-L)/2);this.l.setLeft(M)}};f.a="editor.contrib.accessibilityHelpWidget",f.b=500,f.g=300,f=De([fe(1,a.IContextKeyService),fe(2,c.IKeybindingService),fe(3,u.IOpenerService)],f);class S extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:s.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(b,L){const k=o.get(L);k?.show()}}(0,i.registerEditorContribution)(o.ID,o,4),(0,i.registerEditorAction)(S);const p=i.EditorCommand.bindToContribution(o.get);(0,i.registerEditorCommand)(new p({id:"closeAccessibilityHelp",precondition:l,handler:m=>m.hide(),kbOpts:{weight:100+100,kbExpr:t.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ee[755],te([1,0,7,2,14,16,422]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class y extends N.Disposable{constructor(d){super(),this.a=d,this.b=null,D.isIOS&&(this.q(d.onDidChangeConfiguration(()=>this.c())),this.c())}c(){const d=!this.a.getOption(86);!this.b&&d?this.b=new v(this.a):this.b&&!d&&(this.b.dispose(),this.b=null)}dispose(){super.dispose(),this.b&&(this.b.dispose(),this.b=null)}}y.ID="editor.contrib.iPadShowKeyboard",e.IPadShowKeyboard=y;class v extends N.Disposable{constructor(d){super(),this.b=d,this.c=document.createElement("textarea"),this.c.className="iPadShowKeyboard",this.q(w.addDisposableListener(this.c,"touchstart",g=>{this.b.focus()})),this.q(w.addDisposableListener(this.c,"focus",g=>{this.b.focus()})),this.b.addOverlayWidget(this)}dispose(){this.b.removeOverlayWidget(this),super.dispose()}getId(){return v.a}getDomNode(){return this.c}getPosition(){return{preference:1}}}v.a="editor.contrib.ShowKeyboardWidget",(0,E.registerEditorContribution)(y.ID,y,3)}),define(ee[756],te([1,0,7,36,2,14,26,115,141,40,119,82,423]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let t=class Hi extends E.Disposable{static get(s){return s.getContribution(Hi.ID)}constructor(s,l,o){super(),this.a=s,this.b=o,this.c=null,this.q(this.a.onDidChangeModel(h=>this.stop())),this.q(this.a.onDidChangeModelLanguage(h=>this.stop())),this.q(y.TokenizationRegistry.onDidChange(h=>this.stop())),this.q(this.a.onKeyUp(h=>h.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this.c||!this.a.hasModel()||(this.c=new c(this.a,this.b))}stop(){this.c&&(this.c.dispose(),this.c=null)}};t.ID="editor.contrib.inspectTokens",t=De([fe(1,g.IStandaloneThemeService),fe(2,d.ILanguageService)],t);class n extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:i.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(s,l){const o=t.get(l);o?.launch()}}function a(u){let s="";for(let l=0,o=u.length;l<o;l++){const h=u.charCodeAt(l);switch(h){case 9:s+="\u2192";break;case 32:s+="\xB7";break;default:s+=String.fromCharCode(h)}}return s}function r(u,s){const l=y.TokenizationRegistry.get(s);if(l)return l;const o=u.encodeLanguageId(s);return{getInitialState:()=>C.NullState,tokenize:(h,f,S)=>(0,C.nullTokenize)(s,S),tokenizeEncoded:(h,f,S)=>(0,C.nullTokenizeEncoded)(o,S)}}class c extends E.Disposable{constructor(s,l){super(),this.allowEditorOverflow=!0,this.b=s,this.c=l,this.h=this.b.getModel(),this.j=document.createElement("div"),this.j.className="tokens-inspect-widget",this.g=r(this.c.languageIdCodec,this.h.getLanguageId()),this.k(this.b.getPosition()),this.q(this.b.onDidChangeCursorPosition(o=>this.k(this.b.getPosition()))),this.b.addContentWidget(this)}dispose(){this.b.removeContentWidget(this),super.dispose()}getId(){return c.a}k(s){const l=this.p(s.lineNumber);let o=0;for(let m=l.tokens1.length-1;m>=0;m--){const b=l.tokens1[m];if(s.column-1>=b.offset){o=m;break}}let h=0;for(let m=l.tokens2.length>>>1;m>=0;m--)if(s.column-1>=l.tokens2[m<<1]){h=m;break}const f=this.h.getLineContent(s.lineNumber);let S="";if(o<l.tokens1.length){const m=l.tokens1[o].offset,b=o+1<l.tokens1.length?l.tokens1[o+1].offset:f.length;S=f.substring(m,b)}(0,w.reset)(this.j,(0,w.$)("h2.tm-token",void 0,a(S),(0,w.$)("span.tm-token-length",void 0,`${S.length} ${S.length===1?"char":"chars"}`))),(0,w.append)(this.j,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const p=(h<<1)+1<l.tokens2.length?this.l(l.tokens2[(h<<1)+1]):null;(0,w.append)(this.j,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${p?p.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${p?this.m(p.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${p?this.n(p.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${p?N.Color.Format.CSS.formatHex(p.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${p?N.Color.Format.CSS.formatHex(p.background):"-?-"}`))))),(0,w.append)(this.j,(0,w.$)("hr.tokens-inspect-separator")),o<l.tokens1.length&&(0,w.append)(this.j,(0,w.$)("span.tm-token-type",void 0,l.tokens1[o].type)),this.b.layoutContentWidget(this)}l(s){const l=y.TokenizationRegistry.getColorMap(),o=v.TokenMetadata.getLanguageId(s),h=v.TokenMetadata.getTokenType(s),f=v.TokenMetadata.getFontStyle(s),S=v.TokenMetadata.getForeground(s),p=v.TokenMetadata.getBackground(s);return{languageId:this.c.languageIdCodec.decodeLanguageId(o),tokenType:h,fontStyle:f,foreground:l[S],background:l[p]}}m(s){switch(s){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}n(s){let l="";return s&1&&(l+="italic "),s&2&&(l+="bold "),s&4&&(l+="underline "),s&8&&(l+="strikethrough "),l.length===0&&(l="---"),l}p(s){const l=this.s(s),o=this.g.tokenize(this.h.getLineContent(s),!0,l),h=this.g.tokenizeEncoded(this.h.getLineContent(s),!0,l);return{startState:l,tokens1:o.tokens,tokens2:h.tokens,endState:o.endState}}s(s){let l=this.g.getInitialState();for(let o=1;o<s;o++)l=this.g.tokenize(this.h.getLineContent(o),!0,l).endState;return l}getDomNode(){return this.j}getPosition(){return{position:this.b.getPosition(),preference:[2,1]}}}c.a="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(n)}),define(ee[757],te([1,0,7,534,41,17,2,661,29,15,56,37,77]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let n=class extends N.ToolBar{constructor(r,c,u,s,l,o,h){super(r,l,Object.assign(Object.assign({getKeyBinding:f=>{var S;return(S=o.lookupKeybinding(f.id))!==null&&S!==void 0?S:void 0}},c),{allowContextMenu:!0})),this.y=c,this.z=u,this.B=s,this.C=l,this.w=this.f.add(new y.DisposableStore),c?.telemetrySource&&this.f.add(this.b.onDidRun(f=>h.publicLog2("workbenchActionExecuted",{id:f.action.id,from:c.telemetrySource})))}setActions(r,c=[],u){var s,l,o;this.w.clear();const h=r.slice(),f=c.slice(),S=[];let p=0;const m=[];let b=!1;if(((s=this.y)===null||s===void 0?void 0:s.hiddenItemStrategy)!==-1)for(let L=0;L<h.length;L++){const k=h[L];!(k instanceof C.MenuItemAction)&&!(k instanceof C.SubmenuItemAction)||!k.hideActions||(S.push(k.hideActions.toggle),k.hideActions.toggle.checked&&p++,k.hideActions.isHidden&&(b=!0,h[L]=void 0,((l=this.y)===null||l===void 0?void 0:l.hiddenItemStrategy)!==0&&(m[L]=k)))}if(((o=this.y)===null||o===void 0?void 0:o.maxNumberOfItems)!==void 0){let L=0;for(let k=0;k<h.length;k++){const I=h[k];!I||++L>=this.y.maxNumberOfItems&&(h[k]=void 0,m[k]=I)}}(0,D.coalesceInPlace)(h),(0,D.coalesceInPlace)(m),super.setActions(h,E.Separator.join(m,f)),S.length>0&&this.w.add((0,w.addDisposableListener)(this.getElement(),"contextmenu",L=>{var k,I,M,B;const z=this.getItemAction(L.target);if(!z)return;L.preventDefault(),L.stopPropagation();let P=!1;if(p===1&&((k=this.y)===null||k===void 0?void 0:k.hiddenItemStrategy)===0){P=!0;for(let O=0;O<S.length;O++)if(S[O].checked){S[O]=(0,E.toAction)({id:z.id,label:z.label,checked:!0,enabled:!1,run(){}});break}}let A;if(!P&&(z instanceof C.MenuItemAction||z instanceof C.SubmenuItemAction)){if(!z.hideActions)return;A=z.hideActions.hide}else A=(0,E.toAction)({id:"label",label:(0,v.localize)(0,null),enabled:!1,run(){}});const T=E.Separator.join([A],S);((I=this.y)===null||I===void 0?void 0:I.resetMenu)&&!u&&(u=[this.y.resetMenu]),b&&u&&(T.push(new E.Separator),T.push((0,E.toAction)({id:"resetThisMenu",label:(0,v.localize)(1,null),run:()=>this.z.resetHiddenStates(u)}))),this.C.showContextMenu({getAnchor:()=>L,getActions:()=>T,menuId:(M=this.y)===null||M===void 0?void 0:M.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(B=this.y)===null||B===void 0?void 0:B.menuOptions),contextKeyService:this.B})}))}};n=De([fe(2,C.IMenuService),fe(3,d.IContextKeyService),fe(4,g.IContextMenuService),fe(5,i.IKeybindingService),fe(6,t.ITelemetryService)],n),e.WorkbenchToolBar=n}),define(ee[758],te([1,0,512,13,63,2,55,93,18,671,25,32,144,8,37,708,84,77]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let s=class Gt extends r.PickerQuickAccessProvider{constructor(h,f,S,p,m,b){super(Gt.PREFIX,h),this.n=f,this.p=S,this.r=p,this.s=m,this.t=b,this.l=this.q(this.n.createInstance(l)),this.h=h}j(h,f,S,p){var m,b;return Le(this,void 0,void 0,function*(){const L=yield this.v(S);if(S.isCancellationRequested)return[];const k=[];for(const P of L){const A=(0,C.withNullAsUndefined)(Gt.k(h,P.label)),T=P.commandAlias?(0,C.withNullAsUndefined)(Gt.k(h,P.commandAlias)):void 0;A||T?(P.highlights={label:A,detail:this.h.showAlias?T:void 0},k.push(P)):h===P.commandId&&k.push(P)}const I=new Map;for(const P of k){const A=I.get(P.label);A?(P.description=P.commandId,A.description=A.commandId):I.set(P.label,P)}k.sort((P,A)=>{const T=this.l.peek(P.commandId),O=this.l.peek(A.commandId);if(T&&O)return T>O?-1:1;if(T)return-1;if(O)return 1;if(this.h.suggestedCommandIds){const F=this.h.suggestedCommandIds.has(P.commandId),W=this.h.suggestedCommandIds.has(A.commandId);if(F&&W)return 0;if(F)return-1;if(W)return 1}return P.label.localeCompare(A.label)});const M=[];let B=!1,z=!!this.h.suggestedCommandIds;for(let P=0;P<k.length;P++){const A=k[P],T=this.p.lookupKeybinding(A.commandId),O=T?(0,d.localize)(0,null,A.label,T.getAriaLabel()):A.label;P===0&&this.l.peek(A.commandId)&&(M.push({type:"separator",label:(0,d.localize)(1,null)}),B=!0),z&&!this.l.peek(A.commandId)&&((m=this.h.suggestedCommandIds)===null||m===void 0?void 0:m.has(A.commandId))&&(M.push({type:"separator",label:(0,d.localize)(2,null)}),B=!0,z=!1),B&&!this.l.peek(A.commandId)&&!(!((b=this.h.suggestedCommandIds)===null||b===void 0)&&b.has(A.commandId))&&(M.push({type:"separator",label:(0,d.localize)(3,null)}),B=!1),M.push(Object.assign(Object.assign({},A),{ariaLabel:O,detail:this.h.showAlias&&A.commandAlias!==A.label?A.commandAlias:void 0,keybinding:T,accept:()=>Le(this,void 0,void 0,function*(){var F;this.l.push(A.commandId),this.s.publicLog2("workbenchActionExecuted",{id:A.commandId,from:(F=p?.from)!==null&&F!==void 0?F:"quick open"});try{yield this.r.executeCommand(A.commandId)}catch(W){(0,N.isCancellationError)(W)||this.t.show(v.default.Error,(0,d.localize)(4,null,A.label,(0,w.toErrorMessage)(W)))}})}))}return M})}};s.PREFIX=">",s.k=(0,E.or)(E.matchesPrefix,E.matchesWords,E.matchesContiguousSubString),s=De([fe(1,n.IInstantiationService),fe(2,a.IKeybindingService),fe(3,g.ICommandService),fe(4,u.ITelemetryService),fe(5,t.IDialogService)],s),e.AbstractCommandsQuickAccessProvider=s;let l=class ct extends D.Disposable{constructor(h,f){super(),this.l=h,this.m=f,this.k=0,this.p(),this.r(),this.n()}n(){this.q(this.m.onDidChangeConfiguration(h=>this.p(h)))}p(h){h&&!h.affectsConfiguration("workbench.commandPalette.history")||(this.k=ct.getConfiguredCommandHistoryLength(this.m),ct.h&&ct.h.limit!==this.k&&(ct.h.limit=this.k,ct.saveState(this.l)))}r(){const h=this.l.get(ct.c,0);let f;if(h)try{f=JSON.parse(h)}catch{}const S=ct.h=new y.LRUCache(this.k,1);if(f){let p;f.usesLRU?p=f.entries:p=f.entries.sort((m,b)=>m.value-b.value),p.forEach(m=>S.set(m.key,m.value))}ct.j=this.l.getNumber(ct.g,0,ct.j)}push(h){!ct.h||(ct.h.set(h,ct.j++),ct.saveState(this.l))}peek(h){var f;return(f=ct.h)===null||f===void 0?void 0:f.peek(h)}static saveState(h){if(!ct.h)return;const f={usesLRU:!0,entries:[]};ct.h.forEach((S,p)=>f.entries.push({key:p,value:S})),h.store(ct.c,JSON.stringify(f),0,0),h.store(ct.g,ct.j,0,0)}static getConfiguredCommandHistoryLength(h){var f,S;const m=(S=(f=h.getValue().workbench)===null||f===void 0?void 0:f.commandPalette)===null||S===void 0?void 0:S.history;return typeof m=="number"?m:ct.DEFAULT_COMMANDS_HISTORY_LENGTH}};l.DEFAULT_COMMANDS_HISTORY_LENGTH=50,l.c="commandPalette.mru.cache",l.g="commandPalette.mru.counter",l.j=1,l=De([fe(0,c.IStorageService),fe(1,i.IConfigurationService)],l),e.CommandsHistory=l}),define(ee[759],te([1,0,111,758]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class E extends N.AbstractCommandsQuickAccessProvider{constructor(y,v,C,d,g,i){super(y,v,C,d,g,i)}y(){const y=this.w;if(!y)return[];const v=[];for(const C of y.getSupportedActions())v.push({commandId:C.id,commandAlias:C.alias,label:(0,w.stripIcons)(C.label)||C.id});return v}}e.AbstractEditorCommandsQuickAccessProvider=E}),define(ee[760],te([1,0,33,123,82,28,759,18,8,37,25,77,144,14,23,83]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let c=class extends y.AbstractEditorCommandsQuickAccessProvider{get w(){return(0,v.withNullAsUndefined)(this.B.getFocusedCodeEditor())}constructor(l,o,h,f,S,p){super({showAlias:!1},l,h,f,S,p),this.B=o}v(){return Le(this,void 0,void 0,function*(){return this.y()})}};c=De([fe(0,C.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,d.IKeybindingService),fe(3,g.ICommandService),fe(4,i.ITelemetryService),fe(5,t.IDialogService)],c),e.StandaloneCommandsQuickAccessProvider=c;class u extends n.EditorAction{constructor(){super({id:u.ID,label:E.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:a.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(l){l.get(r.IQuickInputService).quickAccess.show(c.PREFIX)}}u.ID="editor.action.quickCommand",e.GotoLineAction=u,(0,n.registerEditorAction)(u),w.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:E.QuickCommandNLS.quickCommandHelp,commandId:u.ID}]})}),define(ee[30],te([1,0,12,36,6,85,673,221,33]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function d(z){return`--vscode-${z.replace(/\./g,"-")}`}e.asCssVariableName=d;function g(z){return`var(${d(z)})`}e.asCssVariable=g;function i(z,P){return`var(${d(z)}, ${P})`}e.asCssVariableWithDefault=i,e.Extensions={ColorContribution:"base.contributions.colors"};class t{constructor(){this.c=new E.Emitter,this.onDidChangeSchema=this.c.event,this.e={type:"object",properties:{}},this.f={type:"string",enum:[],enumDescriptions:[]},this.d={}}registerColor(P,A,T,O=!1,F){const W={id:P,description:T,defaults:A,needsTransparency:O,deprecationMessage:F};this.d[P]=W;const V={type:"string",description:T,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return F&&(V.deprecationMessage=F),this.e.properties[P]=V,this.f.enum.push(P),this.f.enumDescriptions.push(T),this.c.fire(),P}getColors(){return Object.keys(this.d).map(P=>this.d[P])}resolveDefaultColor(P,A){const T=this.d[P];if(T&&T.defaults){const O=T.defaults[A.type];return I(O,A)}}getColorSchema(){return this.e}toString(){const P=(A,T)=>{const O=A.indexOf(".")===-1?0:1,F=T.indexOf(".")===-1?0:1;return O!==F?O-F:A.localeCompare(T)};return Object.keys(this.d).sort(P).map(A=>`- \`${A}\`: ${this.d[A].description}`).join(`
`)}}const n=new t;C.Registry.add(e.Extensions.ColorContribution,n);function a(z){return z===null||typeof z.hcLight>"u"&&(z.hcDark===null||typeof z.hcDark=="string"?z.hcLight=z.hcDark:z.hcLight=z.light),z}function r(z,P,A,T,O){return n.registerColor(z,a(P),A,T,O)}e.registerColor=r,e.foreground=r("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},y.localize(0,null)),e.disabledForeground=r("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},y.localize(1,null)),e.errorForeground=r("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},y.localize(2,null)),e.descriptionForeground=r("descriptionForeground",{light:"#717171",dark:m(e.foreground,.7),hcDark:m(e.foreground,.7),hcLight:m(e.foreground,.7)},y.localize(3,null)),e.iconForeground=r("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},y.localize(4,null)),e.focusBorder=r("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},y.localize(5,null)),e.contrastBorder=r("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},y.localize(6,null)),e.activeContrastBorder=r("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},y.localize(7,null)),e.selectionBackground=r("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},y.localize(8,null)),e.textSeparatorForeground=r("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:N.Color.black,hcLight:"#292929"},y.localize(9,null)),e.textLinkForeground=r("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},y.localize(10,null)),e.textLinkActiveForeground=r("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},y.localize(11,null)),e.textPreformatForeground=r("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},y.localize(12,null)),e.textBlockQuoteBackground=r("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},y.localize(13,null)),e.textBlockQuoteBorder=r("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:N.Color.white,hcLight:"#292929"},y.localize(14,null)),e.textCodeBlockBackground=r("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:N.Color.black,hcLight:"#F2F2F2"},y.localize(15,null)),e.widgetShadow=r("widget.shadow",{dark:m(N.Color.black,.36),light:m(N.Color.black,.16),hcDark:null,hcLight:null},y.localize(16,null)),e.widgetBorder=r("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(17,null)),e.inputBackground=r("input.background",{dark:"#3C3C3C",light:N.Color.white,hcDark:N.Color.black,hcLight:N.Color.white},y.localize(18,null)),e.inputForeground=r("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},y.localize(19,null)),e.inputBorder=r("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(20,null)),e.inputActiveOptionBorder=r("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(21,null)),e.inputActiveOptionHoverBackground=r("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},y.localize(22,null)),e.inputActiveOptionBackground=r("inputOption.activeBackground",{dark:m(e.focusBorder,.4),light:m(e.focusBorder,.2),hcDark:N.Color.transparent,hcLight:N.Color.transparent},y.localize(23,null)),e.inputActiveOptionForeground=r("inputOption.activeForeground",{dark:N.Color.white,light:N.Color.black,hcDark:e.foreground,hcLight:e.foreground},y.localize(24,null)),e.inputPlaceholderForeground=r("input.placeholderForeground",{light:m(e.foreground,.5),dark:m(e.foreground,.5),hcDark:m(e.foreground,.7),hcLight:m(e.foreground,.7)},y.localize(25,null)),e.inputValidationInfoBackground=r("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:N.Color.black,hcLight:N.Color.white},y.localize(26,null)),e.inputValidationInfoForeground=r("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},y.localize(27,null)),e.inputValidationInfoBorder=r("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(28,null)),e.inputValidationWarningBackground=r("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:N.Color.black,hcLight:N.Color.white},y.localize(29,null)),e.inputValidationWarningForeground=r("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},y.localize(30,null)),e.inputValidationWarningBorder=r("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(31,null)),e.inputValidationErrorBackground=r("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:N.Color.black,hcLight:N.Color.white},y.localize(32,null)),e.inputValidationErrorForeground=r("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},y.localize(33,null)),e.inputValidationErrorBorder=r("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(34,null)),e.selectBackground=r("dropdown.background",{dark:"#3C3C3C",light:N.Color.white,hcDark:N.Color.black,hcLight:N.Color.white},y.localize(35,null)),e.selectListBackground=r("dropdown.listBackground",{dark:null,light:null,hcDark:N.Color.black,hcLight:N.Color.white},y.localize(36,null)),e.selectForeground=r("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:N.Color.white,hcLight:e.foreground},y.localize(37,null)),e.selectBorder=r("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(38,null)),e.buttonForeground=r("button.foreground",{dark:N.Color.white,light:N.Color.white,hcDark:N.Color.white,hcLight:N.Color.white},y.localize(39,null)),e.buttonSeparator=r("button.separator",{dark:m(e.buttonForeground,.4),light:m(e.buttonForeground,.4),hcDark:m(e.buttonForeground,.4),hcLight:m(e.buttonForeground,.4)},y.localize(40,null)),e.buttonBackground=r("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},y.localize(41,null)),e.buttonHoverBackground=r("button.hoverBackground",{dark:p(e.buttonBackground,.2),light:S(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},y.localize(42,null)),e.buttonBorder=r("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(43,null)),e.buttonSecondaryForeground=r("button.secondaryForeground",{dark:N.Color.white,light:N.Color.white,hcDark:N.Color.white,hcLight:e.foreground},y.localize(44,null)),e.buttonSecondaryBackground=r("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:N.Color.white},y.localize(45,null)),e.buttonSecondaryHoverBackground=r("button.secondaryHoverBackground",{dark:p(e.buttonSecondaryBackground,.2),light:S(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},y.localize(46,null)),e.badgeBackground=r("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:N.Color.black,hcLight:"#0F4A85"},y.localize(47,null)),e.badgeForeground=r("badge.foreground",{dark:N.Color.white,light:"#333",hcDark:N.Color.white,hcLight:N.Color.white},y.localize(48,null)),e.scrollbarShadow=r("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},y.localize(49,null)),e.scrollbarSliderBackground=r("scrollbarSlider.background",{dark:N.Color.fromHex("#797979").transparent(.4),light:N.Color.fromHex("#646464").transparent(.4),hcDark:m(e.contrastBorder,.6),hcLight:m(e.contrastBorder,.4)},y.localize(50,null)),e.scrollbarSliderHoverBackground=r("scrollbarSlider.hoverBackground",{dark:N.Color.fromHex("#646464").transparent(.7),light:N.Color.fromHex("#646464").transparent(.7),hcDark:m(e.contrastBorder,.8),hcLight:m(e.contrastBorder,.8)},y.localize(51,null)),e.scrollbarSliderActiveBackground=r("scrollbarSlider.activeBackground",{dark:N.Color.fromHex("#BFBFBF").transparent(.4),light:N.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(52,null)),e.progressBarBackground=r("progressBar.background",{dark:N.Color.fromHex("#0E70C0"),light:N.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(53,null)),e.editorErrorBackground=r("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(54,null),!0),e.editorErrorForeground=r("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},y.localize(55,null)),e.editorErrorBorder=r("editorError.border",{dark:null,light:null,hcDark:N.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},y.localize(56,null)),e.editorWarningBackground=r("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(57,null),!0),e.editorWarningForeground=r("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},y.localize(58,null)),e.editorWarningBorder=r("editorWarning.border",{dark:null,light:null,hcDark:N.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},y.localize(59,null)),e.editorInfoBackground=r("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(60,null),!0),e.editorInfoForeground=r("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},y.localize(61,null)),e.editorInfoBorder=r("editorInfo.border",{dark:null,light:null,hcDark:N.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},y.localize(62,null)),e.editorHintForeground=r("editorHint.foreground",{dark:N.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},y.localize(63,null)),e.editorHintBorder=r("editorHint.border",{dark:null,light:null,hcDark:N.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},y.localize(64,null)),e.sashHoverBorder=r("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},y.localize(65,null)),e.editorBackground=r("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:N.Color.black,hcLight:N.Color.white},y.localize(66,null)),e.editorForeground=r("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:N.Color.white,hcLight:e.foreground},y.localize(67,null)),e.editorStickyScrollBackground=r("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},y.localize(68,null)),e.editorStickyScrollHoverBackground=r("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:N.Color.fromHex("#0F4A85").transparent(.1)},y.localize(69,null)),e.editorWidgetBackground=r("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:N.Color.white},y.localize(70,null)),e.editorWidgetForeground=r("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},y.localize(71,null)),e.editorWidgetBorder=r("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(72,null)),e.editorWidgetResizeBorder=r("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},y.localize(73,null)),e.quickInputBackground=r("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(74,null)),e.quickInputForeground=r("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},y.localize(75,null)),e.quickInputTitleBackground=r("quickInputTitle.background",{dark:new N.Color(new N.RGBA(255,255,255,.105)),light:new N.Color(new N.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:N.Color.white},y.localize(76,null)),e.pickerGroupForeground=r("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:N.Color.white,hcLight:"#0F4A85"},y.localize(77,null)),e.pickerGroupBorder=r("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:N.Color.white,hcLight:"#0F4A85"},y.localize(78,null)),e.keybindingLabelBackground=r("keybindingLabel.background",{dark:new N.Color(new N.RGBA(128,128,128,.17)),light:new N.Color(new N.RGBA(221,221,221,.4)),hcDark:N.Color.transparent,hcLight:N.Color.transparent},y.localize(79,null)),e.keybindingLabelForeground=r("keybindingLabel.foreground",{dark:N.Color.fromHex("#CCCCCC"),light:N.Color.fromHex("#555555"),hcDark:N.Color.white,hcLight:e.foreground},y.localize(80,null)),e.keybindingLabelBorder=r("keybindingLabel.border",{dark:new N.Color(new N.RGBA(51,51,51,.6)),light:new N.Color(new N.RGBA(204,204,204,.4)),hcDark:new N.Color(new N.RGBA(111,195,223)),hcLight:e.contrastBorder},y.localize(81,null)),e.keybindingLabelBottomBorder=r("keybindingLabel.bottomBorder",{dark:new N.Color(new N.RGBA(68,68,68,.6)),light:new N.Color(new N.RGBA(187,187,187,.4)),hcDark:new N.Color(new N.RGBA(111,195,223)),hcLight:e.foreground},y.localize(82,null)),e.editorSelectionBackground=r("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},y.localize(83,null)),e.editorSelectionForeground=r("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:N.Color.white},y.localize(84,null)),e.editorInactiveSelection=r("editor.inactiveSelectionBackground",{light:m(e.editorSelectionBackground,.5),dark:m(e.editorSelectionBackground,.5),hcDark:m(e.editorSelectionBackground,.7),hcLight:m(e.editorSelectionBackground,.5)},y.localize(85,null),!0),e.editorSelectionHighlight=r("editor.selectionHighlightBackground",{light:k(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:k(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},y.localize(86,null),!0),e.editorSelectionHighlightBorder=r("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(87,null)),e.editorFindMatch=r("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},y.localize(88,null)),e.editorFindMatchHighlight=r("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},y.localize(89,null),!0),e.editorFindRangeHighlight=r("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},y.localize(90,null),!0),e.editorFindMatchBorder=r("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(91,null)),e.editorFindMatchHighlightBorder=r("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(92,null)),e.editorFindRangeHighlightBorder=r("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:m(e.activeContrastBorder,.4),hcLight:m(e.activeContrastBorder,.4)},y.localize(93,null),!0),e.searchEditorFindMatch=r("searchEditor.findMatchBackground",{light:m(e.editorFindMatchHighlight,.66),dark:m(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},y.localize(94,null)),e.searchEditorFindMatchBorder=r("searchEditor.findMatchBorder",{light:m(e.editorFindMatchHighlightBorder,.66),dark:m(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},y.localize(95,null)),e.editorHoverHighlight=r("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},y.localize(96,null),!0),e.editorHoverBackground=r("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(97,null)),e.editorHoverForeground=r("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},y.localize(98,null)),e.editorHoverBorder=r("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},y.localize(99,null)),e.editorHoverStatusBarBackground=r("editorHoverWidget.statusBarBackground",{dark:p(e.editorHoverBackground,.2),light:S(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(100,null)),e.editorActiveLinkForeground=r("editorLink.activeForeground",{dark:"#4E94CE",light:N.Color.blue,hcDark:N.Color.cyan,hcLight:"#292929"},y.localize(101,null)),e.editorInlayHintForeground=r("editorInlayHint.foreground",{dark:e.badgeForeground,light:e.badgeForeground,hcDark:N.Color.black,hcLight:e.badgeForeground},y.localize(102,null)),e.editorInlayHintBackground=r("editorInlayHint.background",{dark:m(e.badgeBackground,.8),light:m(e.badgeBackground,.6),hcDark:"#f38518",hcLight:e.badgeBackground},y.localize(103,null)),e.editorInlayHintTypeForeground=r("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},y.localize(104,null)),e.editorInlayHintTypeBackground=r("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},y.localize(105,null)),e.editorInlayHintParameterForeground=r("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},y.localize(106,null)),e.editorInlayHintParameterBackground=r("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},y.localize(107,null)),e.editorLightBulbForeground=r("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},y.localize(108,null)),e.editorLightBulbAutoFixForeground=r("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},y.localize(109,null)),e.defaultInsertColor=new N.Color(new N.RGBA(155,185,85,.2)),e.defaultRemoveColor=new N.Color(new N.RGBA(255,0,0,.2)),e.diffInserted=r("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},y.localize(110,null),!0),e.diffRemoved=r("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},y.localize(111,null),!0),e.diffInsertedLine=r("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},y.localize(112,null),!0),e.diffRemovedLine=r("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},y.localize(113,null),!0),e.diffInsertedLineGutter=r("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(114,null)),e.diffRemovedLineGutter=r("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(115,null)),e.diffOverviewRulerInserted=r("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(116,null)),e.diffOverviewRulerRemoved=r("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(117,null)),e.diffInsertedOutline=r("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},y.localize(118,null)),e.diffRemovedOutline=r("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},y.localize(119,null)),e.diffBorder=r("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(120,null)),e.diffDiagonalFill=r("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},y.localize(121,null)),e.listFocusBackground=r("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(122,null)),e.listFocusForeground=r("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(123,null)),e.listFocusOutline=r("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(124,null)),e.listFocusAndSelectionOutline=r("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(125,null)),e.listActiveSelectionBackground=r("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:N.Color.fromHex("#0F4A85").transparent(.1)},y.localize(126,null)),e.listActiveSelectionForeground=r("list.activeSelectionForeground",{dark:N.Color.white,light:N.Color.white,hcDark:null,hcLight:null},y.localize(127,null)),e.listActiveSelectionIconForeground=r("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(128,null)),e.listInactiveSelectionBackground=r("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:N.Color.fromHex("#0F4A85").transparent(.1)},y.localize(129,null)),e.listInactiveSelectionForeground=r("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(130,null)),e.listInactiveSelectionIconForeground=r("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(131,null)),e.listInactiveFocusBackground=r("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(132,null)),e.listInactiveFocusOutline=r("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(133,null)),e.listHoverBackground=r("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:N.Color.fromHex("#0F4A85").transparent(.1)},y.localize(134,null)),e.listHoverForeground=r("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(135,null)),e.listDropBackground=r("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},y.localize(136,null)),e.listHighlightForeground=r("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},y.localize(137,null)),e.listFocusHighlightForeground=r("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:L(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},y.localize(138,null)),e.listInvalidItemForeground=r("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},y.localize(139,null)),e.listErrorForeground=r("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},y.localize(140,null)),e.listWarningForeground=r("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},y.localize(141,null)),e.listFilterWidgetBackground=r("listFilterWidget.background",{light:S(e.editorWidgetBackground,0),dark:p(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(142,null)),e.listFilterWidgetOutline=r("listFilterWidget.outline",{dark:N.Color.transparent,light:N.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},y.localize(143,null)),e.listFilterWidgetNoMatchesOutline=r("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(144,null)),e.listFilterWidgetShadow=r("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},y.localize(145,null)),e.listFilterMatchHighlight=r("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},y.localize(146,null)),e.listFilterMatchHighlightBorder=r("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},y.localize(147,null)),e.treeIndentGuidesStroke=r("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},y.localize(148,null)),e.treeInactiveIndentGuidesStroke=r("tree.inactiveIndentGuidesStroke",{dark:m(e.treeIndentGuidesStroke,.4),light:m(e.treeIndentGuidesStroke,.4),hcDark:m(e.treeIndentGuidesStroke,.4),hcLight:m(e.treeIndentGuidesStroke,.4)},y.localize(149,null)),e.tableColumnsBorder=r("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},y.localize(150,null)),e.tableOddRowsBackgroundColor=r("tree.tableOddRowsBackground",{dark:m(e.foreground,.04),light:m(e.foreground,.04),hcDark:null,hcLight:null},y.localize(151,null)),e.listDeemphasizedForeground=r("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},y.localize(152,null)),e.checkboxBackground=r("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},y.localize(153,null)),e.checkboxSelectBackground=r("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(154,null)),e.checkboxForeground=r("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},y.localize(155,null)),e.checkboxBorder=r("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},y.localize(156,null)),e.checkboxSelectBorder=r("checkbox.selectBorder",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(157,null)),e._deprecatedQuickInputListFocusBackground=r("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,y.localize(158,null)),e.quickInputListFocusForeground=r("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},y.localize(159,null)),e.quickInputListFocusIconForeground=r("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},y.localize(160,null)),e.quickInputListFocusBackground=r("quickInputList.focusBackground",{dark:b(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:b(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},y.localize(161,null)),e.menuBorder=r("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(162,null)),e.menuForeground=r("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},y.localize(163,null)),e.menuBackground=r("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},y.localize(164,null)),e.menuSelectionForeground=r("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},y.localize(165,null)),e.menuSelectionBackground=r("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},y.localize(166,null)),e.menuSelectionBorder=r("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(167,null)),e.menuSeparatorBackground=r("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},y.localize(168,null)),e.toolbarHoverBackground=r("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},y.localize(169,null)),e.toolbarHoverOutline=r("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},y.localize(170,null)),e.toolbarActiveBackground=r("toolbar.activeBackground",{dark:p(e.toolbarHoverBackground,.1),light:S(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},y.localize(171,null)),e.snippetTabstopHighlightBackground=r("editor.snippetTabstopHighlightBackground",{dark:new N.Color(new N.RGBA(124,124,124,.3)),light:new N.Color(new N.RGBA(10,50,100,.2)),hcDark:new N.Color(new N.RGBA(124,124,124,.3)),hcLight:new N.Color(new N.RGBA(10,50,100,.2))},y.localize(172,null)),e.snippetTabstopHighlightBorder=r("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(173,null)),e.snippetFinalTabstopHighlightBackground=r("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(174,null)),e.snippetFinalTabstopHighlightBorder=r("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N.Color(new N.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},y.localize(175,null)),e.breadcrumbsForeground=r("breadcrumb.foreground",{light:m(e.foreground,.8),dark:m(e.foreground,.8),hcDark:m(e.foreground,.8),hcLight:m(e.foreground,.8)},y.localize(176,null)),e.breadcrumbsBackground=r("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},y.localize(177,null)),e.breadcrumbsFocusForeground=r("breadcrumb.focusForeground",{light:S(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},y.localize(178,null)),e.breadcrumbsActiveSelectionForeground=r("breadcrumb.activeSelectionForeground",{light:S(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},y.localize(179,null)),e.breadcrumbsPickerBackground=r("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},y.localize(180,null));const c=.5,u=N.Color.fromHex("#40C8AE").transparent(c),s=N.Color.fromHex("#40A6FF").transparent(c),l=N.Color.fromHex("#606060").transparent(.4),o=.4,h=1;e.mergeCurrentHeaderBackground=r("merge.currentHeaderBackground",{dark:u,light:u,hcDark:null,hcLight:null},y.localize(181,null),!0),e.mergeCurrentContentBackground=r("merge.currentContentBackground",{dark:m(e.mergeCurrentHeaderBackground,o),light:m(e.mergeCurrentHeaderBackground,o),hcDark:m(e.mergeCurrentHeaderBackground,o),hcLight:m(e.mergeCurrentHeaderBackground,o)},y.localize(182,null),!0),e.mergeIncomingHeaderBackground=r("merge.incomingHeaderBackground",{dark:s,light:s,hcDark:null,hcLight:null},y.localize(183,null),!0),e.mergeIncomingContentBackground=r("merge.incomingContentBackground",{dark:m(e.mergeIncomingHeaderBackground,o),light:m(e.mergeIncomingHeaderBackground,o),hcDark:m(e.mergeIncomingHeaderBackground,o),hcLight:m(e.mergeIncomingHeaderBackground,o)},y.localize(184,null),!0),e.mergeCommonHeaderBackground=r("merge.commonHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},y.localize(185,null),!0),e.mergeCommonContentBackground=r("merge.commonContentBackground",{dark:m(e.mergeCommonHeaderBackground,o),light:m(e.mergeCommonHeaderBackground,o),hcDark:m(e.mergeCommonHeaderBackground,o),hcLight:m(e.mergeCommonHeaderBackground,o)},y.localize(186,null),!0),e.mergeBorder=r("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},y.localize(187,null)),e.overviewRulerCurrentContentForeground=r("editorOverviewRuler.currentContentForeground",{dark:m(e.mergeCurrentHeaderBackground,h),light:m(e.mergeCurrentHeaderBackground,h),hcDark:e.mergeBorder,hcLight:e.mergeBorder},y.localize(188,null)),e.overviewRulerIncomingContentForeground=r("editorOverviewRuler.incomingContentForeground",{dark:m(e.mergeIncomingHeaderBackground,h),light:m(e.mergeIncomingHeaderBackground,h),hcDark:e.mergeBorder,hcLight:e.mergeBorder},y.localize(189,null)),e.overviewRulerCommonContentForeground=r("editorOverviewRuler.commonContentForeground",{dark:m(e.mergeCommonHeaderBackground,h),light:m(e.mergeCommonHeaderBackground,h),hcDark:e.mergeBorder,hcLight:e.mergeBorder},y.localize(190,null)),e.overviewRulerFindMatchForeground=r("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},y.localize(191,null),!0),e.overviewRulerSelectionHighlightForeground=r("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},y.localize(192,null),!0),e.minimapFindMatch=r("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},y.localize(193,null),!0),e.minimapSelectionOccurrenceHighlight=r("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},y.localize(194,null),!0),e.minimapSelection=r("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},y.localize(195,null),!0),e.minimapError=r("minimap.errorHighlight",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hcDark:new N.Color(new N.RGBA(255,50,50,1)),hcLight:"#B5200D"},y.localize(196,null)),e.minimapWarning=r("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},y.localize(197,null)),e.minimapBackground=r("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(198,null)),e.minimapForegroundOpacity=r("minimap.foregroundOpacity",{dark:N.Color.fromHex("#000f"),light:N.Color.fromHex("#000f"),hcDark:N.Color.fromHex("#000f"),hcLight:N.Color.fromHex("#000f")},y.localize(199,null)),e.minimapSliderBackground=r("minimapSlider.background",{light:m(e.scrollbarSliderBackground,.5),dark:m(e.scrollbarSliderBackground,.5),hcDark:m(e.scrollbarSliderBackground,.5),hcLight:m(e.scrollbarSliderBackground,.5)},y.localize(200,null)),e.minimapSliderHoverBackground=r("minimapSlider.hoverBackground",{light:m(e.scrollbarSliderHoverBackground,.5),dark:m(e.scrollbarSliderHoverBackground,.5),hcDark:m(e.scrollbarSliderHoverBackground,.5),hcLight:m(e.scrollbarSliderHoverBackground,.5)},y.localize(201,null)),e.minimapSliderActiveBackground=r("minimapSlider.activeBackground",{light:m(e.scrollbarSliderActiveBackground,.5),dark:m(e.scrollbarSliderActiveBackground,.5),hcDark:m(e.scrollbarSliderActiveBackground,.5),hcLight:m(e.scrollbarSliderActiveBackground,.5)},y.localize(202,null)),e.problemsErrorIconForeground=r("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},y.localize(203,null)),e.problemsWarningIconForeground=r("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},y.localize(204,null)),e.problemsInfoIconForeground=r("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},y.localize(205,null)),e.chartsForeground=r("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},y.localize(206,null)),e.chartsLines=r("charts.lines",{dark:m(e.foreground,.5),light:m(e.foreground,.5),hcDark:m(e.foreground,.5),hcLight:m(e.foreground,.5)},y.localize(207,null)),e.chartsRed=r("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},y.localize(208,null)),e.chartsBlue=r("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},y.localize(209,null)),e.chartsYellow=r("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},y.localize(210,null)),e.chartsOrange=r("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},y.localize(211,null)),e.chartsGreen=r("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},y.localize(212,null)),e.chartsPurple=r("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},y.localize(213,null));function f(z,P){var A,T,O;switch(z.op){case 0:return(A=I(z.value,P))===null||A===void 0?void 0:A.darken(z.factor);case 1:return(T=I(z.value,P))===null||T===void 0?void 0:T.lighten(z.factor);case 2:return(O=I(z.value,P))===null||O===void 0?void 0:O.transparent(z.factor);case 3:for(const F of z.values){const W=I(F,P);if(W)return W}return;case 5:return I(P.defines(z.if)?z.then:z.else,P);case 4:{const F=I(z.value,P);if(!F)return;const W=I(z.background,P);return W?F.isDarkerThan(W)?N.Color.getLighterColor(F,W,z.factor).transparent(z.transparency):N.Color.getDarkerColor(F,W,z.factor).transparent(z.transparency):F.transparent(z.factor*z.transparency)}default:throw(0,D.assertNever)(z)}}e.executeTransform=f;function S(z,P){return{op:0,value:z,factor:P}}e.darken=S;function p(z,P){return{op:1,value:z,factor:P}}e.lighten=p;function m(z,P){return{op:2,value:z,factor:P}}e.transparent=m;function b(...z){return{op:3,values:z}}e.oneOf=b;function L(z,P,A){return{op:5,if:z,then:P,else:A}}e.ifDefinedThenElse=L;function k(z,P,A,T){return{op:4,value:z,background:P,factor:A,transparency:T}}function I(z,P){if(z!==null){if(typeof z=="string")return z[0]==="#"?N.Color.fromHex(z):P.getColor(z);if(z instanceof N.Color)return z;if(typeof z=="object")return f(z,P)}}e.resolveColorValue=I,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const M=C.Registry.as(v.Extensions.JSONContribution);M.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const B=new w.RunOnceScheduler(()=>M.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{B.isScheduled()||B.schedule()})}),define(ee[147],te([1,0,7,136,66,12,2,30]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class C{constructor(f,S){this.x=f,this.y=S,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new d(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=C;class d{constructor(f,S){this.clientX=f,this.clientY=S,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=d;class g{constructor(f,S,p,m){this.x=f,this.y=S,this.width=p,this.height=m,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class i{constructor(f,S){this.x=f,this.y=S,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=i;function t(h){const f=w.getDomNodePagePosition(h);return new g(f.left,f.top,f.width,f.height)}e.createEditorPagePosition=t;function n(h,f,S){const p=f.width/h.offsetWidth,m=f.height/h.offsetHeight,b=(S.x-f.x)/p,L=(S.y-f.y)/m;return new i(b,L)}e.createCoordinatesRelativeToEditor=n;class a extends E.StandardMouseEvent{constructor(f,S,p){super(f),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=S,this.pos=new C(this.posx,this.posy),this.editorPos=t(p),this.relativePos=n(p,this.editorPos,this.pos)}}e.EditorMouseEvent=a;class r{constructor(f){this.a=f}b(f){return new a(f,!1,this.a)}onContextMenu(f,S){return w.addDisposableListener(f,"contextmenu",p=>{S(this.b(p))})}onMouseUp(f,S){return w.addDisposableListener(f,"mouseup",p=>{S(this.b(p))})}onMouseDown(f,S){return w.addDisposableListener(f,w.EventType.MOUSE_DOWN,p=>{S(this.b(p))})}onPointerDown(f,S){return w.addDisposableListener(f,w.EventType.POINTER_DOWN,p=>{S(this.b(p),p.pointerId)})}onMouseLeave(f,S){return w.addDisposableListener(f,w.EventType.MOUSE_LEAVE,p=>{S(this.b(p))})}onMouseMove(f,S){return w.addDisposableListener(f,"mousemove",p=>S(this.b(p)))}}e.EditorMouseEventFactory=r;class c{constructor(f){this.a=f}b(f){return new a(f,!1,this.a)}onPointerUp(f,S){return w.addDisposableListener(f,"pointerup",p=>{S(this.b(p))})}onPointerDown(f,S){return w.addDisposableListener(f,w.EventType.POINTER_DOWN,p=>{S(this.b(p),p.pointerId)})}onPointerLeave(f,S){return w.addDisposableListener(f,w.EventType.POINTER_LEAVE,p=>{S(this.b(p))})}onPointerMove(f,S){return w.addDisposableListener(f,"pointermove",p=>S(this.b(p)))}}e.EditorPointerEventFactory=c;class u extends y.Disposable{constructor(f){super(),this.a=f,this.b=this.q(new N.GlobalPointerMoveMonitor),this.c=null}startMonitoring(f,S,p,m,b){this.c=w.addStandardDisposableListener(document,"keydown",L=>{L.toKeyCodeChord().isModifierKey()||this.b.stopMonitoring(!0,L.browserEvent)},!0),this.b.startMonitoring(f,S,p,L=>{m(new a(L,!0,this.a))},L=>{this.c.dispose(),b(L)})}stopMonitoring(){this.b.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=u;class s{constructor(f){this.g=f,this.b=++s.a,this.c=0,this.d=new Map,this.f=new D.RunOnceScheduler(()=>this.j(),1e3)}createClassNameRef(f){const S=this.h(f);return S.increaseRefCount(),{className:S.className,dispose:()=>{S.decreaseRefCount(),this.f.schedule()}}}h(f){const S=this.i(f);let p=this.d.get(S);if(!p){const m=this.c++;p=new l(S,`dyn-rule-${this.b}-${m}`,w.isInShadowDOM(this.g.getContainerDomNode())?this.g.getContainerDomNode():void 0,f),this.d.set(S,p)}return p}i(f){return JSON.stringify(f)}j(){for(const f of this.d.values())f.hasReferences()||(this.d.delete(f.key),f.dispose())}}s.a=0,e.DynamicCssRules=s;class l{constructor(f,S,p,m){this.key=f,this.className=S,this.properties=m,this.a=0,this.b=w.createStyleSheet(p),this.b.textContent=this.c(this.className,this.properties)}c(f,S){let p=`.${f} {`;for(const m in S){const b=S[m];let L;typeof b=="object"?L=(0,v.asCssVariable)(b.id):L=b,p+=`
	${o(m)}: ${L};`}return p+=`
}`,p}dispose(){this.b.remove()}increaseRefCount(){this.a++}decreaseRefCount(){this.a--}hasReferences(){return this.a>0}}function o(h){return h.replace(/(^[A-Z])/,([f])=>f.toLowerCase()).replace(/([A-Z])/g,([f])=>`-${f.toLowerCase()}`)}}),define(ee[761],te([1,0,7,35,136,2,16,9,212,49,39,3,247,288,80,30,22,60,434,48,92,381]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const h=140,f=2;class S{constructor(P,A,T){const O=P.options,F=O.get(136),W=O.get(138),V=W.minimap,R=O.get(47),$=O.get(69);this.renderMinimap=V.renderMinimap,this.size=$.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=O.get(99),this.paddingTop=O.get(80).top,this.paddingBottom=O.get(80).bottom,this.showSlider=$.showSlider,this.autohide=$.autohide,this.pixelRatio=F,this.typicalHalfwidthCharacterWidth=R.typicalHalfwidthCharacterWidth,this.lineHeight=O.get(63),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=W.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,o.once)(()=>s.MinimapCharRendererFactory.create(this.fontScale,R.fontFamily)),this.defaultBackgroundColor=T.getColor(2),this.backgroundColor=S.c(A,this.defaultBackgroundColor),this.foregroundAlpha=S.d(A)}static c(P,A){const T=P.getColor(r.minimapBackground);return T?new t.RGBA8(T.rgba.r,T.rgba.g,T.rgba.b,Math.round(255*T.rgba.a)):A}static d(P){const A=P.getColor(r.minimapForegroundOpacity);return A?t.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(P){return this.renderMinimap===P.renderMinimap&&this.size===P.size&&this.minimapHeightIsEditorHeight===P.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===P.scrollBeyondLastLine&&this.paddingTop===P.paddingTop&&this.paddingBottom===P.paddingBottom&&this.showSlider===P.showSlider&&this.autohide===P.autohide&&this.pixelRatio===P.pixelRatio&&this.typicalHalfwidthCharacterWidth===P.typicalHalfwidthCharacterWidth&&this.lineHeight===P.lineHeight&&this.minimapLeft===P.minimapLeft&&this.minimapWidth===P.minimapWidth&&this.minimapHeight===P.minimapHeight&&this.canvasInnerWidth===P.canvasInnerWidth&&this.canvasInnerHeight===P.canvasInnerHeight&&this.canvasOuterWidth===P.canvasOuterWidth&&this.canvasOuterHeight===P.canvasOuterHeight&&this.isSampling===P.isSampling&&this.editorHeight===P.editorHeight&&this.fontScale===P.fontScale&&this.minimapLineHeight===P.minimapLineHeight&&this.minimapCharWidth===P.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(P.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(P.backgroundColor)&&this.foregroundAlpha===P.foregroundAlpha}}class p{constructor(P,A,T,O,F,W,V,R,$){this.scrollTop=P,this.scrollHeight=A,this.sliderNeeded=T,this.c=O,this.sliderTop=F,this.sliderHeight=W,this.topPaddingLineCount=V,this.startLineNumber=R,this.endLineNumber=$}getDesiredScrollTopFromDelta(P){return Math.round(this.scrollTop+P/this.c)}getDesiredScrollTopFromTouchLocation(P){return Math.round((P-this.sliderHeight/2)/this.c)}intersectWithViewport(P){const A=Math.max(this.startLineNumber,P.startLineNumber),T=Math.min(this.endLineNumber,P.endLineNumber);return A>T?null:[A,T]}getYForLineNumber(P,A){return+(P-this.startLineNumber+this.topPaddingLineCount)*A}static create(P,A,T,O,F,W,V,R,$,X,ne){const ae=P.pixelRatio,ie=P.minimapLineHeight,le=Math.floor(P.canvasInnerHeight/ie),J=P.lineHeight;if(P.minimapHeightIsEditorHeight){let G=R*P.lineHeight+P.paddingTop+P.paddingBottom;P.scrollBeyondLastLine&&(G+=Math.max(0,F-P.lineHeight-P.paddingBottom));const Z=Math.max(1,Math.floor(F*F/G)),U=Math.max(0,P.minimapHeight-Z),j=U/(X-F),H=$*j,_=U>0,ce=Math.floor(P.canvasInnerHeight/P.minimapLineHeight),ue=Math.floor(P.paddingTop/P.lineHeight);return new p($,X,_,j,H,Z,ue,1,Math.min(V,ce))}let x;if(W&&T!==V){const G=T-A+1;x=Math.floor(G*ie/ae)}else{const G=F/J;x=Math.floor(G*ie/ae)}const q=Math.floor(P.paddingTop/J);let Y=Math.floor(P.paddingBottom/J);if(P.scrollBeyondLastLine){const G=F/J;Y=Math.max(Y,G-1)}let Q;if(Y>0){const G=F/J;Q=(q+V+Y-G-1)*ie/ae}else Q=Math.max(0,(q+V)*ie/ae-x);Q=Math.min(P.minimapHeight-x,Q);const re=Q/(X-F),oe=$*re;if(le>=q+V+Y){const G=Q>0;return new p($,X,G,re,oe,x,q,1,V)}else{let G;A>1?G=A+q:G=Math.max(1,$/J);let Z,U=Math.max(1,Math.floor(G-oe*ae/ie));U<q?(Z=q-U+1,U=1):(Z=0,U=Math.max(1,U-q)),ne&&ne.scrollHeight===X&&(ne.scrollTop>$&&(U=Math.min(U,ne.startLineNumber),Z=Math.max(Z,ne.topPaddingLineCount)),ne.scrollTop<$&&(U=Math.max(U,ne.startLineNumber),Z=Math.min(Z,ne.topPaddingLineCount)));const j=Math.min(V,U-Z+le-1),H=($-O)/J;let _;return $>P.paddingTop?_=(A-U+Z+H)*ie/ae:_=$/P.paddingTop*(Z+H)*ie/ae,new p($,X,!0,re,_,x,Z,U,j)}}}class m{constructor(P){this.dy=P}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}m.INVALID=new m(-1);class b{constructor(P,A,T){this.renderedLayout=P,this.c=A,this.d=new C.RenderedLinesCollection(()=>m.INVALID),this.d._set(P.startLineNumber,T)}linesEquals(P){if(!this.scrollEquals(P))return!1;const T=this.d._get().lines;for(let O=0,F=T.length;O<F;O++)if(T[O].dy===-1)return!1;return!0}scrollEquals(P){return this.renderedLayout.startLineNumber===P.startLineNumber&&this.renderedLayout.endLineNumber===P.endLineNumber}_get(){const P=this.d._get();return{imageData:this.c,rendLineNumberStart:P.rendLineNumberStart,lines:P.lines}}onLinesChanged(P,A){return this.d.onLinesChanged(P,A)}onLinesDeleted(P,A){this.d.onLinesDeleted(P,A)}onLinesInserted(P,A){this.d.onLinesInserted(P,A)}onTokensChanged(P){return this.d.onTokensChanged(P)}}class L{constructor(P,A,T,O){this.c=L.h(A,T,O),this.d=[P.createImageData(A,T),P.createImageData(A,T)],this.f=0}getBuffer(){this.f=1-this.f;const P=this.d[this.f];return P.data.set(this.c),P}static h(P,A,T){const O=T.r,F=T.g,W=T.b,V=T.a,R=new Uint8ClampedArray(P*A*4);let $=0;for(let X=0;X<A;X++)for(let ne=0;ne<P;ne++)R[$]=O,R[$+1]=F,R[$+2]=W,R[$+3]=V,$+=4;return R}}class k{static compute(P,A,T){if(P.renderMinimap===0||!P.isSampling)return[null,[]];const{minimapLineCount:O}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:P.scrollBeyondLastLine,paddingTop:P.paddingTop,paddingBottom:P.paddingBottom,height:P.editorHeight,lineHeight:P.lineHeight,pixelRatio:P.pixelRatio}),F=A/O,W=F/2;if(!T||T.minimapLines.length===0){const x=[];if(x[0]=1,O>1){for(let q=0,Y=O-1;q<Y;q++)x[q]=Math.round(q*F+W);x[O-1]=A}return[new k(F,x),[]]}const V=T.minimapLines,R=V.length,$=[];let X=0,ne=0,ae=1;const ie=10;let le=[],J=null;for(let x=0;x<O;x++){const q=Math.max(ae,Math.round(x*F)),Y=Math.max(q,Math.round((x+1)*F));for(;X<R&&V[X]<q;){if(le.length<ie){const re=X+1+ne;J&&J.type==="deleted"&&J._oldIndex===X-1?J.deleteToLineNumber++:(J={type:"deleted",_oldIndex:X,deleteFromLineNumber:re,deleteToLineNumber:re},le.push(J)),ne--}X++}let Q;if(X<R&&V[X]<=Y)Q=V[X],X++;else if(x===0?Q=1:x+1===O?Q=A:Q=Math.round(x*F+W),le.length<ie){const re=X+1+ne;J&&J.type==="inserted"&&J._i===x-1?J.insertToLineNumber++:(J={type:"inserted",_i:x,insertFromLineNumber:re,insertToLineNumber:re},le.push(J)),ne++}$[x]=Q,ae=Q}if(le.length<ie)for(;X<R;){const x=X+1+ne;J&&J.type==="deleted"&&J._oldIndex===X-1?J.deleteToLineNumber++:(J={type:"deleted",_oldIndex:X,deleteFromLineNumber:x,deleteToLineNumber:x},le.push(J)),ne--,X++}else le=[{type:"flush"}];return[new k(F,$),le]}constructor(P,A){this.samplingRatio=P,this.minimapLines=A}modelLineToMinimapLine(P){return Math.min(this.minimapLines.length,Math.max(1,Math.round(P/this.samplingRatio)))}modelLineRangeToMinimapLineRange(P,A){let T=this.modelLineToMinimapLine(P)-1;for(;T>0&&this.minimapLines[T-1]>=P;)T--;let O=this.modelLineToMinimapLine(A)-1;for(;O+1<this.minimapLines.length&&this.minimapLines[O+1]<=A;)O++;if(T===O){const F=this.minimapLines[T];if(F<P||F>A)return null}return[T+1,O+1]}decorationLineRangeToMinimapLineRange(P,A){let T=this.modelLineToMinimapLine(P),O=this.modelLineToMinimapLine(A);return P!==A&&O===T&&(O===this.minimapLines.length?T>1&&T--:O++),[T,O]}onLinesDeleted(P){const A=P.toLineNumber-P.fromLineNumber+1;let T=this.minimapLines.length,O=0;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<P.fromLineNumber);F--)this.minimapLines[F]<=P.toLineNumber?(this.minimapLines[F]=Math.max(1,P.fromLineNumber-1),T=Math.min(T,F),O=Math.max(O,F)):this.minimapLines[F]-=A;return[T,O]}onLinesInserted(P){const A=P.toLineNumber-P.fromLineNumber+1;for(let T=this.minimapLines.length-1;T>=0&&!(this.minimapLines[T]<P.fromLineNumber);T--)this.minimapLines[T]+=A}}class I extends d.ViewPart{constructor(P){super(P),this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this.c=[],this.k=null,this.options=new S(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=k.compute(this.options,this._context.viewModel.getLineCount(),null);this.m=A,this.n=!1,this.p=new M(P.theme,this)}dispose(){this.p.dispose(),super.dispose()}getDomNode(){return this.p.getDomNode()}s(){const P=new S(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(P)?!1:(this.options=P,this.t(),this.p.onDidChangeOptions(),!0)}onConfigurationChanged(P){return this.s()}onCursorStateChanged(P){return this.c=P.selections,this.k=null,this.p.onSelectionChanged()}onDecorationsChanged(P){return P.affectsMinimap?this.p.onDecorationsChanged():!1}onFlushed(P){return this.m&&(this.n=!0),this.p.onFlushed()}onLinesChanged(P){if(this.m){const A=this.m.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.fromLineNumber+P.count-1);return A?this.p.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this.p.onLinesChanged(P.fromLineNumber,P.count)}onLinesDeleted(P){if(this.m){const[A,T]=this.m.onLinesDeleted(P);return A<=T&&this.p.onLinesChanged(A+1,T-A+1),this.n=!0,!0}else return this.p.onLinesDeleted(P.fromLineNumber,P.toLineNumber)}onLinesInserted(P){return this.m?(this.m.onLinesInserted(P),this.n=!0,!0):this.p.onLinesInserted(P.fromLineNumber,P.toLineNumber)}onScrollChanged(P){return this.p.onScrollChanged()}onThemeChanged(P){return this.p.onThemeChanged(),this.s(),!0}onTokensChanged(P){if(this.m){const A=[];for(const T of P.ranges){const O=this.m.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.toLineNumber);O&&A.push({fromLineNumber:O[0],toLineNumber:O[1]})}return A.length?this.p.onTokensChanged(A):!1}else return this.p.onTokensChanged(P.ranges)}onTokensColorsChanged(P){return this.s(),this.p.onTokensColorsChanged()}onZonesChanged(P){return this.p.onZonesChanged()}prepareRender(P){this.n&&(this.n=!1,this.t())}render(P){let A=P.visibleRange.startLineNumber,T=P.visibleRange.endLineNumber;this.m&&(A=this.m.modelLineToMinimapLine(A),T=this.m.modelLineToMinimapLine(T));const O={viewportContainsWhitespaceGaps:P.viewportData.whitespaceViewportData.length>0,scrollWidth:P.scrollWidth,scrollHeight:P.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:T,viewportStartLineNumberVerticalOffset:P.getVerticalOffsetForLineNumber(A),scrollTop:P.scrollTop,scrollLeft:P.scrollLeft,viewportWidth:P.viewportWidth,viewportHeight:P.viewportHeight};this.p.render(O)}t(){this.k=null;const P=Boolean(this.m),[A,T]=k.compute(this.options,this._context.viewModel.getLineCount(),this.m);if(this.m=A,P&&this.m)for(const O of T)switch(O.type){case"deleted":this.p.onLinesDeleted(O.deleteFromLineNumber,O.deleteToLineNumber);break;case"inserted":this.p.onLinesInserted(O.insertFromLineNumber,O.insertToLineNumber);break;case"flush":this.p.onFlushed();break}}getLineCount(){return this.m?this.m.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(P){return this.m?this._context.viewModel.getLineContent(this.m.minimapLines[P-1]):this._context.viewModel.getLineContent(P)}getLineMaxColumn(P){return this.m?this._context.viewModel.getLineMaxColumn(this.m.minimapLines[P-1]):this._context.viewModel.getLineMaxColumn(P)}getMinimapLinesRenderingData(P,A,T){if(this.m){const O=[];for(let F=0,W=A-P+1;F<W;F++)T[F]?O[F]=this._context.viewModel.getViewLineData(this.m.minimapLines[P+F-1]):O[F]=null;return O}return this._context.viewModel.getMinimapLinesRenderingData(P,A,T).data}getSelections(){if(this.k===null)if(this.m){this.k=[];for(const P of this.c){const[A,T]=this.m.decorationLineRangeToMinimapLineRange(P.startLineNumber,P.endLineNumber);this.k.push(new c.Selection(A,P.startColumn,T,P.endColumn))}}else this.k=this.c;return this.k}getMinimapDecorationsInViewport(P,A){let T;if(this.m){const F=this.m.minimapLines[P-1],W=this.m.minimapLines[A-1];T=new i.Range(F,1,W,this._context.viewModel.getLineMaxColumn(W))}else T=new i.Range(P,1,A,this._context.viewModel.getLineMaxColumn(A));const O=this._context.viewModel.getDecorationsInViewport(T,!0);if(this.m){const F=[];for(const W of O){if(!W.options.minimap)continue;const V=W.range,R=this.m.modelLineToMinimapLine(V.startLineNumber),$=this.m.modelLineToMinimapLine(V.endLineNumber);F.push(new a.ViewModelDecoration(new i.Range(R,V.startColumn,$,V.endColumn),W.options))}return F}return O}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(P){this.m&&(P=this.m.minimapLines[P-1]),this._context.viewModel.revealRange("mouse",!1,new i.Range(P,1,P,1),1,0)}setScrollTop(P){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:P},1)}}e.Minimap=I;class M extends D.Disposable{constructor(P,A){super(),this.G=!1,this.H=!1,this.c=P,this.h=A,this.D=null,this.I=null,this.F=this.c.getColor(r.minimapSelection),this.k=(0,N.createFastDomNode)(document.createElement("div")),d.PartFingerprints.write(this.k,8),this.k.setClassName(this.M()),this.k.setPosition("absolute"),this.k.setAttribute("role","presentation"),this.k.setAttribute("aria-hidden","true"),this.l=(0,N.createFastDomNode)(document.createElement("div")),this.l.setClassName("minimap-shadow-hidden"),this.k.appendChild(this.l),this.m=(0,N.createFastDomNode)(document.createElement("canvas")),this.m.setPosition("absolute"),this.m.setLeft(0),this.k.appendChild(this.m),this.n=(0,N.createFastDomNode)(document.createElement("canvas")),this.n.setPosition("absolute"),this.n.setClassName("minimap-decorations-layer"),this.n.setLeft(0),this.k.appendChild(this.n),this.p=(0,N.createFastDomNode)(document.createElement("div")),this.p.setPosition("absolute"),this.p.setClassName("minimap-slider"),this.p.setLayerHinting(!0),this.p.setContain("strict"),this.k.appendChild(this.p),this.s=(0,N.createFastDomNode)(document.createElement("div")),this.s.setPosition("absolute"),this.s.setClassName("minimap-slider-horizontal"),this.p.appendChild(this.s),this.N(),this.t=w.addStandardDisposableListener(this.k.domNode,w.EventType.POINTER_DOWN,T=>{if(T.preventDefault(),this.h.options.renderMinimap===0||!this.D)return;if(this.h.options.size!=="proportional"){if(T.button===0&&this.D){const $=w.getDomNodePagePosition(this.p.domNode),X=$.top+$.height/2;this.J(T,X,this.D.renderedLayout)}return}const F=this.h.options.minimapLineHeight,W=this.h.options.canvasInnerHeight/this.h.options.canvasOuterHeight*T.offsetY;let R=Math.floor(W/F)+this.D.renderedLayout.startLineNumber-this.D.renderedLayout.topPaddingLineCount;R=Math.min(R,this.h.getLineCount()),this.h.revealLineNumber(R)}),this.u=new E.GlobalPointerMoveMonitor,this.v=w.addStandardDisposableListener(this.p.domNode,w.EventType.POINTER_DOWN,T=>{T.preventDefault(),T.stopPropagation(),T.button===0&&this.D&&this.J(T,T.pageY,this.D.renderedLayout)}),this.w=u.Gesture.addTarget(this.k.domNode),this.z=w.addDisposableListener(this.k.domNode,u.EventType.Start,T=>{T.preventDefault(),T.stopPropagation(),this.D&&(this.p.toggleClassName("active",!0),this.H=!0,this.L(T))},{passive:!1}),this.B=w.addDisposableListener(this.k.domNode,u.EventType.Change,T=>{T.preventDefault(),T.stopPropagation(),this.D&&this.H&&this.L(T)},{passive:!1}),this.C=w.addStandardDisposableListener(this.k.domNode,u.EventType.End,T=>{T.preventDefault(),T.stopPropagation(),this.H=!1,this.p.toggleClassName("active",!1)})}J(P,A,T){if(!P.target||!(P.target instanceof Element))return;const O=P.pageX;this.p.toggleClassName("active",!0);const F=(W,V)=>{const R=w.getDomNodePagePosition(this.k.domNode),$=Math.min(Math.abs(V-O),Math.abs(V-R.left),Math.abs(V-R.left-R.width));if(y.isWindows&&$>h){this.h.setScrollTop(T.scrollTop);return}const X=W-A;this.h.setScrollTop(T.getDesiredScrollTopFromDelta(X))};P.pageY!==A&&F(P.pageY,O),this.u.startMonitoring(P.target,P.pointerId,P.buttons,W=>F(W.pageY,W.pageX),()=>{this.p.toggleClassName("active",!1)})}L(P){const A=this.k.domNode.getBoundingClientRect().top,T=this.D.renderedLayout.getDesiredScrollTopFromTouchLocation(P.pageY-A);this.h.setScrollTop(T)}dispose(){this.t.dispose(),this.u.dispose(),this.v.dispose(),this.w.dispose(),this.z.dispose(),this.B.dispose(),this.C.dispose(),super.dispose()}M(){const P=["minimap"];return this.h.options.showSlider==="always"?P.push("slider-always"):P.push("slider-mouseover"),this.h.options.autohide&&P.push("autohide"),P.join(" ")}getDomNode(){return this.k}N(){this.k.setLeft(this.h.options.minimapLeft),this.k.setWidth(this.h.options.minimapWidth),this.k.setHeight(this.h.options.minimapHeight),this.l.setHeight(this.h.options.minimapHeight),this.m.setWidth(this.h.options.canvasOuterWidth),this.m.setHeight(this.h.options.canvasOuterHeight),this.m.domNode.width=this.h.options.canvasInnerWidth,this.m.domNode.height=this.h.options.canvasInnerHeight,this.n.setWidth(this.h.options.canvasOuterWidth),this.n.setHeight(this.h.options.canvasOuterHeight),this.n.domNode.width=this.h.options.canvasInnerWidth,this.n.domNode.height=this.h.options.canvasInnerHeight,this.p.setWidth(this.h.options.minimapWidth)}O(){return this.I||this.h.options.canvasInnerWidth>0&&this.h.options.canvasInnerHeight>0&&(this.I=new L(this.m.domNode.getContext("2d"),this.h.options.canvasInnerWidth,this.h.options.canvasInnerHeight,this.h.options.backgroundColor)),this.I?this.I.getBuffer():null}onDidChangeOptions(){this.D=null,this.I=null,this.N(),this.k.setClassName(this.M())}onSelectionChanged(){return this.G=!0,!0}onDecorationsChanged(){return this.G=!0,!0}onFlushed(){return this.D=null,!0}onLinesChanged(P,A){return this.D?this.D.onLinesChanged(P,A):!1}onLinesDeleted(P,A){var T;return(T=this.D)===null||T===void 0||T.onLinesDeleted(P,A),!0}onLinesInserted(P,A){var T;return(T=this.D)===null||T===void 0||T.onLinesInserted(P,A),!0}onScrollChanged(){return this.G=!0,!0}onThemeChanged(){return this.F=this.c.getColor(r.minimapSelection),this.G=!0,!0}onTokensChanged(P){return this.D?this.D.onTokensChanged(P):!1}onTokensColorsChanged(){return this.D=null,this.I=null,!0}onZonesChanged(){return this.D=null,!0}render(P){if(this.h.options.renderMinimap===0){this.l.setClassName("minimap-shadow-hidden"),this.s.setWidth(0),this.s.setHeight(0);return}P.scrollLeft+P.viewportWidth>=P.scrollWidth?this.l.setClassName("minimap-shadow-hidden"):this.l.setClassName("minimap-shadow-visible");const T=p.create(this.h.options,P.viewportStartLineNumber,P.viewportEndLineNumber,P.viewportStartLineNumberVerticalOffset,P.viewportHeight,P.viewportContainsWhitespaceGaps,this.h.getLineCount(),this.h.getRealLineCount(),P.scrollTop,P.scrollHeight,this.D?this.D.renderedLayout:null);this.p.setDisplay(T.sliderNeeded?"block":"none"),this.p.setTop(T.sliderTop),this.p.setHeight(T.sliderHeight),this.s.setLeft(0),this.s.setWidth(this.h.options.minimapWidth),this.s.setTop(0),this.s.setHeight(T.sliderHeight),this.P(T),this.D=this.Z(T)}P(P){if(this.G){this.G=!1;const A=this.h.getSelections();A.sort(i.Range.compareRangesUsingStarts);const T=this.h.getMinimapDecorationsInViewport(P.startLineNumber,P.endLineNumber);T.sort((ae,ie)=>(ae.options.zIndex||0)-(ie.options.zIndex||0));const{canvasInnerWidth:O,canvasInnerHeight:F}=this.h.options,W=this.h.options.minimapLineHeight,V=this.h.options.minimapCharWidth,R=this.h.getOptions().tabSize,$=this.n.domNode.getContext("2d");$.clearRect(0,0,O,F);const X=new B(P.startLineNumber,P.endLineNumber,!1);this.Q($,A,X,P,W),this.R($,T,X,P,W);const ne=new B(P.startLineNumber,P.endLineNumber,null);this.S($,A,ne,P,W,R,V,O),this.U($,T,ne,P,W,R,V,O)}}Q(P,A,T,O,F){if(!this.F||this.F.isTransparent())return;P.fillStyle=this.F.transparent(.5).toString();let W=0,V=0;for(const R of A){const $=O.intersectWithViewport(R);if(!$)continue;const[X,ne]=$;for(let le=X;le<=ne;le++)T.set(le,!0);const ae=O.getYForLineNumber(X,F),ie=O.getYForLineNumber(ne,F);V>=ae||(V>W&&P.fillRect(g.MINIMAP_GUTTER_WIDTH,W,P.canvas.width,V-W),W=ae),V=ie}V>W&&P.fillRect(g.MINIMAP_GUTTER_WIDTH,W,P.canvas.width,V-W)}R(P,A,T,O,F){const W=new Map;for(let V=A.length-1;V>=0;V--){const R=A[V],$=R.options.minimap;if(!$||$.position!==l.MinimapPosition.Inline)continue;const X=O.intersectWithViewport(R.range);if(!X)continue;const[ne,ae]=X,ie=$.getColor(this.c.value);if(!ie||ie.isTransparent())continue;let le=W.get(ie.toString());le||(le=ie.transparent(.5).toString(),W.set(ie.toString(),le)),P.fillStyle=le;for(let J=ne;J<=ae;J++){if(T.has(J))continue;T.set(J,!0);const x=O.getYForLineNumber(ne,F);P.fillRect(g.MINIMAP_GUTTER_WIDTH,x,P.canvas.width,F)}}}S(P,A,T,O,F,W,V,R){if(!(!this.F||this.F.isTransparent()))for(const $ of A){const X=O.intersectWithViewport($);if(!X)continue;const[ne,ae]=X;for(let ie=ne;ie<=ae;ie++)this.W(P,T,$,this.F,O,ie,F,F,W,V,R)}}U(P,A,T,O,F,W,V,R){for(const $ of A){const X=$.options.minimap;if(!X)continue;const ne=O.intersectWithViewport($.range);if(!ne)continue;const[ae,ie]=ne,le=X.getColor(this.c.value);if(!(!le||le.isTransparent()))for(let J=ae;J<=ie;J++)switch(X.position){case l.MinimapPosition.Inline:this.W(P,T,$.range,le,O,J,F,F,W,V,R);continue;case l.MinimapPosition.Gutter:{const x=O.getYForLineNumber(J,F),q=2;this.Y(P,le,q,x,f,F);continue}}}}W(P,A,T,O,F,W,V,R,$,X,ne){const ae=F.getYForLineNumber(W,R);if(ae+V<0||ae>this.h.options.canvasInnerHeight)return;const{startLineNumber:ie,endLineNumber:le}=T,J=ie===W?T.startColumn:1,x=le===W?T.endColumn:this.h.getLineMaxColumn(W),q=this.X(A,W,J,$,X,ne),Y=this.X(A,W,x,$,X,ne);this.Y(P,O,q,ae,Y-q,V)}X(P,A,T,O,F,W){if(T===1)return g.MINIMAP_GUTTER_WIDTH;if((T-1)*F>=W)return W;let R=P.get(A);if(!R){const $=this.h.getLineContent(A);R=[g.MINIMAP_GUTTER_WIDTH];let X=g.MINIMAP_GUTTER_WIDTH;for(let ne=1;ne<$.length+1;ne++){const ae=$.charCodeAt(ne-1),ie=ae===9?O*F:v.isFullWidthCharacter(ae)?2*F:F,le=X+ie;if(le>=W){R[ne]=W;break}R[ne]=le,X=le}P.set(A,R)}return T-1<R.length?R[T-1]:W}Y(P,A,T,O,F,W){P.fillStyle=A&&A.toString()||"",P.fillRect(T,O,F,W)}Z(P){const A=P.startLineNumber,T=P.endLineNumber,O=this.h.options.minimapLineHeight;if(this.D&&this.D.linesEquals(P)){const he=this.D._get();return new b(P,he.imageData,he.lines)}const F=this.O();if(!F)return null;const[W,V,R]=M.ab(F,P.topPaddingLineCount,A,T,O,this.D),$=this.h.getMinimapLinesRenderingData(A,T,R),X=this.h.getOptions().tabSize,ne=this.h.options.defaultBackgroundColor,ae=this.h.options.backgroundColor,ie=this.h.options.foregroundAlpha,le=this.h.tokensColorTracker,J=le.backgroundIsLight(),x=this.h.options.renderMinimap,q=this.h.options.charRenderer(),Y=this.h.options.fontScale,Q=this.h.options.minimapCharWidth,oe=(x===1?2:2+1)*Y,G=O>oe?Math.floor((O-oe)/2):0,Z=ae.a/255,U=new t.RGBA8(Math.round((ae.r-ne.r)*Z+ne.r),Math.round((ae.g-ne.g)*Z+ne.g),Math.round((ae.b-ne.b)*Z+ne.b),255);let j=P.topPaddingLineCount*O;const H=[];for(let he=0,me=T-A+1;he<me;he++)R[he]&&M.bb(F,U,ae.a,J,x,Q,le,ie,q,j,G,X,$[he],Y,O),H[he]=new m(j),j+=O;const _=W===-1?0:W,ue=(V===-1?F.height:V)-_;return this.m.domNode.getContext("2d").putImageData(F,0,0,0,_,F.width,ue),new b(P,F,H)}static ab(P,A,T,O,F,W){const V=[];if(!W){for(let j=0,H=O-T+1;j<H;j++)V[j]=!0;return[-1,-1,V]}const R=W._get(),$=R.imageData.data,X=R.rendLineNumberStart,ne=R.lines,ae=ne.length,ie=P.width,le=P.data,J=(O-T+1)*F*ie*4;let x=-1,q=-1,Y=-1,Q=-1,re=-1,oe=-1,G=A*F;for(let j=T;j<=O;j++){const H=j-T,_=j-X,ce=_>=0&&_<ae?ne[_].dy:-1;if(ce===-1){V[H]=!0,G+=F;continue}const ue=ce*ie*4,se=(ce+F)*ie*4,he=G*ie*4,me=(G+F)*ie*4;Q===ue&&oe===he?(Q=se,oe=me):(Y!==-1&&(le.set($.subarray(Y,Q),re),x===-1&&Y===0&&Y===re&&(x=Q),q===-1&&Q===J&&Y===re&&(q=Y)),Y=ue,Q=se,re=he,oe=me),V[H]=!1,G+=F}Y!==-1&&(le.set($.subarray(Y,Q),re),x===-1&&Y===0&&Y===re&&(x=Q),q===-1&&Q===J&&Y===re&&(q=Y));const Z=x===-1?-1:x/(ie*4),U=q===-1?-1:q/(ie*4);return[Z,U,V]}static bb(P,A,T,O,F,W,V,R,$,X,ne,ae,ie,le,J){const x=ie.content,q=ie.tokens,Y=P.width-W,Q=J===1;let re=g.MINIMAP_GUTTER_WIDTH,oe=0,G=0;for(let Z=0,U=q.getCount();Z<U;Z++){const j=q.getEndOffset(Z),H=q.getForeground(Z),_=V.getColor(H);for(;oe<j;oe++){if(re>Y)return;const ce=x.charCodeAt(oe);if(ce===9){const ue=ae-(oe+G)%ae;G+=ue-1,re+=ue*W}else if(ce===32)re+=W;else{const ue=v.isFullWidthCharacter(ce)?2:1;for(let se=0;se<ue;se++)if(F===2?$.blockRenderChar(P,re,X+ne,_,R,A,T,Q):$.renderChar(P,re,X+ne,ce,_,R,A,T,le,O,Q),re+=W,re>Y)return}}}}}class B{constructor(P,A,T){this.c=P,this.d=A,this.f=T,this.h=[];for(let O=0,F=this.d-this.c+1;O<F;O++)this.h[O]=T}has(P){return this.get(P)!==this.f}set(P,A){P<this.c||P>this.d||(this.h[P-this.c]=A)}get(P){return P<this.c||P>this.d?this.f:this.h[P-this.c]}}}),define(ee[762],te([1,0,44,7,136,67,36,6,2,592,30,395]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=N.$;class t extends C.Disposable{constructor(o,h,f){super(),this.k=h,this.c=i(".colorpicker-header"),N.append(o,this.c),this.i=N.append(this.c,i(".picked-color"));const S=(0,d.localize)(0,null);this.i.setAttribute("title",S);const p=N.append(this.c,i(".original-color"));p.style.backgroundColor=y.Color.Format.CSS.format(this.k.originalColor)||"",this.j=f.getColorTheme().getColor(g.editorHoverBackground)||y.Color.white,this.q(f.onDidColorThemeChange(m=>{this.j=m.getColor(g.editorHoverBackground)||y.Color.white})),this.q(N.addDisposableListener(this.i,N.EventType.CLICK,()=>this.k.selectNextColorPresentation())),this.q(N.addDisposableListener(p,N.EventType.CLICK,()=>{this.k.color=this.k.originalColor,this.k.flushColor()})),this.q(h.onDidChangeColor(this.l,this)),this.q(h.onDidChangePresentation(this.m,this)),this.i.style.backgroundColor=y.Color.Format.CSS.format(h.color)||"",this.i.classList.toggle("light",h.color.rgba.a<.5?this.j.isLighter():h.color.isLighter()),this.l(this.k.color)}l(o){this.i.style.backgroundColor=y.Color.Format.CSS.format(o)||"",this.i.classList.toggle("light",o.rgba.a<.5?this.j.isLighter():o.isLighter()),this.m()}m(){this.i.textContent=this.k.presentation?this.k.presentation.label:"",this.i.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class n extends C.Disposable{constructor(o,h,f){super(),this.l=h,this.m=f,this.c=i(".colorpicker-body"),N.append(o,this.c),this.i=new a(this.c,this.l,this.m),this.q(this.i),this.q(this.i.onDidChange(this.p,this)),this.q(this.i.onColorFlushed(this.n,this)),this.k=new c(this.c,this.l),this.q(this.k),this.q(this.k.onDidChange(this.t,this)),this.q(this.k.onColorFlushed(this.n,this)),this.j=new u(this.c,this.l),this.q(this.j),this.q(this.j.onDidChange(this.u,this)),this.q(this.j.onColorFlushed(this.n,this))}n(){this.l.flushColor()}p({s:o,v:h}){const f=this.l.color.hsva;this.l.color=new y.Color(new y.HSVA(f.h,o,h,f.a))}t(o){const h=this.l.color.hsva;this.l.color=new y.Color(new y.HSVA(h.h,h.s,h.v,o))}u(o){const h=this.l.color.hsva,f=(1-o)*360;this.l.color=new y.Color(new y.HSVA(f===360?0:f,h.s,h.v,h.a))}layout(){this.i.layout(),this.k.layout(),this.j.layout()}}e.ColorPickerBody=n;class a extends C.Disposable{constructor(o,h,f){super(),this.t=h,this.u=f,this.n=new v.Emitter,this.onDidChange=this.n.event,this.p=new v.Emitter,this.onColorFlushed=this.p.event,this.c=i(".saturation-wrap"),N.append(o,this.c),this.j=document.createElement("canvas"),this.j.className="saturation-box",N.append(this.c,this.j),this.i=i(".saturation-selection"),N.append(this.c,this.i),this.layout(),this.q(N.addDisposableListener(this.c,N.EventType.POINTER_DOWN,S=>this.w(S))),this.q(this.t.onDidChangeColor(this.C,this)),this.m=null}w(o){if(!o.target||!(o.target instanceof Element))return;this.m=this.q(new E.GlobalPointerMoveMonitor);const h=N.getDomNodePagePosition(this.c);o.target!==this.i&&this.y(o.offsetX,o.offsetY),this.m.startMonitoring(o.target,o.pointerId,o.buttons,S=>this.y(S.pageX-h.left,S.pageY-h.top),()=>null);const f=N.addDisposableListener(document,N.EventType.POINTER_UP,()=>{this.p.fire(),f.dispose(),this.m&&(this.m.stopMonitoring(!0),this.m=null)},!0)}y(o,h){const f=Math.max(0,Math.min(1,o/this.k)),S=Math.max(0,Math.min(1,1-h/this.l));this.B(f,S),this.n.fire({s:f,v:S})}layout(){this.k=this.c.offsetWidth,this.l=this.c.offsetHeight,this.j.width=this.k*this.u,this.j.height=this.l*this.u,this.z();const o=this.t.color.hsva;this.B(o.s,o.v)}z(){const o=this.t.color.hsva,h=new y.Color(new y.HSVA(o.h,1,1,1)),f=this.j.getContext("2d"),S=f.createLinearGradient(0,0,this.j.width,0);S.addColorStop(0,"rgba(255, 255, 255, 1)"),S.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),S.addColorStop(1,"rgba(255, 255, 255, 0)");const p=f.createLinearGradient(0,0,0,this.j.height);p.addColorStop(0,"rgba(0, 0, 0, 0)"),p.addColorStop(1,"rgba(0, 0, 0, 1)"),f.rect(0,0,this.j.width,this.j.height),f.fillStyle=y.Color.Format.CSS.format(h),f.fill(),f.fillStyle=S,f.fill(),f.fillStyle=p,f.fill()}B(o,h){this.i.style.left=`${o*this.k}px`,this.i.style.top=`${this.l-h*this.l}px`}C(){this.m&&this.m.isMonitoring()||this.z()}}class r extends C.Disposable{constructor(o,h){super(),this.n=h,this.l=new v.Emitter,this.onDidChange=this.l.event,this.m=new v.Emitter,this.onColorFlushed=this.m.event,this.c=N.append(o,i(".strip")),this.i=N.append(this.c,i(".overlay")),this.j=N.append(this.c,i(".slider")),this.j.style.top="0px",this.q(N.addDisposableListener(this.c,N.EventType.POINTER_DOWN,f=>this.p(f))),this.layout()}layout(){this.k=this.c.offsetHeight-this.j.offsetHeight;const o=this.w(this.n.color);this.u(o)}p(o){if(!o.target||!(o.target instanceof Element))return;const h=this.q(new E.GlobalPointerMoveMonitor),f=N.getDomNodePagePosition(this.c);this.c.classList.add("grabbing"),o.target!==this.j&&this.t(o.offsetY),h.startMonitoring(o.target,o.pointerId,o.buttons,p=>this.t(p.pageY-f.top),()=>null);const S=N.addDisposableListener(document,N.EventType.POINTER_UP,()=>{this.m.fire(),S.dispose(),h.stopMonitoring(!0),this.c.classList.remove("grabbing")},!0)}t(o){const h=Math.max(0,Math.min(1,1-o/this.k));this.u(h),this.l.fire(h)}u(o){this.j.style.top=`${(1-o)*this.k}px`}}class c extends r{constructor(o,h){super(o,h),this.c.classList.add("opacity-strip"),this.q(h.onDidChangeColor(this.y,this)),this.y(this.n.color)}y(o){const{r:h,g:f,b:S}=o.rgba,p=new y.Color(new y.RGBA(h,f,S,1)),m=new y.Color(new y.RGBA(h,f,S,0));this.i.style.background=`linear-gradient(to bottom, ${p} 0%, ${m} 100%)`}w(o){return o.hsva.a}}class u extends r{constructor(o,h){super(o,h),this.c.classList.add("hue-strip")}w(o){return 1-o.hsva.h/360}}class s extends D.Widget{constructor(o,h,f,S){super(),this.model=h,this.i=f,this.q(w.PixelRatio.onDidChange(()=>this.layout()));const p=i(".colorpicker-widget");o.appendChild(p);const m=new t(p,this.model,S);this.body=new n(p,this.model,this.i),this.q(m),this.q(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=s}),define(ee[229],te([1,0,649,30,416]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,N.registerColor)("symbolIcon.arrayForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,N.registerColor)("symbolIcon.booleanForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,N.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,w.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,N.registerColor)("symbolIcon.colorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,N.registerColor)("symbolIcon.constantForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,N.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,w.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,w.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,w.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,N.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,w.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,N.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,w.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,N.registerColor)("symbolIcon.fileForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,N.registerColor)("symbolIcon.folderForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,N.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,w.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,N.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,w.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,N.registerColor)("symbolIcon.keyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,N.registerColor)("symbolIcon.keywordForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,N.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,w.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,N.registerColor)("symbolIcon.moduleForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,N.registerColor)("symbolIcon.namespaceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,N.registerColor)("symbolIcon.nullForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.numberForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,N.registerColor)("symbolIcon.objectForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.operatorForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,N.registerColor)("symbolIcon.packageForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,N.registerColor)("symbolIcon.propertyForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,N.registerColor)("symbolIcon.referenceForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,N.registerColor)("symbolIcon.snippetForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,N.registerColor)("symbolIcon.stringForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,N.registerColor)("symbolIcon.structForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,N.registerColor)("symbolIcon.textForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,N.registerColor)("symbolIcon.typeParameterForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,N.registerColor)("symbolIcon.unitForeground",{dark:N.foreground,light:N.foreground,hcDark:N.foreground,hcLight:N.foreground},(0,w.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,N.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,w.localize)(32,null))}),define(ee[763],te([1,0,27,118,588,154,229]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:N.CodeActionKind.Empty,title:(0,E.localize)(0,null)}),y=Object.freeze([{kind:N.CodeActionKind.QuickFix,title:(0,E.localize)(1,null)},{kind:N.CodeActionKind.RefactorExtract,title:(0,E.localize)(2,null),icon:w.Codicon.wrench},{kind:N.CodeActionKind.RefactorInline,title:(0,E.localize)(3,null),icon:w.Codicon.wrench},{kind:N.CodeActionKind.RefactorRewrite,title:(0,E.localize)(4,null),icon:w.Codicon.wrench},{kind:N.CodeActionKind.RefactorMove,title:(0,E.localize)(5,null),icon:w.Codicon.wrench},{kind:N.CodeActionKind.SurroundWith,title:(0,E.localize)(6,null),icon:w.Codicon.symbolSnippet},{kind:N.CodeActionKind.Source,title:(0,E.localize)(7,null),icon:w.Codicon.symbolFile},D]);function v(C,d,g){if(!d)return C.map(n=>({kind:"action",item:n,group:D,disabled:!!n.action.disabled,label:n.action.disabled||n.action.title}));const i=y.map(n=>({group:n,actions:[]}));for(const n of C){const a=n.action.kind?new N.CodeActionKind(n.action.kind):N.CodeActionKind.None;for(const r of i)if(r.group.kind.contains(a)){r.actions.push(n);break}}const t=[];for(const n of i)if(n.actions.length){t.push({kind:"header",group:n.group});for(const a of n.actions)t.push({kind:"action",item:a,group:n.group,label:a.action.title,disabled:!!a.action.disabled,keybinding:g(a.action)})}return t}e.toMenuItems=v}),define(ee[99],te([1,0,30,36]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMenuStyles=e.defaultMenuStyles=e.getSelectBoxStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.getBreadcrumbsWidgetStyles=e.defaultBreadcrumbsWidgetStyles=e.getCountBadgeStyle=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.getInputBoxStyle=e.defaultInputBoxStyles=e.getDialogStyle=e.defaultDialogStyles=e.getCheckboxStyles=e.defaultCheckboxStyles=e.getToggleStyles=e.defaultToggleStyles=e.getProgressBarStyles=e.defaultProgressBarStyles=e.getButtonStyles=e.defaultButtonStyles=e.getKeybindingLabelStyles=e.defaultKeybindingLabelStyles=void 0,e.defaultKeybindingLabelStyles=E({});function E(c){var u,s,l,o,h;return{keybindingLabelBackground:(0,w.asCssVariable)((u=c.keybindingLabelBackground)!==null&&u!==void 0?u:w.keybindingLabelBackground),keybindingLabelForeground:(0,w.asCssVariable)((s=c.keybindingLabelForeground)!==null&&s!==void 0?s:w.keybindingLabelForeground),keybindingLabelBorder:(0,w.asCssVariable)((l=c.keybindingLabelBorder)!==null&&l!==void 0?l:w.keybindingLabelBorder),keybindingLabelBottomBorder:(0,w.asCssVariable)((o=c.keybindingLabelBottomBorder)!==null&&o!==void 0?o:w.keybindingLabelBottomBorder),keybindingLabelShadow:(0,w.asCssVariable)((h=c.keybindingLabelShadow)!==null&&h!==void 0?h:w.widgetShadow)}}e.getKeybindingLabelStyles=E,e.defaultButtonStyles=D({});function D(c){var u,s,l,o,h,f,S,p;return{buttonForeground:(0,w.asCssVariable)((u=c.buttonForeground)!==null&&u!==void 0?u:w.buttonForeground),buttonSeparator:(0,w.asCssVariable)((s=c.buttonSeparator)!==null&&s!==void 0?s:w.buttonSeparator),buttonBackground:(0,w.asCssVariable)((l=c.buttonBackground)!==null&&l!==void 0?l:w.buttonBackground),buttonHoverBackground:(0,w.asCssVariable)((o=c.buttonHoverBackground)!==null&&o!==void 0?o:w.buttonHoverBackground),buttonSecondaryForeground:(0,w.asCssVariable)((h=c.buttonSecondaryForeground)!==null&&h!==void 0?h:w.buttonSecondaryForeground),buttonSecondaryBackground:(0,w.asCssVariable)((f=c.buttonSecondaryBackground)!==null&&f!==void 0?f:w.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,w.asCssVariable)((S=c.buttonSecondaryHoverBackground)!==null&&S!==void 0?S:w.buttonSecondaryHoverBackground),buttonBorder:(0,w.asCssVariable)((p=c.buttonBorder)!==null&&p!==void 0?p:w.buttonBorder)}}e.getButtonStyles=D,e.defaultProgressBarStyles=y({});function y(c){var u;return{progressBarBackground:(0,w.asCssVariable)((u=c.progressBarBackground)!==null&&u!==void 0?u:w.progressBarBackground)}}e.getProgressBarStyles=y,e.defaultToggleStyles=v({});function v(c){var u,s,l;return{inputActiveOptionBorder:(0,w.asCssVariable)((u=c.inputActiveOptionBorder)!==null&&u!==void 0?u:w.inputActiveOptionBorder),inputActiveOptionForeground:(0,w.asCssVariable)((s=c.inputActiveOptionForeground)!==null&&s!==void 0?s:w.inputActiveOptionForeground),inputActiveOptionBackground:(0,w.asCssVariable)((l=c.inputActiveOptionBackground)!==null&&l!==void 0?l:w.inputActiveOptionBackground)}}e.getToggleStyles=v,e.defaultCheckboxStyles=C({});function C(c){var u,s,l;return{checkboxBackground:(0,w.asCssVariable)((u=c.checkboxBackground)!==null&&u!==void 0?u:w.checkboxBackground),checkboxBorder:(0,w.asCssVariable)((s=c.checkboxBorder)!==null&&s!==void 0?s:w.checkboxBorder),checkboxForeground:(0,w.asCssVariable)((l=c.checkboxForeground)!==null&&l!==void 0?l:w.checkboxForeground)}}e.getCheckboxStyles=C,e.defaultDialogStyles=d({});function d(c){var u,s,l,o,h,f,S,p;return{dialogBackground:(0,w.asCssVariable)((u=c.dialogBackground)!==null&&u!==void 0?u:w.editorWidgetBackground),dialogForeground:(0,w.asCssVariable)((s=c.dialogForeground)!==null&&s!==void 0?s:w.editorWidgetForeground),dialogShadow:(0,w.asCssVariable)((l=c.dialogShadow)!==null&&l!==void 0?l:w.widgetShadow),dialogBorder:(0,w.asCssVariable)((o=c.dialogBorder)!==null&&o!==void 0?o:w.contrastBorder),errorIconForeground:(0,w.asCssVariable)((h=c.errorIconForeground)!==null&&h!==void 0?h:w.problemsErrorIconForeground),warningIconForeground:(0,w.asCssVariable)((f=c.warningIconForeground)!==null&&f!==void 0?f:w.problemsWarningIconForeground),infoIconForeground:(0,w.asCssVariable)((S=c.infoIconForeground)!==null&&S!==void 0?S:w.problemsInfoIconForeground),textLinkForeground:(0,w.asCssVariable)((p=c.textLinkForeground)!==null&&p!==void 0?p:w.textLinkForeground)}}e.getDialogStyle=d,e.defaultInputBoxStyles=g({});function g(c){var u,s,l,o,h,f,S,p,m,b,L,k;return{inputBackground:(0,w.asCssVariable)((u=c.inputBackground)!==null&&u!==void 0?u:w.inputBackground),inputForeground:(0,w.asCssVariable)((s=c.inputForeground)!==null&&s!==void 0?s:w.inputForeground),inputBorder:(0,w.asCssVariable)((l=c.inputBorder)!==null&&l!==void 0?l:w.inputBorder),inputValidationInfoBorder:(0,w.asCssVariable)((o=c.inputValidationInfoBorder)!==null&&o!==void 0?o:w.inputValidationInfoBorder),inputValidationInfoBackground:(0,w.asCssVariable)((h=c.inputValidationInfoBackground)!==null&&h!==void 0?h:w.inputValidationInfoBackground),inputValidationInfoForeground:(0,w.asCssVariable)((f=c.inputValidationInfoForeground)!==null&&f!==void 0?f:w.inputValidationInfoForeground),inputValidationWarningBorder:(0,w.asCssVariable)((S=c.inputValidationWarningBorder)!==null&&S!==void 0?S:w.inputValidationWarningBorder),inputValidationWarningBackground:(0,w.asCssVariable)((p=c.inputValidationWarningBackground)!==null&&p!==void 0?p:w.inputValidationWarningBackground),inputValidationWarningForeground:(0,w.asCssVariable)((m=c.inputValidationWarningForeground)!==null&&m!==void 0?m:w.inputValidationWarningForeground),inputValidationErrorBorder:(0,w.asCssVariable)((b=c.inputValidationErrorBorder)!==null&&b!==void 0?b:w.inputValidationErrorBorder),inputValidationErrorBackground:(0,w.asCssVariable)((L=c.inputValidationErrorBackground)!==null&&L!==void 0?L:w.inputValidationErrorBackground),inputValidationErrorForeground:(0,w.asCssVariable)((k=c.inputValidationErrorForeground)!==null&&k!==void 0?k:w.inputValidationErrorForeground)}}e.getInputBoxStyle=g,e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,w.asCssVariable)(w.listFilterWidgetBackground),listFilterWidgetOutline:(0,w.asCssVariable)(w.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,w.asCssVariable)(w.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,w.asCssVariable)(w.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles=i({});function i(c){var u,s;return{badgeBackground:(0,w.asCssVariable)((u=c.badgeBackground)!==null&&u!==void 0?u:w.badgeBackground),badgeForeground:(0,w.asCssVariable)((s=c.badgeForeground)!==null&&s!==void 0?s:w.badgeForeground),badgeBorder:(0,w.asCssVariable)(w.contrastBorder)}}e.getCountBadgeStyle=i,e.defaultBreadcrumbsWidgetStyles=t({});function t(c){var u,s,l,o,h;return{breadcrumbsBackground:(0,w.asCssVariable)((u=c.breadcrumbsBackground)!==null&&u!==void 0?u:w.breadcrumbsBackground),breadcrumbsForeground:(0,w.asCssVariable)((s=c.breadcrumbsForeground)!==null&&s!==void 0?s:w.breadcrumbsForeground),breadcrumbsHoverForeground:(0,w.asCssVariable)((l=c.breadcrumbsFocusForeground)!==null&&l!==void 0?l:w.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,w.asCssVariable)((o=c.breadcrumbsFocusForeground)!==null&&o!==void 0?o:w.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,w.asCssVariable)((h=c.breadcrumbsFocusAndSelectionForeground)!==null&&h!==void 0?h:w.breadcrumbsActiveSelectionForeground)}}e.getBreadcrumbsWidgetStyles=t,e.defaultListStyles=n({});function n(c){var u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O,F,W,V;return{listBackground:c.listBackground?(0,w.asCssVariable)(c.listBackground):void 0,listInactiveFocusForeground:c.listInactiveFocusForeground?(0,w.asCssVariable)(c.listInactiveFocusForeground):void 0,listFocusBackground:(0,w.asCssVariable)((u=c.listFocusBackground)!==null&&u!==void 0?u:w.listFocusBackground),listFocusForeground:(0,w.asCssVariable)((s=c.listFocusForeground)!==null&&s!==void 0?s:w.listFocusForeground),listFocusOutline:(0,w.asCssVariable)((l=c.listFocusOutline)!==null&&l!==void 0?l:w.listFocusOutline),listActiveSelectionBackground:(0,w.asCssVariable)((o=c.listActiveSelectionBackground)!==null&&o!==void 0?o:w.listActiveSelectionBackground),listActiveSelectionForeground:(0,w.asCssVariable)((h=c.listActiveSelectionForeground)!==null&&h!==void 0?h:w.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,w.asCssVariable)((f=c.listActiveSelectionIconForeground)!==null&&f!==void 0?f:w.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,w.asCssVariable)((S=c.listFocusAndSelectionOutline)!==null&&S!==void 0?S:w.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,w.asCssVariable)((p=c.listFocusAndSelectionBackground)!==null&&p!==void 0?p:w.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,w.asCssVariable)((m=c.listFocusAndSelectionForeground)!==null&&m!==void 0?m:w.listActiveSelectionForeground),listInactiveSelectionBackground:(0,w.asCssVariable)((b=c.listInactiveSelectionBackground)!==null&&b!==void 0?b:w.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,w.asCssVariable)((L=c.listInactiveSelectionIconForeground)!==null&&L!==void 0?L:w.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,w.asCssVariable)((k=c.listInactiveSelectionForeground)!==null&&k!==void 0?k:w.listInactiveSelectionForeground),listInactiveFocusBackground:(0,w.asCssVariable)((I=c.listInactiveFocusBackground)!==null&&I!==void 0?I:w.listInactiveFocusBackground),listInactiveFocusOutline:(0,w.asCssVariable)((M=c.listInactiveFocusOutline)!==null&&M!==void 0?M:w.listInactiveFocusOutline),listHoverBackground:(0,w.asCssVariable)((B=c.listHoverBackground)!==null&&B!==void 0?B:w.listHoverBackground),listHoverForeground:(0,w.asCssVariable)((z=c.listHoverForeground)!==null&&z!==void 0?z:w.listHoverForeground),listDropBackground:(0,w.asCssVariable)((P=c.listDropBackground)!==null&&P!==void 0?P:w.listDropBackground),listSelectionOutline:(0,w.asCssVariable)((A=c.listSelectionOutline)!==null&&A!==void 0?A:w.activeContrastBorder),listHoverOutline:(0,w.asCssVariable)((T=c.listHoverOutline)!==null&&T!==void 0?T:w.activeContrastBorder),treeIndentGuidesStroke:(0,w.asCssVariable)((O=c.treeIndentGuidesStroke)!==null&&O!==void 0?O:w.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,w.asCssVariable)((F=c.treeInactiveIndentGuidesStroke)!==null&&F!==void 0?F:w.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,w.asCssVariable)((W=c.tableColumnsBorder)!==null&&W!==void 0?W:w.tableColumnsBorder),tableOddRowsBackgroundColor:(0,w.asCssVariable)((V=c.tableOddRowsBackgroundColor)!==null&&V!==void 0?V:w.tableOddRowsBackgroundColor)}}e.getListStyles=n,e.defaultSelectBoxStyles=a({});function a(c){var u;return{selectBackground:(0,w.asCssVariable)(c.selectBackground||w.selectBackground),selectListBackground:(0,w.asCssVariable)(c.selectListBackground||w.selectListBackground),selectForeground:(0,w.asCssVariable)(c.selectForeground||w.selectForeground),decoratorRightForeground:(0,w.asCssVariable)(c.decoratorRightForeground||w.pickerGroupForeground),selectBorder:(0,w.asCssVariable)(c.selectBorder||w.selectBorder),focusBorder:(0,w.asCssVariable)(c.focusBorder||w.focusBorder),listFocusBackground:(0,w.asCssVariable)(c.listFocusBackground||w.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,w.asCssVariable)(c.listInactiveSelectionIconForeground||w.quickInputListFocusIconForeground),listFocusForeground:(0,w.asCssVariable)(c.listFocusForeground||w.quickInputListFocusForeground),listFocusOutline:(0,w.asCssVariableWithDefault)((u=c.listFocusOutline)!==null&&u!==void 0?u:w.activeContrastBorder,N.Color.transparent.toString()),listHoverBackground:(0,w.asCssVariable)(c.listHoverBackground||w.listHoverBackground),listHoverForeground:(0,w.asCssVariable)(c.listHoverForeground||w.listHoverForeground),listHoverOutline:(0,w.asCssVariable)(c.listFocusOutline||w.activeContrastBorder),selectListBorder:(0,w.asCssVariable)(c.selectListBorder||w.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0}}e.getSelectBoxStyles=a,e.defaultMenuStyles=r({});function r(c){var u,s,l,o,h,f,S,p,m,b,L,k;return{shadowColor:(0,w.asCssVariable)((u=c.shadowColor)!==null&&u!==void 0?u:w.widgetShadow),borderColor:(0,w.asCssVariable)((s=c.borderColor)!==null&&s!==void 0?s:w.menuBorder),foregroundColor:(0,w.asCssVariable)((l=c.foregroundColor)!==null&&l!==void 0?l:w.menuForeground),backgroundColor:(0,w.asCssVariable)((o=c.backgroundColor)!==null&&o!==void 0?o:w.menuBackground),selectionForegroundColor:(0,w.asCssVariable)((h=c.selectionForegroundColor)!==null&&h!==void 0?h:w.menuSelectionForeground),selectionBackgroundColor:(0,w.asCssVariable)((f=c.selectionBackgroundColor)!==null&&f!==void 0?f:w.menuSelectionBackground),selectionBorderColor:(0,w.asCssVariable)((S=c.selectionBorderColor)!==null&&S!==void 0?S:w.menuSelectionBorder),separatorColor:(0,w.asCssVariable)((p=c.separatorColor)!==null&&p!==void 0?p:w.menuSeparatorBackground),scrollbarShadow:(0,w.asCssVariable)((m=c.scrollbarShadow)!==null&&m!==void 0?m:w.scrollbarShadow),scrollbarSliderBackground:(0,w.asCssVariable)((b=c.scrollbarSliderBackground)!==null&&b!==void 0?b:w.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,w.asCssVariable)((L=c.scrollbarSliderHoverBackground)!==null&&L!==void 0?L:w.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,w.asCssVariable)((k=c.scrollbarSliderActiveBackground)!==null&&k!==void 0?k:w.scrollbarSliderActiveBackground)}}e.getMenuStyles=r}),define(ee[764],te([1,0,7,270,204,205,63,2,43,61,612,8,37,145,99,142]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let c=class{constructor(b){this.a=b}hasChildren(b){return b instanceof r.ReferencesModel||b instanceof r.FileReferences}getChildren(b){if(b instanceof r.ReferencesModel)return b.groups;if(b instanceof r.FileReferences)return b.resolve(this.a).then(L=>L.children);throw new Error("bad tree")}};c=De([fe(0,d.ITextModelService)],c),e.DataSource=c;class u{getHeight(){return 23}getTemplateId(b){return b instanceof r.FileReferences?h.id:S.id}}e.Delegate=u;let s=class{constructor(b){this.a=b}getKeyboardNavigationLabel(b){var L;if(b instanceof r.OneReference){const k=(L=b.parent.getPreview(b))===null||L===void 0?void 0:L.preview(b.range);if(k)return k.value}return(0,C.basename)(b.uri)}};s=De([fe(0,t.IKeybindingService)],s),e.StringRepresentationProvider=s;class l{getId(b){return b instanceof r.OneReference?b.id:b.uri}}e.IdentityProvider=l;let o=class extends v.Disposable{constructor(b,L){super(),this.a=L;const k=document.createElement("div");k.classList.add("reference-file"),this.file=this.q(new D.IconLabel(k,{supportHighlights:!0})),this.badge=new N.CountBadge(w.append(k,w.$(".count")),{},a.defaultCountBadgeStyles),b.appendChild(k)}set(b,L){const k=(0,C.dirname)(b.uri);this.file.setLabel(this.a.getUriBasenameLabel(b.uri),this.a.getUriLabel(k,{relative:!0}),{title:this.a.getUriLabel(b.uri),matches:L});const I=b.children.length;this.badge.setCount(I),I>1?this.badge.setTitleFormat((0,g.localize)(0,null,I)):this.badge.setTitleFormat((0,g.localize)(1,null,I))}};o=De([fe(1,n.ILabelService)],o);let h=class qi{constructor(b){this.a=b,this.templateId=qi.id}renderTemplate(b){return this.a.createInstance(o,b)}renderElement(b,L,k){k.set(b.element,(0,y.createMatches)(b.filterData))}disposeTemplate(b){b.dispose()}};h.id="FileReferencesRenderer",h=De([fe(0,i.IInstantiationService)],h),e.FileReferencesRenderer=h;class f{constructor(b){this.label=new E.HighlightedLabel(b)}set(b,L){var k;const I=(k=b.parent.getPreview(b))===null||k===void 0?void 0:k.preview(b.range);if(!I||!I.value)this.label.set(`${(0,C.basename)(b.uri)}:${b.range.startLineNumber+1}:${b.range.startColumn+1}`);else{const{value:M,highlight:B}=I;L&&!y.FuzzyScore.isDefault(L)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(M,(0,y.createMatches)(L))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(M,[B]))}}}class S{constructor(){this.templateId=S.id}renderTemplate(b){return new f(b)}renderElement(b,L,k){k.set(b.element,b.filterData)}disposeTemplate(){}}S.id="OneReferenceRenderer",e.OneReferenceRenderer=S;class p{getWidgetAriaLabel(){return(0,g.localize)(2,null)}getAriaLabel(b){return b.ariaMessage}}e.AccessibilityProvider=p}),define(ee[765],te([1,0,7,204,206,105,27,31,2,16,658,56,37,99,30,243]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class r{get templateId(){return"header"}renderTemplate(f){f.classList.add("group-header");const S=document.createElement("span");return f.append(S),{container:f,text:S}}renderElement(f,S,p){var m,b;p.text.textContent=(b=(m=f.group)===null||m===void 0?void 0:m.title)!==null&&b!==void 0?b:""}disposeTemplate(f){}}let c=class{get templateId(){return"action"}constructor(f,S){this.a=f,this.b=S}renderTemplate(f){f.classList.add(this.templateId);const S=document.createElement("div");S.className="icon",f.append(S);const p=document.createElement("span");p.className="title",f.append(p);const m=new E.KeybindingLabel(f,d.OS);return{container:f,icon:S,text:p,keybinding:m}}renderElement(f,S,p){var m,b,L;if(!((m=f.group)===null||m===void 0)&&m.icon?(p.icon.className=v.ThemeIcon.asClassName(f.group.icon),f.group.icon.color&&(p.icon.style.color=(0,a.asCssVariable)(f.group.icon.color.id))):(p.icon.className=v.ThemeIcon.asClassName(y.Codicon.lightBulb),p.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!f.item||!f.label)return;p.text.textContent=o(f.label),f.keybinding?(p.keybinding.set(f.keybinding),w.show(p.keybinding.element)):w.hide(p.keybinding.element);const k=(b=this.b.lookupKeybinding(e.acceptSelectedActionCommand))===null||b===void 0?void 0:b.getLabel(),I=(L=this.b.lookupKeybinding(e.previewSelectedActionCommand))===null||L===void 0?void 0:L.getLabel();if(p.container.classList.toggle("option-disabled",f.disabled),f.disabled?p.container.title=f.label:k&&I?this.a?p.container.title=(0,g.localize)(0,null,k,I):p.container.title=(0,g.localize)(1,null,k):p.container.title="",f.description){const M=new N.HighlightedLabel(w.append(p.container,w.$("span.label-description")));M.element.classList.add("action-list-description"),M.set(f.description)}}disposeTemplate(f){}};c=De([fe(1,t.IKeybindingService)],c);class u extends UIEvent{constructor(){super("acceptSelectedAction")}}class s extends UIEvent{constructor(){super("previewSelectedAction")}}let l=class extends C.Disposable{constructor(f,S,p,m,b,L){super(),this.h=m,this.i=b,this.j=L,this.b=24,this.c=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const k={getHeight:I=>I.kind==="header"?this.c:this.b,getTemplateId:I=>I.kind};this.a=this.q(new D.List(f,this.domNode,k,[new c(S,this.j),new r],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:I=>{if(I.kind==="action"){let M=I.label?o(I?.label):"";return I.disabled&&(M=(0,g.localize)(2,null,M,I.disabled)),M}return null},getWidgetAriaLabel:()=>(0,g.localize)(3,null),getRole:I=>I.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this.a.style(n.defaultListStyles),this.q(this.a.onMouseClick(I=>this.n(I))),this.q(this.a.onMouseOver(I=>this.m(I))),this.q(this.a.onDidChangeFocus(()=>this.a.domFocus())),this.q(this.a.onDidChangeSelection(I=>this.l(I))),this.g=p,this.a.splice(0,this.a.length,this.g),this.a.length&&this.focusNext()}k(f){return!f.disabled&&f.kind==="action"}hide(f){this.h.onHide(f),this.i.hideContextView()}layout(f){const S=this.g.filter(M=>M.kind==="header").length,m=this.g.length*this.b+S*this.c-S*this.b;this.a.layout(m);const b=this.g.map((M,B)=>{const z=document.getElementById(this.a.getElementID(B));if(z){z.style.width="auto";const P=z.getBoundingClientRect().width;return z.style.width="",P}return 0}),L=Math.max(...b,f),k=.7,I=Math.min(m,document.body.clientHeight*k);return this.a.layout(I,L),this.domNode.style.height=`${I}px`,this.a.domFocus(),L}focusPrevious(){this.a.focusPrevious(1,!0,void 0,this.k)}focusNext(){this.a.focusNext(1,!0,void 0,this.k)}acceptSelected(f){const S=this.a.getFocus();if(S.length===0)return;const p=S[0],m=this.a.element(p);if(!this.k(m))return;const b=f?new s:new u;this.a.setSelection([p],b)}l(f){if(!f.elements.length)return;const S=f.elements[0];S.item&&this.k(S)?this.h.onSelect(S.item,f.browserEvent instanceof s):this.a.setSelection([])}m(f){this.a.setFocus(typeof f.index=="number"?[f.index]:[])}n(f){f.element&&this.k(f.element)&&this.a.setFocus([])}};l=De([fe(4,i.IContextViewService),fe(5,t.IKeybindingService)],l),e.ActionList=l;function o(h){return h.replace(/\r\n|\r|\n/g," ")}}),define(ee[766],te([1,0,7,68,2,659,765,29,15,56,51,8,243]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0;const t={Visible:new C.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(0,null))};e.IActionWidgetService=(0,i.createDecorator)("actionWidgetService");let n=class extends E.Disposable{get isVisible(){return t.Visible.getValue(this.c)||!1}constructor(c,u,s){super(),this.b=c,this.c=u,this.g=s,this.a=this.q(new E.MutableDisposable)}show(c,u,s,l,o,h,f){const S=t.Visible.bindTo(this.c),p=this.g.createInstance(y.ActionList,c,u,s,l);this.b.showContextView({getAnchor:()=>o,render:m=>(S.set(!0),this.h(m,p,f??[])),onHide:m=>{S.reset(),this.j(m)}},h,!1)}acceptSelected(c){var u;(u=this.a.value)===null||u===void 0||u.acceptSelected(c)}focusPrevious(){var c,u;(u=(c=this.a)===null||c===void 0?void 0:c.value)===null||u===void 0||u.focusPrevious()}focusNext(){var c,u;(u=(c=this.a)===null||c===void 0?void 0:c.value)===null||u===void 0||u.focusNext()}hide(){var c;(c=this.a.value)===null||c===void 0||c.hide(),this.a.clear()}h(c,u,s){var l;const o=document.createElement("div");if(o.classList.add("action-widget"),c.appendChild(o),this.a.value=u,this.a.value)o.appendChild(this.a.value.domNode);else throw new Error("List has no value");const h=new E.DisposableStore,f=document.createElement("div"),S=c.appendChild(f);S.classList.add("context-view-block"),h.add(w.addDisposableListener(S,w.EventType.MOUSE_DOWN,I=>I.stopPropagation()));const p=document.createElement("div"),m=c.appendChild(p);m.classList.add("context-view-pointerBlock"),h.add(w.addDisposableListener(m,w.EventType.POINTER_MOVE,()=>m.remove())),h.add(w.addDisposableListener(m,w.EventType.MOUSE_DOWN,()=>m.remove()));let b=0;if(s.length){const I=this.i(".action-widget-action-bar",s);I&&(o.appendChild(I.getContainer().parentElement),h.add(I),b=I.getContainer().offsetWidth)}const L=(l=this.a.value)===null||l===void 0?void 0:l.layout(b);o.style.width=`${L}px`;const k=h.add(w.trackFocus(c));return h.add(k.onDidBlur(()=>this.hide())),h}i(c,u){if(!u.length)return;const s=w.$(c),l=new N.ActionBar(s);return l.push(u,{icon:!1,label:!0}),l}j(c){var u;(u=this.a.value)===null||u===void 0||u.hide(c)}};n=De([fe(0,d.IContextViewService),fe(1,C.IContextKeyService),fe(2,i.IInstantiationService)],n),(0,g.registerSingleton)(e.IActionWidgetService,n,1);const a=100+1e3;(0,v.registerAction2)(class extends v.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(1,null),original:"Hide action widget"},precondition:t.Visible,keybinding:{weight:a,primary:9,secondary:[1033]}})}run(r){r.get(e.IActionWidgetService).hide()}}),(0,v.registerAction2)(class extends v.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(2,null),original:"Select previous action"},precondition:t.Visible,keybinding:{weight:a,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(r){const c=r.get(e.IActionWidgetService);c instanceof n&&c.focusPrevious()}}),(0,v.registerAction2)(class extends v.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(3,null),original:"Select next action"},precondition:t.Visible,keybinding:{weight:a,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(r){const c=r.get(e.IActionWidgetService);c instanceof n&&c.focusNext()}}),(0,v.registerAction2)(class extends v.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:{value:(0,D.localize)(4,null),original:"Accept selected action"},precondition:t.Visible,keybinding:{weight:a,primary:3,secondary:[2132]}})}run(r){const c=r.get(e.IActionWidgetService);c instanceof n&&c.acceptSelected()}}),(0,v.registerAction2)(class extends v.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Preview selected action"},precondition:t.Visible,keybinding:{weight:a,primary:2051}})}run(r){const c=r.get(e.IActionWidgetService);c instanceof n&&c.acceptSelected(!0)}})});var ni=this&&this.__classPrivateFieldSet||function(K,e,w,N,E){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!E:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?E.call(K,w):E?E.value=w:e.set(K,w),w},Ft=this&&this.__classPrivateFieldGet||function(K,e,w,N){if(w==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?N:w==="a"?N.call(K):N?N.value:e.get(K)};define(ee[767],te([1,0,7,13,100,2,11,736,763,146,589,766,25,32,8,696]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let u=class extends D.Disposable{constructor(l,o,h,f,S,p,m,b){super(),this.h=l,this.i=f,this.j=p,this.k=m,this.l=b,this.b=this.q(new D.MutableDisposable),c.set(this,!1),this.g=!1,this.a=new E.Lazy(()=>{const L=this.q(S.createInstance(r.LightBulbWidget,this.h,o,h));return this.q(L.onClick(k=>this.showCodeActionList(k.actions,k,{includeDisabledActions:!1,fromLightbulb:!0}))),L}),this.c=S.createInstance(v.CodeActionKeybindingResolver),this.q(this.h.onDidLayoutChange(()=>this.k.hide()))}dispose(){ni(this,c,!0,"f"),super.dispose()}update(l){var o,h,f,S,p;return Le(this,void 0,void 0,function*(){if(l.type!==1){(o=this.a.rawValue)===null||o===void 0||o.hide();return}let m;try{m=yield l.actions}catch(b){(0,N.onUnexpectedError)(b);return}if(!Ft(this,c,"f"))if(this.a.value.update(m,l.trigger,l.position),l.trigger.type===1){if(!((h=l.trigger.filter)===null||h===void 0)&&h.include){const L=this.n(l.trigger,m);if(L){try{this.a.value.hide(),yield this.i.applyCodeAction(L,!1,!1)}finally{m.dispose()}return}if(l.trigger.context){const k=this.m(l.trigger,m);if(k&&k.action.disabled){(f=d.MessageController.get(this.h))===null||f===void 0||f.showMessage(k.action.disabled,l.trigger.context.position),m.dispose();return}}}const b=!!(!((S=l.trigger.filter)===null||S===void 0)&&S.include);if(l.trigger.context&&(!m.allActions.length||!b&&!m.validActions.length)){(p=d.MessageController.get(this.h))===null||p===void 0||p.showMessage(l.trigger.context.notAvailableMessage,l.trigger.context.position),this.b.value=m,m.dispose();return}this.b.value=m,this.showCodeActionList(m,this.p(l.position),{includeDisabledActions:b,fromLightbulb:!1})}else this.k.isVisible?m.dispose():this.b.value=m})}m(l,o){if(!!o.allActions.length&&(l.autoApply==="first"&&o.validActions.length===0||l.autoApply==="ifSingle"&&o.allActions.length===1))return o.allActions.find(({action:h})=>h.disabled)}n(l,o){if(!!o.validActions.length&&(l.autoApply==="first"&&o.validActions.length>0||l.autoApply==="ifSingle"&&o.validActions.length===1))return o.validActions[0]}showCodeActionList(l,o,h){return Le(this,void 0,void 0,function*(){const f=this.h.getDomNode();if(!f)return;const S=h.includeDisabledActions&&(this.g||l.validActions.length===0)?l.allActions:l.validActions;if(!S.length)return;const p=y.Position.isIPosition(o)?this.p(o):o,m={onSelect:(b,L)=>Le(this,void 0,void 0,function*(){this.i.applyCodeAction(b,!0,L||!1),this.k.hide()}),onHide:()=>{var b;(b=this.h)===null||b===void 0||b.focus()}};this.k.show("codeActionWidget",!0,(0,C.toMenuItems)(S,this.r(),this.c.getResolver()),m,p,f,this.s(l,o,h))})}p(l){if(!this.h.hasModel())return{x:0,y:0};this.h.revealPosition(l,1),this.h.render();const o=this.h.getScrolledVisiblePosition(l),h=(0,w.getDomNodePagePosition)(this.h.getDomNode()),f=h.left+o.left,S=h.top+o.top+o.height;return{x:f,y:S}}r(){var l;const o=(l=this.h)===null||l===void 0?void 0:l.getModel();return this.j.getValue("editor.codeActionWidget.showHeaders",{resource:o?.uri})}s(l,o,h){if(h.fromLightbulb)return[];const f=l.documentation.map(S=>{var p;return{id:S.id,label:S.title,tooltip:(p=S.tooltip)!==null&&p!==void 0?p:"",class:void 0,enabled:!0,run:()=>{var m;return this.l.executeCommand(S.id,...(m=S.commandArguments)!==null&&m!==void 0?m:[])}}});return h.includeDisabledActions&&l.validActions.length>0&&l.allActions.length!==l.validActions.length&&f.push(this.g?{id:"hideMoreActions",label:(0,g.localize)(0,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this.g=!1,this.showCodeActionList(l,o,h))}:{id:"showMoreActions",label:(0,g.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this.g=!0,this.showCodeActionList(l,o,h))}),f}};c=new WeakMap,u=De([fe(4,a.IInstantiationService),fe(5,n.IConfigurationService),fe(6,i.IActionWidgetService),fe(7,t.ICommandService)],u),e.CodeActionUi=u}),define(ee[313],te([1,0,100,2,9,14,23,19,176,767,146,586,15,8,89,69,737,118]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorPreview=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.CodeActionController=void 0;function s(B){return t.ContextKeyExpr.regex(c.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,E.escapeRegExpCharacters)(B.value)+"\\b"))}function l(B,z,P,A){const T=u.CodeActionCommandArgs.fromUser(z,{kind:u.CodeActionKind.Refactor,apply:"never"});return f(B,typeof z?.kind=="string"?T.preferred?i.localize(0,null,z.kind):i.localize(1,null,z.kind):T.preferred?i.localize(2,null):i.localize(3,null),{include:u.CodeActionKind.Refactor.contains(T.kind)?T.kind:u.CodeActionKind.None,onlyIncludePreferredActions:T.preferred},T.apply,P,A)}const o={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:i.localize(4,null)},apply:{type:"string",description:i.localize(5,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[i.localize(6,null),i.localize(7,null),i.localize(8,null)]},preferred:{type:"boolean",default:!1,description:i.localize(9,null)}}};let h=class ji extends N.Disposable{static get(z){return z.getContribution(ji.ID)}constructor(z,P,A,T,O,F){super(),this.g=O,this.a=z,this.b=this.q(new c.CodeActionModel(this.a,F.codeActionProvider,P,A,T)),this.q(this.b.onDidChangeState(W=>this.h(W))),this.c=new w.Lazy(()=>this.q(O.createInstance(d.CodeActionUi,z,S.Id,M.Id,{applyCodeAction:(W,V,R)=>Le(this,void 0,void 0,function*(){try{yield this.j(W,R)}finally{V&&this.i({type:2,triggerAction:u.CodeActionTriggerSource.QuickFix,filter:{}})}})})))}h(z){this.c.value.update(z)}showCodeActions(z,P,A){return this.c.value.showCodeActionList(P,A,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(z,P,A,T,O){var F;if(!this.a.hasModel())return;(F=g.MessageController.get(this.a))===null||F===void 0||F.closeMessage();const W=this.a.getPosition();this.i({type:1,triggerAction:P,filter:A,autoApply:T,context:{notAvailableMessage:z,position:W},preview:O})}i(z){return this.b.trigger(z)}j(z,P){return this.g.invokeFunction(C.applyCodeAction,z,C.ApplyCodeActionReason.FromCodeActions,{preview:P,editor:this.a})}};h.ID="editor.contrib.codeActionController",h=De([fe(1,a.IMarkerService),fe(2,t.IContextKeyService),fe(3,r.IEditorProgressService),fe(4,n.IInstantiationService),fe(5,v.ILanguageFeaturesService)],h),e.CodeActionController=h;function f(B,z,P,A,T=!1,O=u.CodeActionTriggerSource.Default){if(B.hasModel()){const F=h.get(B);F?.manualTriggerAtCurrentPosition(z,O,P,A,T)}}class S extends D.EditorAction{constructor(){super({id:S.Id,label:i.localize(10,null),alias:"Quick Fix...",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2132,weight:100}})}run(z,P){return f(P,i.localize(11,null),void 0,void 0,!1,u.CodeActionTriggerSource.QuickFix)}}S.Id="editor.action.quickFix",e.QuickFixAction=S;class p extends D.EditorCommand{constructor(){super({id:C.codeActionCommandId,precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:o}]}})}runEditorCommand(z,P,A){const T=u.CodeActionCommandArgs.fromUser(A,{kind:u.CodeActionKind.Empty,apply:"ifSingle"});return f(P,typeof A?.kind=="string"?T.preferred?i.localize(12,null,A.kind):i.localize(13,null,A.kind):T.preferred?i.localize(14,null):i.localize(15,null),{include:T.kind,includeSourceActions:!0,onlyIncludePreferredActions:T.preferred},T.apply)}}e.CodeActionCommand=p;class m extends D.EditorAction{constructor(){super({id:C.refactorCommandId,label:i.localize(16,null),alias:"Refactor...",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:t.ContextKeyExpr.and(y.EditorContextKeys.writable,s(u.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:o}]}})}run(z,P,A){return l(P,A,!1,u.CodeActionTriggerSource.Refactor)}}e.RefactorAction=m;class b extends D.EditorAction{constructor(){super({id:C.refactorPreviewCommandId,label:i.localize(17,null),alias:"Refactor Preview...",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:o}]}})}run(z,P,A){return l(P,A,!0,u.CodeActionTriggerSource.RefactorPreview)}}e.RefactorPreview=b;class L extends D.EditorAction{constructor(){super({id:C.sourceActionCommandId,label:i.localize(18,null),alias:"Source Action...",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:t.ContextKeyExpr.and(y.EditorContextKeys.writable,s(u.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:o}]}})}run(z,P,A){const T=u.CodeActionCommandArgs.fromUser(A,{kind:u.CodeActionKind.Source,apply:"never"});return f(P,typeof A?.kind=="string"?T.preferred?i.localize(19,null,A.kind):i.localize(20,null,A.kind):T.preferred?i.localize(21,null):i.localize(22,null),{include:u.CodeActionKind.Source.contains(T.kind)?T.kind:u.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:T.preferred},T.apply,void 0,u.CodeActionTriggerSource.SourceAction)}}e.SourceAction=L;class k extends D.EditorAction{constructor(){super({id:C.organizeImportsCommandId,label:i.localize(23,null),alias:"Organize Imports",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,s(u.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(z,P){return f(P,i.localize(24,null),{include:u.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,u.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=k;class I extends D.EditorAction{constructor(){super({id:C.fixAllCommandId,label:i.localize(25,null),alias:"Fix All",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,s(u.CodeActionKind.SourceFixAll))})}run(z,P){return f(P,i.localize(26,null),{include:u.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,u.CodeActionTriggerSource.FixAll)}}e.FixAllAction=I;class M extends D.EditorAction{constructor(){super({id:M.Id,label:i.localize(27,null),alias:"Auto Fix...",precondition:t.ContextKeyExpr.and(y.EditorContextKeys.writable,s(u.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(z,P){return f(P,i.localize(28,null),{include:u.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,u.CodeActionTriggerSource.AutoFix)}}M.Id="editor.action.autoFix",e.AutoFixAction=M}),define(ee[768],te([1,0,14,222,313,587,90,33]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(E.CodeActionController.ID,E.CodeActionController,3),(0,w.registerEditorAction)(E.QuickFixAction),(0,w.registerEditorAction)(E.RefactorAction),(0,w.registerEditorAction)(E.RefactorPreview),(0,w.registerEditorAction)(E.SourceAction),(0,w.registerEditorAction)(E.OrganizeImportsAction),(0,w.registerEditorAction)(E.AutoFixAction),(0,w.registerEditorAction)(E.FixAllAction),(0,w.registerEditorCommand)(new E.CodeActionCommand),v.Registry.as(y.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},N.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:D.localize(0,null),default:!0}}}))}),define(ee[769],te([1,0,7,66,533,41,13,2,99]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class d{constructor(i,t,n,a){this.g=i,this.h=t,this.i=n,this.j=a,this.a=null,this.b=null,this.c=null,this.d=null,this.f={blockMouse:!0}}configure(i){this.f=i}showContextMenu(i){const t=i.getActions();if(!t.length)return;this.a=document.activeElement;let n;const a=(0,w.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.g.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:r=>{var c;this.b=r;const u=i.getMenuClassName?i.getMenuClassName():"";u&&(r.className+=" "+u),this.f.blockMouse&&(this.c=r.appendChild((0,w.$)(".context-view-block")),this.c.style.position="fixed",this.c.style.cursor="initial",this.c.style.left="0",this.c.style.top="0",this.c.style.width="100%",this.c.style.height="100%",this.c.style.zIndex="-1",(c=this.d)===null||c===void 0||c.dispose(),this.d=(0,w.addDisposableListener)(this.c,w.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const s=new v.DisposableStore,l=i.actionRunner||new D.ActionRunner;return l.onWillRun(this.k,this,s),l.onDidRun(this.l,this,s),n=new E.Menu(r,t,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:l,getKeyBinding:i.getKeyBinding?i.getKeyBinding:o=>this.j.lookupKeybinding(o.id)},C.defaultMenuStyles),n.onDidCancel(()=>this.g.hideContextView(!0),null,s),n.onDidBlur(()=>this.g.hideContextView(!0),null,s),s.add((0,w.addDisposableListener)(window,w.EventType.BLUR,()=>this.g.hideContextView(!0))),s.add((0,w.addDisposableListener)(window,w.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;const h=new N.StandardMouseEvent(o);let f=h.target;if(!h.rightButton){for(;f;){if(f===r)return;f=f.parentElement}this.g.hideContextView(!0)}})),(0,v.combinedDisposable)(s,n)},focus:()=>{n?.focus(!!i.autoSelectFirstItem)},onHide:r=>{var c,u,s;(c=i.onHide)===null||c===void 0||c.call(i,!!r),this.c&&(this.c.remove(),this.c=null),(u=this.d)===null||u===void 0||u.dispose(),this.d=null,!!this.b&&((0,w.getActiveElement)()===this.b||(0,w.isAncestor)((0,w.getActiveElement)(),this.b))&&((s=this.a)===null||s===void 0||s.focus()),this.b=null}},a,!!a)}k(i){this.h.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.g.hideContextView(!1)}l(i){i.error&&!(0,y.isCancellationError)(i.error)&&this.i.error(i.error)}}e.ContextMenuHandler=d}),define(ee[177],te([1,0,7,528,105,529,168,536,535,279,6,2,669,32,90,15,300,56,8,37,33,99]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");class f{get lastFocusedList(){return this.c}constructor(){this.a=new i.DisposableStore,this.b=[],this.c=void 0,this.d=!1}f(se){var he,me;se!==this.c&&((he=this.c)===null||he===void 0||he.getHTMLElement().classList.remove("last-focused"),this.c=se,(me=this.c)===null||me===void 0||me.getHTMLElement().classList.add("last-focused"))}register(se,he){if(this.d||(this.d=!0,new E.DefaultStyleController((0,w.createStyleSheet)(),"").style(h.defaultListStyles)),this.b.some(Se=>Se.widget===se))throw new Error("Cannot register the same widget multiple times");const me={widget:se,extraContextKeys:he};return this.b.push(me),se.getHTMLElement()===document.activeElement&&this.f(se),(0,i.combinedDisposable)(se.onDidFocus(()=>this.f(se)),(0,i.toDisposable)(()=>this.b.splice(this.b.indexOf(me),1)),se.onDidDispose(()=>{this.b=this.b.filter(Se=>Se!==me),this.c===se&&this.f(void 0)}))}dispose(){this.a.dispose()}}e.ListService=f,e.RawWorkbenchListFocusContextKey=new r.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new r.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=r.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,r.ContextKeyExpr.not(c.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new r.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new r.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new r.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new r.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new r.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new r.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new r.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new r.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new r.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new r.RawContextKey("treeFindOpen",!1);const S="listTypeNavigationMode",p="listAutomaticKeyboardNavigation";function m(ue,se){const he=ue.createScoped(se.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(he),he}const b="workbench.list.multiSelectModifier",L="workbench.list.openMode",k="workbench.list.horizontalScrolling",I="workbench.list.defaultFindMode",M="workbench.list.typeNavigationMode",B="workbench.list.keyboardNavigation",z="workbench.list.scrollByPage",P="workbench.list.defaultFindMatchType",A="workbench.tree.indent",T="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",F="workbench.list.mouseWheelScrollSensitivity",W="workbench.list.fastScrollSensitivity",V="workbench.tree.expandMode";function R(ue){return ue.getValue(b)==="alt"}class $ extends i.Disposable{constructor(se){super(),this.b=se,this.a=R(se),this.c()}c(){this.q(this.b.onDidChangeConfiguration(se=>{se.affectsConfiguration(b)&&(this.a=R(this.b))}))}isSelectionSingleChangeEvent(se){return this.a?se.browserEvent.altKey:(0,E.isSelectionSingleChangeEvent)(se)}isSelectionRangeChangeEvent(se){return(0,E.isSelectionRangeChangeEvent)(se)}}function X(ue,se){var he;const me=ue.get(n.IConfigurationService),Se=ue.get(l.IKeybindingService),ye=new i.DisposableStore;return[Object.assign(Object.assign({},se),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Te){return Se.mightProducePrintableCharacter(Te)}},smoothScrolling:Boolean(me.getValue(O)),mouseWheelScrollSensitivity:me.getValue(F),fastScrollSensitivity:me.getValue(W),multipleSelectionController:(he=se.multipleSelectionController)!==null&&he!==void 0?he:ye.add(new $(me)),keyboardNavigationEventFilter:Y(Se),scrollByPage:Boolean(me.getValue(z))}),ye]}let ne=class extends E.List{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie){const ve=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:Boolean(Pe.getValue(k)),[ge,we]=Ie.invokeFunction(X,ye);super(se,he,me,Se,Object.assign(Object.assign({keyboardSupport:!1},ge),{horizontalScrolling:ve})),this.w.add(we),this.contextKeyService=m(ke,this),this.h=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.h.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ye.selectionNavigation)),this.K=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.L=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.M=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.N=ye.horizontalScrolling,this.O=R(Pe),this.w.add(this.contextKeyService),this.w.add(Te.register(this)),this.Q(ye.overrideStyles),this.w.add(this.onDidChangeSelection(()=>{const pe=this.getSelection(),be=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.K.set(pe.length>0||be.length>0),this.M.set(pe.length>1),this.L.set(pe.length===2)})})),this.w.add(this.onDidChangeFocus(()=>{const pe=this.getSelection(),be=this.getFocus();this.K.set(pe.length>0||be.length>0)})),this.w.add(Pe.onDidChangeConfiguration(pe=>{pe.affectsConfiguration(b)&&(this.O=R(Pe));let be={};if(pe.affectsConfiguration(k)&&this.N===void 0){const Ce=Boolean(Pe.getValue(k));be=Object.assign(Object.assign({},be),{horizontalScrolling:Ce})}if(pe.affectsConfiguration(z)){const Ce=Boolean(Pe.getValue(z));be=Object.assign(Object.assign({},be),{scrollByPage:Ce})}if(pe.affectsConfiguration(O)){const Ce=Boolean(Pe.getValue(O));be=Object.assign(Object.assign({},be),{smoothScrolling:Ce})}if(pe.affectsConfiguration(F)){const Ce=Pe.getValue(F);be=Object.assign(Object.assign({},be),{mouseWheelScrollSensitivity:Ce})}if(pe.affectsConfiguration(W)){const Ce=Pe.getValue(W);be=Object.assign(Object.assign({},be),{fastScrollSensitivity:Ce})}Object.keys(be).length>0&&this.updateOptions(be)})),this.P=new J(this,Object.assign({configurationService:Pe},ye)),this.w.add(this.P)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.Q(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.h.set(!!se.multipleSelectionSupport)}Q(se){this.style(se?(0,h.getListStyles)(se):h.defaultListStyles)}};ne=De([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,n.IConfigurationService),fe(8,s.IInstantiationService)],ne),e.WorkbenchList=ne;let ae=class extends N.PagedList{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie){const ve=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:Boolean(Pe.getValue(k)),[ge,we]=Ie.invokeFunction(X,ye);super(se,he,me,Se,Object.assign(Object.assign({keyboardSupport:!1},ge),{horizontalScrolling:ve})),this.c=new i.DisposableStore,this.c.add(we),this.contextKeyService=m(ke,this),this.g=ye.horizontalScrolling,this.d=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.d.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ye.selectionNavigation)),this.f=R(Pe),this.c.add(this.contextKeyService),this.c.add(Te.register(this)),this.j(ye.overrideStyles),this.c.add(Pe.onDidChangeConfiguration(pe=>{pe.affectsConfiguration(b)&&(this.f=R(Pe));let be={};if(pe.affectsConfiguration(k)&&this.g===void 0){const Ce=Boolean(Pe.getValue(k));be=Object.assign(Object.assign({},be),{horizontalScrolling:Ce})}if(pe.affectsConfiguration(z)){const Ce=Boolean(Pe.getValue(z));be=Object.assign(Object.assign({},be),{scrollByPage:Ce})}if(pe.affectsConfiguration(O)){const Ce=Boolean(Pe.getValue(O));be=Object.assign(Object.assign({},be),{smoothScrolling:Ce})}if(pe.affectsConfiguration(F)){const Ce=Pe.getValue(F);be=Object.assign(Object.assign({},be),{mouseWheelScrollSensitivity:Ce})}if(pe.affectsConfiguration(W)){const Ce=Pe.getValue(W);be=Object.assign(Object.assign({},be),{fastScrollSensitivity:Ce})}Object.keys(be).length>0&&this.updateOptions(be)})),this.h=new J(this,Object.assign({configurationService:Pe},ye)),this.c.add(this.h)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.j(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.d.set(!!se.multipleSelectionSupport)}j(se){this.style(se?(0,h.getListStyles)(se):h.defaultListStyles)}dispose(){this.c.dispose(),super.dispose()}};ae=De([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,n.IConfigurationService),fe(8,s.IInstantiationService)],ae),e.WorkbenchPagedList=ae;let ie=class extends D.Table{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie,ve){const ge=typeof ke.horizontalScrolling<"u"?ke.horizontalScrolling:Boolean(Ie.getValue(k)),[we,de]=ve.invokeFunction(X,ke);super(se,he,me,Se,ye,Object.assign(Object.assign({keyboardSupport:!1},we),{horizontalScrolling:ge})),this.k.add(de),this.contextKeyService=m(Te,this),this.p=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.p.set(ke.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ke.selectionNavigation)),this.q=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.s=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.t=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.u=ke.horizontalScrolling,this.v=R(Ie),this.k.add(this.contextKeyService),this.k.add(Pe.register(this)),this.x(ke.overrideStyles),this.k.add(this.onDidChangeSelection(()=>{const be=this.getSelection(),Ce=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.q.set(be.length>0||Ce.length>0),this.t.set(be.length>1),this.s.set(be.length===2)})})),this.k.add(this.onDidChangeFocus(()=>{const be=this.getSelection(),Ce=this.getFocus();this.q.set(be.length>0||Ce.length>0)})),this.k.add(Ie.onDidChangeConfiguration(be=>{be.affectsConfiguration(b)&&(this.v=R(Ie));let Ce={};if(be.affectsConfiguration(k)&&this.u===void 0){const Ee=Boolean(Ie.getValue(k));Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:Ee})}if(be.affectsConfiguration(z)){const Ee=Boolean(Ie.getValue(z));Ce=Object.assign(Object.assign({},Ce),{scrollByPage:Ee})}if(be.affectsConfiguration(O)){const Ee=Boolean(Ie.getValue(O));Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:Ee})}if(be.affectsConfiguration(F)){const Ee=Ie.getValue(F);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:Ee})}if(be.affectsConfiguration(W)){const Ee=Ie.getValue(W);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:Ee})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.w=new x(this,Object.assign({configurationService:Ie},ke)),this.k.add(this.w)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.x(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.p.set(!!se.multipleSelectionSupport)}x(se){this.style(se?(0,h.getListStyles)(se):h.defaultListStyles)}dispose(){this.k.dispose(),super.dispose()}};ie=De([fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService),fe(9,s.IInstantiationService)],ie),e.WorkbenchTable=ie;class le extends i.Disposable{constructor(se,he){var me;super(),this.c=se,this.b=this.q(new g.Emitter),this.onDidOpen=this.b.event,this.q(g.Event.filter(this.c.onDidChangeSelection,Se=>Se.browserEvent instanceof KeyboardEvent)(Se=>this.g(Se))),this.q(this.c.onPointer(Se=>this.h(Se.element,Se.browserEvent))),this.q(this.c.onMouseDblClick(Se=>this.i(Se.element,Se.browserEvent))),typeof he?.openOnSingleClick!="boolean"&&he?.configurationService?(this.a=he?.configurationService.getValue(L)!=="doubleClick",this.q(he?.configurationService.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(L)&&(this.a=he?.configurationService.getValue(L)!=="doubleClick")}))):this.a=(me=he?.openOnSingleClick)!==null&&me!==void 0?me:!0}g(se){if(se.elements.length!==1)return;const he=se.browserEvent,me=typeof he.preserveFocus=="boolean"?he.preserveFocus:!0,Se=typeof he.pinned=="boolean"?he.pinned:!me,ye=!1;this.j(this.getSelectedElement(),me,Se,ye,se.browserEvent)}h(se,he){if(!this.a||he.detail===2)return;const Se=he.button===1,ye=!0,ke=Se,Te=he.ctrlKey||he.metaKey||he.altKey;this.j(se,ye,ke,Te,he)}i(se,he){if(!he)return;const me=he.target;if(me.classList.contains("monaco-tl-twistie")||me.classList.contains("monaco-icon-label")&&me.classList.contains("folder-icon")&&he.offsetX<16)return;const ye=!1,ke=!0,Te=he.ctrlKey||he.metaKey||he.altKey;this.j(se,ye,ke,Te,he)}j(se,he,me,Se,ye){!se||this.b.fire({editorOptions:{preserveFocus:he,pinned:me,revealIfVisible:!0},sideBySide:Se,element:se,browserEvent:ye})}}class J extends le{constructor(se,he){super(se,he),this.c=se}getSelectedElement(){return this.c.getSelectedElements()[0]}}class x extends le{constructor(se,he){super(se,he)}getSelectedElement(){return this.c.getSelectedElements()[0]}}class q extends le{constructor(se,he){super(se,he)}getSelectedElement(){var se;return(se=this.c.getSelection()[0])!==null&&se!==void 0?se:void 0}}function Y(ue){let se=!1;return he=>{if(he.toKeyCodeChord().isModifierKey())return!1;if(se)return se=!1,!1;const me=ue.softDispatch(he,he.target);return me?.enterMultiChord?(se=!0,!1):(se=!1,!me)}}let Q=class extends d.ObjectTree{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie){const{options:ve,getTypeNavigationMode:ge,disposable:we}=ke.invokeFunction(H,ye);super(se,he,me,Se,ve),this.o.add(we),this.B=new _(this,ye,ge,ye.overrideStyles,Te,Pe,Ie),this.o.add(this.B)}updateOptions(se){super.updateOptions(se),this.B.updateOptions(se)}};Q=De([fe(5,s.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService)],Q),e.WorkbenchObjectTree=Q;let re=class extends d.CompressibleObjectTree{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie){const{options:ve,getTypeNavigationMode:ge,disposable:we}=ke.invokeFunction(H,ye);super(se,he,me,Se,ve),this.o.add(we),this.D=new _(this,ye,ge,ye.overrideStyles,Te,Pe,Ie),this.o.add(this.D)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.D.updateStyleOverrides(se.overrideStyles),this.D.updateOptions(se)}};re=De([fe(5,s.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,n.IConfigurationService)],re),e.WorkbenchCompressibleObjectTree=re;let oe=class extends C.DataTree{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie,ve){const{options:ge,getTypeNavigationMode:we,disposable:de}=Te.invokeFunction(H,ke);super(se,he,me,Se,ye,ge),this.o.add(de),this.D=new _(this,ke,we,ke.overrideStyles,Pe,Ie,ve),this.o.add(this.D)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles!==void 0&&this.D.updateStyleOverrides(se.overrideStyles),this.D.updateOptions(se)}};oe=De([fe(6,s.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,n.IConfigurationService)],oe),e.WorkbenchDataTree=oe;let G=class extends v.AsyncDataTree{get onDidOpen(){return this.I.onDidOpen}constructor(se,he,me,Se,ye,ke,Te,Pe,Ie,ve){const{options:ge,getTypeNavigationMode:we,disposable:de}=Te.invokeFunction(H,ke);super(se,he,me,Se,ye,ge),this.s.add(de),this.I=new _(this,ke,we,ke.overrideStyles,Pe,Ie,ve),this.s.add(this.I)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.I.updateStyleOverrides(se.overrideStyles),this.I.updateOptions(se)}};G=De([fe(6,s.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,n.IConfigurationService)],G),e.WorkbenchAsyncDataTree=G;let Z=class extends v.CompressibleAsyncDataTree{constructor(se,he,me,Se,ye,ke,Te,Pe,Ie,ve,ge){const{options:we,getTypeNavigationMode:de,disposable:pe}=Pe.invokeFunction(H,Te);super(se,he,me,Se,ye,ke,we),this.s.add(pe),this.Q=new _(this,Te,de,Te.overrideStyles,Ie,ve,ge),this.s.add(this.Q)}updateOptions(se){super.updateOptions(se),this.Q.updateOptions(se)}};Z=De([fe(7,s.IInstantiationService),fe(8,r.IContextKeyService),fe(9,e.IListService),fe(10,n.IConfigurationService)],Z),e.WorkbenchCompressibleAsyncDataTree=Z;function U(ue){const se=ue.getValue(I);if(se==="highlight")return y.TreeFindMode.Highlight;if(se==="filter")return y.TreeFindMode.Filter;const he=ue.getValue(B);if(he==="simple"||he==="highlight")return y.TreeFindMode.Highlight;if(he==="filter")return y.TreeFindMode.Filter}function j(ue){const se=ue.getValue(P);if(se==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(se==="contiguous")return y.TreeFindMatchType.Contiguous}function H(ue,se){var he;const me=ue.get(n.IConfigurationService),Se=ue.get(u.IContextViewService),ye=ue.get(r.IContextKeyService),ke=ue.get(s.IInstantiationService),Te=()=>{const we=ye.getContextKeyValue(S);if(we==="automatic")return E.TypeNavigationMode.Automatic;if(we==="trigger"||ye.getContextKeyValue(p)===!1)return E.TypeNavigationMode.Trigger;const pe=me.getValue(M);if(pe==="automatic")return E.TypeNavigationMode.Automatic;if(pe==="trigger")return E.TypeNavigationMode.Trigger},Pe=se.horizontalScrolling!==void 0?se.horizontalScrolling:Boolean(me.getValue(k)),[Ie,ve]=ke.invokeFunction(X,se),ge=se.additionalScrollHeight;return{getTypeNavigationMode:Te,disposable:ve,options:Object.assign(Object.assign({keyboardSupport:!1},Ie),{indent:typeof me.getValue(A)=="number"?me.getValue(A):void 0,renderIndentGuides:me.getValue(T),smoothScrolling:Boolean(me.getValue(O)),defaultFindMode:U(me),defaultFindMatchType:j(me),horizontalScrolling:Pe,scrollByPage:Boolean(me.getValue(z)),additionalScrollHeight:ge,hideTwistiesOfChildlessElements:se.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(he=se.expandOnlyOnTwistieClick)!==null&&he!==void 0?he:me.getValue(V)==="doubleClick",contextViewProvider:Se,findWidgetStyles:h.defaultFindWidgetStyles})}}let _=class{get onDidOpen(){return this.o.onDidOpen}constructor(se,he,me,Se,ye,ke,Te){var Pe;this.p=se,this.n=[],this.contextKeyService=m(ye,se),this.a=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.a.set(he.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(he.selectionNavigation)),this.b=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.b.set((Pe=he.findWidgetEnabled)!==null&&Pe!==void 0?Pe:!0),this.c=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.d=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.f=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.g=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.h=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.i=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.j=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.k=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.m=R(Te),this.updateStyleOverrides(Se);const ve=()=>{const we=se.getFocus()[0];if(!we)return;const de=se.getNode(we);this.g.set(de.collapsible&&!de.collapsed),this.h.set(!!se.getParentElement(we)),this.i.set(de.collapsible&&de.collapsed),this.j.set(!!se.getFirstElementChild(we))},ge=new Set;ge.add(S),ge.add(p),this.n.push(this.contextKeyService,ke.register(se),se.onDidChangeSelection(()=>{const we=se.getSelection(),de=se.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.c.set(we.length>0||de.length>0),this.f.set(we.length>1),this.d.set(we.length===2)})}),se.onDidChangeFocus(()=>{const we=se.getSelection(),de=se.getFocus();this.c.set(we.length>0||de.length>0),ve()}),se.onDidChangeCollapseState(ve),se.onDidChangeModel(ve),se.onDidChangeFindOpenState(we=>this.k.set(we)),Te.onDidChangeConfiguration(we=>{let de={};if(we.affectsConfiguration(b)&&(this.m=R(Te)),we.affectsConfiguration(A)){const pe=Te.getValue(A);de=Object.assign(Object.assign({},de),{indent:pe})}if(we.affectsConfiguration(T)){const pe=Te.getValue(T);de=Object.assign(Object.assign({},de),{renderIndentGuides:pe})}if(we.affectsConfiguration(O)){const pe=Boolean(Te.getValue(O));de=Object.assign(Object.assign({},de),{smoothScrolling:pe})}if(we.affectsConfiguration(I)||we.affectsConfiguration(B)){const pe=U(Te);de=Object.assign(Object.assign({},de),{defaultFindMode:pe})}if(we.affectsConfiguration(M)||we.affectsConfiguration(B)){const pe=me();de=Object.assign(Object.assign({},de),{typeNavigationMode:pe})}if(we.affectsConfiguration(P)){const pe=j(Te);de=Object.assign(Object.assign({},de),{defaultFindMatchType:pe})}if(we.affectsConfiguration(k)&&he.horizontalScrolling===void 0){const pe=Boolean(Te.getValue(k));de=Object.assign(Object.assign({},de),{horizontalScrolling:pe})}if(we.affectsConfiguration(z)){const pe=Boolean(Te.getValue(z));de=Object.assign(Object.assign({},de),{scrollByPage:pe})}if(we.affectsConfiguration(V)&&he.expandOnlyOnTwistieClick===void 0&&(de=Object.assign(Object.assign({},de),{expandOnlyOnTwistieClick:Te.getValue(V)==="doubleClick"})),we.affectsConfiguration(F)){const pe=Te.getValue(F);de=Object.assign(Object.assign({},de),{mouseWheelScrollSensitivity:pe})}if(we.affectsConfiguration(W)){const pe=Te.getValue(W);de=Object.assign(Object.assign({},de),{fastScrollSensitivity:pe})}Object.keys(de).length>0&&se.updateOptions(de)}),this.contextKeyService.onDidChangeContext(we=>{we.affectsSome(ge)&&se.updateOptions({typeNavigationMode:me()})})),this.o=new q(se,Object.assign({configurationService:Te},he)),this.n.push(this.o)}updateOptions(se){se.multipleSelectionSupport!==void 0&&this.a.set(!!se.multipleSelectionSupport)}updateStyleOverrides(se){this.p.style(se?(0,h.getListStyles)(se):h.defaultListStyles)}dispose(){this.n=(0,i.dispose)(this.n)}};_=De([fe(4,r.IContextKeyService),fe(5,e.IListService),fe(6,n.IConfigurationService)],_),o.Registry.as(a.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,t.localize)(0,null),type:"object",properties:{[b]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,t.localize)(1,null),(0,t.localize)(2,null)],default:"ctrlCmd",description:(0,t.localize)(3,null)},[L]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(4,null)},[k]:{type:"boolean",default:!1,description:(0,t.localize)(5,null)},[z]:{type:"boolean",default:!1,description:(0,t.localize)(6,null)},[A]:{type:"number",default:8,minimum:4,maximum:40,description:(0,t.localize)(7,null)},[T]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,t.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,t.localize)(9,null)},[F]:{type:"number",default:1,markdownDescription:(0,t.localize)(10,null)},[W]:{type:"number",default:5,description:(0,t.localize)(11,null)},[I]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,t.localize)(12,null),(0,t.localize)(13,null)],default:"highlight",description:(0,t.localize)(14,null)},[B]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,t.localize)(15,null),(0,t.localize)(16,null),(0,t.localize)(17,null)],default:"highlight",description:(0,t.localize)(18,null),deprecated:!0,deprecationMessage:(0,t.localize)(19,null)},[P]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,t.localize)(20,null),(0,t.localize)(21,null)],default:"fuzzy",description:(0,t.localize)(22,null)},[V]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(23,null)},[M]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,t.localize)(24,null)}}})}),define(ee[78],te([1,0,12,27,31,6,18,21,674,221,33]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var i;(function(o){function h(f,S){let p=f.defaults;for(;E.ThemeIcon.isThemeIcon(p);){const m=a.getIcon(p.id);if(!m)return;p=m.defaults}return p}o.getDefinition=h})(i=e.IconContribution||(e.IconContribution={}));var t;(function(o){function h(S){return{weight:S.weight,style:S.style,src:S.src.map(p=>({format:p.format,location:p.location.toString()}))}}o.toJSONObject=h;function f(S){const p=m=>(0,y.isString)(m)?m:void 0;if(S&&Array.isArray(S.src)&&S.src.every(m=>(0,y.isString)(m.format)&&(0,y.isString)(m.location)))return{weight:p(S.weight),style:p(S.style),src:S.src.map(m=>({format:m.format,location:v.URI.parse(m.location)}))}}o.fromJSONObject=f})(t=e.IconFontDefinition||(e.IconFontDefinition={}));class n{constructor(){this.a=new D.Emitter,this.onDidChange=this.a.event,this.d={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,C.localize)(0,null)},fontCharacter:{type:"string",description:(0,C.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.e={type:"string",pattern:`^${E.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.b={},this.f={}}registerIcon(h,f,S,p){const m=this.b[h];if(m){if(S&&!m.description){m.description=S,this.d.properties[h].markdownDescription=`${S} $(${h})`;const k=this.e.enum.indexOf(h);k!==-1&&(this.e.enumDescriptions[k]=S),this.a.fire()}return m}const b={id:h,description:S,defaults:f,deprecationMessage:p};this.b[h]=b;const L={$ref:"#/definitions/icons"};return p&&(L.deprecationMessage=p),S&&(L.markdownDescription=`${S}: $(${h})`),this.d.properties[h]=L,this.e.enum.push(h),this.e.enumDescriptions.push(S||""),this.a.fire(),{id:h}}getIcons(){return Object.keys(this.b).map(h=>this.b[h])}getIcon(h){return this.b[h]}getIconSchema(){return this.d}toString(){const h=(m,b)=>m.id.localeCompare(b.id),f=m=>{for(;E.ThemeIcon.isThemeIcon(m.defaults);)m=this.b[m.defaults.id];return`codicon codicon-${m?m.id:""}`},S=[];S.push("| preview     | identifier                        | default codicon ID                | description"),S.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const p=Object.keys(this.b).map(m=>this.b[m]);for(const m of p.filter(b=>!!b.description).sort(h))S.push(`|<i class="${f(m)}"></i>|${m.id}|${E.ThemeIcon.isThemeIcon(m.defaults)?m.defaults.id:m.id}|${m.description||""}|`);S.push("| preview     | identifier                        "),S.push("| ----------- | --------------------------------- |");for(const m of p.filter(b=>!E.ThemeIcon.isThemeIcon(b.defaults)).sort(h))S.push(`|<i class="${f(m)}"></i>|${m.id}|`);return S.join(`
`)}}const a=new n;g.Registry.add(e.Extensions.IconContribution,a);function r(o,h,f,S){return a.registerIcon(o,h,f,S)}e.registerIcon=r;function c(){return a}e.getIconRegistry=c;function u(){const o=(0,N.getCodiconFontCharacters)();for(const h in o){const f="\\"+o[h].toString(16);a.registerIcon(h,{fontCharacter:f})}}u(),e.iconsSchemaId="vscode://schemas/icons";const s=g.Registry.as(d.Extensions.JSONContribution);s.registerSchema(e.iconsSchemaId,a.getIconSchema());const l=new w.RunOnceScheduler(()=>s.notifySchemaChanged(e.iconsSchemaId),200);a.onDidChange(()=>{l.isScheduled()||l.schedule()}),e.widgetClose=r("widget-close",N.Codicon.close,(0,C.localize)(2,null)),e.gotoPreviousLocation=r("goto-previous-location",N.Codicon.arrowUp,(0,C.localize)(3,null)),e.gotoNextLocation=r("goto-next-location",N.Codicon.arrowDown,(0,C.localize)(4,null)),e.syncing=E.ThemeIcon.modify(N.Codicon.sync,"spin"),e.spinningLoading=E.ThemeIcon.modify(N.Codicon.loading,"spin")}),define(ee[770],te([1,0,568,7,35,68,74,41,2,72,14,28,39,87,11,106,80,15,31,27,78,40,219,389]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const p=3;class m{constructor(T,O,F,W){this.originalLineStart=T,this.originalLineEnd=O,this.modifiedLineStart=F,this.modifiedLineEnd=W}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class b{constructor(T){this.entries=T}}const L=(0,o.registerIcon)("diff-review-insert",l.Codicon.add,w.localize(0,null)),k=(0,o.registerIcon)("diff-review-remove",l.Codicon.remove,w.localize(1,null)),I=(0,o.registerIcon)("diff-review-close",l.Codicon.close,w.localize(2,null));let M=class Tt extends C.Disposable{constructor(T,O,F){super(),this.m=O,this.n=F,this.z=0,this.b=T,this.c=!1,this.shadow=(0,E.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,E.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this.g=this.q(new D.ActionBar(this.actionBarContainer.domNode)),this.g.push(new v.Action("diffreview.close",w.localize(3,null),"close-diff-review "+s.ThemeIcon.asClassName(I),!0,()=>Le(this,void 0,void 0,function*(){return this.s()})),{label:!1,icon:!0}),this.domNode=(0,E.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this.h=(0,E.createFastDomNode)(document.createElement("div")),this.h.setClassName("diff-review-content"),this.h.setAttribute("role","code"),this.j=this.q(new y.DomScrollableElement(this.h.domNode,{})),this.domNode.domNode.appendChild(this.j.getDomNode()),this.q(T.onDidUpdateDiff(()=>{!this.c||(this.k=this.B(),this.F())})),this.q(T.getModifiedEditor().onDidChangeCursorPosition(()=>{!this.c||this.F()})),this.q(N.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const V=N.findParentWithClass(W.target,"diff-review-row");V&&this.y(V)})),this.q(N.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2066)||W.equals(530))&&(W.preventDefault(),this.y(this.u(),"next")),(W.equals(16)||W.equals(2064)||W.equals(528))&&(W.preventDefault(),this.y(this.t(),"previous")),(W.equals(9)||W.equals(2057)||W.equals(521)||W.equals(1033)||W.equals(10)||W.equals(3))&&(W.preventDefault(),this.p())})),this.k=[],this.l=null}prev(){let T=0;if(this.c||(this.k=this.B()),this.c){let F=-1;for(let W=0,V=this.k.length;W<V;W++)if(this.k[W]===this.l){F=W;break}T=this.k.length+F-1}else T=this.D(this.b.getPosition());if(this.k.length===0)return;T=T%this.k.length;const O=this.k[T].entries;this.b.setPosition(new a.Position(O[0].modifiedLineStart,1)),this.b.setSelection({startColumn:1,startLineNumber:O[0].modifiedLineStart,endColumn:1073741824,endLineNumber:O[O.length-1].modifiedLineEnd}),this.c=!0,this.b.doLayout(),this.F(),this.y(this.t(),"previous")}next(){let T=0;if(this.c||(this.k=this.B()),this.c){let F=-1;for(let W=0,V=this.k.length;W<V;W++)if(this.k[W]===this.l){F=W;break}T=F+1}else T=this.D(this.b.getPosition());if(this.k.length===0)return;T=T%this.k.length;const O=this.k[T].entries;this.b.setPosition(new a.Position(O[0].modifiedLineStart,1)),this.b.setSelection({startColumn:1,startLineNumber:O[0].modifiedLineStart,endColumn:1073741824,endLineNumber:O[O.length-1].modifiedLineEnd}),this.c=!0,this.b.doLayout(),this.F(),this.y(this.u(),"next")}p(){let T=-1;const O=this.w();if(O){const F=parseInt(O.getAttribute("data-line"),10);isNaN(F)||(T=F)}this.s(),T!==-1&&(this.b.setPosition(new a.Position(T,1)),this.b.revealPosition(new a.Position(T,1),1))}s(){this.c=!1,this.b.updateOptions({readOnly:!1}),this.b.focus(),this.b.doLayout(),this.F()}t(){const T=this.w();return T?T.previousElementSibling?T.previousElementSibling:T:this.v()}u(){const T=this.w();return T?T.nextElementSibling?T.nextElementSibling:T:this.v()}v(){return this.domNode.domNode.querySelector(".diff-review-row")}w(){const T=document.activeElement;return T&&/diff-review-row/.test(T.className)?T:null}y(T,O){const F=this.w();T.tabIndex=0,T.focus(),F&&F!==T&&(F.tabIndex=-1);const W=O?O==="next"?F?.nextElementSibling:F?.previousElementSibling:F;W?.classList.contains("line-insert")?this.n.playAudioCue(f.AudioCue.diffLineInserted,!0):W?.classList.contains("line-delete")&&this.n.playAudioCue(f.AudioCue.diffLineDeleted,!0),this.j.scanDomNode()}isVisible(){return this.c}layout(T,O,F){this.z=O,this.shadow.setTop(T-6),this.shadow.setWidth(O),this.shadow.setHeight(this.c?6:0),this.domNode.setTop(T),this.domNode.setWidth(O),this.domNode.setHeight(F),this.h.setHeight(F),this.h.setWidth(O),this.c?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}B(){const T=this.b.getLineChanges();if(!T||T.length===0)return[];const O=this.b.getOriginalEditor().getModel(),F=this.b.getModifiedEditor().getModel();return!O||!F?[]:Tt.C(T,O.getLineCount(),F.getLineCount())}static C(T,O,F){if(!T||T.length===0)return[];const W=[];let V=0;for(let ne=0,ae=T.length;ne<ae;ne++){const ie=T[ne],le=ie.originalStartLineNumber,J=ie.originalEndLineNumber,x=ie.modifiedStartLineNumber,q=ie.modifiedEndLineNumber,Y=[];let Q=0;{const re=J===0?le:le-1,oe=q===0?x:x-1;let G=1,Z=1;if(ne>0){const H=T[ne-1];H.originalEndLineNumber===0?G=H.originalStartLineNumber+1:G=H.originalEndLineNumber+1,H.modifiedEndLineNumber===0?Z=H.modifiedStartLineNumber+1:Z=H.modifiedEndLineNumber+1}let U=re-p+1,j=oe-p+1;if(U<G){const H=G-U;U=U+H,j=j+H}if(j<Z){const H=Z-j;U=U+H,j=j+H}Y[Q++]=new m(U,re,j,oe)}J!==0&&(Y[Q++]=new m(le,J,0,0)),q!==0&&(Y[Q++]=new m(0,0,x,q));{const re=J===0?le+1:J+1,oe=q===0?x+1:q+1;let G=O,Z=F;if(ne+1<ae){const H=T[ne+1];H.originalEndLineNumber===0?G=H.originalStartLineNumber:G=H.originalStartLineNumber-1,H.modifiedEndLineNumber===0?Z=H.modifiedStartLineNumber:Z=H.modifiedStartLineNumber-1}let U=re+p-1,j=oe+p-1;if(U>G){const H=G-U;U=U+H,j=j+H}if(j>Z){const H=Z-j;U=U+H,j=j+H}Y[Q++]=new m(re,U,oe,j)}W[V++]=new b(Y)}let R=W[0].entries;const $=[];let X=0;for(let ne=1,ae=W.length;ne<ae;ne++){const ie=W[ne].entries,le=R[R.length-1],J=ie[0];if(le.getType()===0&&J.getType()===0&&J.originalLineStart<=le.originalLineEnd){R[R.length-1]=new m(le.originalLineStart,J.originalLineEnd,le.modifiedLineStart,J.modifiedLineEnd),R=R.concat(ie.slice(1));continue}$[X++]=new b(R),R=ie}return $[X++]=new b(R),$}D(T){const O=T.lineNumber;for(let F=0,W=this.k.length;F<W;F++){const V=this.k[F].entries,R=V[V.length-1].modifiedLineEnd;if(O<=R)return F}return 0}F(){const T=this.b.getOriginalEditor().getOptions(),O=this.b.getModifiedEditor().getOptions(),F=this.b.getOriginalEditor().getModel(),W=this.b.getModifiedEditor().getModel(),V=F.getOptions(),R=W.getOptions();if(!this.c||!F||!W){N.clearNode(this.h.domNode),this.l=null,this.j.scanDomNode();return}this.b.updateOptions({readOnly:!0});const $=this.D(this.b.getPosition());if(this.k[$]===this.l)return;this.l=this.k[$];const X=this.k[$].entries,ne=document.createElement("div");ne.className="diff-review-table",ne.setAttribute("role","list"),ne.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,d.applyFontInfo)(ne,O.get(47));let ae=0,ie=0,le=0,J=0;for(let j=0,H=X.length;j<H;j++){const _=X[j],ce=_.originalLineStart,ue=_.originalLineEnd,se=_.modifiedLineStart,he=_.modifiedLineEnd;ce!==0&&(ae===0||ce<ae)&&(ae=ce),ue!==0&&(ie===0||ue>ie)&&(ie=ue),se!==0&&(le===0||se<le)&&(le=se),he!==0&&(J===0||he>J)&&(J=he)}const x=document.createElement("div");x.className="diff-review-row";const q=document.createElement("div");q.className="diff-review-cell diff-review-summary";const Y=ie-ae+1,Q=J-le+1;q.appendChild(document.createTextNode(`${$+1}/${this.k.length}: @@ -${ae},${Y} +${le},${Q} @@`)),x.setAttribute("data-line",String(le));const re=j=>j===0?w.localize(4,null):j===1?w.localize(5,null):w.localize(6,null,j),oe=re(Y),G=re(Q);x.setAttribute("aria-label",w.localize(7,null,$+1,this.k.length,ae,oe,le,G)),x.appendChild(q),x.setAttribute("role","listitem"),ne.appendChild(x);const Z=O.get(63);let U=le;for(let j=0,H=X.length;j<H;j++){const _=X[j];Tt.G(ne,_,U,Z,this.z,T,F,V,O,W,R,this.m.languageIdCodec),_.modifiedLineStart!==0&&(U=_.modifiedLineEnd)}N.clearNode(this.h.domNode),this.h.domNode.appendChild(ne),this.j.scanDomNode()}static G(T,O,F,W,V,R,$,X,ne,ae,ie,le){const J=O.getType();let x="diff-review-row",q="";const Y="diff-review-spacer";let Q=null;switch(J){case 1:x="diff-review-row line-insert",q=" char-insert",Q=L;break;case 2:x="diff-review-row line-delete",q=" char-delete",Q=k;break}const re=O.originalLineStart,oe=O.originalLineEnd,G=O.modifiedLineStart,Z=O.modifiedLineEnd,U=Math.max(Z-G,oe-re),j=R.get(138),H=j.glyphMarginWidth+j.lineNumbersWidth,_=ne.get(138),ce=10+_.glyphMarginWidth+_.lineNumbersWidth;for(let ue=0;ue<=U;ue++){const se=re===0?0:re+ue,he=G===0?0:G+ue,me=document.createElement("div");me.style.minWidth=V+"px",me.className=x,me.setAttribute("role","listitem"),he!==0&&(F=he),me.setAttribute("data-line",String(F));const Se=document.createElement("div");Se.className="diff-review-cell",Se.style.height=`${W}px`,me.appendChild(Se);const ye=document.createElement("span");ye.style.width=H+"px",ye.style.minWidth=H+"px",ye.className="diff-review-line-number"+q,se!==0?ye.appendChild(document.createTextNode(String(se))):ye.innerText="\xA0",Se.appendChild(ye);const ke=document.createElement("span");ke.style.width=ce+"px",ke.style.minWidth=ce+"px",ke.style.paddingRight="10px",ke.className="diff-review-line-number"+q,he!==0?ke.appendChild(document.createTextNode(String(he))):ke.innerText="\xA0",Se.appendChild(ke);const Te=document.createElement("span");if(Te.className=Y,Q){const ve=document.createElement("span");ve.className=s.ThemeIcon.asClassName(Q),ve.innerText="\xA0\xA0",Te.appendChild(ve)}else Te.innerText="\xA0\xA0";Se.appendChild(Te);let Pe;if(he!==0){let ve=this.H(ae,ne,ie.tabSize,he,le);Tt.a&&(ve=Tt.a.createHTML(ve)),Se.insertAdjacentHTML("beforeend",ve),Pe=ae.getLineContent(he)}else{let ve=this.H($,R,X.tabSize,se,le);Tt.a&&(ve=Tt.a.createHTML(ve)),Se.insertAdjacentHTML("beforeend",ve),Pe=$.getLineContent(se)}Pe.length===0&&(Pe=w.localize(8,null));let Ie="";switch(J){case 0:se===he?Ie=w.localize(9,null,Pe,se):Ie=w.localize(10,null,Pe,se,he);break;case 1:Ie=w.localize(11,null,Pe,he);break;case 2:Ie=w.localize(12,null,Pe,se);break}me.setAttribute("aria-label",Ie),T.appendChild(me)}}static H(T,O,F,W,V){const R=T.getLineContent(W),$=O.get(47),X=n.LineTokens.createEmpty(R,V),ne=c.ViewLineRenderingData.isBasicASCII(R,T.mightContainNonBasicASCII()),ae=c.ViewLineRenderingData.containsRTL(R,ne,T.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput($.isMonospace&&!O.get(30),$.canUseHalfwidthRightwardsArrow,R,!1,ne,ae,0,X,[],F,0,$.spaceWidth,$.middotWidth,$.wsmiddotWidth,O.get(111),O.get(93),O.get(88),O.get(48)!==t.EditorFontLigatures.OFF,null)).html}};M.a=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("diffReview",{createHTML:A=>A}),M=De([fe(1,h.ILanguageService),fe(2,f.IAudioCueService)],M),e.DiffReview=M;class B extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:w.localize(13,null),alias:"Go to Next Difference",precondition:u.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(T,O){const F=P(T);F?.diffReviewNext()}}class z extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:w.localize(14,null),alias:"Go to Previous Difference",precondition:u.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(T,O){const F=P(T);F?.diffReviewPrev()}}function P(A){const T=A.get(i.ICodeEditorService),O=T.listDiffEditors(),F=T.getActiveCodeEditor();if(!F)return null;for(let W=0,V=O.length;W<V;W++){const R=O[W];if(R.getModifiedEditor().getId()===F.getId()||R.getOriginalEditor().getId()===F.getId())return R}return null}(0,g.registerEditorAction)(B),(0,g.registerEditorAction)(z)}),define(ee[771],te([1,0,7,50,74,27,6,2,9,18,40,121,220,632,15,53,30,78,31,410]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const l=w.$,o=(0,u.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,n.localize(0,null)),h=(0,u.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,n.localize(1,null));let f=class Ui extends v.Disposable{constructor(p,m,b,L,k){super(),this.l=p,this.m=m,this.c=this.q(new v.DisposableStore),this.j=!1,this.k=null,this.allowEditorOverflow=!0,this.b=this.q(new i.MarkdownRenderer({editor:p},k,L)),this.g=t.Context.Visible.bindTo(b),this.h=t.Context.MultipleSignatures.bindTo(b)}n(){const p=l(".editor-widget.parameter-hints-widget"),m=w.append(p,l(".phwrapper"));m.tabIndex=-1;const b=w.append(m,l(".controls")),L=w.append(b,l(".button"+s.ThemeIcon.asCSSSelector(h))),k=w.append(b,l(".overloads")),I=w.append(b,l(".button"+s.ThemeIcon.asCSSSelector(o)));this.q(w.addDisposableListener(L,"click",T=>{w.EventHelper.stop(T),this.previous()})),this.q(w.addDisposableListener(I,"click",T=>{w.EventHelper.stop(T),this.next()}));const M=l(".body"),B=new E.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0});this.q(B),m.appendChild(B.getDomNode());const z=w.append(M,l(".signature")),P=w.append(M,l(".docs"));p.style.userSelect="text",this.i={element:p,signature:z,overloads:k,docs:P,scrollbar:B},this.l.addContentWidget(this),this.hide(),this.q(this.l.onDidChangeCursorSelection(T=>{this.j&&this.l.layoutContentWidget(this)}));const A=()=>{if(!this.i)return;const T=this.l.getOption(47);this.i.element.style.fontSize=`${T.fontSize}px`,this.i.element.style.lineHeight=`${T.lineHeight/T.fontSize}`};A(),this.q(y.Event.chain(this.l.onDidChangeConfiguration.bind(this.l)).filter(T=>T.hasChanged(47)).on(A,null)),this.q(this.l.onDidLayoutChange(T=>this.u())),this.u()}show(){this.j||(this.i||this.n(),this.g.set(!0),this.j=!0,setTimeout(()=>{var p;(p=this.i)===null||p===void 0||p.element.classList.add("visible")},100),this.l.layoutContentWidget(this))}hide(){var p;this.c.clear(),this.j&&(this.g.reset(),this.j=!1,this.k=null,(p=this.i)===null||p===void 0||p.element.classList.remove("visible"),this.l.layoutContentWidget(this))}getPosition(){return this.j?{position:this.l.getPosition(),preference:[1,2]}:null}render(p){var m;if(this.c.clear(),!this.i)return;const b=p.signatures.length>1;this.i.element.classList.toggle("multiple",b),this.h.set(b),this.i.signature.innerText="",this.i.docs.innerText="";const L=p.signatures[p.activeSignature];if(!L)return;const k=w.append(this.i.signature,l(".code")),I=this.l.getOption(47);k.style.fontSize=`${I.fontSize}px`,k.style.fontFamily=I.fontFamily;const M=L.parameters.length>0,B=(m=L.activeParameter)!==null&&m!==void 0?m:p.activeParameter;if(M)this.s(k,L,B);else{const A=w.append(k,l("span"));A.textContent=L.label}const z=L.parameters[B];if(z?.documentation){const A=l("span.documentation");if(typeof z.documentation=="string")A.textContent=z.documentation;else{const T=this.p(z.documentation);A.appendChild(T.element)}w.append(this.i.docs,l("p",{},A))}if(L.documentation!==void 0)if(typeof L.documentation=="string")w.append(this.i.docs,l("p",{},L.documentation));else{const A=this.p(L.documentation);w.append(this.i.docs,A.element)}const P=this.r(L,z);if(this.i.signature.classList.toggle("has-docs",P),this.i.docs.classList.toggle("empty",!P),this.i.overloads.textContent=String(p.activeSignature+1).padStart(p.signatures.length.toString().length,"0")+"/"+p.signatures.length,z){let A="";const T=L.parameters[B];Array.isArray(T.label)?A=L.label.substring(T.label[0],T.label[1]):A=T.label,T.documentation&&(A+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),L.documentation&&(A+=typeof L.documentation=="string"?`, ${L.documentation}`:`, ${L.documentation.value}`),this.k!==A&&(N.alert(n.localize(2,null,A)),this.k=A)}this.l.layoutContentWidget(this),this.i.scrollbar.scanDomNode()}p(p){const m=this.c.add(this.b.render(p,{asyncRenderCallback:()=>{var b;(b=this.i)===null||b===void 0||b.scrollbar.scanDomNode()}}));return m.element.classList.add("markdown-docs"),m}r(p,m){return!!(m&&typeof m.documentation=="string"&&(0,d.assertIsDefined)(m.documentation).length>0||m&&typeof m.documentation=="object"&&(0,d.assertIsDefined)(m.documentation).value.length>0||p.documentation&&typeof p.documentation=="string"&&(0,d.assertIsDefined)(p.documentation).length>0||p.documentation&&typeof p.documentation=="object"&&(0,d.assertIsDefined)(p.documentation.value).length>0)}s(p,m,b){const[L,k]=this.t(m,b),I=document.createElement("span");I.textContent=m.label.substring(0,L);const M=document.createElement("span");M.textContent=m.label.substring(L,k),M.className="parameter active";const B=document.createElement("span");B.textContent=m.label.substring(k),w.append(p,I,M,B)}t(p,m){const b=p.parameters[m];if(b){if(Array.isArray(b.label))return b.label;if(b.label.length){const L=new RegExp(`(\\W|^)${(0,C.escapeRegExpCharacters)(b.label)}(?=\\W|$)`,"g");L.test(p.label);const k=L.lastIndex-b.label.length;return k>=0?[k,L.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.l.focus(),this.m.next()}previous(){this.l.focus(),this.m.previous()}getDomNode(){return this.i||this.n(),this.i.element}getId(){return Ui.a}u(){if(!this.i)return;const m=`${Math.max(this.l.getLayoutInfo().height/4,250)}px`;this.i.element.style.maxHeight=m;const b=this.i.element.getElementsByClassName("phwrapper");b.length&&(b[0].style.maxHeight=m)}};f.a="editor.widget.parameterHintsWidget",f=De([fe(2,a.IContextKeyService),fe(3,r.IOpenerService),fe(4,g.ILanguageService)],f),e.ParameterHintsWidget=f,(0,c.registerColor)("editorHoverWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},n.localize(3,null))}),define(ee[772],te([1,0,100,2,14,23,26,19,688,220,631,15,8,771]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let a=class Ki extends N.Disposable{static get(l){return l.getContribution(Ki.ID)}constructor(l,o,h){super(),this.a=l,this.b=this.q(new C.ParameterHintsModel(l,h.signatureHelpProvider)),this.q(this.b.onChangedHints(f=>{var S;f?(this.c.value.show(),this.c.value.render(f)):(S=this.c.rawValue)===null||S===void 0||S.hide()})),this.c=new w.Lazy(()=>this.q(o.createInstance(n.ParameterHintsWidget,this.a,this.b)))}cancel(){this.b.cancel()}previous(){var l;(l=this.c.rawValue)===null||l===void 0||l.previous()}next(){var l;(l=this.c.rawValue)===null||l===void 0||l.next()}trigger(l){this.b.trigger(l,0)}};a.ID="editor.controller.parameterHints",a=De([fe(1,t.IInstantiationService),fe(2,v.ILanguageFeaturesService)],a);class r extends E.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:g.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(l,o){const h=a.get(o);h?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=r,(0,E.registerEditorContribution)(a.ID,a,2),(0,E.registerEditorAction)(r);const c=100+75,u=E.EditorCommand.bindToContribution(a.get);(0,E.registerEditorCommand)(new u({id:"closeParameterHints",precondition:d.Context.Visible,handler:s=>s.cancel(),kbOpts:{weight:c,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new u({id:"showPrevParameterHint",precondition:i.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSignatures),handler:s=>s.previous(),kbOpts:{weight:c,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,E.registerEditorCommand)(new u({id:"showNextParameterHint",precondition:i.ContextKeyExpr.and(d.Context.Visible,d.Context.MultipleSignatures),handler:s=>s.next(),kbOpts:{weight:c,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ee[773],te([1,0,7,68,41,2,121,8,707,78,31,417]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let t=class extends D.Disposable{constructor(r,c){super(),this.b=r,this.c=c,this.a=this.q(this.c.createInstance(n))}hide(){this.b.setBanner(null,0),this.a.clear()}show(r){this.a.show(Object.assign(Object.assign({},r),{onClose:()=>{var c;this.hide(),(c=r.onClose)===null||c===void 0||c.call(r)}})),this.b.setBanner(this.a.element,i)}};t=De([fe(1,v.IInstantiationService)],t),e.BannerController=t;let n=class extends D.Disposable{constructor(r){super(),this.g=r,this.a=this.g.createInstance(y.MarkdownRenderer,{}),this.element=(0,w.$)("div.editor-banner"),this.element.tabIndex=0}h(r){if(r.ariaLabel)return r.ariaLabel;if(typeof r.message=="string")return r.message}i(r){if(typeof r=="string"){const c=(0,w.$)("span");return c.innerText=r,c}return this.a.render(r).element}clear(){(0,w.clearNode)(this.element)}show(r){(0,w.clearNode)(this.element);const c=this.h(r);c&&this.element.setAttribute("aria-label",c);const u=(0,w.append)(this.element,(0,w.$)("div.icon-container"));u.setAttribute("aria-hidden","true"),r.icon&&u.appendChild((0,w.$)(`div${g.ThemeIcon.asCSSSelector(r.icon)}`));const s=(0,w.append)(this.element,(0,w.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.i(r.message)),this.b=(0,w.append)(this.element,(0,w.$)("div.message-actions-container")),r.actions)for(const o of r.actions)this.q(this.g.createInstance(C.Link,this.b,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const l=(0,w.append)(this.element,(0,w.$)("div.action-container"));this.c=this.q(new N.ActionBar(l)),this.c.push(this.q(new E.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(d.widgetClose),!0,()=>{typeof r.onClose=="function"&&r.onClose()})),{icon:!0,label:!1}),this.c.setFocusable(!1)}};n=De([fe(0,v.IInstantiationService)],n)}),define(ee[774],te([1,0,7,6,31,78]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function y(C){const d=new N.Emitter,g=(0,D.getIconRegistry)();return g.onDidChange(()=>d.fire()),C?.onDidProductIconThemeChange(()=>d.fire()),{onDidChange:d.event,getCSS(){const i=C?C.getProductIconTheme():new v,t={},n=r=>{const c=i.getIcon(r);if(!c)return;const u=c.font;return u?(t[u.id]=u.definition,`.codicon-${r.id}:before { content: '${c.fontCharacter}'; font-family: ${(0,w.asCSSPropertyValue)(u.id)}; }`):`.codicon-${r.id}:before { content: '${c.fontCharacter}'; }`},a=[];for(const r of g.getIcons()){const c=n(r);c&&a.push(c)}for(const r in t){const c=t[r],u=c.weight?`font-weight: ${c.weight};`:"",s=c.style?`font-style: ${c.style};`:"",l=c.src.map(o=>`${(0,w.asCSSUrl)(o.location)} format('${o.format}')`).join(", ");a.push(`@font-face { src: ${l}; font-family: ${(0,w.asCSSPropertyValue)(r)};${u}${s} font-display: block; }`)}return a.join(`
`)}}}e.getIconsStyleSheet=y;class v{getIcon(d){const g=(0,D.getIconRegistry)();let i=d.defaults;for(;E.ThemeIcon.isThemeIcon(i);){const t=g.getIcon(i.id);if(!t)return;i=t.defaults}return i}}e.UnthemedProductIconTheme=v}),define(ee[91],te([1,0]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var w;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(w=e.ColorScheme||(e.ColorScheme={}));function N(D){return D===w.HIGH_CONTRAST_DARK||D===w.HIGH_CONTRAST_LIGHT}e.isHighContrast=N;function E(D){return D===w.DARK||D===w.HIGH_CONTRAST_DARK}e.isDark=E}),define(ee[314],te([1,0,44,35,16,431,130,135,106,91,39]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return E.isNative?!0:!(E.isLinux||w.isFirefox||w.isSafari)}();let t=!0;class n{e(){if(!this.d){this.d=!0;const S=this.a.getBoundingClientRect();this.b=S.left,this.c=S.width/this.a.offsetWidth}}get clientRectDeltaLeft(){return this.d||this.e(),this.b}get clientRectScale(){return this.d||this.e(),this.c}constructor(S,p){this.a=S,this.b=0,this.c=1,this.d=!1,this.endNode=p}}e.DomReadingContext=n;class a{constructor(S,p){this.themeType=p;const m=S.options,b=m.get(47);m.get(35)==="off"?this.renderWhitespace=m.get(93):this.renderWhitespace="none",this.renderControlCharacters=m.get(88),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!m.get(30),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=m.get(63),this.stopRenderingLineAfter=m.get(111),this.fontLigatures=m.get(48)}equals(S){return this.themeType===S.themeType&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineHeight===S.lineHeight&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.fontLigatures===S.fontLigatures}}e.ViewLineOptions=a;class r{constructor(S){this.a=S,this.b=!0,this.c=null}getDomNode(){return this.c&&this.c.domNode?this.c.domNode.domNode:null}setDomNode(S){if(this.c)this.c.domNode=(0,N.createFastDomNode)(S);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this.b=!0}onTokensChanged(){this.b=!0}onDecorationsChanged(){this.b=!0}onOptionsChanged(S){this.b=!0,this.a=S}onSelectionChanged(){return(0,d.isHighContrast)(this.a.themeType)||this.a.renderWhitespace==="selection"?(this.b=!0,!0):!1}renderLine(S,p,m,b){if(this.b===!1)return!1;this.b=!1;const L=m.getViewLineRenderingData(S),k=this.a,I=v.LineDecoration.filter(L.inlineDecorations,S,L.minColumn,L.maxColumn);let M=null;if((0,d.isHighContrast)(k.themeType)||this.a.renderWhitespace==="selection"){const A=m.selections;for(const T of A){if(T.endLineNumber<S||T.startLineNumber>S)continue;const O=T.startLineNumber===S?T.startColumn:L.minColumn,F=T.endLineNumber===S?T.endColumn:L.maxColumn;O<F&&((0,d.isHighContrast)(k.themeType)&&I.push(new v.LineDecoration(O,F,"inline-selected-text",0)),this.a.renderWhitespace==="selection"&&(M||(M=[]),M.push(new C.LineRange(O-1,F-1))))}}const B=new C.RenderLineInput(k.useMonospaceOptimizations,k.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,I,L.tabSize,L.startVisibleColumn,k.spaceWidth,k.middotWidth,k.wsmiddotWidth,k.stopRenderingLineAfter,k.renderWhitespace,k.renderControlCharacters,k.fontLigatures!==g.EditorFontLigatures.OFF,M);if(this.c&&this.c.input.equals(B))return!1;b.appendString('<div style="top:'),b.appendString(String(p)),b.appendString("px;height:"),b.appendString(String(this.a.lineHeight)),b.appendString('px;" class="'),b.appendString(r.CLASS_NAME),b.appendString('">');const z=(0,C.renderViewLine)(B,b);b.appendString("</div>");let P=null;return t&&i&&L.isBasicASCII&&k.useMonospaceOptimizations&&z.containsForeignElements===0&&(P=new c(this.c?this.c.domNode:null,B,z.characterMapping)),P||(P=l(this.c?this.c.domNode:null,B,z.characterMapping,z.containsRTL,z.containsForeignElements)),this.c=P,!0}layoutLine(S,p){this.c&&this.c.domNode&&(this.c.domNode.setTop(p),this.c.domNode.setHeight(this.a.lineHeight))}getWidth(){return this.c?this.c.getWidth():0}getWidthIsFast(){return this.c?this.c.getWidthIsFast():!0}needsMonospaceFontCheck(){return this.c?this.c instanceof c:!1}monospaceAssumptionsAreValid(){return this.c&&this.c instanceof c?this.c.monospaceAssumptionsAreValid():t}onMonospaceAssumptionsInvalidated(){this.c&&this.c instanceof c&&(this.c=this.c.toSlowRenderedLine())}getVisibleRangesForRange(S,p,m,b){if(!this.c)return null;p=Math.min(this.c.input.lineContent.length+1,Math.max(1,p)),m=Math.min(this.c.input.lineContent.length+1,Math.max(1,m));const L=this.c.input.stopRenderingLineAfter;if(L!==-1&&p>L+1&&m>L+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(),0)]);L!==-1&&p>L+1&&(p=L+1),L!==-1&&m>L+1&&(m=L+1);const k=this.c.getVisibleRangesForRange(S,p,m,b);return k&&k.length>0?new y.VisibleRanges(!1,k):null}getColumnOfNodeOffset(S,p,m){return this.c?this.c.getColumnOfNodeOffset(S,p,m):1}}r.CLASS_NAME="view-line",e.ViewLine=r;class c{constructor(S,p,m){this.d=-1,this.domNode=S,this.input=p;const b=Math.floor(p.lineContent.length/300);if(b>0){this.c=new Float32Array(b);for(let L=0;L<b;L++)this.c[L]=-1}else this.c=null;this.a=m,this.b=p.spaceWidth}getWidth(){if(!this.domNode||this.input.lineContent.length<300){const S=this.a.getHorizontalOffset(this.a.length);return Math.round(this.b*S)}return this.d===-1&&(this.d=this.f(this.domNode).offsetWidth),this.d}getWidthIsFast(){return this.input.lineContent.length<300||this.d!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return t;if(this.input.lineContent.length<300){const S=this.getWidth(),p=this.domNode.domNode.firstChild.offsetWidth;Math.abs(S-p)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),t=!1)}return t}toSlowRenderedLine(){return l(this.domNode,this.input,this.a,!1,0)}getVisibleRangesForRange(S,p,m,b){const L=this.e(S,p,b),k=this.e(S,m,b);return[new y.FloatHorizontalRange(L,k-L)]}e(S,p,m){if(p<=300){const B=this.a.getHorizontalOffset(p);return this.b*B}const b=Math.floor((p-1)/300)-1,L=(b+1)*300+1;let k=-1;if(this.c&&(k=this.c[b],k===-1&&(k=this.g(S,L,m),this.c[b]=k)),k===-1){const B=this.a.getHorizontalOffset(p);return this.b*B}const I=this.a.getHorizontalOffset(L),M=this.a.getHorizontalOffset(p);return k+this.b*(M-I)}f(S){return S.domNode.firstChild}g(S,p,m){if(!this.domNode)return-1;const b=this.a.getDomPosition(p),L=D.RangeUtil.readHorizontalRanges(this.f(this.domNode),b.partIndex,b.charIndex,b.partIndex,b.charIndex,m.clientRectDeltaLeft,m.clientRectScale,m.endNode);return!L||L.length===0?-1:L[0].left}getColumnOfNodeOffset(S,p,m){const b=p.textContent.length;let L=-1;for(;p;)p=p.previousSibling,L++;return this.a.getColumn(new C.DomPosition(L,m),b)}}class u{constructor(S,p,m,b,L){if(this.domNode=S,this.input=p,this.a=m,this.b=/^\s*$/.test(p.lineContent),this.c=L,this.d=-1,this.e=null,!b||this.a.length===0){this.e=new Float32Array(Math.max(2,this.a.length+1));for(let k=0,I=this.a.length;k<=I;k++)this.e[k]=-1}}f(S){return S.domNode.firstChild}getWidth(){return this.domNode?(this.d===-1&&(this.d=this.f(this.domNode).offsetWidth),this.d):0}getWidthIsFast(){return this.d!==-1}getVisibleRangesForRange(S,p,m,b){if(!this.domNode)return null;if(this.e!==null){const L=this.h(this.domNode,S,p,b);if(L===-1)return null;const k=this.h(this.domNode,S,m,b);return k===-1?null:[new y.FloatHorizontalRange(L,k-L)]}return this.g(this.domNode,S,p,m,b)}g(S,p,m,b,L){if(m===b){const k=this.h(S,p,m,L);return k===-1?null:[new y.FloatHorizontalRange(k,0)]}else return this.k(S,m,b,L)}h(S,p,m,b){if(this.a.length===0){if(this.c===0||this.c===2)return 0;if(this.c===1)return this.getWidth();const L=this.f(S);return L.firstChild?L.firstChild.offsetWidth:0}if(this.e!==null){const L=this.e[m];if(L!==-1)return L;const k=this.j(S,p,m,b);return this.e[m]=k,k}return this.j(S,p,m,b)}j(S,p,m,b){if(this.a.length===0){const M=D.RangeUtil.readHorizontalRanges(this.f(S),0,0,0,0,b.clientRectDeltaLeft,b.clientRectScale,b.endNode);return!M||M.length===0?-1:M[0].left}if(m===this.a.length&&this.b&&this.c===0)return this.getWidth();const L=this.a.getDomPosition(m),k=D.RangeUtil.readHorizontalRanges(this.f(S),L.partIndex,L.charIndex,L.partIndex,L.charIndex,b.clientRectDeltaLeft,b.clientRectScale,b.endNode);if(!k||k.length===0)return-1;const I=k[0].left;if(this.input.isBasicASCII){const M=this.a.getHorizontalOffset(m),B=Math.round(this.input.spaceWidth*M);if(Math.abs(B-I)<=1)return B}return I}k(S,p,m,b){if(p===1&&m===this.a.length)return[new y.FloatHorizontalRange(0,this.getWidth())];const L=this.a.getDomPosition(p),k=this.a.getDomPosition(m);return D.RangeUtil.readHorizontalRanges(this.f(S),L.partIndex,L.charIndex,k.partIndex,k.charIndex,b.clientRectDeltaLeft,b.clientRectScale,b.endNode)}getColumnOfNodeOffset(S,p,m){const b=p.textContent.length;let L=-1;for(;p;)p=p.previousSibling,L++;return this.a.getColumn(new C.DomPosition(L,m),b)}}class s extends u{g(S,p,m,b,L){const k=super.g(S,p,m,b,L);if(!k||k.length===0||m===b||m===1&&b===this.a.length)return k;if(!this.input.containsRTL){const I=this.h(S,p,b,L);if(I!==-1){const M=k[k.length-1];M.left<I&&(M.width=I-M.left)}}return k}}const l=function(){return w.isWebKit?o:h}();function o(f,S,p,m,b){return new s(f,S,p,m,b)}function h(f,S,p,m,b){return new u(f,S,p,m,b)}}),define(ee[315],te([1,0,147,49,314,11,3,73,7,248]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(m=null){this.hitTarget=m,this.type=0}}class i{constructor(m,b,L){this.position=m,this.spanNode=b,this.injectedText=L,this.type=1}}var t;(function(p){function m(b,L,k){const I=b.getPositionFromDOMInfo(L,k);return I?new i(I,L,null):new g(L)}p.createFromDOMInfo=m})(t||(t={}));class n{constructor(m,b){this.lastViewCursorsRenderData=m,this.lastTextareaPosition=b}}e.PointerHandlerLastRenderData=n;class a{static c(m,b=null){return!b&&m?new y.Range(m.lineNumber,m.column,m.lineNumber,m.column):b??null}static createUnknown(m,b,L){return{type:0,element:m,mouseColumn:b,position:L,range:this.c(L)}}static createTextarea(m,b){return{type:1,element:m,mouseColumn:b,position:null,range:null}}static createMargin(m,b,L,k,I,M){return{type:m,element:b,mouseColumn:L,position:k,range:I,detail:M}}static createViewZone(m,b,L,k,I){return{type:m,element:b,mouseColumn:L,position:k,range:this.c(k),detail:I}}static createContentText(m,b,L,k,I){return{type:6,element:m,mouseColumn:b,position:L,range:this.c(L,k),detail:I}}static createContentEmpty(m,b,L,k){return{type:7,element:m,mouseColumn:b,position:L,range:this.c(L),detail:k}}static createContentWidget(m,b,L){return{type:9,element:m,mouseColumn:b,position:null,range:null,detail:L}}static createScrollbar(m,b,L){return{type:11,element:m,mouseColumn:b,position:L,range:this.c(L)}}static createOverlayWidget(m,b,L){return{type:12,element:m,mouseColumn:b,position:null,range:null,detail:L}}static createOutsideEditor(m,b,L,k){return{type:13,element:null,mouseColumn:m,position:b,range:this.c(b),outsidePosition:L,outsideDistance:k}}static f(m){return m===1?"TEXTAREA":m===2?"GUTTER_GLYPH_MARGIN":m===3?"GUTTER_LINE_NUMBERS":m===4?"GUTTER_LINE_DECORATIONS":m===5?"GUTTER_VIEW_ZONE":m===6?"CONTENT_TEXT":m===7?"CONTENT_EMPTY":m===8?"CONTENT_VIEW_ZONE":m===9?"CONTENT_WIDGET":m===10?"OVERVIEW_RULER":m===11?"SCROLLBAR":m===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(m){return this.f(m.type)+": "+m.position+" - "+m.range+" - "+JSON.stringify(m.detail)}}e.MouseTarget=a;class r{static isTextArea(m){return m.length===2&&m[0]===3&&m[1]===6}static isChildOfViewLines(m){return m.length>=4&&m[0]===3&&m[3]===7}static isStrictChildOfViewLines(m){return m.length>4&&m[0]===3&&m[3]===7}static isChildOfScrollableElement(m){return m.length>=2&&m[0]===3&&m[1]===5}static isChildOfMinimap(m){return m.length>=2&&m[0]===3&&m[1]===8}static isChildOfContentWidgets(m){return m.length>=4&&m[0]===3&&m[3]===1}static isChildOfOverflowingContentWidgets(m){return m.length>=1&&m[0]===2}static isChildOfOverlayWidgets(m){return m.length>=2&&m[0]===3&&m[1]===4}}class c{constructor(m,b,L){this.viewModel=m.viewModel;const k=m.configuration.options;this.layoutInfo=k.get(138),this.viewDomNode=b.viewDomNode,this.lineHeight=k.get(63),this.stickyTabStops=k.get(110),this.typicalHalfwidthCharacterWidth=k.get(47).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this.c=m,this.f=b}getZoneAtCoord(m){return c.getZoneAtCoord(this.c,m)}static getZoneAtCoord(m,b){const L=m.viewLayout.getWhitespaceAtVerticalOffset(b);if(L){const k=L.verticalOffset+L.height/2,I=m.viewModel.getLineCount();let M=null,B,z=null;return L.afterLineNumber!==I&&(z=new D.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(M=new D.Position(L.afterLineNumber,m.viewModel.getLineMaxColumn(L.afterLineNumber))),z===null?B=M:M===null?B=z:b<k?B=M:B=z,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:M,positionAfter:z,position:B}}return null}getFullLineRangeAtCoord(m){if(this.c.viewLayout.isAfterLines(m)){const k=this.c.viewModel.getLineCount(),I=this.c.viewModel.getLineMaxColumn(k);return{range:new y.Range(k,I,k,I),isAfterLines:!0}}const b=this.c.viewLayout.getLineNumberAtVerticalOffset(m),L=this.c.viewModel.getLineMaxColumn(b);return{range:new y.Range(b,1,b,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(m){return this.c.viewLayout.getLineNumberAtVerticalOffset(m)}isAfterLines(m){return this.c.viewLayout.isAfterLines(m)}isInTopPadding(m){return this.c.viewLayout.isInTopPadding(m)}isInBottomPadding(m){return this.c.viewLayout.isInBottomPadding(m)}getVerticalOffsetForLineNumber(m){return this.c.viewLayout.getVerticalOffsetForLineNumber(m)}findAttribute(m,b){return c.g(m,b,this.f.viewDomNode)}static g(m,b,L){for(;m&&m!==document.body;){if(m.hasAttribute&&m.hasAttribute(b))return m.getAttribute(b);if(m===L)return null;m=m.parentNode}return null}getLineWidth(m){return this.f.getLineWidth(m)}visibleRangeForPosition(m,b){return this.f.visibleRangeForPosition(m,b)}getPositionFromDOMInfo(m,b){return this.f.getPositionFromDOMInfo(m,b)}getCurrentScrollTop(){return this.c.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this.c.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=c;class u{constructor(m,b,L,k){this.editorPos=b,this.pos=L,this.relativePos=k,this.mouseVerticalOffset=Math.max(0,m.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=m.getCurrentScrollLeft()+this.relativePos.x-m.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<m.layoutInfo.contentLeft&&this.relativePos.x>=m.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.c=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,m.typicalHalfwidthCharacterWidth))}}class s extends u{constructor(m,b,L,k,I){super(m,b,L,k),this.f=m,I?(this.target=I,this.targetPath=N.PartFingerprints.collect(I,m.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}g(m=null){return m&&m.column<this.f.viewModel.getLineMaxColumn(m.lineNumber)?v.CursorColumns.visibleColumnFromColumn(this.f.viewModel.getLineContent(m.lineNumber),m.column,this.f.viewModel.model.getOptions().tabSize)+1:this.c}fulfillUnknown(m=null){return a.createUnknown(this.target,this.g(m),m)}fulfillTextarea(){return a.createTextarea(this.target,this.g())}fulfillMargin(m,b,L,k){return a.createMargin(m,this.target,this.g(b),b,L,k)}fulfillViewZone(m,b,L){return a.createViewZone(m,this.target,this.g(b),b,L)}fulfillContentText(m,b,L){return a.createContentText(this.target,this.g(m),m,b,L)}fulfillContentEmpty(m,b){return a.createContentEmpty(this.target,this.g(m),m,b)}fulfillContentWidget(m){return a.createContentWidget(this.target,this.g(),m)}fulfillScrollbar(m){return a.createScrollbar(this.target,this.g(m),m)}fulfillOverlayWidget(m){return a.createOverlayWidget(this.target,this.g(),m)}withTarget(m){return new s(this.f,this.editorPos,this.pos,this.relativePos,m)}}const l={isAfterLines:!0};function o(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class h{constructor(m,b){this.c=m,this.f=b}mouseTargetIsWidget(m){const b=m.target,L=N.PartFingerprints.collect(b,this.f.viewDomNode);return!!(r.isChildOfContentWidgets(L)||r.isChildOfOverflowingContentWidgets(L)||r.isChildOfOverlayWidgets(L))}createMouseTarget(m,b,L,k,I){const M=new c(this.c,this.f,m),B=new s(M,b,L,k,I);try{const z=h.g(M,B,!1);if(z.type===6&&M.stickyTabStops&&z.position!==null){const P=h.A(z.position,M.viewModel),A=y.Range.fromPositions(P,P).plusRange(z.range);return B.fulfillContentText(P,A,z.detail)}return z}catch{return B.fulfillUnknown()}}static g(m,b,L){if(b.target===null){if(L)return b.fulfillUnknown();const M=h.B(m,b);return M.type===1?h.u(m,b,M.spanNode,M.position,M.injectedText):this.g(m,b.withTarget(M.hitTarget),!0)}const k=b;let I=null;return I=I||h.h(m,k),I=I||h.j(m,k),I=I||h.p(m,k),I=I||h.q(m,k),I=I||h.l(m,k),I=I||h.n(m,k),I=I||h.k(m,k),I=I||h.m(m,k),I=I||h.o(m,k,L),I=I||h.s(m,k),I||b.fulfillUnknown()}static h(m,b){if(r.isChildOfContentWidgets(b.targetPath)||r.isChildOfOverflowingContentWidgets(b.targetPath)){const L=m.findAttribute(b.target,"widgetId");return L?b.fulfillContentWidget(L):b.fulfillUnknown()}return null}static j(m,b){if(r.isChildOfOverlayWidgets(b.targetPath)){const L=m.findAttribute(b.target,"widgetId");return L?b.fulfillOverlayWidget(L):b.fulfillUnknown()}return null}static k(m,b){if(b.target){const L=m.lastRenderData.lastViewCursorsRenderData;for(const k of L)if(b.target===k.domNode)return b.fulfillContentText(k.position,null,{mightBeForeignElement:!1,injectedText:null})}if(b.isInContentArea){const L=m.lastRenderData.lastViewCursorsRenderData,k=b.mouseContentHorizontalOffset,I=b.mouseVerticalOffset;for(const M of L){if(k<M.contentLeft||k>M.contentLeft+M.width)continue;const B=m.getVerticalOffsetForLineNumber(M.position.lineNumber);if(B<=I&&I<=B+M.height)return b.fulfillContentText(M.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static l(m,b){const L=m.getZoneAtCoord(b.mouseVerticalOffset);if(L){const k=b.isInContentArea?8:5;return b.fulfillViewZone(k,L.position,L)}return null}static m(m,b){return r.isTextArea(b.targetPath)?m.lastRenderData.lastTextareaPosition?b.fulfillContentText(m.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):b.fulfillTextarea():null}static n(m,b){if(b.isInMarginArea){const L=m.getFullLineRangeAtCoord(b.mouseVerticalOffset),k=L.range.getStartPosition();let I=Math.abs(b.relativePos.x);const M={isAfterLines:L.isAfterLines,glyphMarginLeft:m.layoutInfo.glyphMarginLeft,glyphMarginWidth:m.layoutInfo.glyphMarginWidth,lineNumbersWidth:m.layoutInfo.lineNumbersWidth,offsetX:I};return I-=m.layoutInfo.glyphMarginLeft,I<=m.layoutInfo.glyphMarginWidth?b.fulfillMargin(2,k,L.range,M):(I-=m.layoutInfo.glyphMarginWidth,I<=m.layoutInfo.lineNumbersWidth?b.fulfillMargin(3,k,L.range,M):(I-=m.layoutInfo.lineNumbersWidth,b.fulfillMargin(4,k,L.range,M)))}return null}static o(m,b,L){if(!r.isChildOfViewLines(b.targetPath))return null;if(m.isInTopPadding(b.mouseVerticalOffset))return b.fulfillContentEmpty(new D.Position(1,1),l);if(m.isAfterLines(b.mouseVerticalOffset)||m.isInBottomPadding(b.mouseVerticalOffset)){const I=m.viewModel.getLineCount(),M=m.viewModel.getLineMaxColumn(I);return b.fulfillContentEmpty(new D.Position(I,M),l)}if(L){if(r.isStrictChildOfViewLines(b.targetPath)){const I=m.getLineNumberAtVerticalOffset(b.mouseVerticalOffset);if(m.viewModel.getLineLength(I)===0){const B=m.getLineWidth(I),z=o(b.mouseContentHorizontalOffset-B);return b.fulfillContentEmpty(new D.Position(I,1),z)}const M=m.getLineWidth(I);if(b.mouseContentHorizontalOffset>=M){const B=o(b.mouseContentHorizontalOffset-M),z=new D.Position(I,m.viewModel.getLineMaxColumn(I));return b.fulfillContentEmpty(z,B)}}return b.fulfillUnknown()}const k=h.B(m,b);return k.type===1?h.u(m,b,k.spanNode,k.position,k.injectedText):this.g(m,b.withTarget(k.hitTarget),!0)}static p(m,b){if(r.isChildOfMinimap(b.targetPath)){const L=m.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),k=m.viewModel.getLineMaxColumn(L);return b.fulfillScrollbar(new D.Position(L,k))}return null}static q(m,b){if(r.isChildOfScrollableElement(b.targetPath)&&b.target&&b.target.nodeType===1){const L=b.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const k=m.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),I=m.viewModel.getLineMaxColumn(k);return b.fulfillScrollbar(new D.Position(k,I))}}return null}static s(m,b){if(r.isChildOfScrollableElement(b.targetPath)){const L=m.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),k=m.viewModel.getLineMaxColumn(L);return b.fulfillScrollbar(new D.Position(L,k))}return null}getMouseColumn(m){const b=this.c.configuration.options,L=b.get(138),k=this.c.viewLayout.getCurrentScrollLeft()+m.x-L.contentLeft;return h._getMouseColumn(k,b.get(47).typicalHalfwidthCharacterWidth)}static _getMouseColumn(m,b){return m<0?1:Math.round(m/b)+1}static u(m,b,L,k,I){const M=k.lineNumber,B=k.column,z=m.getLineWidth(M);if(b.mouseContentHorizontalOffset>z){const $=o(b.mouseContentHorizontalOffset-z);return b.fulfillContentEmpty(k,$)}const P=m.visibleRangeForPosition(M,B);if(!P)return b.fulfillUnknown(k);const A=P.left;if(Math.abs(b.mouseContentHorizontalOffset-A)<1)return b.fulfillContentText(k,null,{mightBeForeignElement:!!I,injectedText:I});const T=[];if(T.push({offset:P.left,column:B}),B>1){const $=m.visibleRangeForPosition(M,B-1);$&&T.push({offset:$.left,column:B-1})}const O=m.viewModel.getLineMaxColumn(M);if(B<O){const $=m.visibleRangeForPosition(M,B+1);$&&T.push({offset:$.left,column:B+1})}T.sort(($,X)=>$.offset-X.offset);const F=b.pos.toClientCoordinates(),W=L.getBoundingClientRect(),V=W.left<=F.clientX&&F.clientX<=W.right;let R=null;for(let $=1;$<T.length;$++){const X=T[$-1],ne=T[$];if(X.offset<=b.mouseContentHorizontalOffset&&b.mouseContentHorizontalOffset<=ne.offset){R=new y.Range(M,X.column,M,ne.column);const ae=Math.abs(X.offset-b.mouseContentHorizontalOffset),ie=Math.abs(ne.offset-b.mouseContentHorizontalOffset);k=ae<ie?new D.Position(M,X.column):new D.Position(M,ne.column);break}}return b.fulfillContentText(k,R,{mightBeForeignElement:!V||!!I,injectedText:I})}static v(m,b){const L=m.getLineNumberAtVerticalOffset(b.mouseVerticalOffset),k=m.getVerticalOffsetForLineNumber(L),I=k+m.lineHeight;if(!(L===m.viewModel.getLineCount()&&b.mouseVerticalOffset>I)){const B=Math.floor((k+I)/2);let z=b.pos.y+(B-b.mouseVerticalOffset);z<=b.editorPos.y&&(z=b.editorPos.y+1),z>=b.editorPos.y+b.editorPos.height&&(z=b.editorPos.y+b.editorPos.height-1);const P=new w.PageCoordinates(b.pos.x,z),A=this.w(m,P.toClientCoordinates());if(A.type===1)return A}return this.w(m,b.pos.toClientCoordinates())}static w(m,b){const L=C.getShadowRoot(m.viewDomNode);let k;if(L?typeof L.caretRangeFromPoint>"u"?k=f(L,b.clientX,b.clientY):k=L.caretRangeFromPoint(b.clientX,b.clientY):k=document.caretRangeFromPoint(b.clientX,b.clientY),!k||!k.startContainer)return new g;const I=k.startContainer;if(I.nodeType===I.TEXT_NODE){const M=I.parentNode,B=M?M.parentNode:null,z=B?B.parentNode:null;return(z&&z.nodeType===z.ELEMENT_NODE?z.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,M,k.startOffset):new g(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const M=I.parentNode,B=M?M.parentNode:null;return(B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,I,I.textContent.length):new g(I)}return new g}static z(m,b){const L=document.caretPositionFromPoint(b.clientX,b.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const k=L.offsetNode.parentNode,I=k?k.parentNode:null,M=I?I.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===E.ViewLine.CLASS_NAME?t.createFromDOMInfo(m,L.offsetNode.parentNode,L.offset):new g(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const k=L.offsetNode.parentNode,I=k&&k.nodeType===k.ELEMENT_NODE?k.className:null,M=k?k.parentNode:null,B=M&&M.nodeType===M.ELEMENT_NODE?M.className:null;if(I===E.ViewLine.CLASS_NAME){const z=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(z)return t.createFromDOMInfo(m,z,0)}else if(B===E.ViewLine.CLASS_NAME)return t.createFromDOMInfo(m,L.offsetNode,0)}return new g(L.offsetNode)}static A(m,b){const L=b.getLineContent(m.lineNumber),{tabSize:k}=b.model.getOptions(),I=d.AtomicTabMoveOperations.atomicPosition(L,m.column-1,k,2);return I!==-1?new D.Position(m.lineNumber,I+1):m}static B(m,b){let L=new g;if(typeof document.caretRangeFromPoint=="function"?L=this.v(m,b):document.caretPositionFromPoint&&(L=this.z(m,b.pos.toClientCoordinates())),L.type===1){const k=m.viewModel.getInjectedTextAt(L.position),I=m.viewModel.normalizePosition(L.position,2);(k||!I.equals(L.position))&&(L=new i(I,L.spanNode,k))}return L}}e.MouseTargetFactory=h;function f(p,m,b){const L=document.createRange();let k=p.elementFromPoint(m,b);if(k!==null){for(;k&&k.firstChild&&k.firstChild.nodeType!==k.firstChild.TEXT_NODE&&k.lastChild&&k.lastChild.firstChild;)k=k.lastChild;const I=k.getBoundingClientRect(),M=window.getComputedStyle(k,null).getPropertyValue("font"),B=k.innerText;let z=I.left,P=0,A;if(m>I.left+I.width)P=B.length;else{const T=S.getInstance();for(let O=0;O<B.length+1;O++){if(A=T.getCharWidth(B.charAt(O),M)/2,z+=A,m<z){P=O;break}z+=A}}L.setStart(k.firstChild,P),L.setEnd(k.firstChild,P)}return L}class S{static getInstance(){return S.c||(S.c=new S),S.c}constructor(){this.f={},this.g=document.createElement("canvas")}getCharWidth(m,b){const L=m+b;if(this.f[L])return this.f[L];const k=this.g.getContext("2d");k.font=b;const M=k.measureText(m).width;return this.f[L]=M,M}}S.c=null}),define(ee[775],te([1,0,7,66,2,16,315,147,169,11,22,134,74]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class n extends i.ViewEventHandler{constructor(l,o,h){super(),this.n=null,this.a=l,this.b=o,this.c=h,this.g=new y.MouseTargetFactory(this.a,h),this.j=this.q(new a(this.a,this.b,this.c,this.g,(p,m)=>this.r(p,m),p=>this.s(p))),this.k=-1,this.m=this.a.configuration.options.get(138).height;const f=new v.EditorMouseEventFactory(this.c.viewDomNode);this.q(f.onContextMenu(this.c.viewDomNode,p=>this.u(p,!0))),this.q(f.onMouseMove(this.c.viewDomNode,p=>{this.v(p),this.n||(this.n=w.addDisposableListener(document,"mousemove",m=>{this.c.viewDomNode.contains(m.target)||this.w(new v.EditorMouseEvent(m,!1,this.c.viewDomNode))}))})),this.q(f.onMouseUp(this.c.viewDomNode,p=>this.z(p))),this.q(f.onMouseLeave(this.c.viewDomNode,p=>this.w(p)));let S=0;this.q(f.onPointerDown(this.c.viewDomNode,(p,m)=>{S=m})),this.q(w.addDisposableListener(this.c.viewDomNode,w.EventType.POINTER_UP,p=>{this.j.onPointerUp()})),this.q(f.onMouseDown(this.c.viewDomNode,p=>this.B(p,S))),this.p(),this.a.addEventHandler(this)}p(){const l=t.MouseWheelClassifier.INSTANCE;let o=0,h=C.EditorZoom.getZoomLevel(),f=!1,S=0;const p=b=>{if(this.b.emitMouseWheel(b),!this.a.configuration.options.get(72))return;const L=new N.StandardWheelEvent(b);if(l.acceptStandardWheelEvent(L),l.isPhysicalMouseWheel()){if(m(b)){const k=C.EditorZoom.getZoomLevel(),I=L.deltaY>0?1:-1;C.EditorZoom.setZoomLevel(k+I),L.preventDefault(),L.stopPropagation()}}else Date.now()-o>50&&(h=C.EditorZoom.getZoomLevel(),f=m(b),S=0),o=Date.now(),S+=L.deltaY,f&&(C.EditorZoom.setZoomLevel(h+S/5),L.preventDefault(),L.stopPropagation())};this.q(w.addDisposableListener(this.c.viewDomNode,w.EventType.MOUSE_WHEEL,p,{capture:!0,passive:!1}));function m(b){return D.isMacintosh?(b.metaKey||b.ctrlKey)&&!b.shiftKey&&!b.altKey:b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey}}dispose(){this.a.removeEventHandler(this),this.n&&(this.n.dispose(),this.n=null),super.dispose()}onConfigurationChanged(l){if(l.hasChanged(138)){const o=this.a.configuration.options.get(138).height;this.m!==o&&(this.m=o,this.j.onHeightChanged())}return!1}onCursorStateChanged(l){return this.j.onCursorStateChanged(l),!1}onFocusChanged(l){return!1}getTargetAtClientPoint(l,o){const f=new v.ClientCoordinates(l,o).toPageCoordinates(),S=(0,v.createEditorPagePosition)(this.c.viewDomNode);if(f.y<S.y||f.y>S.y+S.height||f.x<S.x||f.x>S.x+S.width)return null;const p=(0,v.createCoordinatesRelativeToEditor)(this.c.viewDomNode,S,f);return this.g.createMouseTarget(this.c.getLastRenderData(),S,f,p,null)}r(l,o){let h=l.target;if(!this.c.viewDomNode.contains(h)){const f=w.getShadowRoot(this.c.viewDomNode);f&&(h=f.elementsFromPoint(l.posx,l.posy).find(S=>this.c.viewDomNode.contains(S)))}return this.g.createMouseTarget(this.c.getLastRenderData(),l.editorPos,l.pos,l.relativePos,o?h:null)}s(l){return this.g.getMouseColumn(l.relativePos)}u(l,o){this.b.emitContextMenu({event:l,target:this.r(l,o)})}v(l){this.g.mouseTargetIsWidget(l)||l.preventDefault(),!(this.j.isActive()||l.timestamp<this.k)&&this.b.emitMouseMove({event:l,target:this.r(l,!0)})}w(l){this.n&&(this.n.dispose(),this.n=null),this.k=new Date().getTime(),this.b.emitMouseLeave({event:l,target:null})}z(l){this.b.emitMouseUp({event:l,target:this.r(l,!0)})}B(l,o){const h=this.r(l,!0),f=h.type===6||h.type===7,S=h.type===2||h.type===3||h.type===4,p=h.type===3,m=this.a.configuration.options.get(103),b=h.type===8||h.type===5,L=h.type===9;let k=l.leftButton||l.middleButton;D.isMacintosh&&l.leftButton&&l.ctrlKey&&(k=!1);const I=()=>{l.preventDefault(),this.c.focusTextArea()};if(k&&(f||p&&m))I(),this.j.start(h.type,l,o);else if(S)l.preventDefault();else if(b){const M=h.detail;k&&this.c.shouldSuppressMouseDownOnViewZone(M.viewZoneId)&&(I(),this.j.start(h.type,l,o),l.preventDefault())}else L&&this.c.shouldSuppressMouseDownOnWidget(h.detail)&&(I(),l.preventDefault());this.b.emitMouseDown({event:l,target:h})}}e.MouseHandler=n;class a extends E.Disposable{constructor(l,o,h,f,S,p){super(),this.l=l,this.m=o,this.n=h,this.p=f,this.a=S,this.b=p,this.c=this.q(new v.GlobalEditorPointerMoveMonitor(this.n.viewDomNode)),this.g=this.q(new r(this.l,this.n,this.p,(m,b,L)=>this.z(m,b,L))),this.h=new u,this.i=new g.Selection(1,1,1,1),this.j=!1,this.k=null}dispose(){super.dispose()}isActive(){return this.j}r(l){this.k=l,this.h.setModifiers(l);const o=this.v(l,!1);!o||(this.h.isDragAndDrop?this.m.emitMouseDrag({event:l,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this.g.start(o,l):(this.g.stop(),this.z(o,!0,1)))}start(l,o,h){this.k=o,this.h.setStartedOnLineNumbers(l===3),this.h.setStartButtons(o),this.h.setModifiers(o);const f=this.v(o,!0);if(!f||!f.position)return;this.h.trySetCount(o.detail,f.position),o.detail=this.h.count;const S=this.l.configuration.options;if(!S.get(86)&&S.get(32)&&!S.get(19)&&!this.h.altKey&&o.detail<2&&!this.j&&!this.i.isEmpty()&&f.type===6&&f.position&&this.i.containsPosition(f.position)){this.h.isDragAndDrop=!0,this.j=!0,this.c.startMonitoring(this.n.viewLinesDomNode,h,o.buttons,p=>this.r(p),p=>{const m=this.v(this.k,!1);p&&p instanceof KeyboardEvent?this.m.emitMouseDropCanceled():this.m.emitMouseDrop({event:this.k,target:m?this.a(this.k,!0):null}),this.s()});return}this.h.isDragAndDrop=!1,this.z(f,o.shiftKey,1),this.j||(this.j=!0,this.c.startMonitoring(this.n.viewLinesDomNode,h,o.buttons,p=>this.r(p),()=>this.s()))}s(){this.j=!1,this.g.stop()}onHeightChanged(){this.c.stopMonitoring()}onPointerUp(){this.c.stopMonitoring()}onCursorStateChanged(l){this.i=l.selections[0]}u(l){const o=l.editorPos,h=this.l.viewModel,f=this.l.viewLayout,S=this.b(l);if(l.posy<o.y){const m=o.y-l.posy,b=Math.max(f.getCurrentScrollTop()-m,0),L=y.HitTestContext.getZoneAtCoord(this.l,b);if(L){const I=this.w(L);if(I)return y.MouseTarget.createOutsideEditor(S,I,"above",m)}const k=f.getLineNumberAtVerticalOffset(b);return y.MouseTarget.createOutsideEditor(S,new d.Position(k,1),"above",m)}if(l.posy>o.y+o.height){const m=l.posy-o.y-o.height,b=f.getCurrentScrollTop()+l.relativePos.y,L=y.HitTestContext.getZoneAtCoord(this.l,b);if(L){const I=this.w(L);if(I)return y.MouseTarget.createOutsideEditor(S,I,"below",m)}const k=f.getLineNumberAtVerticalOffset(b);return y.MouseTarget.createOutsideEditor(S,new d.Position(k,h.getLineMaxColumn(k)),"below",m)}const p=f.getLineNumberAtVerticalOffset(f.getCurrentScrollTop()+l.relativePos.y);if(l.posx<o.x){const m=o.x-l.posx;return y.MouseTarget.createOutsideEditor(S,new d.Position(p,1),"left",m)}if(l.posx>o.x+o.width){const m=l.posx-o.x-o.width;return y.MouseTarget.createOutsideEditor(S,new d.Position(p,h.getLineMaxColumn(p)),"right",m)}return null}v(l,o){const h=this.u(l);if(h)return h;const f=this.a(l,o);if(!f.position)return null;if(f.type===8||f.type===5){const p=this.w(f.detail);if(p)return y.MouseTarget.createViewZone(f.type,f.element,f.mouseColumn,p,f.detail)}return f}w(l){const o=new d.Position(this.i.selectionStartLineNumber,this.i.selectionStartColumn),h=l.positionBefore,f=l.positionAfter;return h&&f?h.isBefore(o)?h:f:null}z(l,o,h){!l.position||this.m.dispatchMouse({position:l.position,mouseColumn:l.mouseColumn,startedOnLineNumbers:this.h.startedOnLineNumbers,revealType:h,inSelectionMode:o,mouseDownCount:this.h.count,altKey:this.h.altKey,ctrlKey:this.h.ctrlKey,metaKey:this.h.metaKey,shiftKey:this.h.shiftKey,leftButton:this.h.leftButton,middleButton:this.h.middleButton,onInjectedText:l.type===6&&l.detail.injectedText!==null})}}class r extends E.Disposable{constructor(l,o,h,f){super(),this.b=l,this.c=o,this.g=h,this.h=f,this.a=null}dispose(){super.dispose(),this.stop()}start(l,o){this.a?this.a.setPosition(l,o):this.a=new c(this.b,this.c,this.g,this.h,l,o)}stop(){this.a&&(this.a.dispose(),this.a=null)}}class c extends E.Disposable{constructor(l,o,h,f,S,p){super(),this.h=l,this.i=o,this.j=h,this.k=f,this.a=S,this.b=p,this.c=Date.now(),this.g=w.scheduleAtNextAnimationFrame(()=>this.n())}dispose(){this.g.dispose()}setPosition(l,o){this.a=l,this.b=o}l(){const l=Date.now(),o=l-this.c;return this.c=l,o}m(){const l=this.h.configuration.options.get(63),o=this.h.configuration.options.get(138).height/l,h=this.a.outsideDistance/l;return h<=1.5?Math.max(30,o*(1+h)):h<=3?Math.max(60,o*(2+h)):Math.max(200,o*(7+h))}n(){const l=this.h.configuration.options.get(63),o=this.m(),h=this.l(),f=o*(h/1e3)*l,S=this.a.outsidePosition==="above"?-f:f;this.h.viewModel.viewLayout.deltaScrollNow(0,S),this.i.renderNow();const p=this.h.viewLayout.getLinesViewportData(),m=this.a.outsidePosition==="above"?p.startLineNumber:p.endLineNumber;let b;{const L=(0,v.createEditorPagePosition)(this.i.viewDomNode),k=this.h.configuration.options.get(138).horizontalScrollbarHeight,I=new v.PageCoordinates(this.b.pos.x,L.y+L.height-k-.1),M=(0,v.createCoordinatesRelativeToEditor)(this.i.viewDomNode,L,I);b=this.j.createMouseTarget(this.i.getLastRenderData(),L,I,M,null)}(!b.position||b.position.lineNumber!==m)&&(this.a.outsidePosition==="above"?b=y.MouseTarget.createOutsideEditor(this.a.mouseColumn,new d.Position(m,1),"above",this.a.outsideDistance):b=y.MouseTarget.createOutsideEditor(this.a.mouseColumn,new d.Position(m,this.h.viewModel.getLineMaxColumn(m)),"below",this.a.outsideDistance)),this.k(b,!0,2),this.g=w.scheduleAtNextAnimationFrame(()=>this.n())}}class u{get altKey(){return this.b}get ctrlKey(){return this.c}get metaKey(){return this.d}get shiftKey(){return this.f}get leftButton(){return this.g}get middleButton(){return this.h}get startedOnLineNumbers(){return this.i}constructor(){this.b=!1,this.c=!1,this.d=!1,this.f=!1,this.g=!1,this.h=!1,this.i=!1,this.j=null,this.k=0,this.l=0,this.m=0,this.isDragAndDrop=!1}get count(){return this.l}setModifiers(l){this.b=l.altKey,this.c=l.ctrlKey,this.d=l.metaKey,this.f=l.shiftKey}setStartButtons(l){this.g=l.leftButton,this.h=l.middleButton}setStartedOnLineNumbers(l){this.i=l}trySetCount(l,o){const h=new Date().getTime();h-this.m>u.a&&(l=1),this.m=h,l>this.l+1&&(l=this.l+1),this.j&&this.j.equals(o)?this.k++:this.k=1,this.j=o,this.l=Math.min(l,this.k)}}u.a=400}),define(ee[776],te([1,0,7,16,60,2,775,147,199,211]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends y.MouseHandler{constructor(a,r,c){super(a,r,c),this.q(E.Gesture.addTarget(this.c.linesContentDomNode)),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Tap,s=>this.D(s))),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Change,s=>this.F(s))),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Contextmenu,s=>this.u(new v.EditorMouseEvent(s,!1,this.c.viewDomNode),!1))),this.C="mouse",this.q(w.addDisposableListener(this.c.linesContentDomNode,"pointerdown",s=>{const l=s.pointerType;if(l==="mouse"){this.C="mouse";return}else l==="touch"?this.C="touch":this.C="pen"}));const u=new v.EditorPointerEventFactory(this.c.viewDomNode);this.q(u.onPointerMove(this.c.viewDomNode,s=>this.v(s))),this.q(u.onPointerUp(this.c.viewDomNode,s=>this.z(s))),this.q(u.onPointerLeave(this.c.viewDomNode,s=>this.w(s))),this.q(u.onPointerDown(this.c.viewDomNode,(s,l)=>this.B(s,l)))}D(a){if(!a.initialTarget||!this.c.linesContentDomNode.contains(a.initialTarget))return;a.preventDefault(),this.c.focusTextArea();const r=this.r(new v.EditorMouseEvent(a,!1,this.c.viewDomNode),!1);r.position&&this.b.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:a.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:r.type===6&&r.detail.injectedText!==null})}F(a){this.C==="touch"&&this.a.viewModel.viewLayout.deltaScrollNow(-a.translationX,-a.translationY)}B(a,r){a.browserEvent.pointerType!=="touch"&&super.B(a,r)}}e.PointerEventHandler=g;class i extends y.MouseHandler{constructor(a,r,c){super(a,r,c),this.q(E.Gesture.addTarget(this.c.linesContentDomNode)),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Tap,u=>this.C(u))),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Change,u=>this.D(u))),this.q(w.addDisposableListener(this.c.linesContentDomNode,E.EventType.Contextmenu,u=>this.u(new v.EditorMouseEvent(u,!1,this.c.viewDomNode),!1)))}C(a){a.preventDefault(),this.c.focusTextArea();const r=this.r(new v.EditorMouseEvent(a,!1,this.c.viewDomNode),!1);if(r.position){const c=document.createEvent("CustomEvent");c.initEvent(d.TextAreaSyntethicEvents.Tap,!1,!0),this.c.dispatchTextAreaEvent(c),this.b.moveTo(r.position,1)}}D(a){this.a.viewModel.viewLayout.deltaScrollNow(-a.translationX,-a.translationY)}}class t extends D.Disposable{constructor(a,r,c){super(),N.isIOS&&C.BrowserFeatures.pointerEvents?this.a=this.q(new g(a,r,c)):window.TouchEvent?this.a=this.q(new i(a,r,c)):this.a=this.q(new y.MouseHandler(a,r,c))}getTargetAtClientPoint(a,r){return this.a.getTargetAtClientPoint(a,r)}}e.PointerHandler=t}),define(ee[777],te([1,0,16,12,72,212,49,314,11,3,130,155,377]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class t{constructor(){this.a=new d.Range(1,1,1,1)}getCurrentVisibleRange(){return this.a}setCurrentVisibleRange(u){this.a=u}}class n{constructor(u,s,l,o,h,f,S){this.minimalReveal=u,this.lineNumber=s,this.startColumn=l,this.endColumn=o,this.startScrollTop=h,this.stopScrollTop=f,this.scrollType=S,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class a{constructor(u,s,l,o,h){this.minimalReveal=u,this.selections=s,this.startScrollTop=l,this.stopScrollTop=o,this.scrollType=h,this.type="selections";let f=s[0].startLineNumber,S=s[0].endLineNumber;for(let p=1,m=s.length;p<m;p++){const b=s[p];f=Math.min(f,b.startLineNumber),S=Math.max(S,b.endLineNumber)}this.minLineNumber=f,this.maxLineNumber=S}}class r extends y.ViewPart{constructor(u,s){super(u),this.b=s,this.c=document.createElement("div"),this.g=new D.VisibleLinesCollection(this),this.j=this.g.domNode;const l=this._context.configuration,o=this._context.configuration.options,h=o.get(47),f=o.get(139);this.k=o.get(63),this.m=h.typicalHalfwidthCharacterWidth,this.n=f.isViewportWrapping,this.p=o.get(94),this.s=o.get(26),this.t=o.get(27),this.u=!o.get(29),this.v=new v.ViewLineOptions(l,this._context.theme.type),y.PartFingerprints.write(this.j,7),this.j.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,E.applyFontInfo)(this.j,h),this.w=0,this.y=new N.RunOnceScheduler(()=>{this.M()},200),this.z=new N.RunOnceScheduler(()=>{this.O()},2e3),this.C=new t,this.B=null,this.D=o.get(109).enabled,this.F=o.get(109).maxLineCount}dispose(){this.y.dispose(),this.z.dispose(),super.dispose()}getDomNode(){return this.j}createVisibleLine(){return new v.ViewLine(this.v)}onConfigurationChanged(u){this.g.onConfigurationChanged(u),u.hasChanged(139)&&(this.w=0);const s=this._context.configuration.options,l=s.get(47),o=s.get(139);return this.k=s.get(63),this.m=l.typicalHalfwidthCharacterWidth,this.n=o.isViewportWrapping,this.p=s.get(94),this.s=s.get(26),this.t=s.get(27),this.u=!s.get(29),this.D=s.get(109).enabled,this.F=s.get(109).maxLineCount,(0,E.applyFontInfo)(this.j,l),this.G(),u.hasChanged(138)&&(this.w=0),!0}G(){const u=this._context.configuration,s=new v.ViewLineOptions(u,this._context.theme.type);if(!this.v.equals(s)){this.v=s;const l=this.g.getStartLineNumber(),o=this.g.getEndLineNumber();for(let h=l;h<=o;h++)this.g.getVisibleLine(h).onOptionsChanged(this.v);return!0}return!1}onCursorStateChanged(u){const s=this.g.getStartLineNumber(),l=this.g.getEndLineNumber();let o=!1;for(let h=s;h<=l;h++)o=this.g.getVisibleLine(h).onSelectionChanged()||o;return o}onDecorationsChanged(u){{const s=this.g.getStartLineNumber(),l=this.g.getEndLineNumber();for(let o=s;o<=l;o++)this.g.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(u){const s=this.g.onFlushed(u);return this.w=0,s}onLinesChanged(u){return this.g.onLinesChanged(u)}onLinesDeleted(u){return this.g.onLinesDeleted(u)}onLinesInserted(u){return this.g.onLinesInserted(u)}onRevealRangeRequest(u){const s=this.Q(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(s===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:s});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:u.range?this.B=new n(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this.B=new a(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,u.scrollType)):this.B=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this.k?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(l,h),!0}onScrollChanged(u){if(this.B&&u.scrollLeftChanged&&(this.B=null),this.B&&u.scrollTopChanged){const s=Math.min(this.B.startScrollTop,this.B.stopScrollTop),l=Math.max(this.B.startScrollTop,this.B.stopScrollTop);(u.scrollTop<s||u.scrollTop>l)&&(this.B=null)}return this.j.setWidth(u.scrollWidth),this.g.onScrollChanged(u)||!0}onTokensChanged(u){return this.g.onTokensChanged(u)}onZonesChanged(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this.w),this.g.onZonesChanged(u)}onThemeChanged(u){return this.G()}getPositionFromDOMInfo(u,s){const l=this.H(u);if(l===null)return null;const o=this.I(l);if(o===-1||o<1||o>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(o)===1)return new C.Position(o,1);const h=this.g.getStartLineNumber(),f=this.g.getEndLineNumber();if(o<h||o>f)return null;let S=this.g.getVisibleLine(o).getColumnOfNodeOffset(o,u,s);const p=this._context.viewModel.getLineMinColumn(o);return S<p&&(S=p),new C.Position(o,S)}H(u){for(;u&&u.nodeType===1;){if(u.className===v.ViewLine.CLASS_NAME)return u;u=u.parentElement}return null}I(u){const s=this.g.getStartLineNumber(),l=this.g.getEndLineNumber();for(let o=s;o<=l;o++){const h=this.g.getVisibleLine(o);if(u===h.getDomNode())return o}return-1}getLineWidth(u){const s=this.g.getStartLineNumber(),l=this.g.getEndLineNumber();return u<s||u>l?-1:this.g.getVisibleLine(u).getWidth()}linesVisibleRangesForRange(u,s){if(this.shouldRender())return null;const l=u.endLineNumber,o=d.Range.intersectRanges(u,this.C.getCurrentVisibleRange());if(!o)return null;const h=[];let f=0;const S=new v.DomReadingContext(this.j.domNode,this.c);let p=0;s&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(o.startLineNumber,1)).lineNumber);const m=this.g.getStartLineNumber(),b=this.g.getEndLineNumber();for(let L=o.startLineNumber;L<=o.endLineNumber;L++){if(L<m||L>b)continue;const k=L===o.startLineNumber?o.startColumn:1,I=L===o.endLineNumber?o.endColumn:this._context.viewModel.getLineMaxColumn(L),M=this.g.getVisibleLine(L).getVisibleRangesForRange(L,k,I,S);if(!!M){if(s&&L<l){const B=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(L+1,1)).lineNumber,B!==p&&(M.ranges[M.ranges.length-1].width+=this.m)}h[f++]=new g.LineVisibleRanges(M.outsideRenderedLine,L,g.HorizontalRange.from(M.ranges))}}return f===0?null:h}J(u,s,l){return this.shouldRender()||u<this.g.getStartLineNumber()||u>this.g.getEndLineNumber()?null:this.g.getVisibleLine(u).getVisibleRangesForRange(u,s,l,new v.DomReadingContext(this.j.domNode,this.c))}visibleRangeForPosition(u){const s=this.J(u.lineNumber,u.column,u.column);return s?new g.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}L(){return this.N(!0)}M(){this.N(!1)}N(u){const s=this.g.getStartLineNumber(),l=this.g.getEndLineNumber();let o=1,h=!0;for(let f=s;f<=l;f++){const S=this.g.getVisibleLine(f);if(u&&!S.getWidthIsFast()){h=!1;continue}o=Math.max(o,S.getWidth())}return h&&s===1&&l===this._context.viewModel.getLineCount()&&(this.w=0),this.P(o),h}O(){let u=-1,s=-1;const l=this.g.getStartLineNumber(),o=this.g.getEndLineNumber();for(let h=l;h<=o;h++){const f=this.g.getVisibleLine(h);if(f.needsMonospaceFontCheck()){const S=f.getWidth();S>s&&(s=S,u=h)}}if(u!==-1&&!this.g.getVisibleLine(u).monospaceAssumptionsAreValid())for(let h=l;h<=o;h++)this.g.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this.g.renderLines(u),this.C.setCurrentVisibleRange(u.visibleRange),this.j.setWidth(this._context.viewLayout.getScrollWidth()),this.j.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this.B){const l=this.B;if(u.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=u.endLineNumber){this.B=null,this.onDidRender();const o=this.R(l);o&&(this.n||this.P(o.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:o.scrollLeft},l.scrollType))}}if(this.L()||this.y.schedule(),w.isLinux&&!this.z.isScheduled()){const l=this.g.getStartLineNumber(),o=this.g.getEndLineNumber();for(let h=l;h<=o;h++)if(this.g.getVisibleLine(h).needsMonospaceFontCheck()){this.z.schedule();break}}this.b.setLayerHinting(this.u),this.b.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this.b.setTop(-s),this.b.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}P(u){const s=Math.ceil(u);this.w<s&&(this.w=s,this._context.viewModel.viewLayout.setMaxLineWidth(this.w))}Q(u,s,l,o,h,f){const S=u.top,p=u.height,m=S+p;let b,L,k;if(h&&h.length>0){let P=h[0].startLineNumber,A=h[0].endLineNumber;for(let T=1,O=h.length;T<O;T++){const F=h[T];P=Math.min(P,F.startLineNumber),A=Math.max(A,F.endLineNumber)}b=!1,L=this._context.viewLayout.getVerticalOffsetForLineNumber(P),k=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this.k}else if(o)b=!0,L=this._context.viewLayout.getVerticalOffsetForLineNumber(o.startLineNumber),k=this._context.viewLayout.getVerticalOffsetForLineNumber(o.endLineNumber)+this.k;else return-1;const I=(s==="mouse"||l)&&this.t==="default";let M=0,B=0;if(I)l||(M=this.k);else{const P=Math.min(p/this.k/2,this.s);this.D?M=Math.max(P,this.F)*this.k:M=P*this.k,B=Math.max(0,P-1)*this.k}l||(f===0||f===4)&&(B+=this.k),L-=M,k+=B;let z;if(k-L>p){if(!b)return-1;z=L}else if(f===5||f===6)if(f===6&&S<=L&&k<=m)z=S;else{const P=Math.max(5*this.k,p*.2),A=L-P,T=k-p;z=Math.max(T,A)}else if(f===1||f===2)if(f===2&&S<=L&&k<=m)z=S;else{const P=(L+k)/2;z=Math.max(0,P-p/2)}else z=this.S(S,m,L,k,f===3,f===4);return z}R(u){const s=this._context.viewLayout.getCurrentViewport(),l=this._context.configuration.options.get(138),o=s.left,h=o+s.width-l.verticalScrollbarWidth;let f=1073741824,S=0;if(u.type==="range"){const m=this.J(u.lineNumber,u.startColumn,u.endColumn);if(!m)return null;for(const b of m.ranges)f=Math.min(f,Math.round(b.left)),S=Math.max(S,Math.round(b.left+b.width))}else for(const m of u.selections){if(m.startLineNumber!==m.endLineNumber)return null;const b=this.J(m.startLineNumber,m.startColumn,m.endColumn);if(!b)return null;for(const L of b.ranges)f=Math.min(f,Math.round(L.left)),S=Math.max(S,Math.round(L.left+L.width))}return u.minimalReveal||(f=Math.max(0,f-r.a),S+=this.p),u.type==="selections"&&S-f>s.width?null:{scrollLeft:this.S(o,h,f,S),maxHorizontalOffset:S}}S(u,s,l,o,h,f){u=u|0,s=s|0,l=l|0,o=o|0,h=!!h,f=!!f;const S=s-u;if(o-l<S){if(h)return l;if(f)return Math.max(0,o-S);if(l<u)return l;if(o>s)return Math.max(0,o-S)}else return l;return u}}r.a=30,e.ViewLines=r}),define(ee[24],te([1,0,6,2,8,33,91]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,E.createDecorator)("themeService");function v(n){return{id:n}}e.themeColorFromId=v;function C(n){switch(n){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=C,e.Extensions={ThemingContribution:"base.contributions.theming"};class d{constructor(){this.a=[],this.a=[],this.b=new w.Emitter}onColorThemeChange(a){return this.a.push(a),this.b.fire(a),(0,N.toDisposable)(()=>{const r=this.a.indexOf(a);this.a.splice(r,1)})}getThemingParticipants(){return this.a}}const g=new d;D.Registry.add(e.Extensions.ThemingContribution,g);function i(n){return g.onColorThemeChange(n)}e.registerThemingParticipant=i;class t extends N.Disposable{constructor(a){super(),this.b=a,this.a=a.getColorTheme(),this.q(this.b.onDidColorThemeChange(r=>this.c(r)))}c(a){this.a=a,this.updateStyles()}updateStyles(){}}e.Themable=t}),define(ee[778],te([1,0,6,2,58,24]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends N.Disposable{constructor(d){super(),this.m=d,this.a=this.q(new w.Emitter),this.onCodeEditorAdd=this.a.event,this.b=this.q(new w.Emitter),this.onCodeEditorRemove=this.b.event,this.c=this.q(new w.Emitter),this.onDiffEditorAdd=this.c.event,this.g=this.q(new w.Emitter),this.onDiffEditorRemove=this.g.event,this.k=new Map,this.l=new E.LinkedList,this.n=new Map,this.h=Object.create(null),this.i=Object.create(null),this.j=null}addCodeEditor(d){this.h[d.getId()]=d,this.a.fire(d)}removeCodeEditor(d){delete this.h[d.getId()]&&this.b.fire(d)}listCodeEditors(){return Object.keys(this.h).map(d=>this.h[d])}addDiffEditor(d){this.i[d.getId()]=d,this.c.fire(d)}removeDiffEditor(d){delete this.i[d.getId()]&&this.g.fire(d)}listDiffEditors(){return Object.keys(this.i).map(d=>this.i[d])}getFocusedCodeEditor(){let d=null;const g=this.listCodeEditors();for(const i of g){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(d=i)}return d}removeDecorationType(d){const g=this.k.get(d);g&&(g.refCount--,g.refCount<=0&&(this.k.delete(d),g.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(d))))}setModelProperty(d,g,i){const t=d.toString();let n;this.n.has(t)?n=this.n.get(t):(n=new Map,this.n.set(t,n)),n.set(g,i)}getModelProperty(d,g){const i=d.toString();if(this.n.has(i))return this.n.get(i).get(g)}openCodeEditor(d,g,i){return Le(this,void 0,void 0,function*(){for(const t of this.l){const n=yield t(d,g,i);if(n!==null)return n}return null})}registerCodeEditorOpenHandler(d){const g=this.l.unshift(d);return(0,N.toDisposable)(g)}};y=De([fe(0,D.IThemeService)],y),e.AbstractCodeEditorService=y;class v{constructor(d){this.a=d}}e.GlobalStyleSheet=v}),define(ee[779],te([1,0,7,35,74,49,24]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends D.ViewPart{constructor(d,g,i,t){super(d);const n=this._context.configuration.options,a=n.get(97),r=n.get(71),c=n.get(37),u=n.get(100),s={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(d.theme.type),useShadows:!1,lazyRender:!0,vertical:a.vertical,horizontal:a.horizontal,verticalHasArrows:a.verticalHasArrows,horizontalHasArrows:a.horizontalHasArrows,verticalScrollbarSize:a.verticalScrollbarSize,verticalSliderSize:a.verticalSliderSize,horizontalScrollbarSize:a.horizontalScrollbarSize,horizontalSliderSize:a.horizontalSliderSize,handleMouseWheel:a.handleMouseWheel,alwaysConsumeMouseWheel:a.alwaysConsumeMouseWheel,arrowSize:a.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:c,scrollPredominantAxis:u,scrollByPage:a.scrollByPage};this.a=this.q(new E.SmoothScrollableElement(g.domNode,s,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.a.getDomNode(),5),this.b=(0,N.createFastDomNode)(this.a.getDomNode()),this.b.setPosition("absolute"),this.c();const l=(o,h,f)=>{const S={};if(h){const p=o.scrollTop;p&&(S.scrollTop=this._context.viewLayout.getCurrentScrollTop()+p,o.scrollTop=0)}if(f){const p=o.scrollLeft;p&&(S.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+p,o.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(S,1)};this.q(w.addDisposableListener(i.domNode,"scroll",o=>l(i.domNode,!0,!0))),this.q(w.addDisposableListener(g.domNode,"scroll",o=>l(g.domNode,!0,!1))),this.q(w.addDisposableListener(t.domNode,"scroll",o=>l(t.domNode,!0,!1))),this.q(w.addDisposableListener(this.b.domNode,"scroll",o=>l(this.b.domNode,!0,!1)))}dispose(){super.dispose()}c(){const d=this._context.configuration.options,g=d.get(138);this.b.setLeft(g.contentLeft),d.get(69).side==="right"?this.b.setWidth(g.contentWidth+g.minimap.minimapWidth):this.b.setWidth(g.contentWidth),this.b.setHeight(g.height)}getOverviewRulerLayoutInfo(){return this.a.getOverviewRulerLayoutInfo()}getDomNode(){return this.b}delegateVerticalScrollbarPointerDown(d){this.a.delegateVerticalScrollbarPointerDown(d)}delegateScrollFromMouseWheelEvent(d){this.a.delegateScrollFromMouseWheelEvent(d)}onConfigurationChanged(d){if(d.hasChanged(97)||d.hasChanged(71)||d.hasChanged(37)){const g=this._context.configuration.options,i=g.get(97),t=g.get(71),n=g.get(37),a=g.get(100),r={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:n,scrollPredominantAxis:a};this.a.updateOptions(r)}return d.hasChanged(138)&&this.c(),!0}onScrollChanged(d){return!0}onThemeChanged(d){return this.a.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(d){}render(d){this.a.renderNow()}}e.EditorScrollbar=v}),define(ee[780],te([1,0,104,30,24,385]),function(K,e,w,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class y{constructor(t,n){this.lineNumber=t,this.ranges=n}}function v(i){return new D(i)}function C(i){return new y(i.lineNumber,i.ranges.map(v))}class d extends w.DynamicViewOverlay{constructor(t){super(),this.F=[],this.r=t;const n=this.r.configuration.options;this.s=n.get(63),this.t=n.get(95),this.u=n.get(47).typicalHalfwidthCharacterWidth,this.v=[],this.w=null,this.r.addEventHandler(this)}dispose(){this.r.removeEventHandler(this),this.w=null,super.dispose()}onConfigurationChanged(t){const n=this.r.configuration.options;return this.s=n.get(63),this.t=n.get(95),this.u=n.get(47).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this.v=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}y(t){for(let n=0,a=t.length;n<a;n++)if(t[n].ranges.length>1)return!0;return!1}z(t,n,a){const r=this.u/4;let c=null,u=null;if(a&&a.length>0&&n.length>0){const s=n[0].lineNumber;if(s===t.startLineNumber)for(let o=0;!c&&o<a.length;o++)a[o].lineNumber===s&&(c=a[o].ranges[0]);const l=n[n.length-1].lineNumber;if(l===t.endLineNumber)for(let o=a.length-1;!u&&o>=0;o--)a[o].lineNumber===l&&(u=a[o].ranges[0]);c&&!c.startStyle&&(c=null),u&&!u.startStyle&&(u=null)}for(let s=0,l=n.length;s<l;s++){const o=n[s].ranges[0],h=o.left,f=o.left+o.width,S={top:0,bottom:0},p={top:0,bottom:0};if(s>0){const m=n[s-1].ranges[0].left,b=n[s-1].ranges[0].left+n[s-1].ranges[0].width;g(h-m)<r?S.top=2:h>m&&(S.top=1),g(f-b)<r?p.top=2:m<f&&f<b&&(p.top=1)}else c&&(S.top=c.startStyle.top,p.top=c.endStyle.top);if(s+1<l){const m=n[s+1].ranges[0].left,b=n[s+1].ranges[0].left+n[s+1].ranges[0].width;g(h-m)<r?S.bottom=2:m<h&&h<b&&(S.bottom=1),g(f-b)<r?p.bottom=2:f<b&&(p.bottom=1)}else u&&(S.bottom=u.startStyle.bottom,p.bottom=u.endStyle.bottom);o.startStyle=S,o.endStyle=p}}B(t,n,a){const c=(n.linesVisibleRangesForRange(t,!0)||[]).map(C);return!this.y(c)&&this.t&&this.z(n.visibleRange,c,a),c}C(t,n,a,r,c){return'<div class="cslr '+a+'" style="top:'+t.toString()+"px;left:"+r.toString()+"px;width:"+c.toString()+"px;height:"+n+'px;"></div>'}D(t,n,a,r){if(r.length===0)return;const c=!!r[0].ranges[0].startStyle,u=this.s.toString(),s=(this.s-1).toString(),l=r[0].lineNumber,o=r[r.length-1].lineNumber;for(let h=0,f=r.length;h<f;h++){const S=r[h],p=S.lineNumber,m=p-n,b=a&&(p===o||p===l)?s:u,L=a&&p===l?1:0;let k="",I="";for(let M=0,B=S.ranges.length;M<B;M++){const z=S.ranges[M];if(c){const A=z.startStyle,T=z.endStyle;if(A.top===1||A.bottom===1){k+=this.C(L,b,d.a,z.left-d.p,d.p);let O=d.m;A.top===1&&(O+=" "+d.g),A.bottom===1&&(O+=" "+d.k),k+=this.C(L,b,O,z.left-d.p,d.p)}if(T.top===1||T.bottom===1){k+=this.C(L,b,d.a,z.left+z.width,d.p);let O=d.m;T.top===1&&(O+=" "+d.b),T.bottom===1&&(O+=" "+d.c),k+=this.C(L,b,O,z.left+z.width,d.p)}}let P=d.a;if(c){const A=z.startStyle,T=z.endStyle;A.top===0&&(P+=" "+d.b),A.bottom===0&&(P+=" "+d.c),T.top===0&&(P+=" "+d.g),T.bottom===0&&(P+=" "+d.k)}I+=this.C(L,b,P,z.left,z.width)}t[m][0]+=k,t[m][1]+=I}}prepareRender(t){const n=[],a=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber;for(let u=a;u<=r;u++){const s=u-a;n[s]=["",""]}const c=[];for(let u=0,s=this.v.length;u<s;u++){const l=this.v[u];if(l.isEmpty()){c[u]=null;continue}const o=this.B(l,t,this.F[u]);c[u]=o,this.D(n,a,this.v.length>1,o)}this.F=c,this.w=n.map(([u,s])=>u+s)}render(t,n){if(!this.w)return"";const a=n-t;return a<0||a>=this.w.length?"":this.w[a]}}d.a="selected-text",d.b="top-left-radius",d.c="bottom-left-radius",d.g="top-right-radius",d.k="bottom-right-radius",d.m="monaco-editor-background",d.p=10,e.SelectionsOverlay=d,(0,E.registerThemingParticipant)((i,t)=>{const n=i.getColor(N.editorSelectionForeground);n&&!n.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function g(i){return i<0?-i:i}}),define(ee[79],te([1,0,574,36,30,24]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,E.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(0,null)),e.editorLineHighlightBorder=(0,E.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:E.contrastBorder},w.localize(1,null)),e.editorRangeHighlight=(0,E.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w.localize(2,null),!0),e.editorRangeHighlightBorder=(0,E.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},w.localize(3,null),!0),e.editorSymbolHighlight=(0,E.registerColor)("editor.symbolHighlightBackground",{dark:E.editorFindMatchHighlight,light:E.editorFindMatchHighlight,hcDark:null,hcLight:null},w.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,E.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},w.localize(5,null),!0),e.editorCursorForeground=(0,E.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:N.Color.black,hcDark:N.Color.white,hcLight:"#0F4A85"},w.localize(6,null)),e.editorCursorBackground=(0,E.registerColor)("editorCursor.background",null,w.localize(7,null)),e.editorWhitespaces=(0,E.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w.localize(8,null)),e.editorIndentGuides=(0,E.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(9,null)),e.editorActiveIndentGuides=(0,E.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(10,null)),e.editorLineNumbers=(0,E.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:N.Color.white,hcLight:"#292929"},w.localize(11,null));const y=(0,E.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},w.localize(12,null),!1,w.localize(13,null));e.editorActiveLineNumber=(0,E.registerColor)("editorLineNumber.activeForeground",{dark:y,light:y,hcDark:y,hcLight:y},w.localize(14,null)),e.editorDimmedLineNumber=(0,E.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(15,null)),e.editorRuler=(0,E.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:N.Color.lightgrey,hcDark:N.Color.white,hcLight:"#292929"},w.localize(16,null)),e.editorCodeLensForeground=(0,E.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w.localize(17,null)),e.editorBracketMatchBackground=(0,E.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w.localize(18,null)),e.editorBracketMatchBorder=(0,E.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:E.contrastBorder,hcLight:E.contrastBorder},w.localize(19,null)),e.editorOverviewRulerBorder=(0,E.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w.localize(20,null)),e.editorOverviewRulerBackground=(0,E.registerColor)("editorOverviewRuler.background",null,w.localize(21,null)),e.editorGutter=(0,E.registerColor)("editorGutter.background",{dark:E.editorBackground,light:E.editorBackground,hcDark:E.editorBackground,hcLight:E.editorBackground},w.localize(22,null)),e.editorUnnecessaryCodeBorder=(0,E.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:N.Color.fromHex("#fff").transparent(.8),hcLight:E.contrastBorder},w.localize(23,null)),e.editorUnnecessaryCodeOpacity=(0,E.registerColor)("editorUnnecessaryCode.opacity",{dark:N.Color.fromHex("#000a"),light:N.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(24,null)),e.ghostTextBorder=(0,E.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:N.Color.fromHex("#fff").transparent(.8),hcLight:N.Color.fromHex("#292929").transparent(.8)},w.localize(25,null)),e.ghostTextForeground=(0,E.registerColor)("editorGhostText.foreground",{dark:N.Color.fromHex("#ffffff56"),light:N.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(26,null)),e.ghostTextBackground=(0,E.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(27,null));const v=new N.Color(new N.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,E.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:v,light:v,hcDark:v,hcLight:v},w.localize(28,null),!0),e.overviewRulerError=(0,E.registerColor)("editorOverviewRuler.errorForeground",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hcDark:new N.Color(new N.RGBA(255,50,50,1)),hcLight:"#B5200D"},w.localize(29,null)),e.overviewRulerWarning=(0,E.registerColor)("editorOverviewRuler.warningForeground",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningBorder,hcLight:E.editorWarningBorder},w.localize(30,null)),e.overviewRulerInfo=(0,E.registerColor)("editorOverviewRuler.infoForeground",{dark:E.editorInfoForeground,light:E.editorInfoForeground,hcDark:E.editorInfoBorder,hcLight:E.editorInfoBorder},w.localize(31,null)),e.editorBracketHighlightingForeground1=(0,E.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w.localize(32,null)),e.editorBracketHighlightingForeground2=(0,E.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w.localize(33,null)),e.editorBracketHighlightingForeground3=(0,E.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w.localize(34,null)),e.editorBracketHighlightingForeground4=(0,E.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(35,null)),e.editorBracketHighlightingForeground5=(0,E.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(36,null)),e.editorBracketHighlightingForeground6=(0,E.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(37,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,E.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new N.Color(new N.RGBA(255,18,18,.8)),light:new N.Color(new N.RGBA(255,18,18,.8)),hcDark:new N.Color(new N.RGBA(255,50,50,1)),hcLight:""},w.localize(38,null)),e.editorBracketPairGuideBackground1=(0,E.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(39,null)),e.editorBracketPairGuideBackground2=(0,E.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(40,null)),e.editorBracketPairGuideBackground3=(0,E.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(41,null)),e.editorBracketPairGuideBackground4=(0,E.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(42,null)),e.editorBracketPairGuideBackground5=(0,E.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(43,null)),e.editorBracketPairGuideBackground6=(0,E.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(44,null)),e.editorBracketPairGuideActiveBackground1=(0,E.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(45,null)),e.editorBracketPairGuideActiveBackground2=(0,E.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(46,null)),e.editorBracketPairGuideActiveBackground3=(0,E.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(47,null)),e.editorBracketPairGuideActiveBackground4=(0,E.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(48,null)),e.editorBracketPairGuideActiveBackground5=(0,E.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(49,null)),e.editorBracketPairGuideActiveBackground6=(0,E.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(50,null)),e.editorUnicodeHighlightBorder=(0,E.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},w.localize(51,null)),e.editorUnicodeHighlightBackground=(0,E.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},w.localize(52,null)),(0,D.registerThemingParticipant)((C,d)=>{const g=C.getColor(E.editorBackground),i=C.getColor(e.editorLineHighlight),t=i&&!i.isTransparent()?i:g;t&&d.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`)})}),define(ee[781],te([1,0,104,79,17,24,22,91,372]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class C extends w.DynamicViewOverlay{constructor(t){super(),this.c=t;const n=this.c.configuration.options,a=n.get(138);this.g=n.get(63),this.j=n.get(90),this.p=n.get(91),this.k=a.contentLeft,this.m=a.contentWidth,this.n=!0,this.r=!1,this.t=[1],this.u=[new y.Selection(1,1,1,1)],this.v=null,this.c.addEventHandler(this)}dispose(){this.c.removeEventHandler(this),super.dispose()}w(){let t=!1;const n=this.u.map(r=>r.positionLineNumber);n.sort((r,c)=>r-c),E.equals(this.t,n)||(this.t=n,t=!0);const a=this.u.every(r=>r.isEmpty());return this.n!==a&&(this.n=a,t=!0),t}onThemeChanged(t){return this.w()}onConfigurationChanged(t){const n=this.c.configuration.options,a=n.get(138);return this.g=n.get(63),this.j=n.get(90),this.p=n.get(91),this.k=a.contentLeft,this.m=a.contentWidth,!0}onCursorStateChanged(t){return this.u=t.selections,this.w()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this.p?(this.r=t.isFocused,!0):!1}prepareRender(t){if(!this.B()){this.v=null;return}const n=this.D(t),a=t.visibleRange.startLineNumber,r=t.visibleRange.endLineNumber,c=this.t.length;let u=0;const s=[];for(let l=a;l<=r;l++){const o=l-a;for(;u<c&&this.t[u]<l;)u++;u<c&&this.t[u]===l?s[o]=n:s[o]=""}this.v=s}render(t,n){if(!this.v)return"";const a=n-t;return a>=this.v.length?"":this.v[a]}y(){return(this.j==="gutter"||this.j==="all")&&(!this.p||this.r)}z(){return(this.j==="line"||this.j==="all")&&this.n&&(!this.p||this.r)}}e.AbstractLineHighlightOverlay=C;class d extends C{D(t){return`<div class="${"current-line"+(this.C()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this.m)}px; height:${this.g}px;"></div>`}B(){return this.z()}C(){return this.y()}}e.CurrentLineHighlightOverlay=d;class g extends C{D(t){return`<div class="${"current-line"+(this.y()?" current-line-margin":"")+(this.C()?" current-line-margin-both":"")}" style="width:${this.k}px; height:${this.g}px;"></div>`}B(){return!0}C(){return this.z()}}e.CurrentLineMarginHighlightOverlay=g,(0,D.registerThemingParticipant)((i,t)=>{const n=i.getColor(N.editorLineHighlight);if(n&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||i.defines(N.editorLineHighlightBorder)){const a=i.getColor(N.editorLineHighlightBorder);a&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${a}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${a}; }`),(0,v.isHighContrast)(i.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[782],te([1,0,104,79,24,11,17,18,257,192,375]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class g extends w.DynamicViewOverlay{constructor(n){super(),this.a=n,this.b=null;const a=this.a.configuration.options,r=a.get(139),c=a.get(47);this.j=a.get(63),this.k=c.spaceWidth,this.n=r.wrappingColumn===-1?-1:r.wrappingColumn*c.typicalHalfwidthCharacterWidth,this.p=a.get(13),this.m=null,this.a.addEventHandler(this)}dispose(){this.a.removeEventHandler(this),this.m=null,super.dispose()}onConfigurationChanged(n){const a=this.a.configuration.options,r=a.get(139),c=a.get(47);return this.j=a.get(63),this.k=c.spaceWidth,this.n=r.wrappingColumn===-1?-1:r.wrappingColumn*c.typicalHalfwidthCharacterWidth,this.p=a.get(13),!0}onCursorStateChanged(n){var a;const c=n.selections[0].getPosition();return!((a=this.b)===null||a===void 0)&&a.equals(c)?!1:(this.b=c,!0)}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}onLanguageConfigurationChanged(n){return!0}prepareRender(n){var a,r,c,u;if(!this.p.indentation&&this.p.bracketPairs===!1){this.m=null;return}const s=n.visibleRange.startLineNumber,l=n.visibleRange.endLineNumber,o=n.scrollWidth,h=this.j,f=this.b,S=this.r(s,Math.min(l+1,this.a.viewModel.getLineCount()),f),p=[];for(let m=s;m<=l;m++){const b=m-s,L=S[b];let k="";const I=(r=(a=n.visibleRangeForPosition(new D.Position(m,1)))===null||a===void 0?void 0:a.left)!==null&&r!==void 0?r:0;for(const M of L){const B=M.column===-1?I+(M.visibleColumn-1)*this.k:n.visibleRangeForPosition(new D.Position(m,M.column)).left;if(B>o||this.n>0&&B>this.n)break;const z=M.horizontalLine?M.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",P=M.horizontalLine?((u=(c=n.visibleRangeForPosition(new D.Position(m,M.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&u!==void 0?u:B+this.k)-B:this.k;k+=`<div class="core-guide ${M.className} ${z}" style="left:${B}px;height:${h}px;width:${P}px"></div>`}p[b]=k}this.m=p}r(n,a,r){const c=this.p.bracketPairs!==!1?this.a.viewModel.getBracketGuidesInRangeByLine(n,a,r,{highlightActive:this.p.highlightActiveBracketPair,horizontalGuides:this.p.bracketPairsHorizontal===!0?d.HorizontalGuidesState.Enabled:this.p.bracketPairsHorizontal==="active"?d.HorizontalGuidesState.EnabledForActive:d.HorizontalGuidesState.Disabled,includeInactive:this.p.bracketPairs===!0}):null,u=this.p.indentation?this.a.viewModel.getLinesIndentGuides(n,a):null;let s=0,l=0,o=0;if(this.p.highlightActiveIndentation!==!1&&r){const S=this.a.viewModel.getActiveIndentGuide(r.lineNumber,n,a);s=S.startLineNumber,l=S.endLineNumber,o=S.indent}const{indentSize:h}=this.a.viewModel.model.getOptions(),f=[];for(let S=n;S<=a;S++){const p=new Array;f.push(p);const m=c?c[S-n]:[],b=new y.ArrayQueue(m),L=u?u[S-n]:0;for(let k=1;k<=L;k++){const I=(k-1)*h+1,M=(this.p.highlightActiveIndentation==="always"||m.length===0)&&s<=S&&S<=l&&k===o;p.push(...b.takeWhile(z=>z.visibleColumn<I)||[]);const B=b.peek();(!B||B.visibleColumn!==I||B.horizontalLine)&&p.push(new d.IndentGuide(I,-1,M?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}p.push(...b.takeWhile(k=>!0)||[])}return f}render(n,a){if(!this.m)return"";const r=a-n;return r<0||r>=this.m.length?"":this.m[r]}}e.IndentGuidesOverlay=g;function i(t){if(!(t&&t.isTransparent()))return t}(0,E.registerThemingParticipant)((t,n)=>{const a=[{bracketColor:N.editorBracketHighlightingForeground1,guideColor:N.editorBracketPairGuideBackground1,guideColorActive:N.editorBracketPairGuideActiveBackground1},{bracketColor:N.editorBracketHighlightingForeground2,guideColor:N.editorBracketPairGuideBackground2,guideColorActive:N.editorBracketPairGuideActiveBackground2},{bracketColor:N.editorBracketHighlightingForeground3,guideColor:N.editorBracketPairGuideBackground3,guideColorActive:N.editorBracketPairGuideActiveBackground3},{bracketColor:N.editorBracketHighlightingForeground4,guideColor:N.editorBracketPairGuideBackground4,guideColorActive:N.editorBracketPairGuideActiveBackground4},{bracketColor:N.editorBracketHighlightingForeground5,guideColor:N.editorBracketPairGuideBackground5,guideColorActive:N.editorBracketPairGuideActiveBackground5},{bracketColor:N.editorBracketHighlightingForeground6,guideColor:N.editorBracketPairGuideBackground6,guideColorActive:N.editorBracketPairGuideActiveBackground6}],r=new C.BracketPairGuidesClassNames,c=a.map(u=>{var s,l;const o=t.getColor(u.bracketColor),h=t.getColor(u.guideColor),f=t.getColor(u.guideColorActive),S=i((s=i(h))!==null&&s!==void 0?s:o?.transparent(.3)),p=i((l=i(f))!==null&&l!==void 0?l:o);if(!(!S||!p))return{guideColor:S,guideColorActive:p}}).filter(v.isDefined);if(c.length>0){for(let u=0;u<30;u++){const s=c[u%c.length];n.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(u).replace(/ /g,".")} { --guide-color: ${s.guideColor}; --guide-color-active: ${s.guideColorActive}; }`)}n.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),n.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),n.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),n.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),n.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),n.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(ee[316],te([1,0,16,104,11,24,79,376]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class v extends N.DynamicViewOverlay{constructor(d){super(),this.a=d,this.s(),this.n=new E.Position(1,1),this.p=null,this.r=1,this.a.addEventHandler(this)}s(){const d=this.a.configuration.options;this.b=d.get(63);const g=d.get(64);this.c=g.renderType,this.g=g.renderFn,this.j=d.get(89);const i=d.get(138);this.k=i.lineNumbersLeft,this.m=i.lineNumbersWidth}dispose(){this.a.removeEventHandler(this),this.p=null,super.dispose()}onConfigurationChanged(d){return this.s(),!0}onCursorStateChanged(d){const g=d.selections[0].getPosition();this.n=this.a.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);let i=!1;return this.r!==g.lineNumber&&(this.r=g.lineNumber,i=!0),(this.c===2||this.c===3)&&(i=!0),i}onFlushed(d){return!0}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return d.scrollTopChanged}onZonesChanged(d){return!0}t(d){const g=this.a.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new E.Position(d,1));if(g.column!==1)return"";const i=g.lineNumber;if(this.g)return this.g(i);if(this.c===2){const t=Math.abs(this.n.lineNumber-i);return t===0?'<span class="relative-current-line-number">'+i+"</span>":String(t)}return this.c===3?this.n.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(d){if(this.c===0){this.p=null;return}const g=w.isLinux?this.b%2===0?" lh-even":" lh-odd":"",i=d.visibleRange.startLineNumber,t=d.visibleRange.endLineNumber,n=this.a.viewModel.getLineCount(),a=[];for(let r=i;r<=t;r++){const c=r-i,u=this.t(r);if(!u){a[c]="";continue}let s="";if(r===n&&this.a.viewModel.getLineLength(r)===0){if(this.j==="off"){a[c]="";continue}this.j==="dimmed"&&(s=" dimmed-line-number")}r===this.r&&(s=" active-line-number"),a[c]=`<div class="${v.CLASS_NAME}${g}${s}" style="left:${this.k}px;width:${this.m}px;">${u}</div>`}this.p=a}render(d,g){if(!this.p)return"";const i=g-d;return i<0||i>=this.p.length?"":this.p[i]}}v.CLASS_NAME="line-numbers",e.LineNumbersOverlay=v,(0,D.registerThemingParticipant)((C,d)=>{const g=C.getColor(y.editorLineNumbers),i=C.getColor(y.editorDimmedLineNumber);i?d.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):g&&d.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${g.transparent(.4)}; }`)})}),define(ee[783],te([1,0,563,44,35,16,9,72,211,246,49,316,258,39,132,11,3,22,155,26,36,268,370]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class f{constructor(L,k,I,M,B){this.b=L,this.modelLineNumber=k,this.distanceToModelLineStart=I,this.widthOfHiddenLineTextBefore=M,this.distanceToModelLineEnd=B,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this.a=null}prepareRender(L){const k=new r.Position(this.modelLineNumber,this.distanceToModelLineStart+1),I=new r.Position(this.modelLineNumber,this.b.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this.b.viewModel.coordinatesConverter.convertModelPositionToViewPosition(k),this.endPosition=this.b.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=L.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=L.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(L){return this.a||(L?this.a=L:this.a={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this.a}}const S=N.isFirefox;class p extends g.ViewPart{constructor(L,k,I){super(L),this.N=new r.Position(1,1),this.O=null,this.a=k,this.b=I,this.c=0,this.g=0;const M=this._context.configuration.options,B=M.get(138);this.L(M),this.p=B.contentLeft,this.s=B.contentWidth,this.t=B.height,this.u=M.get(47),this.v=M.get(63),this.w=M.get(34),this.y=M.get(22),this.z=null,this.B=[new u.Selection(1,1,1,1)],this.C=[new u.Selection(1,1,1,1)],this.D=null,this.textArea=(0,E.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this.m&&!this.z?"on":"off");const{tabSize:z}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${z*this.u.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this.J(M)),this.textArea.setAttribute("tabindex",String(M.get(118))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.M(),this.textAreaCover=(0,E.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const P={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:O=>this._context.viewModel.getLineMaxColumn(O),getValueInRange:(O,F)=>this._context.viewModel.getValueInRange(O,F),getValueLengthInRange:(O,F)=>this._context.viewModel.getValueLengthInRange(O,F),modifyPosition:(O,F)=>this._context.viewModel.modifyPosition(O,F)},A={getDataToCopy:()=>{const O=this._context.viewModel.getPlainTextToCopy(this.C,this.w,D.isWindows),F=this._context.viewModel.model.getEOL(),W=this.w&&this.C.length===1&&this.C[0].isEmpty(),V=Array.isArray(O)?O:null,R=Array.isArray(O)?O.join(F):O;let $,X=null;if(C.CopyOptions.forceCopyWithSyntaxHighlighting||this.y&&R.length<65536){const ne=this._context.viewModel.getRichTextToCopy(this.C,this.w);ne&&($=ne.html,X=ne.mode)}return{isFromEmptySelection:W,multicursorText:V,text:R,html:$,mode:X}},getScreenReaderContent:()=>{if(this.j===1){const O=this.B[0];if(D.isMacintosh&&O.isEmpty()){const W=O.getStartPosition();let V=this.H(W);if(V.length===0&&(V=this.I(W)),V.length>0)return new d.TextAreaState(V,V.length,V.length,c.Range.fromPositions(W),0)}const F=500;if(D.isMacintosh&&!O.isEmpty()&&P.getValueLengthInRange(O,0)<F){const W=P.getValueInRange(O,0);return new d.TextAreaState(W,0,W.length,O,0)}if(N.isSafari&&!O.isEmpty()){const W="vscode-placeholder";return new d.TextAreaState(W,0,W.length,null,void 0)}return d.TextAreaState.EMPTY}if(N.isAndroid){const O=this.B[0];if(O.isEmpty()){const F=O.getStartPosition(),[W,V]=this.G(F);if(W.length>0)return new d.TextAreaState(W,V,V,c.Range.fromPositions(F),0)}return d.TextAreaState.EMPTY}return d.PagedScreenReaderStrategy.fromEditorSelection(P,this.B[0],this.k,this.j===0)},deduceModelPosition:(O,F,W)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(O,F,W)},T=this.q(new C.TextAreaWrapper(this.textArea.domNode));this.F=this.q(new C.TextAreaInput(A,T,D.OS,N)),this.q(this.F.onKeyDown(O=>{this.a.emitKeyDown(O)})),this.q(this.F.onKeyUp(O=>{this.a.emitKeyUp(O)})),this.q(this.F.onPaste(O=>{let F=!1,W=null,V=null;O.metadata&&(F=this.w&&!!O.metadata.isFromEmptySelection,W=typeof O.metadata.multicursorText<"u"?O.metadata.multicursorText:null,V=O.metadata.mode),this.a.paste(O.text,F,W,V)})),this.q(this.F.onCut(()=>{this.a.cut()})),this.q(this.F.onType(O=>{O.replacePrevCharCnt||O.replaceNextCharCnt||O.positionDelta?(d._debugComposition&&console.log(` => compositionType: <<${O.text}>>, ${O.replacePrevCharCnt}, ${O.replaceNextCharCnt}, ${O.positionDelta}`),this.a.compositionType(O.text,O.replacePrevCharCnt,O.replaceNextCharCnt,O.positionDelta)):(d._debugComposition&&console.log(` => type: <<${O.text}>>`),this.a.type(O.text))})),this.q(this.F.onSelectionChangeRequest(O=>{this.a.setSelection(O)})),this.q(this.F.onCompositionStart(O=>{const F=this.textArea.domNode,W=this.C[0],{distanceToModelLineStart:V,widthOfHiddenTextBefore:R}=(()=>{const X=F.value.substring(0,Math.min(F.selectionStart,F.selectionEnd)),ne=X.lastIndexOf(`
`),ae=X.substring(ne+1),ie=ae.lastIndexOf("	"),le=ae.length-ie-1,J=W.getStartPosition(),x=Math.min(J.column-1,le),q=J.column-1-x,Y=ae.substring(0,ae.length-x),{tabSize:Q}=this._context.viewModel.model.getOptions(),re=m(Y,this.u,Q);return{distanceToModelLineStart:q,widthOfHiddenTextBefore:re}})(),{distanceToModelLineEnd:$}=(()=>{const X=F.value.substring(Math.max(F.selectionStart,F.selectionEnd)),ne=X.indexOf(`
`),ae=ne===-1?X:X.substring(0,ne),ie=ae.indexOf("	"),le=ie===-1?ae.length:ae.length-ie-1,J=W.getEndPosition(),x=Math.min(this._context.viewModel.model.getLineMaxColumn(J.lineNumber)-J.column,le);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(J.lineNumber)-J.column-x}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this.B[0].getStartPosition()),0,1),this.z=new f(this._context,W.startLineNumber,V,R,$),this.textArea.setAttribute("wrap",this.m&&!this.z?"on":"off"),this.z.prepareRender(this.b),this.P(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this.a.compositionStart(),this._context.viewModel.onCompositionStart()})),this.q(this.F.onCompositionUpdate(O=>{!this.z||(this.z.prepareRender(this.b),this.P())})),this.q(this.F.onCompositionEnd(()=>{this.z=null,this.textArea.setAttribute("wrap",this.m&&!this.z?"on":"off"),this.P(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.a.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this.q(this.F.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this.q(this.F.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this.q(h.IME.onDidChange(()=>{this.M()}))}writeScreenReaderContent(L){this.F.writeScreenReaderContent(L)}dispose(){super.dispose()}G(L){const k='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',I=this._context.viewModel.getLineContent(L.lineNumber),M=(0,a.getMapForWordSeparators)(k);let B=!0,z=L.column,P=!0,A=L.column,T=0;for(;T<50&&(B||P);){if(B&&z<=1&&(B=!1),B){const O=I.charCodeAt(z-2);M.get(O)!==0?B=!1:z--}if(P&&A>I.length&&(P=!1),P){const O=I.charCodeAt(A-1);M.get(O)!==0?P=!1:A++}T++}return[I.substring(z-1,A-1),L.column-z]}H(L){const k=this._context.viewModel.getLineContent(L.lineNumber),I=(0,a.getMapForWordSeparators)(this._context.configuration.options.get(124));let M=L.column,B=0;for(;M>1;){const z=k.charCodeAt(M-2);if(I.get(z)!==0||B>50)return k.substring(M-1,L.column-1);B++,M--}return k.substring(0,L.column-1)}I(L){if(L.column>1){const I=this._context.viewModel.getLineContent(L.lineNumber).charAt(L.column-2);if(!y.isHighSurrogate(I.charCodeAt(0)))return I}return""}J(L){return L.get(2)===1?w.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):L.get(4)}L(L){this.j=L.get(2);const k=L.get(3);this.j===2&&k===n.EditorOptions.accessibilityPageSize.defaultValue?this.k=500:this.k=k;const M=L.get(138).wrappingColumn;if(M!==-1&&this.j!==1){const B=L.get(47);this.m=!0,this.n=Math.round(M*B.typicalHalfwidthCharacterWidth)}else this.m=!1,this.n=S?0:1}onConfigurationChanged(L){const k=this._context.configuration.options,I=k.get(138);this.L(k),this.p=I.contentLeft,this.s=I.contentWidth,this.t=I.height,this.u=k.get(47),this.v=k.get(63),this.w=k.get(34),this.y=k.get(22),this.textArea.setAttribute("wrap",this.m&&!this.z?"on":"off");const{tabSize:M}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${M*this.u.spaceWidth}px`,this.textArea.setAttribute("aria-label",this.J(k)),this.textArea.setAttribute("tabindex",String(k.get(118))),(L.hasChanged(31)||L.hasChanged(86))&&this.M(),L.hasChanged(2)&&this.F.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(L){return this.B=L.selections.slice(0),this.C=L.modelSelections.slice(0),this.F.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return this.c=L.scrollLeft,this.g=L.scrollTop,!0}onZonesChanged(L){return!0}isFocused(){return this.F.isFocused()}focusTextArea(){this.F.focusTextArea()}getLastRenderData(){return this.D}setAriaOptions(L){L.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",L.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),L.role&&this.textArea.setAttribute("role",L.role)}M(){const L=this._context.configuration.options;!h.IME.enabled||L.get(31)&&L.get(86)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(L){var k;this.N=new r.Position(this.B[0].positionLineNumber,this.B[0].positionColumn),this.O=L.visibleRangeForPosition(this.N),(k=this.z)===null||k===void 0||k.prepareRender(L)}render(L){this.F.writeScreenReaderContent("render"),this.P()}P(){var L;if(this.z){const M=this.z.visibleTextareaStart,B=this.z.visibleTextareaEnd,z=this.z.startPosition,P=this.z.endPosition;if(z&&P&&M&&B&&B.left>=this.c&&M.left<=this.c+this.s){const A=this._context.viewLayout.getVerticalOffsetForLineNumber(this.N.lineNumber)-this.g,T=this.Q(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let O=this.z.widthOfHiddenLineTextBefore,F=this.p+M.left-this.c,W=B.left-M.left+1;if(F<this.p){const ae=this.p-F;F+=ae,O+=ae,W-=ae}W>this.s&&(W=this.s);const V=this._context.viewModel.getViewLineData(z.lineNumber),R=V.tokens.findTokenIndexAtOffset(z.column-1),$=V.tokens.findTokenIndexAtOffset(P.column-1),X=R===$,ne=this.z.definePresentation(X?V.tokens.getPresentation(R):null);this.textArea.domNode.scrollTop=T*this.v,this.textArea.domNode.scrollLeft=O,this.S({lastRenderPosition:null,top:A,left:F,width:W,height:this.v,useCover:!1,color:(l.TokenizationRegistry.getColorMap()||[])[ne.foreground],italic:ne.italic,bold:ne.bold,underline:ne.underline,strikethrough:ne.strikethrough})}return}if(!this.O){this.R();return}const k=this.p+this.O.left-this.c;if(k<this.p||k>this.p+this.s){this.R();return}const I=this._context.viewLayout.getVerticalOffsetForLineNumber(this.B[0].positionLineNumber)-this.g;if(I<0||I>this.t){this.R();return}if(D.isMacintosh){this.S({lastRenderPosition:this.N,top:I,left:this.m?this.p:k,width:this.n,height:this.v,useCover:!1}),this.textArea.domNode.scrollLeft=this.O.left;const M=(L=this.F.textAreaState.newlineCountBeforeSelection)!==null&&L!==void 0?L:this.Q(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=M*this.v;return}this.S({lastRenderPosition:this.N,top:I,left:this.m?this.p:k,width:this.n,height:S?0:1,useCover:!1})}Q(L){let k=0,I=-1;do{if(I=L.indexOf(`
`,I+1),I===-1)break;k++}while(!0);return k}R(){this.S({lastRenderPosition:null,top:0,left:0,width:this.n,height:S?0:1,useCover:!0})}S(L){this.D=L.lastRenderPosition;const k=this.textArea,I=this.textAreaCover;(0,v.applyFontInfo)(k,this.u),k.setTop(L.top),k.setLeft(L.left),k.setWidth(L.width),k.setHeight(L.height),k.setColor(L.color?o.Color.Format.CSS.formatHex(L.color):""),k.setFontStyle(L.italic?"italic":""),L.bold&&k.setFontWeight("bold"),k.setTextDecoration(`${L.underline?" underline":""}${L.strikethrough?" line-through":""}`),I.setTop(L.useCover?L.top:0),I.setLeft(L.useCover?L.left:0),I.setWidth(L.useCover?L.width:0),I.setHeight(L.useCover?L.height:0);const M=this._context.configuration.options;M.get(54)?I.setClassName("monaco-editor-background textAreaCover "+t.Margin.OUTER_CLASS_NAME):M.get(64).renderType!==0?I.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):I.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=p;function m(b,L,k){if(b.length===0)return 0;const I=document.createElement("div");I.style.position="absolute",I.style.top="-50000px",I.style.width="50000px";const M=document.createElement("span");(0,v.applyFontInfo)(M,L),M.style.whiteSpace="pre",M.style.tabSize=`${k*L.spaceWidth}px`,M.append(b),I.appendChild(M),document.body.appendChild(I);const B=M.offsetWidth;return document.body.removeChild(I),B}}),define(ee[784],te([1,0,35,36,49,11,26,79,80]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class d{constructor(t,n){const a=t.options;this.lineHeight=a.get(63),this.pixelRatio=a.get(136),this.overviewRulerLanes=a.get(79),this.renderBorder=a.get(78);const r=n.getColor(v.editorOverviewRulerBorder);this.borderColor=r?r.toString():null,this.hideCursor=a.get(56);const c=n.getColor(v.editorCursorForeground);this.cursorColor=c?c.transparent(.7).toString():null,this.themeType=n.type;const u=a.get(69),s=u.enabled,l=u.side,o=n.getColor(v.editorOverviewRulerBackground),h=y.TokenizationRegistry.getDefaultBackground();o?this.backgroundColor=o:s&&l==="right"?this.backgroundColor=h:this.backgroundColor=null;const S=a.get(138).overviewRuler;this.top=S.top,this.right=S.right,this.domWidth=S.width,this.domHeight=S.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,m]=this.a(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=m}a(t,n,a){const r=n-t;if(a>=3){const c=Math.floor(r/3),u=Math.floor(r/3),s=r-c-u,l=t,o=l+c,h=l+c+s;return[[0,l,o,l,h,l,o,l],[0,c,s,c+s,u,c+s+u,s+u,c+s+u]]}else if(a===2){const c=Math.floor(r/2),u=r-c,s=t,l=s+c;return[[0,s,s,s,l,s,s,s],[0,c,c,c,u,c+u,c+u,c+u]]}else{const c=t,u=r;return[[0,c,c,c,c,c,c,c],[0,u,u,u,u,u,u,u]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&N.Color.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class g extends E.ViewPart{constructor(t){super(t),this.b=(0,w.createFastDomNode)(document.createElement("canvas")),this.b.setClassName("decorationsOverviewRuler"),this.b.setPosition("absolute"),this.b.setLayerHinting(!0),this.b.setContain("strict"),this.b.setAttribute("aria-hidden","true"),this.j(!1),this.a=y.TokenizationRegistry.onDidChange(n=>{n.changedColorMap&&this.j(!0)}),this.g=[]}dispose(){super.dispose(),this.a.dispose()}j(t){const n=new d(this._context.configuration,this._context.theme);return this.c&&this.c.equals(n)?!1:(this.c=n,this.b.setTop(this.c.top),this.b.setRight(this.c.right),this.b.setWidth(this.c.domWidth),this.b.setHeight(this.c.domHeight),this.b.domNode.width=this.c.canvasWidth,this.b.domNode.height=this.c.canvasHeight,t&&this.k(),!0)}onConfigurationChanged(t){return this.j(!1)}onCursorStateChanged(t){this.g=[];for(let n=0,a=t.selections.length;n<a;n++)this.g[n]=t.selections[n].getPosition();return this.g.sort(D.Position.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this.j(!1)}getDomNode(){return this.b.domNode}prepareRender(t){}render(t){this.k()}k(){const t=this.c.backgroundColor;if(this.c.overviewRulerLanes===0){this.b.setBackgroundColor(t?N.Color.Format.CSS.formatHexA(t):""),this.b.setDisplay("none");return}this.b.setDisplay("block");const n=this.c.canvasWidth,a=this.c.canvasHeight,r=this.c.lineHeight,c=this._context.viewLayout,u=this._context.viewLayout.getScrollHeight(),s=a/u,l=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),o=6*this.c.pixelRatio|0,h=o/2|0,f=this.b.domNode.getContext("2d");t?t.isOpaque()?(f.fillStyle=N.Color.Format.CSS.formatHexA(t),f.fillRect(0,0,n,a)):(f.clearRect(0,0,n,a),f.fillStyle=N.Color.Format.CSS.formatHexA(t),f.fillRect(0,0,n,a)):f.clearRect(0,0,n,a);const S=this.c.x,p=this.c.w;l.sort(C.OverviewRulerDecorationsGroup.cmp);for(const m of l){const b=m.color,L=m.data;f.fillStyle=b;let k=0,I=0,M=0;for(let B=0,z=L.length/3;B<z;B++){const P=L[3*B],A=L[3*B+1],T=L[3*B+2];let O=c.getVerticalOffsetForLineNumber(A)*s|0,F=(c.getVerticalOffsetForLineNumber(T)+r)*s|0;if(F-O<o){let V=(O+F)/2|0;V<h?V=h:V+h>a&&(V=a-h),O=V-h,F=V+h}O>M+1||P!==k?(B!==0&&f.fillRect(S[k],I,p[k],M-I),k=P,I=O,M=F):F>M&&(M=F)}f.fillRect(S[k],I,p[k],M-I)}if(!this.c.hideCursor&&this.c.cursorColor){const m=2*this.c.pixelRatio|0,b=m/2|0,L=this.c.x[7],k=this.c.w[7];f.fillStyle=this.c.cursorColor;let I=-100,M=-100;for(let B=0,z=this.g.length;B<z;B++){const P=this.g[B];let A=c.getVerticalOffsetForLineNumber(P.lineNumber)*s|0;A<b?A=b:A+b>a&&(A=a-b);const T=A-b,O=T+m;T>M+1?(B!==0&&f.fillRect(L,I,k,M-I),I=T,M=O):O>M&&(M=O)}f.fillRect(L,I,k,M-I)}this.c.renderBorder&&this.c.borderColor&&this.c.overviewRulerLanes>0&&(f.beginPath(),f.lineWidth=1,f.strokeStyle=this.c.borderColor,f.moveTo(0,0),f.lineTo(0,a),f.stroke(),f.moveTo(0,0),f.lineTo(n,0),f.stroke())}}e.DecorationsOverviewRuler=g}),define(ee[785],te([1,0,35,12,49,573,39,79,24,91,386]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class g extends E.ViewPart{constructor(t){super(t);const n=this._context.configuration.options;this.a=n.get(86),this.b=n.get(23),this.c=n.get(25),this.g=n.get(24),this.j=!0,this.k=!1,this.m=!1,this.v=new D.ViewCursor(this._context),this.w=[],this.y=[],this.n=(0,w.createFastDomNode)(document.createElement("div")),this.n.setAttribute("role","presentation"),this.n.setAttribute("aria-hidden","true"),this.D(),this.n.appendChild(this.v.getDomNode()),this.p=new N.TimeoutTimer,this.s=new N.IntervalTimer,this.t=!1,this.u=!1,this.C()}dispose(){super.dispose(),this.p.dispose(),this.s.dispose()}getDomNode(){return this.n}onCompositionStart(t){return this.k=!0,this.C(),!0}onCompositionEnd(t){return this.k=!1,this.C(),!0}onConfigurationChanged(t){const n=this._context.configuration.options;this.a=n.get(86),this.b=n.get(23),this.c=n.get(25),this.g=n.get(24),this.C(),this.D(),this.v.onConfigurationChanged(t);for(let a=0,r=this.w.length;a<r;a++)this.w[a].onConfigurationChanged(t);return!0}z(t,n,a){const r=this.w.length!==n.length||this.g==="explicit"&&a!==3;if(this.v.onCursorPositionChanged(t,r),this.C(),this.w.length<n.length){const c=n.length-this.w.length;for(let u=0;u<c;u++){const s=new D.ViewCursor(this._context);this.n.domNode.insertBefore(s.getDomNode().domNode,this.v.getDomNode().domNode.nextSibling),this.w.push(s)}}else if(this.w.length>n.length){const c=this.w.length-n.length;for(let u=0;u<c;u++)this.n.removeChild(this.w[0].getDomNode()),this.w.splice(0,1)}for(let c=0;c<n.length;c++)this.w[c].onCursorPositionChanged(n[c],r)}onCursorStateChanged(t){const n=[];for(let r=0,c=t.selections.length;r<c;r++)n[r]=t.selections[r].getPosition();this.z(n[0],n.slice(1),t.reason);const a=t.selections[0].isEmpty();return this.j!==a&&(this.j=a,this.D()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this.u=t.isFocused,this.C(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const n=a=>{for(let r=0,c=t.ranges.length;r<c;r++)if(t.ranges[r].fromLineNumber<=a.lineNumber&&a.lineNumber<=t.ranges[r].toLineNumber)return!0;return!1};if(n(this.v.getPosition()))return!0;for(const a of this.w)if(n(a.getPosition()))return!0;return!1}onZonesChanged(t){return!0}B(){return this.k||!this.u?0:this.a?5:this.b}C(){this.p.cancel(),this.s.cancel();const t=this.B(),n=t===0,a=t===5;n?this.H():this.G(),this.t=!1,this.D(),!n&&!a&&(t===1?this.s.cancelAndSet(()=>{this.m?this.H():this.G()},g.BLINK_INTERVAL):this.p.setIfNotSet(()=>{this.t=!0,this.D()},g.BLINK_INTERVAL))}D(){this.n.setClassName(this.F())}F(){let t="cursors-layer";switch(this.j||(t+=" has-selection"),this.c){case y.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this.t)switch(this.B()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this.g==="on"||this.g==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}G(){this.v.show();for(let t=0,n=this.w.length;t<n;t++)this.w[t].show();this.m=!0}H(){this.v.hide();for(let t=0,n=this.w.length;t<n;t++)this.w[t].hide();this.m=!1}prepareRender(t){this.v.prepareRender(t);for(let n=0,a=this.w.length;n<a;n++)this.w[n].prepareRender(t)}render(t){const n=[];let a=0;const r=this.v.render(t);r&&(n[a++]=r);for(let c=0,u=this.w.length;c<u;c++){const s=this.w[c].render(t);s&&(n[a++]=s)}this.y=n}getLastRenderData(){return this.y}}g.BLINK_INTERVAL=500,e.ViewCursors=g,(0,C.registerThemingParticipant)((i,t)=>{const n=i.getColor(v.editorCursorForeground);if(n){let a=i.getColor(v.editorCursorBackground);a||(a=n.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${a}; }`),(0,d.isHighContrast)(i.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}})}),define(ee[786],te([1,0,104,9,106,11,79,387]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class v extends w.DynamicViewOverlay{constructor(g){super(),this.a=g,this.b=new C(this.a.configuration),this.c=[],this.g=null,this.a.addEventHandler(this)}dispose(){this.a.removeEventHandler(this),this.g=null,super.dispose()}onConfigurationChanged(g){const i=new C(this.a.configuration);return this.b.equals(i)?g.hasChanged(138):(this.b=i,!0)}onCursorStateChanged(g){return this.c=g.selections,this.b.renderWhitespace==="selection"}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return g.scrollTopChanged}onZonesChanged(g){return!0}prepareRender(g){if(this.b.renderWhitespace==="none"){this.g=null;return}const i=g.visibleRange.startLineNumber,n=g.visibleRange.endLineNumber-i+1,a=new Array(n);for(let c=0;c<n;c++)a[c]=!0;const r=this.a.viewModel.getMinimapLinesRenderingData(g.viewportData.startLineNumber,g.viewportData.endLineNumber,a);this.g=[];for(let c=g.viewportData.startLineNumber;c<=g.viewportData.endLineNumber;c++){const u=c-g.viewportData.startLineNumber,s=r.data[u];let l=null;if(this.b.renderWhitespace==="selection"){const o=this.c;for(const h of o){if(h.endLineNumber<c||h.startLineNumber>c)continue;const f=h.startLineNumber===c?h.startColumn:s.minColumn,S=h.endLineNumber===c?h.endColumn:s.maxColumn;f<S&&(l||(l=[]),l.push(new E.LineRange(f-1,S-1)))}}this.g[u]=this.j(g,c,l,s)}}j(g,i,t,n){if(this.b.renderWhitespace==="selection"&&!t||this.b.renderWhitespace==="trailing"&&n.continuesWithWrappedLine)return"";const a=this.a.theme.getColor(y.editorWhitespaces),r=this.b.renderWithSVG,c=n.content,u=this.b.stopRenderingLineAfter===-1?c.length:Math.min(this.b.stopRenderingLineAfter,c.length),s=n.continuesWithWrappedLine,l=n.minColumn-1,o=this.b.renderWhitespace==="boundary",h=this.b.renderWhitespace==="trailing",f=this.b.lineHeight,S=this.b.middotWidth,p=this.b.wsmiddotWidth,m=this.b.spaceWidth,b=Math.abs(p-m),L=Math.abs(S-m),k=b<L?11825:183,I=this.b.canUseHalfwidthRightwardsArrow;let M="",B=!1,z=N.firstNonWhitespaceIndex(c),P;z===-1?(B=!0,z=u,P=u):P=N.lastNonWhitespaceIndex(c);let A=0,T=t&&t[A],O=0;for(let F=l;F<u;F++){const W=c.charCodeAt(F);if(T&&F>=T.endOffset&&(A++,T=t&&t[A]),W!==9&&W!==32||h&&!B&&F<=P)continue;if(o&&F>=z&&F<=P&&W===32){const R=F-1>=0?c.charCodeAt(F-1):0,$=F+1<u?c.charCodeAt(F+1):0;if(R!==32&&$!==32)continue}if(o&&s&&F===u-1){const R=F-1>=0?c.charCodeAt(F-1):0;if(W===32&&R!==32&&R!==9)continue}if(t&&(!T||T.startOffset>F||T.endOffset<=F))continue;const V=g.visibleRangeForPosition(new D.Position(i,F+1));!V||(r?(O=Math.max(O,V.left),W===9?M+=this.k(f,m,V.left):M+=`<circle cx="${(V.left+m/2).toFixed(2)}" cy="${(f/2).toFixed(2)}" r="${(m/7).toFixed(2)}" />`):W===9?M+=`<div class="mwh" style="left:${V.left}px;height:${f}px;">${I?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:M+=`<div class="mwh" style="left:${V.left}px;height:${f}px;">${String.fromCharCode(k)}</div>`)}return r?(O=Math.round(O+m),`<svg style="position:absolute;width:${O}px;height:${f}px" viewBox="0 0 ${O} ${f}" xmlns="http://www.w3.org/2000/svg" fill="${a}">`+M+"</svg>"):M}k(g,i,t){const n=i/7,a=i,r=g/2,c=t,u={x:0,y:n/2},s={x:100/125*a,y:u.y},l={x:s.x-.2*s.x,y:s.y+.2*s.x},o={x:l.x+.1*s.x,y:l.y+.1*s.x},h={x:o.x+.35*s.x,y:o.y-.35*s.x},f={x:h.x,y:-h.y},S={x:o.x,y:-o.y},p={x:l.x,y:-l.y},m={x:s.x,y:-s.y},b={x:u.x,y:-u.y};return`<path d="M ${[u,s,l,o,h,f,S,p,m,b].map(I=>`${(c+I.x).toFixed(2)} ${(r+I.y).toFixed(2)}`).join(" L ")}" />`}render(g,i){if(!this.g)return"";const t=i-g;return t<0||t>=this.g.length?"":this.g[t]}}e.WhitespaceOverlay=v;class C{constructor(g){const i=g.options,t=i.get(47),n=i.get(35);n==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):n==="svg"?(this.renderWhitespace=i.get(93),this.renderWithSVG=!0):(this.renderWhitespace=i.get(93),this.renderWithSVG=!1),this.spaceWidth=t.spaceWidth,this.middotWidth=t.middotWidth,this.wsmiddotWidth=t.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(63),this.stopRenderingLineAfter=i.get(111)}equals(g){return this.renderWhitespace===g.renderWhitespace&&this.renderWithSVG===g.renderWithSVG&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter}}}),define(ee[787],te([1,0,7,22,35,13,776,783,727,244,543,49,540,781,472,779,193,782,316,777,473,258,474,761,475,784,484,476,477,780,785,478,11,130,485,481,134,24,315,471,234,786]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O,F,W,V,R,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class X extends O.ViewEventHandler{constructor(ie,le,J,x,q,Y){super(),this.c=[new N.Selection(1,1,1,1)],this.v=null;const Q=new C.ViewController(le,x,q,ie);this.b=new A.ViewContext(le,J,x),this.b.addEventHandler(this),this.p=[],this.r=new v.TextAreaHandler(this.b,Q,this.z()),this.p.push(this.r),this.t=(0,E.createFastDomNode)(document.createElement("div")),this.t.setClassName("lines-content monaco-editor-background"),this.t.setPosition("absolute"),this.domNode=(0,E.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this.C()),this.domNode.setAttribute("role","code"),this.u=(0,E.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this.u,3),this.u.setClassName("overflow-guard"),this.a=new r.EditorScrollbar(this.b,this.t,this.domNode,this.u),this.p.push(this.a),this.g=new l.ViewLines(this.b,this.t),this.j=new B.ViewZones(this.b),this.p.push(this.j);const re=new m.DecorationsOverviewRuler(this.b);this.p.push(re);const oe=new k.ScrollDecorationViewPart(this.b);this.p.push(oe);const G=new g.ContentViewOverlays(this.b);this.p.push(G),G.addDynamicOverlay(new n.CurrentLineHighlightOverlay(this.b)),G.addDynamicOverlay(new I.SelectionsOverlay(this.b)),G.addDynamicOverlay(new u.IndentGuidesOverlay(this.b)),G.addDynamicOverlay(new a.DecorationsOverlay(this.b)),G.addDynamicOverlay(new $.WhitespaceOverlay(this.b));const Z=new g.MarginViewOverlays(this.b);this.p.push(Z),Z.addDynamicOverlay(new n.CurrentLineMarginHighlightOverlay(this.b)),Z.addDynamicOverlay(new c.GlyphMarginOverlay(this.b)),Z.addDynamicOverlay(new f.MarginViewLineDecorationsOverlay(this.b)),Z.addDynamicOverlay(new o.LinesDecorationsOverlay(this.b)),Z.addDynamicOverlay(new s.LineNumbersOverlay(this.b));const U=new h.Margin(this.b);U.getDomNode().appendChild(this.j.marginDomNode),U.getDomNode().appendChild(Z.getDomNode()),this.p.push(U),this.k=new t.ViewContentWidgets(this.b,this.domNode),this.p.push(this.k),this.n=new M.ViewCursors(this.b),this.p.push(this.n),this.m=new p.ViewOverlayWidgets(this.b),this.p.push(this.m);const j=new L.Rulers(this.b);this.p.push(j);const H=new V.BlockDecorations(this.b);this.p.push(H);const _=new S.Minimap(this.b);if(this.p.push(_),re){const ce=this.a.getOverviewRulerLayoutInfo();ce.parent.insertBefore(re.getDomNode(),ce.insertBefore)}this.t.appendChild(G.getDomNode()),this.t.appendChild(j.domNode),this.t.appendChild(H.domNode),this.t.appendChild(this.j.domNode),this.t.appendChild(this.g.getDomNode()),this.t.appendChild(this.k.domNode),this.t.appendChild(this.n.getDomNode()),this.u.appendChild(U.getDomNode()),this.u.appendChild(this.a.getDomNode()),this.u.appendChild(oe.getDomNode()),this.u.appendChild(this.r.textArea),this.u.appendChild(this.r.textAreaCover),this.u.appendChild(this.m.getDomNode()),this.u.appendChild(_.getDomNode()),this.domNode.appendChild(this.u),Y?Y.appendChild(this.k.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this.k.overflowingContentWidgetsDomNode),this.B(),this.s=this.q(new y.PointerHandler(this.b,Q,this.y()))}w(){R.inputLatency.onRenderStart(),this.G()}y(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.t.domNode,viewLinesDomNode:this.g.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:ie=>{this.r.textArea.domNode.dispatchEvent(ie)},getLastRenderData:()=>{const ie=this.n.getLastRenderData()||[],le=this.r.getLastRenderData();return new W.PointerHandlerLastRenderData(ie,le)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:ie=>this.j.shouldSuppressMouseDownOnViewZone(ie),shouldSuppressMouseDownOnWidget:ie=>this.k.shouldSuppressMouseDownOnWidget(ie),getPositionFromDOMInfo:(ie,le)=>(this.w(),this.g.getPositionFromDOMInfo(ie,le)),visibleRangeForPosition:(ie,le)=>(this.w(),this.g.visibleRangeForPosition(new z.Position(ie,le))),getLineWidth:ie=>(this.w(),this.g.getLineWidth(ie))}}z(){return{visibleRangeForPosition:ie=>(this.w(),this.g.visibleRangeForPosition(ie))}}B(){const le=this.b.configuration.options.get(138);this.domNode.setWidth(le.width),this.domNode.setHeight(le.height),this.u.setWidth(le.width),this.u.setHeight(le.height),this.t.setWidth(1e6),this.t.setHeight(1e6)}C(){const ie=this.r.isFocused()?" focused":"";return this.b.configuration.options.get(135)+" "+(0,F.getThemeTypeSelector)(this.b.theme.type)+ie}handleEvents(ie){super.handleEvents(ie),this.D()}onConfigurationChanged(ie){return this.domNode.setClassName(this.C()),this.B(),!1}onCursorStateChanged(ie){return this.c=ie.selections,!1}onFocusChanged(ie){return this.domNode.setClassName(this.C()),!1}onThemeChanged(ie){return this.b.theme.update(ie.theme),this.domNode.setClassName(this.C()),!1}dispose(){this.v!==null&&(this.v.dispose(),this.v=null),this.k.overflowingContentWidgetsDomNode.domNode.remove(),this.b.removeEventHandler(this),this.g.dispose();for(const ie of this.p)ie.dispose();super.dispose()}D(){this.v===null&&(this.v=w.runAtThisOrScheduleAtNextAnimationFrame(this.F.bind(this),100))}F(){this.v=null,this.w()}G(){ne(()=>this.I())}H(){const ie=[];let le=0;for(const J of this.p)J.shouldRender()&&(ie[le++]=J);return ie}I(){if(!w.isInDOM(this.domNode.domNode))return;let ie=this.H();if(!this.g.shouldRender()&&ie.length===0)return;const le=this.b.viewLayout.getLinesViewportData();this.b.viewModel.setViewport(le.startLineNumber,le.endLineNumber,le.centeredLineNumber);const J=new T.ViewportData(this.c,le,this.b.viewLayout.getWhitespaceViewportData(),this.b.viewModel);this.k.shouldRender()&&this.k.onBeforeRender(J),this.g.shouldRender()&&(this.g.renderText(J),this.g.onDidRender(),ie=this.H());const x=new P.RenderingContext(this.b.viewLayout,J,this.g);for(const q of ie)q.prepareRender(x);for(const q of ie)q.render(x),q.onDidRender()}delegateVerticalScrollbarPointerDown(ie){this.a.delegateVerticalScrollbarPointerDown(ie)}delegateScrollFromMouseWheelEvent(ie){this.a.delegateScrollFromMouseWheelEvent(ie)}restoreState(ie){this.b.viewModel.viewLayout.setScrollPosition({scrollTop:ie.scrollTop,scrollLeft:ie.scrollLeft},1),this.b.viewModel.tokenizeViewport()}getOffsetForColumn(ie,le){const J=this.b.viewModel.model.validatePosition({lineNumber:ie,column:le}),x=this.b.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);this.w();const q=this.g.visibleRangeForPosition(new z.Position(x.lineNumber,x.column));return q?q.left:-1}getTargetAtClientPoint(ie,le){const J=this.s.getTargetAtClientPoint(ie,le);return J?d.ViewUserInputEvents.convertViewToModelMouseTarget(J,this.b.viewModel.coordinatesConverter):null}createOverviewRuler(ie){return new b.OverviewRuler(this.b,ie)}change(ie){this.j.changeViewZones(ie),this.D()}render(ie,le){if(le){this.g.forceShouldRender();for(const J of this.p)J.forceShouldRender()}ie?this.w():this.D()}writeScreenReaderContent(ie){this.r.writeScreenReaderContent(ie)}focus(){this.r.focusTextArea()}isFocused(){return this.r.isFocused()}setAriaOptions(ie){this.r.setAriaOptions(ie)}addContentWidget(ie){this.k.addWidget(ie.widget),this.layoutContentWidget(ie),this.D()}layoutContentWidget(ie){var le,J,x,q,Y,Q,re,oe;this.k.setWidgetPosition(ie.widget,(J=(le=ie.position)===null||le===void 0?void 0:le.position)!==null&&J!==void 0?J:null,(q=(x=ie.position)===null||x===void 0?void 0:x.secondaryPosition)!==null&&q!==void 0?q:null,(Q=(Y=ie.position)===null||Y===void 0?void 0:Y.preference)!==null&&Q!==void 0?Q:null,(oe=(re=ie.position)===null||re===void 0?void 0:re.positionAffinity)!==null&&oe!==void 0?oe:null),this.D()}removeContentWidget(ie){this.k.removeWidget(ie.widget),this.D()}addOverlayWidget(ie){this.m.addWidget(ie.widget),this.layoutOverlayWidget(ie),this.D()}layoutOverlayWidget(ie){const le=ie.position?ie.position.preference:null;this.m.setWidgetPosition(ie.widget,le)&&this.D()}removeOverlayWidget(ie){this.m.removeWidget(ie.widget),this.D()}}e.View=X;function ne(ae){try{return ae()}catch(ie){(0,D.onUnexpectedError)(ie)}}}),define(ee[788],te([1,0,6,2,3,79,24]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class v extends N.Disposable{constructor(g){super(),this.h=g,this.b=new C,this.g=new w.Emitter,this.onDidChange=this.g.event,this.a=g.getOptions().bracketPairColorizationOptions,this.q(g.bracketPairs.onDidChange(i=>{this.g.fire()}))}handleDidChangeOptions(g){this.a=this.h.getOptions().bracketPairColorizationOptions}getDecorationsInRange(g,i,t,n){return n?[]:i===void 0?[]:this.a.enabled?this.h.bracketPairs.getBracketsInRange(g).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.b.getInlineClassName(r,this.a.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(g,i){return g===void 0?[]:this.a.enabled?this.getDecorationsInRange(new E.Range(1,1,this.h.getLineCount(),1),g,i):[]}}e.ColorizedBracketPairsDecorationProvider=v;class C{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g,i){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(i?g.nestingLevelOfEqualBracketType:g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,y.registerThemingParticipant)((d,g)=>{const i=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],t=new C;g.addRule(`.monaco-editor .${t.unexpectedClosingBracketClassName} { color: ${d.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=i.map(a=>d.getColor(a)).filter(a=>!!a).filter(a=>!a.isTransparent());for(let a=0;a<30;a++){const r=n[a%n.length];g.addRule(`.monaco-editor .${t.getInlineClassNameOfLevel(a)} { color: ${r}; }`)}})}),define(ee[789],te([1,0,89,2,48,24,79,52,3,47,6,30,55]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class n extends N.Disposable{constructor(c){super(),this.model=c,this.a=new Map,this.q((0,N.toDisposable)(()=>{this.model.deltaDecorations([...this.a.keys()],[]),this.a.clear()}))}update(c,u){const s=[...this.a.keys()];this.a.clear();const l=this.model.deltaDecorations(s,u);for(let o=0;o<l.length;o++)this.a.set(l[o],c[o]);return s.length!==0||l.length!==0}getMarker(c){return this.a.get(c.id)}}let a=class extends N.Disposable{constructor(c,u){super(),this.c=u,this.a=this.q(new g.Emitter),this.b=new t.ResourceMap,c.getModels().forEach(s=>this.h(s)),this.q(c.onModelAdded(this.h,this)),this.q(c.onModelRemoved(this.i,this)),this.q(this.c.onMarkerChanged(this.g,this))}dispose(){super.dispose(),this.b.forEach(c=>c.dispose()),this.b.clear()}getMarker(c,u){const s=this.b.get(c);return s&&s.getMarker(u)||null}g(c){c.forEach(u=>{const s=this.b.get(u);s&&this.j(s)})}h(c){const u=new n(c);this.b.set(c.uri,u),this.j(u)}i(c){var u;const s=this.b.get(c.uri);s&&(s.dispose(),this.b.delete(c.uri)),(c.uri.scheme===d.Schemas.inMemory||c.uri.scheme===d.Schemas.internal||c.uri.scheme===d.Schemas.vscode)&&((u=this.c)===null||u===void 0||u.read({resource:c.uri}).map(l=>l.owner).forEach(l=>this.c.remove(l,[c.uri])))}j(c){const u=this.c.read({resource:c.model.uri,take:500}),s=u.map(l=>({range:this.k(c.model,l),options:this.l(l)}));c.update(u,s)&&this.a.fire(c.model)}k(c,u){let s=C.Range.lift(u);if(u.severity===w.MarkerSeverity.Hint&&!this.m(u,1)&&!this.m(u,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=c.validateRange(s),s.isEmpty()){const l=c.getLineLastNonWhitespaceColumn(s.startLineNumber)||c.getLineMaxColumn(s.startLineNumber);if(l===1||s.endColumn>=l)return s;const o=c.getWordAtPosition(s.getStartPosition());o&&(s=new C.Range(s.startLineNumber,o.startColumn,s.endLineNumber,o.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&u.startColumn===1&&s.startLineNumber===s.endLineNumber){const l=c.getLineFirstNonWhitespaceColumn(u.startLineNumber);l<s.endColumn&&(s=new C.Range(s.startLineNumber,l,s.endLineNumber,s.endColumn),u.startColumn=l)}return s}l(c){let u,s,l,o,h;switch(c.severity){case w.MarkerSeverity.Hint:this.m(c,2)?u=void 0:this.m(c,1)?u="squiggly-unnecessary":u="squiggly-hint",l=0;break;case w.MarkerSeverity.Warning:u="squiggly-warning",s=(0,D.themeColorFromId)(y.overviewRulerWarning),l=20,h={color:(0,D.themeColorFromId)(i.minimapWarning),position:E.MinimapPosition.Inline};break;case w.MarkerSeverity.Info:u="squiggly-info",s=(0,D.themeColorFromId)(y.overviewRulerInfo),l=10;break;case w.MarkerSeverity.Error:default:u="squiggly-error",s=(0,D.themeColorFromId)(y.overviewRulerError),l=30,h={color:(0,D.themeColorFromId)(i.minimapError),position:E.MinimapPosition.Inline};break}return c.tags&&(c.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),c.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:s,position:E.OverviewRulerLane.Right},minimap:h,zIndex:l,inlineClassName:o}}m(c,u){return c.tags?c.tags.indexOf(u)>=0:!1}};a=De([fe(0,v.IModelService),fe(1,w.IMarkerService)],a),e.MarkerDecorationsService=a}),define(ee[317],te([1,0,115,24,62,469,40]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let v=class{constructor(t,n,a,r){this.e=t,this.f=n,this.g=a,this.h=r,this.b=!1,this.c=!1,this.d=!1,this.a=new g}getMetadata(t,n,a){const r=this.g.languageIdCodec.encodeLanguageId(a),c=this.a.get(t,n,r);let u;if(c)u=c.metadata,this.h.getLevel()===E.LogLevel.Trace&&this.h.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${n}: foreground ${w.TokenMetadata.getForeground(u)}, fontStyle ${w.TokenMetadata.getFontStyle(u).toString(2)}`);else{let s=this.e.tokenTypes[t];const l=[];if(s){let o=n;for(let f=0;o>0&&f<this.e.tokenModifiers.length;f++)o&1&&l.push(this.e.tokenModifiers[f]),o=o>>1;o>0&&this.h.getLevel()===E.LogLevel.Trace&&(this.h.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this.e.tokenModifiers)}`),l.push("not-in-legend"));const h=this.f.getColorTheme().getTokenStyleMetadata(s,l,a);typeof h>"u"?u=2147483647:(u=0,typeof h.italic<"u"&&(u|=(h.italic?1:0)<<11|1),typeof h.bold<"u"&&(u|=(h.bold?2:0)<<11|2),typeof h.underline<"u"&&(u|=(h.underline?4:0)<<11|4),typeof h.strikethrough<"u"&&(u|=(h.strikethrough?8:0)<<11|8),h.foreground&&(u|=h.foreground<<15|16),u===0&&(u=2147483647))}else this.h.getLevel()===E.LogLevel.Trace&&this.h.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this.e.tokenTypes)}`),u=2147483647,s="not-in-legend";this.a.add(t,n,r,u),this.h.getLevel()===E.LogLevel.Trace&&this.h.trace(`SemanticTokensProviderStyling ${t} (${s}) / ${n} (${l.join(" ")}): foreground ${w.TokenMetadata.getForeground(u)}, fontStyle ${w.TokenMetadata.getFontStyle(u).toString(2)}`)}return u}warnOverlappingSemanticTokens(t,n){this.b||(this.b=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${n}`))}warnInvalidLengthSemanticTokens(t,n){this.c||(this.c=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${n}`))}warnInvalidEditStart(t,n,a,r,c){this.d||(this.d=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${n}) at edit #${a}: The provided start offset ${r} is outside the previous data (length ${c}).`))}};v=De([fe(1,N.IThemeService),fe(2,y.ILanguageService),fe(3,E.ILogService)],v),e.SemanticTokensProviderStyling=v;function C(i,t,n){const a=i.data,r=i.data.length/5|0,c=Math.max(Math.ceil(r/1024),400),u=[];let s=0,l=1,o=0;for(;s<r;){const h=s;let f=Math.min(h+c,r);if(f<r){let I=f;for(;I-1>h&&a[5*I]===0;)I--;if(I-1===h){let M=f;for(;M+1<r&&a[5*M]===0;)M++;f=M}else f=I}let S=new Uint32Array((f-h)*4),p=0,m=0,b=0,L=0;for(;s<f;){const I=5*s,M=a[I],B=a[I+1],z=l+M|0,P=M===0?o+B|0:B,A=a[I+2],T=P+A|0,O=a[I+3],F=a[I+4];if(T<=P)t.warnInvalidLengthSemanticTokens(z,P+1);else if(b===z&&L>P)t.warnOverlappingSemanticTokens(z,P+1);else{const W=t.getMetadata(O,F,n);W!==2147483647&&(m===0&&(m=z),S[p]=z-m,S[p+1]=P,S[p+2]=T,S[p+3]=W,p+=4,b=z,L=T)}l=z,o=P,s++}p!==S.length&&(S=S.subarray(0,p));const k=D.SparseMultilineTokens.create(m,S);u.push(k)}return u}e.toMultilineTokens2=C;class d{constructor(t,n,a,r){this.tokenTypeIndex=t,this.tokenModifierSet=n,this.languageId=a,this.metadata=r,this.next=null}}class g{constructor(){this.b=0,this.c=0,this.d=g.a[this.c],this.e=Math.round(this.c+1<g.a.length?2/3*this.d:0),this.f=[],g.g(this.f,this.d)}static g(t,n){for(let a=0;a<n;a++)t[a]=null}h(t,n){return(t<<5)-t+n|0}j(t,n,a){return this.h(this.h(t,n),a)%this.d}get(t,n,a){const r=this.j(t,n,a);let c=this.f[r];for(;c;){if(c.tokenTypeIndex===t&&c.tokenModifierSet===n&&c.languageId===a)return c;c=c.next}return null}add(t,n,a,r){if(this.b++,this.e!==0&&this.b>=this.e){const c=this.f;this.c++,this.d=g.a[this.c],this.e=Math.round(this.c+1<g.a.length?2/3*this.d:0),this.f=[],g.g(this.f,this.d);for(const u of c){let s=u;for(;s;){const l=s.next;s.next=null,this.k(s),s=l}}}this.k(new d(t,n,a,r))}k(t){const n=this.j(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this.f[n],this.f[n]=t}}g.a=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[318],te([1,0,92,2,18,161,48,79,24]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class d{constructor(i){this.a=i,this.j=void 0}provide(i,t){var n;const a=new N.DisposableStore;i.canAcceptInBackground=!!(!((n=this.a)===null||n===void 0)&&n.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const r=a.add(new N.MutableDisposable);return r.value=this.b(i,t),a.add(this.h(()=>{r.value=void 0,r.value=this.b(i,t)})),a}b(i,t){const n=new N.DisposableStore,a=this.i;if(a&&this.c(a)){const r={editor:a},c=(0,D.getCodeEditor)(a);if(c){let u=(0,E.withNullAsUndefined)(a.saveViewState());n.add(c.onDidChangeCursorPosition(()=>{u=(0,E.withNullAsUndefined)(a.saveViewState())})),r.restoreViewState=()=>{u&&a===this.i&&a.restoreViewState(u)},n.add((0,w.once)(t.onCancellationRequested)(()=>{var s;return(s=r.restoreViewState)===null||s===void 0?void 0:s.call(r)}))}n.add((0,N.toDisposable)(()=>this.clearDecorations(a))),n.add(this.d(r,i,t))}else n.add(this.e(i,t));return n}c(i){return!0}f({editor:i},t){i.setSelection(t.range),i.revealRangeInCenter(t.range,0),t.preserveFocus||i.focus()}g(i){var t;return(0,D.isDiffEditor)(i)?(t=i.getModel())===null||t===void 0?void 0:t.modified:i.getModel()}addDecorations(i,t){i.changeDecorations(n=>{const a=[];this.j&&(a.push(this.j.overviewRulerDecorationId),a.push(this.j.rangeHighlightId),this.j=void 0);const r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.themeColorFromId)(v.overviewRulerRangeHighlight),position:y.OverviewRulerLane.Full}}}],[c,u]=n.deltaDecorations(a,r);this.j={rangeHighlightId:c,overviewRulerDecorationId:u}})}clearDecorations(i){const t=this.j;t&&(i.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.j=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=d}),define(ee[790],te([1,0,2,161,318,634]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends E.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}e(C){const d=(0,D.localize)(0,null);return C.items=[{label:d}],C.ariaLabel=d,w.Disposable.None}d(C,d,g){const i=C.editor,t=new w.DisposableStore;t.add(d.onDidAccept(r=>{const[c]=d.selectedItems;if(c){if(!this.p(i,c.lineNumber))return;this.f(C,{range:this.m(c.lineNumber,c.column),keyMods:d.keyMods,preserveFocus:r.inBackground}),r.inBackground||d.hide()}}));const n=()=>{const r=this.n(i,d.value.trim().substr(y.PREFIX.length)),c=this.o(i,r.lineNumber,r.column);if(d.items=[{lineNumber:r.lineNumber,column:r.column,label:c}],d.ariaLabel=c,!this.p(i,r.lineNumber)){this.clearDecorations(i);return}const u=this.m(r.lineNumber,r.column);i.revealRangeInCenter(u,0),this.addDecorations(i,u)};n(),t.add(d.onDidChangeValue(()=>n()));const a=(0,N.getCodeEditor)(i);return a&&a.getOptions().get(64).renderType===2&&(a.updateOptions({lineNumbers:"on"}),t.add((0,w.toDisposable)(()=>a.updateOptions({lineNumbers:"relative"})))),t}m(C=1,d=1){return{startLineNumber:C,startColumn:d,endLineNumber:C,endColumn:d}}n(C,d){const g=d.split(/,|:|#/).map(t=>parseInt(t,10)).filter(t=>!isNaN(t)),i=this.r(C)+1;return{lineNumber:g[0]>0?g[0]:i+g[0],column:g[1]}}o(C,d,g){if(this.p(C,d))return this.q(C,d,g)?(0,D.localize)(1,null,d,g):(0,D.localize)(2,null,d);const i=C.getPosition()||{lineNumber:1,column:1},t=this.r(C);return t>1?(0,D.localize)(3,null,i.lineNumber,i.column,t):(0,D.localize)(4,null,i.lineNumber,i.column)}p(C,d){return!d||typeof d!="number"?!1:d>0&&d<=this.r(C)}q(C,d,g){if(!g||typeof g!="number")return!1;const i=this.g(C);if(!i)return!1;const t={lineNumber:d,column:g};return i.validatePosition(t).equals(t)}r(C){var d,g;return(g=(d=this.g(C))===null||d===void 0?void 0:d.getLineCount())!==null&&g!==void 0?g:0}}y.PREFIX=":",e.AbstractGotoLineQuickAccessProvider=y}),define(ee[791],te([1,0,12,20,27,31,516,2,9,3,26,174,318,635,19,17]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let c=class ci extends t.AbstractEditorNavigationQuickAccessProvider{constructor(o,h,f=Object.create(null)){super(f),this.l=o,this.m=h,this.a=f,this.a.canAcceptInBackground=!0}e(o){return this.r(o,(0,n.localize)(0,null)),v.Disposable.None}d(o,h,f){const S=o.editor,p=this.g(S);return p?this.l.documentSymbolProvider.has(p)?this.t(o,p,h,f):this.q(o,p,h,f):v.Disposable.None}q(o,h,f,S){const p=new v.DisposableStore;return this.r(f,(0,n.localize)(1,null)),Le(this,void 0,void 0,function*(){!(yield this.s(h,p))||S.isCancellationRequested||p.add(this.t(o,h,f,S))}),p}r(o,h){o.items=[{label:h,index:0,kind:14}],o.ariaLabel=h}s(o,h){return Le(this,void 0,void 0,function*(){if(this.l.documentSymbolProvider.has(o))return!0;const f=new w.DeferredPromise,S=h.add(this.l.documentSymbolProvider.onDidChange(()=>{this.l.documentSymbolProvider.has(o)&&(S.dispose(),f.complete(!0))}));return h.add((0,v.toDisposable)(()=>f.complete(!1))),f.p})}t(o,h,f,S){var p;const m=o.editor,b=new v.DisposableStore;b.add(f.onDidAccept(M=>{const[B]=f.selectedItems;B&&B.range&&(this.f(o,{range:B.range.selection,keyMods:f.keyMods,preserveFocus:M.inBackground}),M.inBackground||f.hide())})),b.add(f.onDidTriggerItemButton(({item:M})=>{M&&M.range&&(this.f(o,{range:M.range.selection,keyMods:f.keyMods,forceSideBySide:!0}),f.hide())}));const L=this.x(h,S);let k;const I=M=>Le(this,void 0,void 0,function*(){k?.dispose(!0),f.busy=!1,k=new N.CancellationTokenSource(S),f.busy=!0;try{const B=(0,y.prepareQuery)(f.value.substr(ci.PREFIX.length).trim()),z=yield this.u(L,B,void 0,k.token);if(S.isCancellationRequested)return;if(z.length>0){if(f.items=z,M&&B.original.length===0){const P=(0,r.findLast)(z,A=>Boolean(A.type!=="separator"&&A.range&&d.Range.containsPosition(A.range.decoration,M)));P&&(f.activeItems=[P])}}else B.original.length>0?this.r(f,(0,n.localize)(2,null)):this.r(f,(0,n.localize)(3,null))}finally{S.isCancellationRequested||(f.busy=!1)}});return b.add(f.onDidChangeValue(()=>I(void 0))),I((p=m.getSelection())===null||p===void 0?void 0:p.getPosition()),b.add(f.onDidChangeActive(()=>{const[M]=f.activeItems;M&&M.range&&(m.revealRangeInCenter(M.range.selection,0),this.addDecorations(m,M.range.decoration))})),b}u(o,h,f,S){var p,m;return Le(this,void 0,void 0,function*(){const b=yield o;if(S.isCancellationRequested)return[];const L=h.original.indexOf(ci.SCOPE_PREFIX)===0,k=L?1:0;let I,M;h.values&&h.values.length>1?(I=(0,y.pieceToQuery)(h.values[0]),M=(0,y.pieceToQuery)(h.values.slice(1))):I=h;let B;const z=(m=(p=this.a)===null||p===void 0?void 0:p.openSideBySideDirection)===null||m===void 0?void 0:m.call(p);z&&(B=[{iconClass:z==="right"?D.ThemeIcon.asClassName(E.Codicon.splitHorizontal):D.ThemeIcon.asClassName(E.Codicon.splitVertical),tooltip:z==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]);const P=[];for(let O=0;O<b.length;O++){const F=b[O],W=(0,C.trim)(F.name),V=`$(${g.SymbolKinds.toIcon(F.kind).id}) ${W}`,R=V.length-W.length;let $=F.containerName;f?.extraContainerLabel&&($?$=`${f.extraContainerLabel} \u2022 ${$}`:$=f.extraContainerLabel);let X,ne,ae,ie;if(h.original.length>k){let J=!1;if(I!==h&&([X,ne]=(0,y.scoreFuzzy2)(V,Object.assign(Object.assign({},h),{values:void 0}),k,R),typeof X=="number"&&(J=!0)),typeof X!="number"&&([X,ne]=(0,y.scoreFuzzy2)(V,I,k,R),typeof X!="number"))continue;if(!J&&M){if($&&M.original.length>0&&([ae,ie]=(0,y.scoreFuzzy2)($,M)),typeof ae!="number")continue;typeof X=="number"&&(X+=ae)}}const le=F.tags&&F.tags.indexOf(1)>=0;P.push({index:O,kind:F.kind,score:X,label:V,ariaLabel:W,description:$,highlights:le?void 0:{label:ne,description:ie},range:{selection:d.Range.collapseToStart(F.selectionRange),decoration:F.range},strikethrough:le,buttons:B})}const A=P.sort((O,F)=>L?this.w(O,F):this.v(O,F));let T=[];if(L){let V=function(){F&&typeof O=="number"&&W>0&&(F.label=(0,C.format)(s[O]||u,W))},O,F,W=0;for(const R of A)O!==R.kind?(V(),O=R.kind,W=1,F={type:"separator"},T.push(F)):W++,T.push(R);V()}else A.length>0&&(T=[{label:(0,n.localize)(6,null,P.length),type:"separator"},...A]);return T})}v(o,h){if(typeof o.score!="number"&&typeof h.score=="number")return 1;if(typeof o.score=="number"&&typeof h.score!="number")return-1;if(typeof o.score=="number"&&typeof h.score=="number"){if(o.score>h.score)return-1;if(o.score<h.score)return 1}return o.index<h.index?-1:o.index>h.index?1:0}w(o,h){const f=s[o.kind]||u,S=s[h.kind]||u,p=f.localeCompare(S);return p===0?this.v(o,h):p}x(o,h){return Le(this,void 0,void 0,function*(){const f=yield this.m.getOrCreate(o,h);return h.isCancellationRequested?[]:f.asListOfDocumentSymbols()})}};c.PREFIX="@",c.SCOPE_PREFIX=":",c.PREFIX_BY_CATEGORY=`${c.PREFIX}${c.SCOPE_PREFIX}`,c=De([fe(0,a.ILanguageFeaturesService),fe(1,i.IOutlineModelService)],c),e.AbstractGotoSymbolQuickAccessProvider=c;const u=(0,n.localize)(7,null),s={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(ee[792],te([1,0,2,11,638,15,37,30,24,412]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,E.localize)(0,null));let d=class{constructor(i,t,n,a,r){this.i=i,this.j=t,this.k=n,this.l=a,this.h=new w.DisposableStore,this.allowEditorOverflow=!0,this.g=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(r),this.i.addContentWidget(this),this.h.add(this.i.onDidChangeConfiguration(c=>{c.hasChanged(47)&&this.n()})),this.h.add(n.onDidColorThemeChange(this.m,this))}dispose(){this.h.dispose(),this.i.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this.b){this.b=document.createElement("div"),this.b.className="monaco-editor rename-box",this.c=document.createElement("input"),this.c.className="rename-input",this.c.type="text",this.c.setAttribute("aria-label",(0,E.localize)(1,null)),this.b.appendChild(this.c),this.d=document.createElement("div"),this.d.className="rename-label",this.b.appendChild(this.d);const i=()=>{var t,n;const[a,r]=this.j;this.l.lookupKeybinding(a),this.d.innerText=(0,E.localize)(2,null,(t=this.l.lookupKeybinding(a))===null||t===void 0?void 0:t.getLabel(),(n=this.l.lookupKeybinding(r))===null||n===void 0?void 0:n.getLabel())};i(),this.h.add(this.l.onDidUpdateKeybindings(i)),this.n(),this.m(this.k.getColorTheme())}return this.b}m(i){var t,n,a,r;if(!this.c||!this.b)return;const c=i.getColor(v.widgetShadow),u=i.getColor(v.widgetBorder);this.b.style.backgroundColor=String((t=i.getColor(v.editorWidgetBackground))!==null&&t!==void 0?t:""),this.b.style.boxShadow=c?` 0 0 8px 2px ${c}`:"",this.b.style.border=u?`1px solid ${u}`:"",this.b.style.color=String((n=i.getColor(v.inputForeground))!==null&&n!==void 0?n:""),this.c.style.backgroundColor=String((a=i.getColor(v.inputBackground))!==null&&a!==void 0?a:"");const s=i.getColor(v.inputBorder);this.c.style.borderWidth=s?"1px":"0px",this.c.style.borderStyle=s?"solid":"none",this.c.style.borderColor=(r=s?.toString())!==null&&r!==void 0?r:"none"}n(){if(!this.c||!this.d)return;const i=this.i.getOption(47);this.c.style.fontFamily=i.fontFamily,this.c.style.fontWeight=i.fontWeight,this.c.style.fontSize=`${i.fontSize}px`,this.d.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this.f?{position:this.a,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){var t;(t=this.o)===null||t===void 0||t.call(this,i)}cancelInput(i){var t;(t=this.p)===null||t===void 0||t.call(this,i)}getInput(i,t,n,a,r,c){this.b.classList.toggle("preview",r),this.a=new N.Position(i.startLineNumber,i.startColumn),this.c.value=t,this.c.setAttribute("selectionStart",n.toString()),this.c.setAttribute("selectionEnd",a.toString()),this.c.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const u=new w.DisposableStore;return new Promise(s=>{this.p=l=>(this.o=void 0,this.p=void 0,s(l),!0),this.o=l=>{if(this.c.value.trim().length===0||this.c.value===t){this.cancelInput(!0);return}this.o=void 0,this.p=void 0,s({newName:this.c.value,wantsPreview:r&&l})},u.add(c.onCancellationRequested(()=>this.cancelInput(!0))),u.add(this.i.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this.q()}).finally(()=>{u.dispose(),this.r()})}q(){this.i.revealLineInCenterIfOutsideViewport(this.a.lineNumber,0),this.f=!0,this.g.set(!0),this.i.layoutContentWidget(this),setTimeout(()=>{this.c.focus(),this.c.setSelectionRange(parseInt(this.c.getAttribute("selectionStart")),parseInt(this.c.getAttribute("selectionEnd")))},100)}r(){this.f=!1,this.g.reset(),this.i.layoutContentWidget(this)}};d=De([fe(2,C.IThemeService),fe(3,y.IKeybindingService),fe(4,D.IContextKeyService)],d),e.RenameInputField=d}),define(ee[793],te([1,0,50,12,20,13,2,18,21,98,14,143,28,11,3,23,172,146,637,90,15,8,62,42,69,33,792,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class k{constructor(A,T,O){this.c=A,this.d=T,this.b=0,this.a=O.ordered(A)}hasProvider(){return this.a.length>0}resolveRenameLocation(A){return Le(this,void 0,void 0,function*(){const T=[];for(this.b=0;this.b<this.a.length;this.b++){const F=this.a[this.b];if(!F.resolveRenameLocation)break;const W=yield F.resolveRenameLocation(this.c,this.d,A);if(!!W){if(W.rejectReason){T.push(W.rejectReason);continue}return W}}const O=this.c.getWordAtPosition(this.d);return O?{range:new a.Range(this.d.lineNumber,O.startColumn,this.d.lineNumber,O.endColumn),text:O.word,rejectReason:T.length>0?T.join(`
`):void 0}:{range:a.Range.fromPositions(this.d),text:"",rejectReason:T.length>0?T.join(`
`):void 0}})}provideRenameEdits(A,T){return Le(this,void 0,void 0,function*(){return this.f(A,this.b,[],T)})}f(A,T,O,F){return Le(this,void 0,void 0,function*(){const W=this.a[T];if(!W)return{edits:[],rejectReason:O.join(`
`)};const V=yield W.provideRenameEdits(this.c,this.d,A,F);if(V){if(V.rejectReason)return this.f(A,T+1,O.concat(V.rejectReason),F)}else return this.f(A,T+1,O.concat(s.localize(0,null)),F);return V})}}function I(P,A,T,O){return Le(this,void 0,void 0,function*(){const F=new k(A,T,P),W=yield F.resolveRenameLocation(E.CancellationToken.None);return W?.rejectReason?{edits:[],rejectReason:W.rejectReason}:F.provideRenameEdits(O,E.CancellationToken.None)})}e.rename=I;let M=class $i{static get(A){return A.getContribution($i.ID)}constructor(A,T,O,F,W,V,R,$){this.d=A,this.f=T,this.g=O,this.h=F,this.j=W,this.k=V,this.l=R,this.m=$,this.b=new y.DisposableStore,this.c=new E.CancellationTokenSource,this.a=this.b.add(this.f.createInstance(b.RenameInputField,this.d,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this.b.dispose(),this.c.dispose(!0)}run(){var A,T;return Le(this,void 0,void 0,function*(){if(this.c.dispose(!0),!this.d.hasModel())return;const O=this.d.getPosition(),F=new k(this.d.getModel(),O,this.m.renameProvider);if(!F.hasProvider())return;this.c=new d.EditorStateCancellationTokenSource(this.d,5);let W;try{const ie=F.resolveRenameLocation(this.c.token);this.j.showWhile(ie,250),W=yield ie}catch(ie){(A=u.MessageController.get(this.d))===null||A===void 0||A.showMessage(ie||s.localize(1,null),O);return}if(!W)return;if(W.rejectReason){(T=u.MessageController.get(this.d))===null||T===void 0||T.showMessage(W.rejectReason,O);return}if(this.c.token.isCancellationRequested)return;this.c.dispose(),this.c=new d.EditorStateCancellationTokenSource(this.d,5,W.range);const V=this.d.getSelection();let R=0,$=W.text.length;!a.Range.isEmpty(V)&&!a.Range.spansMultipleLines(V)&&a.Range.containsRange(W.range,V)&&(R=Math.max(0,V.startColumn-W.range.startColumn),$=Math.min(W.range.endColumn,V.endColumn)-W.range.startColumn);const X=this.h.hasPreviewHandler()&&this.l.getValue(this.d.getModel().uri,"editor.rename.enablePreview"),ne=yield this.a.getInput(W.range,W.text,R,$,X,this.c.token);if(typeof ne=="boolean"){ne&&this.d.focus();return}this.d.focus();const ae=(0,N.raceCancellation)(F.provideRenameEdits(ne.newName,this.c.token),this.c.token).then(ie=>Le(this,void 0,void 0,function*(){if(!(!ie||!this.d.hasModel())){if(ie.rejectReason){this.g.info(ie.rejectReason);return}this.d.setSelection(a.Range.fromPositions(this.d.getSelection().getPosition())),this.h.apply(ie,{editor:this.d,showPreview:ne.wantsPreview,label:s.localize(2,null,W?.text,ne.newName),code:"undoredo.rename",quotableLabel:s.localize(3,null,W?.text,ne.newName),respectAutoSaveConfig:!0}).then(le=>{le.ariaSummary&&(0,w.alert)(s.localize(4,null,W.text,ne.newName,le.ariaSummary))}).catch(le=>{this.g.error(s.localize(5,null)),this.k.error(le)})}}),ie=>{this.g.error(s.localize(6,null)),this.k.error(ie)});return this.j.showWhile(ae,250),ae})}acceptRenameInput(A){this.a.acceptInput(A)}cancelRenameInput(){this.a.cancelInput(!0)}};M.ID="editor.contrib.renameController",M=De([fe(1,h.IInstantiationService),fe(2,S.INotificationService),fe(3,i.IBulkEditService),fe(4,p.IEditorProgressService),fe(5,f.ILogService),fe(6,c.ITextResourceConfigurationService),fe(7,L.ILanguageFeaturesService)],M);class B extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:s.localize(7,null),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(A,T){const O=A.get(t.ICodeEditorService),[F,W]=Array.isArray(T)&&T||[void 0,void 0];return C.URI.isUri(F)&&n.Position.isIPosition(W)?O.openCodeEditor({resource:F},O.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext(R=>(this.q(R,V),this.run(R,V))))},D.onUnexpectedError):super.runCommand(A,T)}run(A,T){const O=M.get(T);return O?O.run():Promise.resolve()}}e.RenameAction=B,(0,g.registerEditorContribution)(M.ID,M,4),(0,g.registerEditorAction)(B);const z=g.EditorCommand.bindToContribution(M.get);(0,g.registerEditorCommand)(new z({id:"acceptRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new z({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(b.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:P=>P.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new z({id:"cancelRenameInput",precondition:b.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(P,A,T,...O){const[F]=O;(0,v.assertType)(typeof F=="string");const{renameProvider:W}=P.get(L.ILanguageFeaturesService);return I(W,A,T,F)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(P,A,T){return Le(this,void 0,void 0,function*(){const{renameProvider:O}=P.get(L.ILanguageFeaturesService),W=yield new k(A,T,O).resolveRenameLocation(E.CancellationToken.None);if(W?.rejectReason)throw new Error(W.rejectReason);return W})}),m.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[794],te([1,0,7,205,27,31,6,63,2,21,26,712,52,40,647,294,78,24,305]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function o(m){return`suggest-aria-id:${m}`}e.getAriaId=o;const h=(0,c.registerIcon)("suggest-more-info",E.Codicon.chevronRight,a.localize(0,null)),f=new(l=class Yt{extract(b,L){if(b.textLabel.match(Yt.b))return L[0]=b.textLabel,!0;if(b.completion.detail&&b.completion.detail.match(Yt.b))return L[0]=b.completion.detail,!0;if(typeof b.completion.documentation=="string"){const k=Yt.a.exec(b.completion.documentation);if(k&&(k.index===0||k.index+k[0].length===b.completion.documentation.length))return L[0]=k[0],!0}return!1}},l.a=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,l.b=new RegExp(`^${l.a.source}$`,"i"),l);let S=class{constructor(b,L,k,I){this.b=b,this.c=L,this.d=k,this.f=I,this.a=new y.Emitter,this.onDidToggleDetails=this.a.event,this.templateId="suggestion"}dispose(){this.a.dispose()}renderTemplate(b){const L=Object.create(null);L.disposables=new C.DisposableStore,L.root=b,L.root.classList.add("show-file-icons"),L.icon=(0,w.append)(b,(0,w.$)(".icon")),L.colorspan=(0,w.append)(L.icon,(0,w.$)("span.colorspan"));const k=(0,w.append)(b,(0,w.$)(".contents")),I=(0,w.append)(k,(0,w.$)(".main"));L.iconContainer=(0,w.append)(I,(0,w.$)(".icon-label.codicon")),L.left=(0,w.append)(I,(0,w.$)("span.left")),L.right=(0,w.append)(I,(0,w.$)("span.right")),L.iconLabel=new N.IconLabel(L.left,{supportHighlights:!0,supportIcons:!0}),L.disposables.add(L.iconLabel),L.parametersLabel=(0,w.append)(L.left,(0,w.$)("span.signature-label")),L.qualifierLabel=(0,w.append)(L.left,(0,w.$)("span.qualifier-label")),L.detailsLabel=(0,w.append)(L.right,(0,w.$)("span.details-label")),L.readMore=(0,w.append)(L.right,(0,w.$)("span.readMore"+D.ThemeIcon.asCSSSelector(h))),L.readMore.title=a.localize(1,null);const M=()=>{const B=this.b.getOptions(),z=B.get(47),P=z.getMassagedFontFamily(),A=z.fontFeatureSettings,T=B.get(113)||z.fontSize,O=B.get(114)||z.lineHeight,F=z.fontWeight,W=z.letterSpacing,V=`${T}px`,R=`${O}px`,$=`${W}px`;L.root.style.fontSize=V,L.root.style.fontWeight=F,L.root.style.letterSpacing=$,I.style.fontFamily=P,I.style.fontFeatureSettings=A,I.style.lineHeight=R,L.icon.style.height=R,L.icon.style.width=R,L.readMore.style.height=R,L.readMore.style.width=R};return M(),L.disposables.add(this.b.onDidChangeConfiguration(B=>{(B.hasChanged(47)||B.hasChanged(113)||B.hasChanged(114))&&M()})),L}renderElement(b,L,k){const{completion:I}=b;k.root.id=o(L),k.colorspan.style.backgroundColor="";const M={labelEscapeNewLines:!0,matches:(0,v.createMatches)(b.score)},B=[];if(I.kind===19&&f.extract(b,B))k.icon.className="icon customcolor",k.iconContainer.className="icon hide",k.colorspan.style.backgroundColor=B[0];else if(I.kind===20&&this.f.getFileIconTheme().hasFileIcons){k.icon.className="icon hide",k.iconContainer.className="icon hide";const z=(0,i.getIconClasses)(this.c,this.d,d.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FILE),P=(0,i.getIconClasses)(this.c,this.d,d.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FILE);M.extraClasses=z.length>P.length?z:P}else I.kind===23&&this.f.getFileIconTheme().hasFolderIcons?(k.icon.className="icon hide",k.iconContainer.className="icon hide",M.extraClasses=[(0,i.getIconClasses)(this.c,this.d,d.URI.from({scheme:"fake",path:b.textLabel}),r.FileKind.FOLDER),(0,i.getIconClasses)(this.c,this.d,d.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FOLDER)].flat()):(k.icon.className="icon hide",k.iconContainer.className="",k.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(g.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(M.extraClasses=(M.extraClasses||[]).concat(["deprecated"]),M.matches=[]),k.iconLabel.setLabel(b.textLabel,void 0,M),typeof I.label=="string"?(k.parametersLabel.textContent="",k.detailsLabel.textContent=p(I.detail||""),k.root.classList.add("string-label")):(k.parametersLabel.textContent=p(I.label.detail||""),k.detailsLabel.textContent=p(I.label.description||""),k.root.classList.remove("string-label")),this.b.getOption(112).showInlineDetails?(0,w.show)(k.detailsLabel):(0,w.hide)(k.detailsLabel),(0,s.canExpandCompletionItem)(b)?(k.right.classList.add("can-expand-details"),(0,w.show)(k.readMore),k.readMore.onmousedown=z=>{z.stopPropagation(),z.preventDefault()},k.readMore.onclick=z=>{z.stopPropagation(),z.preventDefault(),this.a.fire()}):(k.right.classList.remove("can-expand-details"),(0,w.hide)(k.readMore),k.readMore.onmousedown=null,k.readMore.onclick=null)}disposeTemplate(b){b.disposables.dispose()}};S=De([fe(1,t.IModelService),fe(2,n.ILanguageService),fe(3,u.IThemeService)],S),e.ItemRenderer=S;function p(m){return m.replace(/\r\n|\r|\n/g,"")}}),define(ee[795],te([1,0,790,33,123,28,18,82,6,14,23,83]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let t=class extends w.AbstractGotoLineQuickAccessProvider{constructor(r){super(),this.t=r,this.h=C.Event.None}get i(){return(0,y.withNullAsUndefined)(this.t.getFocusedCodeEditor())}};t=De([fe(0,D.ICodeEditorService)],t),e.StandaloneGotoLineQuickAccessProvider=t;class n extends d.EditorAction{constructor(){super({id:n.ID,label:v.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(r){r.get(i.IQuickInputService).quickAccess.show(t.PREFIX)}}n.ID="editor.action.gotoLine",e.GotoLineAction=n,(0,d.registerEditorAction)(n),N.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:t.PREFIX,helpEntries:[{description:v.GoToLineNLS.gotoLineActionLabel,commandId:n.ID}]})}),define(ee[796],te([1,0,791,33,123,28,18,82,6,14,23,83,174,19,154,229]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends w.AbstractGotoSymbolQuickAccessProvider{constructor(u,s,l){super(s,l),this.z=u,this.h=C.Event.None}get i(){return(0,y.withNullAsUndefined)(this.z.getFocusedCodeEditor())}};a=De([fe(0,D.ICodeEditorService),fe(1,n.ILanguageFeaturesService),fe(2,t.IOutlineModelService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a;class r extends d.EditorAction{constructor(){super({id:r.ID,label:v.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(i.IQuickInputService).quickAccess.show(w.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:i.ItemActivation.NONE})}}r.ID="editor.action.quickOutline",e.GotoSymbolAction=r,(0,d.registerEditorAction)(r),N.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:v.QuickOutlineNLS.quickOutlineActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:r.ID},{description:v.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ee[319],te([1,0,7,47,778,28,15,51,24]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let d=class extends E.AbstractCodeEditorService{constructor(i,t){super(t),this.onCodeEditorAdd(()=>this.s()),this.onCodeEditorRemove(()=>this.s()),this.p=i.createKey("editorIsOpen",!1),this.r=null,this.registerCodeEditorOpenHandler((n,a,r)=>Le(this,void 0,void 0,function*(){return a?this.t(a,n):null}))}s(){let i=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){i=!0;break}this.p.set(i)}setActiveCodeEditor(i){this.r=i}getActiveCodeEditor(){return this.r}t(i,t){if(!this.u(i,t.resource)){if(t.resource){const r=t.resource.scheme;if(r===N.Schemas.http||r===N.Schemas.https)return(0,w.windowOpenNoOpener)(t.resource.toString()),i}return null}const a=t.options?t.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const r={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(r),i.revealPositionInCenter(r,1)}return i}u(i,t){const n=i.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};d=De([fe(0,y.IContextKeyService),fe(1,C.IThemeService)],d),e.StandaloneCodeEditorService=d,(0,v.registerSingleton)(D.ICodeEditorService,d,0)}),define(ee[797],te([1,0,79,30]),function(K,e,w,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFE",[N.editorForeground]:"#000000",[N.editorInactiveSelection]:"#E5EBF1",[w.editorIndentGuides]:"#D3D3D3",[w.editorActiveIndentGuides]:"#939393",[N.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#1E1E1E",[N.editorForeground]:"#D4D4D4",[N.editorInactiveSelection]:"#3A3D41",[w.editorIndentGuides]:"#404040",[w.editorActiveIndentGuides]:"#707070",[N.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#000000",[N.editorForeground]:"#FFFFFF",[w.editorIndentGuides]:"#FFFFFF",[w.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFF",[N.editorForeground]:"#292929",[w.editorIndentGuides]:"#292929",[w.editorActiveIndentGuides]:"#292929"}}}),define(ee[320],te([1,0,7,44,36,6,26,115,455,797,33,30,24,2,91,774]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const c=g.Registry.as(i.Extensions.ColorContribution),u=g.Registry.as(t.Extensions.ThemingContribution);class s{constructor(p,m){this.semanticHighlighting=!1,this.a=m;const b=m.base;p.length>0?(l(p)?this.id=p:this.id=b+" "+p,this.themeName=p):(this.id=b,this.themeName=b),this.b=null,this.c=Object.create(null),this.d=null}get base(){return this.a.base}notifyBaseUpdated(){this.a.inherit&&(this.b=null,this.d=null)}e(){if(!this.b){const p=new Map;for(const m in this.a.colors)p.set(m,E.Color.fromHex(this.a.colors[m]));if(this.a.inherit){const m=o(this.a.base);for(const b in m.colors)p.has(b)||p.set(b,E.Color.fromHex(m.colors[b]))}this.b=p}return this.b}getColor(p,m){const b=this.e().get(p);if(b)return b;if(m!==!1)return this.f(p)}f(p){let m=this.c[p];return m||(m=c.resolveDefaultColor(p,this),this.c[p]=m,m)}defines(p){return this.e().has(p)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return a.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return a.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return a.ColorScheme.HIGH_CONTRAST_LIGHT;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this.d){let p=[],m=[];if(this.a.inherit){const k=o(this.a.base);p=k.rules,k.encodedTokensColors&&(m=k.encodedTokensColors)}const b=this.a.colors["editor.foreground"],L=this.a.colors["editor.background"];if(b||L){const k={token:""};b&&(k.foreground=b),L&&(k.background=L),p.push(k)}p=p.concat(this.a.rules),this.a.encodedTokensColors&&(m=this.a.encodedTokensColors),this.d=C.TokenTheme.createFromRawTokenTheme(p,m)}return this.d}getTokenStyleMetadata(p,m,b){const k=this.tokenTheme._match([p].concat(m).join(".")).metadata,I=v.TokenMetadata.getForeground(k),M=v.TokenMetadata.getFontStyle(k);return{foreground:I,italic:Boolean(M&1),bold:Boolean(M&2),underline:Boolean(M&4),strikethrough:Boolean(M&8)}}}function l(S){return S===e.VS_LIGHT_THEME_NAME||S===e.VS_DARK_THEME_NAME||S===e.HC_BLACK_THEME_NAME||S===e.HC_LIGHT_THEME_NAME}function o(S){switch(S){case e.VS_LIGHT_THEME_NAME:return d.vs;case e.VS_DARK_THEME_NAME:return d.vs_dark;case e.HC_BLACK_THEME_NAME:return d.hc_black;case e.HC_LIGHT_THEME_NAME:return d.hc_light}}function h(S){const p=o(S);return new s(S,p)}class f extends n.Disposable{constructor(){super(),this.a=this.q(new D.Emitter),this.onDidColorThemeChange=this.a.event,this.b=this.q(new D.Emitter),this.onDidProductIconThemeChange=this.b.event,this.c=Object.create(null),this.t=new r.UnthemedProductIconTheme,this.h=!0,this.g=new Map,this.g.set(e.VS_LIGHT_THEME_NAME,h(e.VS_LIGHT_THEME_NAME)),this.g.set(e.VS_DARK_THEME_NAME,h(e.VS_DARK_THEME_NAME)),this.g.set(e.HC_BLACK_THEME_NAME,h(e.HC_BLACK_THEME_NAME)),this.g.set(e.HC_LIGHT_THEME_NAME,h(e.HC_LIGHT_THEME_NAME));const p=(0,r.getIconsStyleSheet)(this);this.j=p.getCSS(),this.k="",this.l=`${this.j}
${this.k}`,this.m=null,this.n=[],this.r=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this.y(),p.onDidChange(()=>{this.j=p.getCSS(),this.B()}),(0,N.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this.y()})}registerEditorContainer(p){return w.isInShadowDOM(p)?this.v(p):this.u()}u(){return this.m||(this.m=w.createStyleSheet(),this.m.className="monaco-colors",this.m.textContent=this.l,this.n.push(this.m)),n.Disposable.None}v(p){const m=w.createStyleSheet(p);return m.className="monaco-colors",m.textContent=this.l,this.n.push(m),{dispose:()=>{for(let b=0;b<this.n.length;b++)if(this.n[b]===m){this.n.splice(b,1);return}}}}defineTheme(p,m){if(!/^[a-z0-9\-]+$/i.test(p))throw new Error("Illegal theme name!");if(!l(m.base)&&!l(p))throw new Error("Illegal theme base!");this.g.set(p,new s(p,m)),l(p)&&this.g.forEach(b=>{b.base===p&&b.notifyBaseUpdated()}),this.s.themeName===p&&this.setTheme(p)}getColorTheme(){return this.s}setColorMapOverride(p){this.r=p,this.z()}setTheme(p){let m;this.g.has(p)?m=this.g.get(p):m=this.g.get(e.VS_LIGHT_THEME_NAME),this.w(m)}w(p){!p||this.s===p||(this.s=p,this.z())}y(){if(this.h){const p=window.matchMedia("(forced-colors: active)").matches;if(p!==(0,a.isHighContrast)(this.s.type)){let m;(0,a.isDark)(this.s.type)?m=p?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:m=p?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this.w(this.g.get(m))}}}setAutoDetectHighContrast(p){this.h=p,this.y()}z(){const p=[],m={},b={addRule:I=>{m[I]||(p.push(I),m[I]=!0)}};u.getThemingParticipants().forEach(I=>I(this.s,b,this.c));const L=[];for(const I of c.getColors()){const M=this.s.getColor(I.id,!0);M&&L.push(`${(0,i.asCssVariableName)(I.id)}: ${M.toString()};`)}b.addRule(`.monaco-editor { ${L.join(`
`)} }`);const k=this.r||this.s.tokenTheme.getColorMap();b.addRule((0,C.generateTokensCSSForColorMap)(k)),this.k=p.join(`
`),this.B(),y.TokenizationRegistry.setColorMap(k),this.a.fire(this.s)}B(){this.l=`${this.j}
${this.k}`,this.n.forEach(p=>p.textContent=this.l)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this.t}}e.StandaloneThemeService=f}),define(ee[798],te([1,0,14,119,82,91,320]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends w.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:E.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this.d=null}run(d,g){const i=d.get(N.IStandaloneThemeService),t=i.getColorTheme();(0,D.isHighContrast)(t.type)?(i.setTheme(this.d||((0,D.isDark)(t.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this.d=null):(i.setTheme((0,D.isDark)(t.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this.d=t.themeName)}}(0,w.registerEditorAction)(v)}),define(ee[148],te([1,0,7,45,140,278,41,197,2,16,660,29,677,15,56,8,37,42,84,24,31,91,18,30,99,426]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function m(P,A,T,O){const F=P.getActions(A),W=w.ModifierKeyEmitter.getInstance(),V=W.keyStatus.altKey||(d.isWindows||d.isLinux)&&W.keyStatus.shiftKey;L(F,T,V,O?R=>R===O:R=>R==="navigation")}e.createAndFillInContextMenuActions=m;function b(P,A,T,O,F,W){const V=P.getActions(A);L(V,T,!1,typeof O=="string"?$=>$===O:O,F,W)}e.createAndFillInActionBarActions=b;function L(P,A,T,O=V=>V==="navigation",F=()=>!1,W=!1){let V,R;Array.isArray(A)?(V=A,R=A):(V=A.primary,R=A.secondary);const $=new Set;for(const[X,ne]of P){let ae;O(X)?(ae=V,ae.length>0&&W&&ae.push(new y.Separator)):(ae=R,ae.length>0&&ae.push(new y.Separator));for(let ie of ne){T&&(ie=ie instanceof i.MenuItemAction&&ie.alt?ie.alt:ie);const le=ae.push(ie);ie instanceof y.SubmenuAction&&$.add({group:X,action:ie,index:le-1})}}for(const{group:X,action:ne,index:ae}of $){const ie=O(X)?V:R,le=ne.actions;le.length<=1&&F(ne,X,ie.length)&&ie.splice(ae,1,...le)}}let k=class extends E.ActionViewItem{constructor(A,T,O,F,W,V,R){super(void 0,A,{icon:!!(A.class||A.item.icon),label:!A.class&&!A.item.icon,draggable:T?.draggable,keybinding:T?.keybinding,hoverDelegate:T?.hoverDelegate}),this.L=O,this.M=F,this.N=W,this.O=V,this.P=R,this.i=!1,this.I=this.q(new C.MutableDisposable),this.J=w.ModifierKeyEmitter.getInstance()}get Q(){return this._action}get R(){return this.i&&this.Q.alt||this.Q}onClick(A){return Le(this,void 0,void 0,function*(){A.preventDefault(),A.stopPropagation();try{yield this.actionRunner.run(this.R,this._context)}catch(T){this.M.error(T)}})}render(A){super.render(A),A.classList.add("menu-entry"),this.X(this.Q.item);let T=!1,O=this.J.keyStatus.altKey||(d.isWindows||d.isLinux)&&this.J.keyStatus.shiftKey;const F=()=>{var W;const V=T&&O&&!!(!((W=this.R.alt)===null||W===void 0)&&W.enabled);V!==this.i&&(this.i=V,this.p(),this.t(),this.v())};this.Q.alt&&this.q(this.J.event(W=>{O=W.altKey||(d.isWindows||d.isLinux)&&W.shiftKey,F()})),this.q((0,w.addDisposableListener)(A,"mouseleave",W=>{T=!1,F()})),this.q((0,w.addDisposableListener)(A,"mouseenter",W=>{T=!0,F()}))}p(){this.l.label&&this.s&&(this.s.textContent=this.R.label)}r(){var A;const T=this.L.lookupKeybinding(this.R.id,this.N),O=T&&T.getLabel(),F=this.R.tooltip||this.R.label;let W=O?(0,g.localize)(0,null,F,O):F;if(!this.i&&((A=this.Q.alt)===null||A===void 0?void 0:A.enabled)){const V=this.Q.alt.tooltip||this.Q.alt.label,R=this.L.lookupKeybinding(this.Q.alt.id,this.N),$=R&&R.getLabel(),X=$?(0,g.localize)(1,null,V,$):V;W=(0,g.localize)(2,null,W,v.UILabelProvider.modifierLabels[d.OS].altKey,X)}return W}v(){this.l.icon&&(this.R!==this.Q?this.Q.alt&&this.X(this.Q.alt.item):this.X(this.Q.item))}X(A){this.I.value=void 0;const{element:T,s:O}=this;if(!T||!O)return;const F=this.R.checked&&(0,t.isICommandActionToggleInfo)(A.toggled)&&A.toggled.icon?A.toggled.icon:A.icon;if(!!F)if(o.ThemeIcon.isThemeIcon(F)){const W=o.ThemeIcon.asClassNameArray(F);O.classList.add(...W),this.I.value=(0,C.toDisposable)(()=>{O.classList.remove(...W)})}else O.style.backgroundImage=(0,h.isDark)(this.O.getColorTheme().type)?(0,w.asCSSUrl)(F.dark):(0,w.asCSSUrl)(F.light),O.classList.add("icon"),this.I.value=(0,C.combinedDisposable)((0,C.toDisposable)(()=>{O.style.backgroundImage="",O.classList.remove("icon")}),this.O.onDidColorThemeChange(()=>{this.v()}))}};k=De([fe(2,c.IKeybindingService),fe(3,u.INotificationService),fe(4,n.IContextKeyService),fe(5,l.IThemeService),fe(6,a.IContextMenuService)],k),e.MenuEntryActionViewItem=k;let I=class extends D.DropdownMenuActionViewItem{constructor(A,T,O,F){var W,V;const R=Object.assign({},T??Object.create(null),{menuAsChild:(W=T?.menuAsChild)!==null&&W!==void 0?W:!1,classNames:(V=T?.classNames)!==null&&V!==void 0?V:o.ThemeIcon.isThemeIcon(A.item.icon)?o.ThemeIcon.asClassName(A.item.icon):void 0});super(A,{getActions:()=>A.actions},O,R),this.D=O,this.F=F}render(A){super.render(A),(0,f.assertType)(this.element),A.classList.add("menu-entry");const T=this._action,{icon:O}=T.item;if(O&&!o.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const F=()=>{this.element&&(this.element.style.backgroundImage=(0,h.isDark)(this.F.getColorTheme().type)?(0,w.asCSSUrl)(O.dark):(0,w.asCSSUrl)(O.light))};F(),this.q(this.F.onDidColorThemeChange(()=>{F()}))}}};I=De([fe(2,a.IContextMenuService),fe(3,l.IThemeService)],I),e.SubmenuEntryActionViewItem=I;let M=class extends E.BaseActionViewItem{constructor(A,T,O,F,W,V,R,$){var X,ne,ae;super(null,A),this.s=O,this.y=F,this.z=W,this.B=V,this.C=R,this.D=$,this.i=null,this.c=T,this.k=`${A.item.submenu.id}_lastActionId`;let ie;const le=$.get(this.k,1);le&&(ie=A.actions.find(x=>le===x.id)),ie||(ie=A.actions[0]),this.g=this.C.createInstance(k,ie,{keybinding:this.G(ie)});const J=Object.assign({},T??Object.create(null),{menuAsChild:(X=T?.menuAsChild)!==null&&X!==void 0?X:!0,classNames:(ne=T?.classNames)!==null&&ne!==void 0?ne:["codicon","codicon-chevron-down"],actionRunner:(ae=T?.actionRunner)!==null&&ae!==void 0?ae:new y.ActionRunner});this.h=new D.DropdownMenuActionViewItem(A,A.actions,this.z,J),this.h.actionRunner.onDidRun(x=>{x.action instanceof i.MenuItemAction&&this.F(x.action)})}F(A){this.D.store(this.k,A.id,1,0),this.g.dispose(),this.g=this.C.createInstance(k,A,{keybinding:this.G(A)}),this.g.actionRunner=new class extends y.ActionRunner{g(T,O){return Le(this,void 0,void 0,function*(){yield T.run(void 0)})}},this.i&&this.g.render((0,w.prepend)(this.i,(0,w.$)(".action-container")))}G(A){var T;let O;if(!((T=this.c)===null||T===void 0)&&T.renderKeybindingWithDefaultActionLabel){const F=this.s.lookupKeybinding(A.id);F&&(O=`(${F.getLabel()})`)}return O}setActionContext(A){super.setActionContext(A),this.g.setActionContext(A),this.h.setActionContext(A)}render(A){this.i=A,super.render(this.i),this.i.classList.add("monaco-dropdown-with-default");const T=(0,w.$)(".action-container");this.g.render((0,w.append)(this.i,T)),this.q((0,w.addDisposableListener)(T,w.EventType.KEY_DOWN,F=>{const W=new N.StandardKeyboardEvent(F);W.equals(17)&&(this.g.element.tabIndex=-1,this.h.focus(),W.stopPropagation())}));const O=(0,w.$)(".dropdown-action-container");this.h.render((0,w.append)(this.i,O)),this.q((0,w.addDisposableListener)(O,w.EventType.KEY_DOWN,F=>{var W;const V=new N.StandardKeyboardEvent(F);V.equals(15)&&(this.g.element.tabIndex=0,this.h.setFocusable(!1),(W=this.g.element)===null||W===void 0||W.focus(),V.stopPropagation())}))}focus(A){A?this.h.focus():(this.g.element.tabIndex=0,this.g.element.focus())}blur(){this.g.element.tabIndex=-1,this.h.blur(),this.i.blur()}setFocusable(A){A?this.g.element.tabIndex=0:(this.g.element.tabIndex=-1,this.h.setFocusable(!1))}dispose(){this.g.dispose(),this.h.dispose(),super.dispose()}};M=De([fe(2,c.IKeybindingService),fe(3,u.INotificationService),fe(4,a.IContextMenuService),fe(5,i.IMenuService),fe(6,r.IInstantiationService),fe(7,s.IStorageService)],M),e.DropdownWithDefaultActionViewItem=M;let B=class extends E.SelectActionViewItem{constructor(A,T){super(null,A,A.actions.map(O=>({text:O.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,T,p.defaultSelectBoxStyles,{ariaLabel:A.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,A.actions.findIndex(O=>O.checked)))}render(A){super.render(A),A.style.borderColor=(0,S.asCssVariable)(S.selectBorder)}h(A,T){const O=this.action.actions[T];O&&this.actionRunner.run(O)}};B=De([fe(1,a.IContextViewService)],B);function z(P,A,T){return A instanceof i.MenuItemAction?P.createInstance(k,A,T):A instanceof i.SubmenuItemAction?A.item.isSelection?P.createInstance(B,A):A.item.rememberDefaultAction?P.createInstance(M,A,T):P.createInstance(I,A,T):void 0}e.createActionViewItem=z}),define(ee[230],te([1,0,7,68,206,41,12,27,2,16,31,195,624,148,757,29,25,15,56,8,37,77,78,406]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=void 0;const S=(0,f.registerIcon)("inline-suggestion-hints-next",v.Codicon.chevronRight,(0,t.localize)(0,null)),p=(0,f.registerIcon)("inline-suggestion-hints-previous",v.Codicon.chevronLeft,(0,t.localize)(1,null));let m=class ui extends C.Disposable{static get dropDownVisible(){return this.a}l(I,M,B){const z=new D.Action(I,M,B,!0,()=>this.y.executeCommand(I)),P=this.z.lookupKeybinding(I,this.B);let A=M;return P&&(A=(0,t.localize)(2,null,M,P.getLabel())),z.tooltip=A,z}constructor(I,M,B,z,P,A,T){super(),this.v=I,this.w=M,this.y=B,this.z=P,this.B=A,this.C=T,this.b=`InlineSuggestionHintsContentWidget${ui.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.i=(0,w.h)("div.inlineSuggestionsHints",{className:this.w?".withBorder":""},[(0,w.h)("div",{style:{display:"flex"}},[(0,w.h)("div@actionBar",{className:"custom-actions"}),(0,w.h)("div@toolBar")])]),this.j=null,this.m=this.l(i.showPreviousInlineSuggestionActionId,(0,t.localize)(3,null),g.ThemeIcon.asClassName(p)),this.n=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.p=this.l(i.showNextInlineSuggestionActionId,(0,t.localize)(4,null),g.ThemeIcon.asClassName(S)),this.s=this.q(this.C.createMenu(r.MenuId.InlineCompletionsActions,this.B)),this.t=this.q(new y.RunOnceScheduler(()=>{this.n.label=""},100)),this.u=this.q(new y.RunOnceScheduler(()=>{this.m.enabled=this.p.enabled=!1},100));const O=this.q(new N.ActionBar(this.i.actionBar));O.push(this.m,{icon:!0,label:!1}),O.push(this.n),O.push(this.p,{icon:!0,label:!1}),this.r=this.q(z.createInstance(L,this.i.toolBar,r.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:F=>F.startsWith("primary")},actionViewItemProvider:(F,W)=>F instanceof r.MenuItemAction?z.createInstance(b,F,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this.q(this.r.onDidChangeDropdownVisibility(F=>{ui.a=F}))}update(I,M,B,z){this.j=I,B!==void 0&&B>1?(this.u.cancel(),this.m.enabled=this.p.enabled=!0):this.u.schedule(),B!==void 0?(this.t.cancel(),this.n.label=`${M+1}/${B}`):this.t.schedule(),this.v.layoutContentWidget(this);const P=z.map(A=>({class:void 0,id:A.id,enabled:!0,tooltip:A.tooltip||"",label:A.title,run:T=>this.y.executeCommand(A.id)}));for(const[A,T]of this.s.getActions())for(const O of T)O instanceof r.MenuItemAction&&P.push(O);P.length>0&&P.unshift(new D.Separator),this.r.setAdditionalSecondaryActions(P)}getId(){return this.b}getDomNode(){return this.i.root}getPosition(){return{position:this.j,preference:[1,2],positionAffinity:3}}};m.a=!1,m.id=0,m=De([fe(2,c.ICommandService),fe(3,l.IInstantiationService),fe(4,o.IKeybindingService),fe(5,u.IContextKeyService),fe(6,r.IMenuService)],m),e.InlineSuggestionHintsContentWidget=m;class b extends n.MenuEntryActionViewItem{p(){const I=this.L.lookupKeybinding(this._action.id,this.N);if(!I)return super.p();if(this.s){const M=(0,w.h)("div.keybinding").root;new E.KeybindingLabel(M,d.OS,{disableTitle:!0}).set(I),this.s.textContent=this._action.label,this.s.appendChild(M),this.s.classList.add("inlineSuggestionStatusBarItemLabel")}}}let L=class extends a.WorkbenchToolBar{constructor(I,M,B,z,P,A,T,O){super(I,Object.assign({resetMenu:M},B),z,P,A,T,O),this.G=M,this.H=B,this.I=z,this.J=P,this.D=this.f.add(this.I.createMenu(this.G,this.J,{emitEventsForSubmenuChanges:!0})),this.F=[],this.f.add(this.D.onDidChange(()=>this.L())),this.L()}L(){var I,M,B,z,P,A,T;const O=[],F=[];(0,n.createAndFillInActionBarActions)(this.D,(I=this.H)===null||I===void 0?void 0:I.menuOptions,{primary:O,secondary:F},(B=(M=this.H)===null||M===void 0?void 0:M.toolbarOptions)===null||B===void 0?void 0:B.primaryGroup,(P=(z=this.H)===null||z===void 0?void 0:z.toolbarOptions)===null||P===void 0?void 0:P.shouldInlineSubmenu,(T=(A=this.H)===null||A===void 0?void 0:A.toolbarOptions)===null||T===void 0?void 0:T.useSeparatorsInPrimaryActions),F.push(...this.F),this.setActions(O,F)}setAdditionalSecondaryActions(I){this.F=I,this.L()}};L=De([fe(3,r.IMenuService),fe(4,u.IContextKeyService),fe(5,s.IContextMenuService),fe(6,o.IKeybindingService),fe(7,h.ITelemetryService)],L),e.CustomizedMenuWorkbenchToolBar=L}),define(ee[799],te([1,0,7,68,2,648,148,29,15,8]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class g extends y.MenuEntryActionViewItem{p(){const n=this.L.lookupKeybinding(this._action.id,this.N);if(!n)return super.p();this.s&&(this.s.textContent=(0,D.localize)(0,null,this._action.label,g.symbolPrintEnter(n)))}static symbolPrintEnter(n){var a;return(a=n.getLabel())===null||a===void 0?void 0:a.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(n,a,r,c,u){this.d=a,this.e=c,this.f=u,this.c=new E.DisposableStore,this.element=w.append(n,w.$(".suggest-status-bar"));const s=l=>l instanceof v.MenuItemAction?r.createInstance(g,l,void 0):void 0;this.a=new N.ActionBar(this.element,{actionViewItemProvider:s}),this.b=new N.ActionBar(this.element,{actionViewItemProvider:s}),this.a.domNode.classList.add("left"),this.b.domNode.classList.add("right")}dispose(){this.c.dispose(),this.element.remove()}show(){const n=this.e.createMenu(this.d,this.f),a=()=>{const r=[],c=[];for(const[u,s]of n.getActions())u==="left"?r.push(...s):c.push(...s);this.a.clear(),this.a.push(r),this.b.clear(),this.b.push(c)};this.c.add(n.onDidChange(()=>a())),this.c.add(n)}hide(){this.c.clear()}};i=De([fe(2,d.IInstantiationService),fe(3,v.IMenuService),fe(4,C.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(ee[800],te([1,0,7,41,6,2,148,29,15,37,42,77,769,56]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let a=class extends D.Disposable{get b(){return this.a||(this.a=new t.ContextMenuHandler(this.k,this.h,this.j,this.l)),this.a}constructor(u,s,l,o,h,f){super(),this.h=u,this.j=s,this.k=l,this.l=o,this.m=h,this.n=f,this.a=void 0,this.c=this.f.add(new E.Emitter),this.g=this.f.add(new E.Emitter)}configure(u){this.b.configure(u)}showContextMenu(u){u=r.transform(u,this.m,this.n),this.b.showContextMenu(Object.assign(Object.assign({},u),{onHide:s=>{var l;(l=u.onHide)===null||l===void 0||l.call(u,s),this.g.fire()}})),w.ModifierKeyEmitter.getInstance().resetKeyStatus(),this.c.fire()}};a=De([fe(0,i.ITelemetryService),fe(1,g.INotificationService),fe(2,n.IContextViewService),fe(3,d.IKeybindingService),fe(4,v.IMenuService),fe(5,C.IContextKeyService)],a),e.ContextMenuService=a;var r;(function(c){function u(l){return l&&l.menuId instanceof v.MenuId}function s(l,o,h){if(!u(l))return l;const{menuId:f,menuActionOptions:S,contextKeyService:p}=l;return Object.assign(Object.assign({},l),{getActions:()=>{const m=[];if(f){const b=o.createMenu(f,p??h);(0,y.createAndFillInContextMenuActions)(b,S,m),b.dispose()}return l.getActions?N.Separator.join(l.getActions(),m):m}})}c.transform=s})(r=e.ContextMenuMenuDelegate||(e.ContextMenuMenuDelegate={}))}),define(ee[801],te([1,0,20,6,562,75,15,8,120,177,722,99,30,24]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let a=class extends n.Themable{get j(){return this.i||(this.i=this.q(this.t())),this.i}get k(){return!!this.i}get quickAccess(){return this.l||(this.l=this.q(this.n.createInstance(g.QuickAccessController))),this.l}constructor(c,u,s,l,o){super(s),this.n=c,this.p=u,this.r=l,this.s=o,this.g=this.q(new N.Emitter),this.h=this.q(new N.Emitter),this.m=new Map}t(c=this.s,u){const s={idPrefix:"quickInput_",container:c.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.r.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:o=>this.u(o),returnFocus:()=>c.focus(),createList:(o,h,f,S,p)=>this.n.createInstance(d.WorkbenchList,o,h,f,S,p),styles:this.w()},l=this.q(new E.QuickInputController(Object.assign(Object.assign({},s),u)));return l.layout(c.dimension,c.offset.quickPickTop),this.q(c.onDidLayout(o=>l.layout(o,c.offset.quickPickTop))),this.q(l.onShow(()=>{this.v(),this.g.fire()})),this.q(l.onHide(()=>{this.v(),this.h.fire()})),l}u(c){let u;c&&(u=this.m.get(c),u||(u=new y.RawContextKey(c,!1).bindTo(this.p),this.m.set(c,u))),!(u&&u.get())&&(this.v(),u?.set(!0))}v(){this.m.forEach(c=>{c.get()&&c.reset()})}pick(c,u={},s=w.CancellationToken.None){return this.j.pick(c,u,s)}createQuickPick(){return this.j.createQuickPick()}createInputBox(){return this.j.createInputBox()}updateStyles(){this.k&&this.j.applyStyles(this.w())}w(){return{widget:{quickInputBackground:(0,t.asCssVariable)(t.quickInputBackground),quickInputForeground:(0,t.asCssVariable)(t.quickInputForeground),quickInputTitleBackground:(0,t.asCssVariable)(t.quickInputTitleBackground),widgetBorder:(0,t.asCssVariable)(t.widgetBorder),widgetShadow:(0,t.asCssVariable)(t.widgetShadow)},inputBox:i.defaultInputBoxStyles,toggle:i.defaultToggleStyles,countBadge:i.defaultCountBadgeStyles,button:i.defaultButtonStyles,progressBar:i.defaultProgressBarStyles,keybindingLabel:i.defaultKeybindingLabelStyles,list:(0,i.getListStyles)({listBackground:t.quickInputBackground,listFocusBackground:t.quickInputListFocusBackground,listFocusForeground:t.quickInputListFocusForeground,listInactiveFocusForeground:t.quickInputListFocusForeground,listInactiveSelectionIconForeground:t.quickInputListFocusIconForeground,listInactiveFocusBackground:t.quickInputListFocusBackground,listFocusOutline:t.activeContrastBorder,listInactiveFocusOutline:t.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,t.asCssVariable)(t.pickerGroupBorder),pickerGroupForeground:(0,t.asCssVariable)(t.pickerGroupForeground)}}}};a=De([fe(0,v.IInstantiationService),fe(1,y.IContextKeyService),fe(2,n.IThemeService),fe(3,D.IAccessibilityService),fe(4,C.ILayoutService)],a),e.QuickInputService=a}),define(ee[802],te([1,0,14,24,20,8,15,75,302,28,801,92,424]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let t=class extends g.QuickInputService{constructor(u,s,l,o,h,f){super(s,l,o,h,new C.EditorScopedLayoutService(u.getContainerDomNode(),f)),this.y=void 0;const S=a.get(u);if(S){const p=S.widget;this.y={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return p.getDomNode()},get dimension(){return u.getLayoutInfo()},get onDidLayout(){return u.onDidLayoutChange},focus:()=>u.focus(),offset:{top:0,quickPickTop:0}}}else this.y=void 0}t(){return super.t(this.y)}};t=De([fe(1,D.IInstantiationService),fe(2,y.IContextKeyService),fe(3,N.IThemeService),fe(4,v.IAccessibilityService),fe(5,d.ICodeEditorService)],t);let n=class{get b(){const u=this.d.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let s=this.a.get(u);if(!s){const l=s=this.c.createInstance(t,u);this.a.set(u,s),(0,i.once)(u.onDidDispose)(()=>{l.dispose(),this.a.delete(u)})}return s}get quickAccess(){return this.b.quickAccess}constructor(u,s){this.c=u,this.d=s,this.a=new Map}pick(u,s={},l=E.CancellationToken.None){return this.b.pick(u,s,l)}createQuickPick(){return this.b.createQuickPick()}createInputBox(){return this.b.createInputBox()}};n=De([fe(0,D.IInstantiationService),fe(1,d.ICodeEditorService)],n),e.StandaloneQuickInputService=n;class a{static get(u){return u.getContribution(a.ID)}constructor(u){this.a=u,this.widget=new r(this.a)}dispose(){this.widget.dispose()}}a.ID="editor.controller.quickInput",e.QuickInputEditorContribution=a;class r{constructor(u){this.c=u,this.b=document.createElement("div"),this.c.addOverlayWidget(this)}getId(){return r.a}getDomNode(){return this.b}getPosition(){return{preference:2}}dispose(){this.c.removeOverlayWidget(this)}}r.a="editor.contrib.quickInputWidget",e.QuickInputEditorWidget=r,(0,w.registerEditorContribution)(a.ID,a,4)}),define(ee[178],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,w.createDecorator)("undoRedoService");class N{constructor(v,C){this.resource=v,this.elements=C}}e.ResourceEditStackSnapshot=N;class E{constructor(){this.id=E.a++,this.b=1}nextOrder(){return this.id===0?0:this.b++}}E.a=0,E.None=new E,e.UndoRedoGroup=E;class D{constructor(){this.id=D.a++,this.b=1}nextOrder(){return this.id===0?0:this.b++}}D.a=0,D.None=new D,e.UndoRedoSource=D}),define(ee[38],te([1,0,17,36,13,6,2,9,21,131,185,11,3,22,157,40,34,48,548,788,293,257,460,461,285,549,164,553,103,178]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function M(oe){const G=new m.PieceTreeTextBufferBuilder;return G.acceptChunk(oe),G.finish()}e.createTextBufferFactory=M;function B(oe){const G=new m.PieceTreeTextBufferBuilder;let Z;for(;typeof(Z=oe.read())=="string";)G.acceptChunk(Z);return G.finish()}e.createTextBufferFactoryFromSnapshot=B;function z(oe,G){let Z;return typeof oe=="string"?Z=M(oe):u.isITextSnapshot(oe)?Z=B(oe):Z=oe,Z.create(G)}e.createTextBuffer=z;let P=0;const A=999,T=1e4;class O{constructor(G){this.a=G,this.b=!1}read(){if(this.b)return null;const G=[];let Z=0,U=0;do{const j=this.a.read();if(j===null)return this.b=!0,Z===0?null:G.join("");if(j.length>0&&(G[Z++]=j,U+=j.length),U>=64*1024)return G.join("")}while(!0)}}const F=()=>{throw new Error("Invalid change accessor")};let W=class zt extends y.Disposable{static resolveOptions(G,Z){if(Z.detectIndentation){const U=(0,f.guessIndentation)(G,Z.tabSize,Z.insertSpaces);return new u.TextModelResolvedOptions({tabSize:U.tabSize,indentSize:"tabSize",insertSpaces:U.insertSpaces,trimAutoWhitespace:Z.trimAutoWhitespace,defaultEOL:Z.defaultEOL,bracketPairColorizationOptions:Z.bracketPairColorizationOptions})}return new u.TextModelResolvedOptions(Z)}get onDidChangeLanguage(){return this.U.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this.U.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this.U.onDidChangeTokens}onDidChangeContent(G){return this.p.slowEvent(Z=>G(Z.contentChangedEvent))}onDidChangeContentOrInjectedText(G){return(0,y.combinedDisposable)(this.p.fastEvent(Z=>G(Z)),this.n.event(Z=>G(Z)))}_isDisposing(){return this.B}get tokenization(){return this.U}get bracketPairs(){return this.W}get guides(){return this.X}constructor(G,Z,U,j=null,H,_,ce){super(),this.Y=H,this.Z=_,this.ab=ce,this.g=this.q(new D.Emitter),this.onWillDispose=this.g.event,this.h=this.q(new Q(Se=>this.rb(Se))),this.onDidChangeDecorations=this.h.event,this.k=this.q(new D.Emitter),this.onDidChangeOptions=this.k.event,this.l=this.q(new D.Emitter),this.onDidChangeAttached=this.l.event,this.n=this.q(new D.Emitter),this.p=this.q(new re),this.O=0,P++,this.id="$model"+P,this.isForSimpleWidget=U.isForSimpleWidget,typeof j>"u"||j===null?this.s=C.URI.parse("inmemory://model/"+P):this.s=j,this.u=0;const{textBuffer:ue,disposable:se}=z(G,U.defaultEOL);this.v=ue,this.w=se,this.y=zt.resolveOptions(this.v,U),this.W=this.q(new s.BracketPairsTextModelPart(this,this.ab)),this.X=this.q(new h.GuidesTextModelPart(this,this.ab)),this.S=this.q(new l.ColorizedBracketPairsDecorationProvider(this)),this.U=new L.TokenizationTextModelPart(this.Z,this.ab,this,this.W,Z);const he=this.v.getLineCount(),me=this.v.getValueLengthInRange(new t.Range(1,1,he,this.v.getLineLength(he)+1),0);U.largeFileOptimizations?this.H=me>zt.a||he>zt.b:this.H=!1,this.G=me>zt._MODEL_SYNC_LIMIT,this.C=1,this.D=1,this.F=null,this.z=!1,this.B=!1,this.N=v.singleLetterHash(P),this.P=0,this.Q=Object.create(null),this.R=new X,this.I=new o.EditStack(this,this.Y),this.J=!1,this.L=!1,this.M=null,this.q(this.S.onDidChange(()=>{this.h.beginDeferredEmit(),this.h.fire(),this.h.endDeferredEmit()}))}dispose(){this.B=!0,this.g.fire(),this.U.dispose(),this.z=!0,super.dispose(),this.w.dispose(),this.B=!1;const G=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);G.dispose(),this.v=G,this.w=y.Disposable.None}bb(){if(this.z)throw new Error("Model is disposed!")}cb(G,Z){this.B||(this.U.handleDidChangeContent(Z),this.W.handleDidChangeContent(Z),this.p.fire(new k.InternalModelContentChangeEvent(G,Z)))}setValue(G){if(this.bb(),G==null)throw(0,E.illegalArgument)();const{textBuffer:Z,disposable:U}=z(G,this.y.defaultEOL);this.eb(Z,U)}db(G,Z,U,j,H,_,ce){return{changes:[{range:G,rangeOffset:Z,rangeLength:U,text:j}],eol:this.v.getEOL(),versionId:this.getVersionId(),isUndoing:H,isRedoing:_,isFlush:ce}}eb(G,Z){this.bb();const U=this.getFullModelRange(),j=this.getValueLengthInRange(U),H=this.getLineCount(),_=this.getLineMaxColumn(H);this.v=G,this.w.dispose(),this.w=Z,this.hb(),this.U.flush(),this.Q=Object.create(null),this.R=new X,this.I.clear(),this.M=null,this.cb(new k.ModelRawContentChangedEvent([new k.ModelRawFlush],this.C,!1,!1),this.db(new t.Range(1,1,H,_),0,j,this.getValue(),!1,!1,!0))}setEOL(G){this.bb();const Z=G===1?`\r
`:`
`;if(this.v.getEOL()===Z)return;const U=this.getFullModelRange(),j=this.getValueLengthInRange(U),H=this.getLineCount(),_=this.getLineMaxColumn(H);this.fb(),this.v.setEOL(Z),this.hb(),this.gb(),this.cb(new k.ModelRawContentChangedEvent([new k.ModelRawEOLChanged],this.C,!1,!1),this.db(new t.Range(1,1,H,_),0,j,this.getValue(),!1,!1,!1))}fb(){this.R.ensureAllNodesHaveRanges(this)}gb(){const G=this.getVersionId(),Z=this.R.collectNodesPostOrder();for(let U=0,j=Z.length;U<j;U++){const H=Z[U],_=H.range,ce=H.cachedAbsoluteStart-H.start,ue=this.v.getOffsetAt(_.startLineNumber,_.startColumn),se=this.v.getOffsetAt(_.endLineNumber,_.endColumn);H.cachedAbsoluteStart=ue,H.cachedAbsoluteEnd=se,H.cachedVersionId=G,H.start=ue-ce,H.end=se-ce,(0,S.recomputeMaxEnd)(H)}}onBeforeAttached(){this.u++,this.u===1&&(this.U.handleDidChangeAttached(),this.l.fire(void 0))}onBeforeDetached(){this.u--,this.u===0&&(this.U.handleDidChangeAttached(),this.l.fire(void 0))}isAttachedToEditor(){return this.u>0}getAttachedEditorCount(){return this.u}isTooLargeForSyncing(){return this.G}isTooLargeForTokenization(){return this.H}isDisposed(){return this.z}isDominatedByLongLines(){if(this.bb(),this.isTooLargeForTokenization())return!1;let G=0,Z=0;const U=this.v.getLineCount();for(let j=1;j<=U;j++){const H=this.v.getLineLength(j);H>=T?Z+=H:G+=H}return Z>G}get uri(){return this.s}getOptions(){return this.bb(),this.y}getFormattingOptions(){return{tabSize:this.y.indentSize,insertSpaces:this.y.insertSpaces}}updateOptions(G){this.bb();const Z=typeof G.tabSize<"u"?G.tabSize:this.y.tabSize,U=typeof G.indentSize<"u"?G.indentSize:this.y.originalIndentSize,j=typeof G.insertSpaces<"u"?G.insertSpaces:this.y.insertSpaces,H=typeof G.trimAutoWhitespace<"u"?G.trimAutoWhitespace:this.y.trimAutoWhitespace,_=typeof G.bracketColorizationOptions<"u"?G.bracketColorizationOptions:this.y.bracketPairColorizationOptions,ce=new u.TextModelResolvedOptions({tabSize:Z,indentSize:U,insertSpaces:j,defaultEOL:this.y.defaultEOL,trimAutoWhitespace:H,bracketPairColorizationOptions:_});if(this.y.equals(ce))return;const ue=this.y.createChangeEvent(ce);this.y=ce,this.W.handleDidChangeOptions(ue),this.S.handleDidChangeOptions(ue),this.k.fire(ue)}detectIndentation(G,Z){this.bb();const U=(0,f.guessIndentation)(this.v,Z,G);this.updateOptions({insertSpaces:U.insertSpaces,tabSize:U.tabSize,indentSize:U.tabSize})}normalizeIndentation(G){return this.bb(),(0,g.normalizeIndentation)(G,this.y.indentSize,this.y.insertSpaces)}getVersionId(){return this.bb(),this.C}mightContainRTL(){return this.v.mightContainRTL()}mightContainUnusualLineTerminators(){return this.v.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(G=null){const Z=this.findMatches(v.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this.v.resetMightContainUnusualLineTerminators(),this.pushEditOperations(G,Z.map(U=>({range:U.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this.v.mightContainNonBasicASCII()}getAlternativeVersionId(){return this.bb(),this.D}getInitialUndoRedoSnapshot(){return this.bb(),this.F}getOffsetAt(G){this.bb();const Z=this.jb(G.lineNumber,G.column,0);return this.v.getOffsetAt(Z.lineNumber,Z.column)}getPositionAt(G){this.bb();const Z=Math.min(this.v.getLength(),Math.max(0,G));return this.v.getPositionAt(Z)}hb(){this.C=this.C+1,this.D=this.C}_overwriteVersionId(G){this.C=G}_overwriteAlternativeVersionId(G){this.D=G}_overwriteInitialUndoRedoSnapshot(G){this.F=G}getValue(G,Z=!1){this.bb();const U=this.getFullModelRange(),j=this.getValueInRange(U,G);return Z?this.v.getBOM()+j:j}createSnapshot(G=!1){return new O(this.v.createSnapshot(G))}getValueLength(G,Z=!1){this.bb();const U=this.getFullModelRange(),j=this.getValueLengthInRange(U,G);return Z?this.v.getBOM().length+j:j}getValueInRange(G,Z=0){return this.bb(),this.v.getValueInRange(this.validateRange(G),Z)}getValueLengthInRange(G,Z=0){return this.bb(),this.v.getValueLengthInRange(this.validateRange(G),Z)}getCharacterCountInRange(G,Z=0){return this.bb(),this.v.getCharacterCountInRange(this.validateRange(G),Z)}getLineCount(){return this.bb(),this.v.getLineCount()}getLineContent(G){if(this.bb(),G<1||G>this.getLineCount())throw new Error("Illegal value for lineNumber");return this.v.getLineContent(G)}getLineLength(G){if(this.bb(),G<1||G>this.getLineCount())throw new Error("Illegal value for lineNumber");return this.v.getLineLength(G)}getLinesContent(){return this.bb(),this.v.getLinesContent()}getEOL(){return this.bb(),this.v.getEOL()}getEndOfLineSequence(){return this.bb(),this.v.getEOL()===`
`?0:1}getLineMinColumn(G){return this.bb(),1}getLineMaxColumn(G){if(this.bb(),G<1||G>this.getLineCount())throw new Error("Illegal value for lineNumber");return this.v.getLineLength(G)+1}getLineFirstNonWhitespaceColumn(G){if(this.bb(),G<1||G>this.getLineCount())throw new Error("Illegal value for lineNumber");return this.v.getLineFirstNonWhitespaceColumn(G)}getLineLastNonWhitespaceColumn(G){if(this.bb(),G<1||G>this.getLineCount())throw new Error("Illegal value for lineNumber");return this.v.getLineLastNonWhitespaceColumn(G)}_validateRangeRelaxedNoAllocations(G){const Z=this.v.getLineCount(),U=G.startLineNumber,j=G.startColumn;let H=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),_=Math.floor(typeof j=="number"&&!isNaN(j)?j:1);if(H<1)H=1,_=1;else if(H>Z)H=Z,_=this.getLineMaxColumn(H);else if(_<=1)_=1;else{const me=this.getLineMaxColumn(H);_>=me&&(_=me)}const ce=G.endLineNumber,ue=G.endColumn;let se=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1),he=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1);if(se<1)se=1,he=1;else if(se>Z)se=Z,he=this.getLineMaxColumn(se);else if(he<=1)he=1;else{const me=this.getLineMaxColumn(se);he>=me&&(he=me)}return U===H&&j===_&&ce===se&&ue===he&&G instanceof t.Range&&!(G instanceof n.Selection)?G:new t.Range(H,_,se,he)}ib(G,Z,U){if(typeof G!="number"||typeof Z!="number"||isNaN(G)||isNaN(Z)||G<1||Z<1||(G|0)!==G||(Z|0)!==Z)return!1;const j=this.v.getLineCount();if(G>j)return!1;if(Z===1)return!0;const H=this.getLineMaxColumn(G);if(Z>H)return!1;if(U===1){const _=this.v.getLineCharCode(G,Z-2);if(v.isHighSurrogate(_))return!1}return!0}jb(G,Z,U){const j=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),H=Math.floor(typeof Z=="number"&&!isNaN(Z)?Z:1),_=this.v.getLineCount();if(j<1)return new i.Position(1,1);if(j>_)return new i.Position(_,this.getLineMaxColumn(_));if(H<=1)return new i.Position(j,1);const ce=this.getLineMaxColumn(j);if(H>=ce)return new i.Position(j,ce);if(U===1){const ue=this.v.getLineCharCode(j,H-2);if(v.isHighSurrogate(ue))return new i.Position(j,H-1)}return new i.Position(j,H)}validatePosition(G){return this.bb(),G instanceof i.Position&&this.ib(G.lineNumber,G.column,1)?G:this.jb(G.lineNumber,G.column,1)}kb(G,Z){const U=G.startLineNumber,j=G.startColumn,H=G.endLineNumber,_=G.endColumn;if(!this.ib(U,j,0)||!this.ib(H,_,0))return!1;if(Z===1){const ce=j>1?this.v.getLineCharCode(U,j-2):0,ue=_>1&&_<=this.v.getLineLength(H)?this.v.getLineCharCode(H,_-2):0,se=v.isHighSurrogate(ce),he=v.isHighSurrogate(ue);return!se&&!he}return!0}validateRange(G){if(this.bb(),G instanceof t.Range&&!(G instanceof n.Selection)&&this.kb(G,1))return G;const U=this.jb(G.startLineNumber,G.startColumn,0),j=this.jb(G.endLineNumber,G.endColumn,0),H=U.lineNumber,_=U.column,ce=j.lineNumber,ue=j.column;{const se=_>1?this.v.getLineCharCode(H,_-2):0,he=ue>1&&ue<=this.v.getLineLength(ce)?this.v.getLineCharCode(ce,ue-2):0,me=v.isHighSurrogate(se),Se=v.isHighSurrogate(he);return!me&&!Se?new t.Range(H,_,ce,ue):H===ce&&_===ue?new t.Range(H,_-1,ce,ue-1):me&&Se?new t.Range(H,_-1,ce,ue+1):me?new t.Range(H,_-1,ce,ue):new t.Range(H,_,ce,ue+1)}return new t.Range(H,_,ce,ue)}modifyPosition(G,Z){this.bb();const U=this.getOffsetAt(G)+Z;return this.getPositionAt(Math.min(this.v.getLength(),Math.max(0,U)))}getFullModelRange(){this.bb();const G=this.getLineCount();return new t.Range(1,1,G,this.getLineMaxColumn(G))}lb(G,Z,U,j){return this.v.findMatchesLineByLine(G,Z,U,j)}findMatches(G,Z,U,j,H,_,ce=A){this.bb();let ue=null;Z!==null&&(Array.isArray(Z)||(Z=[Z]),Z.every(me=>t.Range.isIRange(me))&&(ue=Z.map(me=>this.validateRange(me)))),ue===null&&(ue=[this.getFullModelRange()]),ue=ue.sort((me,Se)=>me.startLineNumber-Se.startLineNumber||me.startColumn-Se.startColumn);const se=[];se.push(ue.reduce((me,Se)=>t.Range.areIntersecting(me,Se)?me.plusRange(Se):(se.push(me),Se)));let he;if(!U&&G.indexOf(`
`)<0){const Se=new b.SearchParams(G,U,j,H).parseSearchRequest();if(!Se)return[];he=ye=>this.lb(ye,Se,_,ce)}else he=me=>b.TextModelSearch.findMatches(this,new b.SearchParams(G,U,j,H),me,_,ce);return se.map(he).reduce((me,Se)=>me.concat(Se),[])}findNextMatch(G,Z,U,j,H,_){this.bb();const ce=this.validatePosition(Z);if(!U&&G.indexOf(`
`)<0){const se=new b.SearchParams(G,U,j,H).parseSearchRequest();if(!se)return null;const he=this.getLineCount();let me=new t.Range(ce.lineNumber,ce.column,he,this.getLineMaxColumn(he)),Se=this.lb(me,se,_,1);return b.TextModelSearch.findNextMatch(this,new b.SearchParams(G,U,j,H),ce,_),Se.length>0||(me=new t.Range(1,1,ce.lineNumber,this.getLineMaxColumn(ce.lineNumber)),Se=this.lb(me,se,_,1),Se.length>0)?Se[0]:null}return b.TextModelSearch.findNextMatch(this,new b.SearchParams(G,U,j,H),ce,_)}findPreviousMatch(G,Z,U,j,H,_){this.bb();const ce=this.validatePosition(Z);return b.TextModelSearch.findPreviousMatch(this,new b.SearchParams(G,U,j,H),ce,_)}pushStackElement(){this.I.pushStackElement()}popStackElement(){this.I.popStackElement()}pushEOL(G){if((this.getEOL()===`
`?0:1)!==G)try{this.h.beginDeferredEmit(),this.p.beginDeferredEmit(),this.F===null&&(this.F=this.Y.createSnapshot(this.uri)),this.I.pushEOL(G)}finally{this.p.endDeferredEmit(),this.h.endDeferredEmit()}}mb(G){return G instanceof u.ValidAnnotatedEditOperation?G:new u.ValidAnnotatedEditOperation(G.identifier||null,this.validateRange(G.range),G.text,G.forceMoveMarkers||!1,G.isAutoWhitespaceEdit||!1,G._isTracked||!1)}nb(G){const Z=[];for(let U=0,j=G.length;U<j;U++)Z[U]=this.mb(G[U]);return Z}pushEditOperations(G,Z,U,j){try{return this.h.beginDeferredEmit(),this.p.beginDeferredEmit(),this.ob(G,this.nb(Z),U,j)}finally{this.p.endDeferredEmit(),this.h.endDeferredEmit()}}ob(G,Z,U,j){if(this.y.trimAutoWhitespace&&this.M){const H=Z.map(ce=>({range:this.validateRange(ce.range),text:ce.text}));let _=!0;if(G)for(let ce=0,ue=G.length;ce<ue;ce++){const se=G[ce];let he=!1;for(let me=0,Se=H.length;me<Se;me++){const ye=H[me].range,ke=ye.startLineNumber>se.endLineNumber,Te=se.startLineNumber>ye.endLineNumber;if(!ke&&!Te){he=!0;break}}if(!he){_=!1;break}}if(_)for(let ce=0,ue=this.M.length;ce<ue;ce++){const se=this.M[ce],he=this.getLineMaxColumn(se);let me=!0;for(let Se=0,ye=H.length;Se<ye;Se++){const ke=H[Se].range,Te=H[Se].text;if(!(se<ke.startLineNumber||se>ke.endLineNumber)&&!(se===ke.startLineNumber&&ke.startColumn===he&&ke.isEmpty()&&Te&&Te.length>0&&Te.charAt(0)===`
`)&&!(se===ke.startLineNumber&&ke.startColumn===1&&ke.isEmpty()&&Te&&Te.length>0&&Te.charAt(Te.length-1)===`
`)){me=!1;break}}if(me){const Se=new t.Range(se,1,se,he);Z.push(new u.ValidAnnotatedEditOperation(null,Se,null,!1,!1,!1))}}this.M=null}return this.F===null&&(this.F=this.Y.createSnapshot(this.uri)),this.I.pushEditOperation(G,Z,U,j)}_applyUndo(G,Z,U,j){const H=G.map(_=>{const ce=this.getPositionAt(_.newPosition),ue=this.getPositionAt(_.newEnd);return{range:new t.Range(ce.lineNumber,ce.column,ue.lineNumber,ue.column),text:_.oldText}});this.pb(H,Z,!0,!1,U,j)}_applyRedo(G,Z,U,j){const H=G.map(_=>{const ce=this.getPositionAt(_.oldPosition),ue=this.getPositionAt(_.oldEnd);return{range:new t.Range(ce.lineNumber,ce.column,ue.lineNumber,ue.column),text:_.newText}});this.pb(H,Z,!1,!0,U,j)}pb(G,Z,U,j,H,_){try{this.h.beginDeferredEmit(),this.p.beginDeferredEmit(),this.J=U,this.L=j,this.applyEdits(G,!1),this.setEOL(Z),this._overwriteAlternativeVersionId(H)}finally{this.J=!1,this.L=!1,this.p.endDeferredEmit(_),this.h.endDeferredEmit()}}applyEdits(G,Z=!1){try{this.h.beginDeferredEmit(),this.p.beginDeferredEmit();const U=this.nb(G);return this.qb(U,Z)}finally{this.p.endDeferredEmit(),this.h.endDeferredEmit()}}qb(G,Z){const U=this.v.getLineCount(),j=this.v.applyEdits(G,this.y.trimAutoWhitespace,Z),H=this.v.getLineCount(),_=j.changes;if(this.M=j.trimAutoWhitespaceLineNumbers,_.length!==0){for(let se=0,he=_.length;se<he;se++){const me=_[se],[Se,ye,ke]=(0,d.countEOL)(me.text);this.U.acceptEdit(me.range,me.text,Se,ye,ke),this.R.acceptReplace(me.rangeOffset,me.rangeLength,me.text.length,me.forceMoveMarkers)}const ce=[];this.hb();let ue=U;for(let se=0,he=_.length;se<he;se++){const me=_[se],[Se]=(0,d.countEOL)(me.text);this.h.fire();const ye=me.range.startLineNumber,ke=me.range.endLineNumber,Te=ke-ye,Pe=Se,Ie=Math.min(Te,Pe),ve=Pe-Te,ge=H-ue-ve+ye,we=ge,de=ge+Pe,pe=this.R.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(we,1)),this.getOffsetAt(new i.Position(de,this.getLineMaxColumn(de))),0),be=k.LineInjectedText.fromDecorations(pe),Ce=new w.ArrayQueue(be);for(let Ee=Ie;Ee>=0;Ee--){const Ae=ye+Ee,Me=ge+Ee;Ce.takeFromEndWhile(ze=>ze.lineNumber>Me);const Re=Ce.takeFromEndWhile(ze=>ze.lineNumber===Me);ce.push(new k.ModelRawLineChanged(Ae,this.getLineContent(Me),Re))}if(Ie<Te){const Ee=ye+Ie;ce.push(new k.ModelRawLinesDeleted(Ee+1,ke))}if(Ie<Pe){const Ee=new w.ArrayQueue(be),Ae=ye+Ie,Me=Pe-Ie,Re=H-ue-Me+Ae+1,ze=[],Fe=[];for(let Ve=0;Ve<Me;Ve++){const Ue=Re+Ve;Fe[Ve]=this.getLineContent(Ue),Ee.takeWhile(Je=>Je.lineNumber<Ue),ze[Ve]=Ee.takeWhile(Je=>Je.lineNumber===Ue)}ce.push(new k.ModelRawLinesInserted(Ae+1,ye+Pe,Fe,ze))}ue+=ve}this.cb(new k.ModelRawContentChangedEvent(ce,this.getVersionId(),this.J,this.L),{changes:_,eol:this.v.getEOL(),versionId:this.getVersionId(),isUndoing:this.J,isRedoing:this.L,isFlush:!1})}return j.reverseEdits===null?void 0:j.reverseEdits}undo(){return this.Y.undo(this.uri)}canUndo(){return this.Y.canUndo(this.uri)}redo(){return this.Y.redo(this.uri)}canRedo(){return this.Y.canRedo(this.uri)}rb(G){if(G===null||G.size===0)return;const U=Array.from(G).map(j=>new k.ModelRawLineChanged(j,this.getLineContent(j),this.tb(j)));this.n.fire(new k.ModelInjectedTextChangedEvent(U))}changeDecorations(G,Z=0){this.bb();try{return this.h.beginDeferredEmit(),this.sb(Z,G)}finally{this.h.endDeferredEmit()}}sb(G,Z){const U={addDecoration:(H,_)=>this.xb(G,[],[{range:H,options:_}])[0],changeDecoration:(H,_)=>{this.vb(H,_)},changeDecorationOptions:(H,_)=>{this.wb(H,Y(_))},removeDecoration:H=>{this.xb(G,[H],[])},deltaDecorations:(H,_)=>H.length===0&&_.length===0?[]:this.xb(G,H,_)};let j=null;try{j=Z(U)}catch(H){(0,E.onUnexpectedError)(H)}return U.addDecoration=F,U.changeDecoration=F,U.changeDecorationOptions=F,U.removeDecoration=F,U.deltaDecorations=F,j}deltaDecorations(G,Z,U=0){if(this.bb(),G||(G=[]),G.length===0&&Z.length===0)return[];try{return this.O++,this.O>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,E.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this.h.beginDeferredEmit(),this.xb(U,G,Z)}finally{this.h.endDeferredEmit(),this.O--}}_getTrackedRange(G){return this.getDecorationRange(G)}_setTrackedRange(G,Z,U){const j=G?this.Q[G]:null;if(!j)return Z?this.xb(0,[],[{range:Z,options:q[U]}])[0]:null;if(!Z)return this.R.delete(j),delete this.Q[j.id],null;const H=this._validateRangeRelaxedNoAllocations(Z),_=this.v.getOffsetAt(H.startLineNumber,H.startColumn),ce=this.v.getOffsetAt(H.endLineNumber,H.endColumn);return this.R.delete(j),j.reset(this.getVersionId(),_,ce,H),j.setOptions(q[U]),this.R.insert(j),j.id}removeAllDecorationsWithOwnerId(G){if(this.z)return;const Z=this.R.collectNodesFromOwner(G);for(let U=0,j=Z.length;U<j;U++){const H=Z[U];this.R.delete(H),delete this.Q[H.id]}}getDecorationOptions(G){const Z=this.Q[G];return Z?Z.options:null}getDecorationRange(G){const Z=this.Q[G];return Z?this.R.getNodeRange(this,Z):null}getLineDecorations(G,Z=0,U=!1){return G<1||G>this.getLineCount()?[]:this.getLinesDecorations(G,G,Z,U)}getLinesDecorations(G,Z,U=0,j=!1){const H=this.getLineCount(),_=Math.min(H,Math.max(1,G)),ce=Math.min(H,Math.max(1,Z)),ue=this.getLineMaxColumn(ce),se=new t.Range(_,1,ce,ue),he=this.ub(se,U,j);return(0,w.pushMany)(he,this.S.getDecorationsInRange(se,U,j)),he}getDecorationsInRange(G,Z=0,U=!1,j=!1){const H=this.validateRange(G),_=this.ub(H,Z,U);return(0,w.pushMany)(_,this.S.getDecorationsInRange(H,Z,U,j)),_}getOverviewRulerDecorations(G=0,Z=!1){return this.R.getAll(this,G,Z,!0)}getInjectedTextDecorations(G=0){return this.R.getAllInjectedText(this,G)}tb(G){const Z=this.v.getOffsetAt(G,1),U=Z+this.v.getLineLength(G),j=this.R.getInjectedTextInInterval(this,Z,U,0);return k.LineInjectedText.fromDecorations(j).filter(H=>H.lineNumber===G)}getAllDecorations(G=0,Z=!1){let U=this.R.getAll(this,G,Z,!1);return U=U.concat(this.S.getAllDecorations(G,Z)),U}ub(G,Z,U){const j=this.v.getOffsetAt(G.startLineNumber,G.startColumn),H=this.v.getOffsetAt(G.endLineNumber,G.endColumn);return this.R.getAllInInterval(this,j,H,Z,U)}getRangeAt(G,Z){return this.v.getRangeAt(G,Z-G)}vb(G,Z){const U=this.Q[G];if(!U)return;if(U.options.after){const ce=this.getDecorationRange(G);this.h.recordLineAffectedByInjectedText(ce.endLineNumber)}if(U.options.before){const ce=this.getDecorationRange(G);this.h.recordLineAffectedByInjectedText(ce.startLineNumber)}const j=this._validateRangeRelaxedNoAllocations(Z),H=this.v.getOffsetAt(j.startLineNumber,j.startColumn),_=this.v.getOffsetAt(j.endLineNumber,j.endColumn);this.R.delete(U),U.reset(this.getVersionId(),H,_,j),this.R.insert(U),this.h.checkAffectedAndFire(U.options),U.options.after&&this.h.recordLineAffectedByInjectedText(j.endLineNumber),U.options.before&&this.h.recordLineAffectedByInjectedText(j.startLineNumber)}wb(G,Z){const U=this.Q[G];if(!U)return;const j=!!(U.options.overviewRuler&&U.options.overviewRuler.color),H=!!(Z.overviewRuler&&Z.overviewRuler.color);if(this.h.checkAffectedAndFire(U.options),this.h.checkAffectedAndFire(Z),U.options.after||Z.after){const _=this.R.getNodeRange(this,U);this.h.recordLineAffectedByInjectedText(_.endLineNumber)}if(U.options.before||Z.before){const _=this.R.getNodeRange(this,U);this.h.recordLineAffectedByInjectedText(_.startLineNumber)}j!==H?(this.R.delete(U),U.setOptions(Z),this.R.insert(U)):U.setOptions(Z)}xb(G,Z,U){const j=this.getVersionId(),H=Z.length;let _=0;const ce=U.length;let ue=0;this.h.beginDeferredEmit();try{const se=new Array(ce);for(;_<H||ue<ce;){let he=null;if(_<H){do he=this.Q[Z[_++]];while(!he&&_<H);if(he){if(he.options.after){const me=this.R.getNodeRange(this,he);this.h.recordLineAffectedByInjectedText(me.endLineNumber)}if(he.options.before){const me=this.R.getNodeRange(this,he);this.h.recordLineAffectedByInjectedText(me.startLineNumber)}this.R.delete(he),this.h.checkAffectedAndFire(he.options)}}if(ue<ce){if(!he){const Pe=++this.P,Ie=`${this.N};${Pe}`;he=new S.IntervalNode(Ie,0,0),this.Q[Ie]=he}const me=U[ue],Se=this._validateRangeRelaxedNoAllocations(me.range),ye=Y(me.options),ke=this.v.getOffsetAt(Se.startLineNumber,Se.startColumn),Te=this.v.getOffsetAt(Se.endLineNumber,Se.endColumn);he.ownerId=G,he.reset(j,ke,Te,Se),he.setOptions(ye),he.options.after&&this.h.recordLineAffectedByInjectedText(Se.endLineNumber),he.options.before&&this.h.recordLineAffectedByInjectedText(Se.startLineNumber),this.h.checkAffectedAndFire(ye),this.R.insert(he),se[ue]=he.id,ue++}else he&&delete this.Q[he.id]}return se}finally{this.h.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setMode(G,Z){this.tokenization.setLanguageId(G,Z)}getLanguageIdAtPosition(G,Z){return this.tokenization.getLanguageIdAtPosition(G,Z)}getWordAtPosition(G){return this.U.getWordAtPosition(G)}getWordUntilPosition(G){return this.U.getWordUntilPosition(G)}normalizePosition(G,Z){return G}getLineIndentColumn(G){return V(this.getLineContent(G))+1}};W._MODEL_SYNC_LIMIT=50*1024*1024,W.a=20*1024*1024,W.b=300*1e3,W.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:a.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:a.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:a.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:a.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:a.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:a.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},W=De([fe(4,I.IUndoRedoService),fe(5,r.ILanguageService),fe(6,c.ILanguageConfigurationService)],W),e.TextModel=W;function V(oe){let G=0;for(const Z of oe)if(Z===" "||Z==="	")G++;else break;return G}function R(oe){return!!(oe.options.overviewRuler&&oe.options.overviewRuler.color)}function $(oe){return!!oe.options.after||!!oe.options.before}class X{constructor(){this.a=new S.IntervalTree,this.b=new S.IntervalTree,this.d=new S.IntervalTree}ensureAllNodesHaveRanges(G){this.getAll(G,0,!1,!1)}f(G,Z){for(const U of Z)U.range===null&&(U.range=G.getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd));return Z}getAllInInterval(G,Z,U,j,H){const _=G.getVersionId(),ce=this.g(Z,U,j,H,_);return this.f(G,ce)}g(G,Z,U,j,H){const _=this.a.intervalSearch(G,Z,U,j,H),ce=this.b.intervalSearch(G,Z,U,j,H),ue=this.d.intervalSearch(G,Z,U,j,H);return _.concat(ce).concat(ue)}getInjectedTextInInterval(G,Z,U,j){const H=G.getVersionId(),_=this.d.intervalSearch(Z,U,j,!1,H);return this.f(G,_).filter(ce=>ce.options.showIfCollapsed||!ce.range.isEmpty())}getAllInjectedText(G,Z){const U=G.getVersionId(),j=this.d.search(Z,!1,U);return this.f(G,j).filter(H=>H.options.showIfCollapsed||!H.range.isEmpty())}getAll(G,Z,U,j){const H=G.getVersionId(),_=this.h(Z,U,j,H);return this.f(G,_)}h(G,Z,U,j){if(U)return this.b.search(G,Z,j);{const H=this.a.search(G,Z,j),_=this.b.search(G,Z,j),ce=this.d.search(G,Z,j);return H.concat(_).concat(ce)}}collectNodesFromOwner(G){const Z=this.a.collectNodesFromOwner(G),U=this.b.collectNodesFromOwner(G),j=this.d.collectNodesFromOwner(G);return Z.concat(U).concat(j)}collectNodesPostOrder(){const G=this.a.collectNodesPostOrder(),Z=this.b.collectNodesPostOrder(),U=this.d.collectNodesPostOrder();return G.concat(Z).concat(U)}insert(G){$(G)?this.d.insert(G):R(G)?this.b.insert(G):this.a.insert(G)}delete(G){$(G)?this.d.delete(G):R(G)?this.b.delete(G):this.a.delete(G)}getNodeRange(G,Z){const U=G.getVersionId();return Z.cachedVersionId!==U&&this.k(Z,U),Z.range===null&&(Z.range=G.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd)),Z.range}k(G,Z){$(G)?this.d.resolveNode(G,Z):R(G)?this.b.resolveNode(G,Z):this.a.resolveNode(G,Z)}acceptReplace(G,Z,U,j){this.a.acceptReplace(G,Z,U,j),this.b.acceptReplace(G,Z,U,j),this.d.acceptReplace(G,Z,U,j)}}function ne(oe){return oe.replace(/[^a-z0-9\-_]/gi," ")}class ae{constructor(G){this.color=G.color||"",this.darkColor=G.darkColor||""}}class ie extends ae{constructor(G){super(G),this.a=null,this.position=typeof G.position=="number"?G.position:u.OverviewRulerLane.Center}getColor(G){return this.a||(G.type!=="light"&&this.darkColor?this.a=this.b(this.darkColor,G):this.a=this.b(this.color,G)),this.a}invalidateCachedColor(){this.a=null}b(G,Z){if(typeof G=="string")return G;const U=G?Z.getColor(G.id):null;return U?U.toString():""}}e.ModelDecorationOverviewRulerOptions=ie;class le extends ae{constructor(G){super(G),this.position=G.position}getColor(G){return this.a||(G.type!=="light"&&this.darkColor?this.a=this.b(this.darkColor,G):this.a=this.b(this.color,G)),this.a}invalidateCachedColor(){this.a=void 0}b(G,Z){return typeof G=="string"?N.Color.fromHex(G):Z.getColor(G.id)}}e.ModelDecorationMinimapOptions=le;class J{static from(G){return G instanceof J?G:new J(G)}constructor(G){this.content=G.content||"",this.inlineClassName=G.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=G.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=G.attachedData||null,this.cursorStops=G.cursorStops||null}}e.ModelDecorationInjectedTextOptions=J;class x{static register(G){return new x(G)}static createDynamic(G){return new x(G)}constructor(G){var Z,U,j;this.description=G.description,this.blockClassName=G.blockClassName?ne(G.blockClassName):null,this.blockIsAfterEnd=(Z=G.blockIsAfterEnd)!==null&&Z!==void 0?Z:null,this.stickiness=G.stickiness||0,this.zIndex=G.zIndex||0,this.className=G.className?ne(G.className):null,this.hoverMessage=G.hoverMessage||null,this.glyphMarginHoverMessage=G.glyphMarginHoverMessage||null,this.isWholeLine=G.isWholeLine||!1,this.showIfCollapsed=G.showIfCollapsed||!1,this.collapseOnReplaceEdit=G.collapseOnReplaceEdit||!1,this.overviewRuler=G.overviewRuler?new ie(G.overviewRuler):null,this.minimap=G.minimap?new le(G.minimap):null,this.glyphMarginClassName=G.glyphMarginClassName?ne(G.glyphMarginClassName):null,this.linesDecorationsClassName=G.linesDecorationsClassName?ne(G.linesDecorationsClassName):null,this.firstLineDecorationClassName=G.firstLineDecorationClassName?ne(G.firstLineDecorationClassName):null,this.marginClassName=G.marginClassName?ne(G.marginClassName):null,this.inlineClassName=G.inlineClassName?ne(G.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=G.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=G.beforeContentClassName?ne(G.beforeContentClassName):null,this.afterContentClassName=G.afterContentClassName?ne(G.afterContentClassName):null,this.after=G.after?J.from(G.after):null,this.before=G.before?J.from(G.before):null,this.hideInCommentTokens=(U=G.hideInCommentTokens)!==null&&U!==void 0?U:!1,this.hideInStringTokens=(j=G.hideInStringTokens)!==null&&j!==void 0?j:!1}}e.ModelDecorationOptions=x,x.EMPTY=x.register({description:"empty"});const q=[x.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),x.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),x.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),x.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Y(oe){return oe instanceof x?oe:x.createDynamic(oe)}class Q extends y.Disposable{constructor(G){super(),this.n=G,this.a=this.q(new D.Emitter),this.event=this.a.event,this.l=null,this.b=0,this.g=!1,this.h=!1,this.k=!1}beginDeferredEmit(){this.b++}endDeferredEmit(){var G;this.b--,this.b===0&&(this.g&&this.s(),(G=this.l)===null||G===void 0||G.clear(),this.l=null)}recordLineAffectedByInjectedText(G){this.l||(this.l=new Set),this.l.add(G)}checkAffectedAndFire(G){this.h||(this.h=!!(G.minimap&&G.minimap.position)),this.k||(this.k=!!(G.overviewRuler&&G.overviewRuler.color)),this.p()}fire(){this.h=!0,this.k=!0,this.p()}p(){this.b===0?this.s():this.g=!0}s(){this.n(this.l);const G={affectsMinimap:this.h,affectsOverviewRuler:this.k};this.g=!1,this.h=!1,this.k=!1,this.a.fire(G)}}class re extends y.Disposable{constructor(){super(),this.a=this.q(new D.Emitter),this.fastEvent=this.a.event,this.b=this.q(new D.Emitter),this.slowEvent=this.b.event,this.g=0,this.h=null}beginDeferredEmit(){this.g++}endDeferredEmit(G=null){if(this.g--,this.g===0&&this.h!==null){this.h.rawContentChangedEvent.resultingSelection=G;const Z=this.h;this.h=null,this.a.fire(Z),this.b.fire(Z)}}fire(G){if(this.g>0){this.h?this.h=this.h.merge(G):this.h=G;return}this.a.fire(G),this.b.fire(G)}}}),define(ee[321],te([1,0,6,2,16,13,38,157,70,40,52,172,32,12,20,24,62,178,129,293,47,317,295,46,34,76,59,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function k(V){return V.toString()}function I(V){const R=new s.StringSHA1,$=V.createSnapshot();let X;for(;X=$.read();)R.update(X);return R.digest()}class M{constructor(R,$,X){this.f=new N.DisposableStore,this.model=R,this.c=null,this.d=null,this.f.add(R.onWillDispose(()=>$(R))),this.f.add(R.onDidChangeLanguage(ne=>X(R,ne)))}g(){this.d&&(this.d.dispose(),this.d=null)}dispose(){this.f.dispose(),this.g()}setLanguage(R,$){this.g(),this.c=R,this.d=this.c.onDidChange(()=>this.model.setMode(R.languageId,$)),this.model.setMode(R.languageId,$)}}const B=E.isLinux||E.isMacintosh?1:2;class z{constructor(R,$,X,ne,ae,ie,le,J){this.uri=R,this.initialUndoRedoSnapshot=$,this.time=X,this.sharesUndoRedoStack=ne,this.heapSize=ae,this.sha1=ie,this.versionId=le,this.alternativeVersionId=J}}let P=class Wt extends N.Disposable{constructor(R,$,X,ne,ae,ie,le,J,x){super(),this.p=R,this.r=$,this.s=X,this.t=ne,this.u=ae,this.v=ie,this.w=le,this.y=J,this.c=this.q(new w.Emitter),this.onModelAdded=this.c.event,this.g=this.q(new w.Emitter),this.onModelRemoved=this.g.event,this.h=this.q(new w.Emitter),this.onModelLanguageChanged=this.h.event,this.j=Object.create(null),this.k={},this.l=new Map,this.m=0,this.n=this.q(new O(this.s,this.v,this.t)),this.q(this.p.onDidChangeConfiguration(q=>this.D(q))),this.D(void 0),this.q(new T(this.n,this,this.s,this.p,this.y,x))}static z(R,$){var X;let ne=v.EDITOR_MODEL_DEFAULTS.tabSize;if(R.editor&&typeof R.editor.tabSize<"u"){const re=parseInt(R.editor.tabSize,10);isNaN(re)||(ne=re),ne<1&&(ne=1)}let ae="tabSize";if(R.editor&&typeof R.editor.indentSize<"u"&&R.editor.indentSize!=="tabSize"){const re=parseInt(R.editor.indentSize,10);isNaN(re)||(ae=Math.max(re,1))}let ie=v.EDITOR_MODEL_DEFAULTS.insertSpaces;R.editor&&typeof R.editor.insertSpaces<"u"&&(ie=R.editor.insertSpaces==="false"?!1:Boolean(R.editor.insertSpaces));let le=B;const J=R.eol;J===`\r
`?le=2:J===`
`&&(le=1);let x=v.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;R.editor&&typeof R.editor.trimAutoWhitespace<"u"&&(x=R.editor.trimAutoWhitespace==="false"?!1:Boolean(R.editor.trimAutoWhitespace));let q=v.EDITOR_MODEL_DEFAULTS.detectIndentation;R.editor&&typeof R.editor.detectIndentation<"u"&&(q=R.editor.detectIndentation==="false"?!1:Boolean(R.editor.detectIndentation));let Y=v.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;R.editor&&typeof R.editor.largeFileOptimizations<"u"&&(Y=R.editor.largeFileOptimizations==="false"?!1:Boolean(R.editor.largeFileOptimizations));let Q=v.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((X=R.editor)===null||X===void 0?void 0:X.bracketPairColorization)&&typeof R.editor.bracketPairColorization=="object"&&(Q={enabled:!!R.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!R.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:$,tabSize:ne,indentSize:ae,insertSpaces:ie,detectIndentation:q,defaultEOL:le,trimAutoWhitespace:x,largeFileOptimizations:Y,bracketPairColorizationOptions:Q}}B(R,$){if(R)return this.r.getEOL(R,$);const X=this.p.getValue("files.eol",{overrideIdentifier:$});return X&&typeof X=="string"&&X!=="auto"?X:E.OS===3||E.OS===2?`
`:`\r
`}C(){const R=this.p.getValue("files.restoreUndoStack");return typeof R=="boolean"?R:!0}getCreationOptions(R,$,X){let ne=this.j[R+$];if(!ne){const ae=this.p.getValue("editor",{overrideIdentifier:R,resource:$}),ie=this.B($,R);ne=Wt.z({editor:ae,eol:ie},X),this.j[R+$]=ne}return ne}D(R){const $=this.j;this.j=Object.create(null);const X=Object.keys(this.k);for(let ne=0,ae=X.length;ne<ae;ne++){const ie=X[ne],le=this.k[ie],J=le.model.getLanguageId(),x=le.model.uri;if(R&&!R.affectsConfiguration("editor",{overrideIdentifier:J,resource:x})&&!R.affectsConfiguration("files.eol",{overrideIdentifier:J,resource:x}))continue;const q=$[J+x],Y=this.getCreationOptions(J,x,le.model.isForSimpleWidget);Wt.F(le.model,Y,q)}}static F(R,$,X){X&&X.defaultEOL!==$.defaultEOL&&R.getLineCount()===1&&R.setEOL($.defaultEOL===1?0:1),!(X&&X.detectIndentation===$.detectIndentation&&X.insertSpaces===$.insertSpaces&&X.tabSize===$.tabSize&&X.indentSize===$.indentSize&&X.trimAutoWhitespace===$.trimAutoWhitespace&&(0,S.equals)(X.bracketPairColorizationOptions,$.bracketPairColorizationOptions))&&($.detectIndentation?(R.detectIndentation($.insertSpaces,$.tabSize),R.updateOptions({trimAutoWhitespace:$.trimAutoWhitespace,bracketColorizationOptions:$.bracketPairColorizationOptions})):R.updateOptions({insertSpaces:$.insertSpaces,tabSize:$.tabSize,indentSize:$.indentSize,trimAutoWhitespace:$.trimAutoWhitespace,bracketColorizationOptions:$.bracketPairColorizationOptions}))}G(R){this.l.set(k(R.uri),R),this.m+=R.heapSize}H(R){const $=this.l.get(k(R));return $&&(this.m-=$.heapSize),this.l.delete(k(R)),$}I(R){if(this.m>R){const $=[];for(this.l.forEach(X=>{X.sharesUndoRedoStack||$.push(X)}),$.sort((X,ne)=>X.time-ne.time);$.length>0&&this.m>R;){const X=$.shift();this.H(X.uri),X.initialUndoRedoSnapshot!==null&&this.u.restoreSnapshot(X.initialUndoRedoSnapshot)}}}J(R,$,X,ne){const ae=this.getCreationOptions($,X,ne),ie=new y.TextModel(R,$,ae,X,this.u,this.v,this.w);if(X&&this.l.has(k(X))){const x=this.H(X),q=this.u.getElements(X),Y=I(ie)===x.sha1;if(Y||x.sharesUndoRedoStack){for(const Q of q.past)(0,l.isEditStackElement)(Q)&&Q.matchesResource(X)&&Q.setModel(ie);for(const Q of q.future)(0,l.isEditStackElement)(Q)&&Q.matchesResource(X)&&Q.setModel(ie);this.u.setElementsValidFlag(X,!0,Q=>(0,l.isEditStackElement)(Q)&&Q.matchesResource(X)),Y&&(ie._overwriteVersionId(x.versionId),ie._overwriteAlternativeVersionId(x.alternativeVersionId),ie._overwriteInitialUndoRedoSnapshot(x.initialUndoRedoSnapshot))}else x.initialUndoRedoSnapshot!==null&&this.u.restoreSnapshot(x.initialUndoRedoSnapshot)}const le=k(ie.uri);if(this.k[le])throw new Error("ModelService: Cannot add model because it already exists!");const J=new M(ie,x=>this.M(x),(x,q)=>this.N(x,q));return this.k[le]=J,J}createModel(R,$,X,ne=!1){let ae;return $?(ae=this.J(R,$.languageId,X,ne),this.setMode(ae.model,$)):ae=this.J(R,C.PLAINTEXT_LANGUAGE_ID,X,ne),this.c.fire(ae.model),ae.model}setMode(R,$,X){if(!$)return;const ne=this.k[k(R.uri)];!ne||ne.setLanguage($,X)}getModels(){const R=[],$=Object.keys(this.k);for(let X=0,ne=$.length;X<ne;X++){const ae=$[X];R.push(this.k[ae].model)}return R}getModel(R){const $=k(R),X=this.k[$];return X?X.model:null}getSemanticTokensProviderStyling(R){return this.n.get(R)}L(R){return R.scheme===o.Schemas.file||R.scheme===o.Schemas.vscodeRemote||R.scheme===o.Schemas.vscodeUserData||R.scheme===o.Schemas.vscodeNotebookCell||R.scheme==="fake-fs"}M(R){const $=k(R.uri),X=this.k[$],ne=this.u.getUriComparisonKey(R.uri)!==R.uri.toString();let ae=!1,ie=0;if(ne||this.C()&&this.L(R.uri)){const J=this.u.getElements(R.uri);if(J.past.length>0||J.future.length>0){for(const x of J.past)(0,l.isEditStackElement)(x)&&x.matchesResource(R.uri)&&(ae=!0,ie+=x.heapSize(R.uri),x.setModel(R.uri));for(const x of J.future)(0,l.isEditStackElement)(x)&&x.matchesResource(R.uri)&&(ae=!0,ie+=x.heapSize(R.uri),x.setModel(R.uri))}}const le=Wt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(ae)if(!ne&&ie>le){const J=X.model.getInitialUndoRedoSnapshot();J!==null&&this.u.restoreSnapshot(J)}else this.I(le-ie),this.u.setElementsValidFlag(R.uri,!1,J=>(0,l.isEditStackElement)(J)&&J.matchesResource(R.uri)),this.G(new z(R.uri,X.model.getInitialUndoRedoSnapshot(),Date.now(),ne,ie,I(R),R.getVersionId(),R.getAlternativeVersionId()));else if(!ne){const J=X.model.getInitialUndoRedoSnapshot();J!==null&&this.u.restoreSnapshot(J)}delete this.k[$],X.dispose(),delete this.j[R.getLanguageId()+R.uri],this.g.fire(R)}N(R,$){const X=$.oldLanguage,ne=R.getLanguageId(),ae=this.getCreationOptions(X,R.uri,R.isForSimpleWidget),ie=this.getCreationOptions(ne,R.uri,R.isForSimpleWidget);Wt.F(R,ie,ae),this.h.fire({model:R,oldLanguageId:X})}};P.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,P=De([fe(0,t.IConfigurationService),fe(1,i.ITextResourcePropertiesService),fe(2,r.IThemeService),fe(3,c.ILogService),fe(4,u.IUndoRedoService),fe(5,d.ILanguageService),fe(6,p.ILanguageConfigurationService),fe(7,m.ILanguageFeatureDebounceService),fe(8,L.ILanguageFeaturesService)],P),e.ModelService=P,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function A(V,R,$){var X;const ne=(X=$.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:V.getLanguageId(),resource:V.uri}))===null||X===void 0?void 0:X.enabled;return typeof ne=="boolean"?ne:R.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=A;let T=class extends N.Disposable{constructor(R,$,X,ne,ae,ie){super(),this.c=Object.create(null),this.g=R;const le=q=>{this.c[q.uri.toString()]=new W(q,this.g,X,ae,ie)},J=(q,Y)=>{Y.dispose(),delete this.c[q.uri.toString()]},x=()=>{for(const q of $.getModels()){const Y=this.c[q.uri.toString()];A(q,X,ne)?Y||le(q):Y&&J(q,Y)}};this.q($.onModelAdded(q=>{A(q,X,ne)&&le(q)})),this.q($.onModelRemoved(q=>{const Y=this.c[q.uri.toString()];Y&&J(q,Y)})),this.q(ne.onDidChangeConfiguration(q=>{q.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&x()})),this.q(X.onDidColorThemeChange(x))}dispose(){for(const R of Object.values(this.c))R.dispose();super.dispose()}};T=De([fe(1,g.IModelService),fe(2,r.IThemeService),fe(3,t.IConfigurationService),fe(4,m.ILanguageFeatureDebounceService),fe(5,L.ILanguageFeaturesService)],T);class O extends N.Disposable{constructor(R,$,X){super(),this.g=R,this.h=$,this.j=X,this.c=new WeakMap,this.q(this.g.onDidColorThemeChange(()=>{this.c=new WeakMap}))}get(R){return this.c.has(R)||this.c.set(R,new h.SemanticTokensProviderStyling(R.getLegend(),this.g,this.h,this.j)),this.c.get(R)}}class F{constructor(R,$,X){this.provider=R,this.resultId=$,this.data=X}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class At extends N.Disposable{constructor(R,$,X,ne,ae){super(),this.c=!1,this.g=R,this.h=$,this.j=ae.documentSemanticTokensProvider,this.k=ne.for(this.j,"DocumentSemanticTokens",{min:At.REQUEST_MIN_DELAY,max:At.REQUEST_MAX_DELAY}),this.l=this.q(new n.RunOnceScheduler(()=>this.s(),At.REQUEST_MIN_DELAY)),this.m=null,this.n=null,this.p=[],this.r=!1,this.q(this.g.onDidChangeContent(()=>{this.l.isScheduled()||this.l.schedule(this.k.get(this.g))})),this.q(this.g.onDidChangeLanguage(()=>{this.m&&(this.m.dispose(),this.m=null),this.n&&(this.n.cancel(),this.n=null),this.u(null,null,null,[]),this.l.schedule(0)}));const ie=()=>{(0,N.dispose)(this.p),this.p=[];for(const le of this.j.all(R))typeof le.onDidChange=="function"&&this.p.push(le.onDidChange(()=>{if(this.n){this.r=!0;return}this.l.schedule(0)}))};ie(),this.q(this.j.onDidChange(()=>{ie(),this.l.schedule(this.k.get(this.g))})),this.q(X.onDidColorThemeChange(le=>{this.u(null,null,null,[]),this.l.schedule(this.k.get(this.g))})),this.l.schedule(0)}dispose(){this.m&&(this.m.dispose(),this.m=null),this.n&&(this.n.cancel(),this.n=null),this.u(null,null,null,[]),this.c=!0,super.dispose()}s(){if(this.n)return;if(!(0,f.hasDocumentSemanticTokensProvider)(this.j,this.g)){this.m&&this.g.tokenization.setSemanticTokens(null,!1);return}const R=new a.CancellationTokenSource,$=this.m?this.m.provider:null,X=this.m&&this.m.resultId||null,ne=(0,f.getDocumentSemanticTokens)(this.j,this.g,$,X,R.token);this.n=R,this.r=!1;const ae=[],ie=this.g.onDidChangeContent(J=>{ae.push(J)}),le=new b.StopWatch(!1);ne.then(J=>{if(this.k.update(this.g,le.elapsed()),this.n=null,ie.dispose(),!J)this.u(null,null,null,ae);else{const{provider:x,tokens:q}=J,Y=this.h.get(x);this.u(x,q||null,Y,ae)}},J=>{J&&(D.isCancellationError(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||D.onUnexpectedError(J),this.n=null,ie.dispose(),(ae.length>0||this.r)&&(this.l.isScheduled()||this.l.schedule(this.k.get(this.g)))})}static t(R,$,X,ne,ae){ae=Math.min(ae,X.length-ne,R.length-$);for(let ie=0;ie<ae;ie++)X[ne+ie]=R[$+ie]}u(R,$,X,ne){const ae=this.m,ie=()=>{(ne.length>0||this.r)&&!this.l.isScheduled()&&this.l.schedule(this.k.get(this.g))};if(this.m&&(this.m.dispose(),this.m=null),this.c){R&&$&&R.releaseDocumentSemanticTokens($.resultId);return}if(!R||!X){this.g.tokenization.setSemanticTokens(null,!1);return}if(!$){this.g.tokenization.setSemanticTokens(null,!0),ie();return}if((0,f.isSemanticTokensEdits)($)){if(!ae){this.g.tokenization.setSemanticTokens(null,!0);return}if($.edits.length===0)$={resultId:$.resultId,data:ae.data};else{let le=0;for(const Q of $.edits)le+=(Q.data?Q.data.length:0)-Q.deleteCount;const J=ae.data,x=new Uint32Array(J.length+le);let q=J.length,Y=x.length;for(let Q=$.edits.length-1;Q>=0;Q--){const re=$.edits[Q];if(re.start>J.length){X.warnInvalidEditStart(ae.resultId,$.resultId,Q,re.start,J.length),this.g.tokenization.setSemanticTokens(null,!0);return}const oe=q-(re.start+re.deleteCount);oe>0&&(At.t(J,q-oe,x,Y-oe,oe),Y-=oe),re.data&&(At.t(re.data,0,x,Y-re.data.length,re.data.length),Y-=re.data.length),q=re.start}q>0&&At.t(J,0,x,0,q),$={resultId:$.resultId,data:x}}}if((0,f.isSemanticTokens)($)){this.m=new F(R,$.resultId,$.data);const le=(0,h.toMultilineTokens2)($,X,this.g.getLanguageId());if(ne.length>0)for(const J of ne)for(const x of le)for(const q of J.changes)x.applyEdit(q.range,q.text);this.g.tokenization.setSemanticTokens(le,!0)}else this.g.tokenization.setSemanticTokens(null,!0);ie()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=De([fe(2,r.IThemeService),fe(3,m.ILanguageFeatureDebounceService),fe(4,L.ILanguageFeaturesService)],W)}),define(ee[803],te([1,0,17,11,3,192,38,103,194,482,252,80]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class t{constructor(o,h,f,S,p,m,b,L,k,I){this.c=o,this.d=h,this.e=-1,this.f=f,this.h=S,this.k=p,this.l=m,this.q=b,this.m=L,this.n=k,this.o=I,this.w(!0,null)}dispose(){this.v=this.d.deltaDecorations(this.v,[])}createCoordinatesConverter(){return new c(this)}w(o,h){this.s=[],o&&(this.v=this.d.deltaDecorations(this.v,[]));const f=this.d.getLinesContent(),S=this.d.getInjectedTextDecorations(this.c),p=f.length,m=this.createLineBreaksComputer(),b=new w.ArrayQueue(v.LineInjectedText.fromDecorations(S));for(let A=0;A<p;A++){const T=b.takeWhile(O=>O.lineNumber===A+1);m.addRequest(f[A],T,h?h[A]:null)}const L=m.finalize(),k=[],I=this.v.map(A=>this.d.getDecorationRange(A)).sort(E.Range.compareRangesUsingStarts);let M=1,B=0,z=-1,P=z+1<I.length?B+1:p+2;for(let A=0;A<p;A++){const T=A+1;T===P&&(z++,M=I[z].startLineNumber,B=I[z].endLineNumber,P=z+1<I.length?B+1:p+2);const O=T>=M&&T<=B,F=(0,d.createModelLineProjection)(L[A],!O);k[A]=F.getViewLineCount(),this.s[A]=F}this.e=this.d.getVersionId(),this.u=new g.ConstantTimePrefixSumComputer(k)}getHiddenAreas(){return this.v.map(o=>this.d.getDecorationRange(o))}setHiddenAreas(o){const h=o.map(B=>this.d.validateRange(B)),f=n(h),S=this.v.map(B=>this.d.getDecorationRange(B)).sort(E.Range.compareRangesUsingStarts);if(f.length===S.length){let B=!1;for(let z=0;z<f.length;z++)if(!f[z].equalsRange(S[z])){B=!0;break}if(!B)return!1}const p=f.map(B=>({range:B,options:y.ModelDecorationOptions.EMPTY}));this.v=this.d.deltaDecorations(this.v,p);const m=f;let b=1,L=0,k=-1,I=k+1<m.length?L+1:this.s.length+2,M=!1;for(let B=0;B<this.s.length;B++){const z=B+1;z===I&&(k++,b=m[k].startLineNumber,L=m[k].endLineNumber,I=k+1<m.length?L+1:this.s.length+2);let P=!1;if(z>=b&&z<=L?this.s[B].isVisible()&&(this.s[B]=this.s[B].setVisible(!1),P=!0):(M=!0,this.s[B].isVisible()||(this.s[B]=this.s[B].setVisible(!0),P=!0)),P){const A=this.s[B].getViewLineCount();this.u.setValue(B,A)}}return M||this.setHiddenAreas([]),!0}modelPositionIsVisible(o,h){return o<1||o>this.s.length?!1:this.s[o-1].isVisible()}getModelLineViewLineCount(o){return o<1||o>this.s.length?1:this.s[o-1].getViewLineCount()}setTabSize(o){return this.l===o?!1:(this.l=o,this.w(!1,null),!0)}setWrappingSettings(o,h,f,S,p){const m=this.k.equals(o),b=this.q===h,L=this.m===f,k=this.n===S,I=this.o===p;if(m&&b&&L&&k&&I)return!1;const M=m&&b&&!L&&k&&I;this.k=o,this.q=h,this.m=f,this.n=S,this.o=p;let B=null;if(M){B=[];for(let z=0,P=this.s.length;z<P;z++)B[z]=this.s[z].getProjectionData()}return this.w(!1,B),!0}createLineBreaksComputer(){return(this.q==="advanced"?this.f:this.h).createLineBreaksComputer(this.k,this.l,this.m,this.n,this.o)}onModelFlushed(){this.w(!0,null)}onModelLinesDeleted(o,h,f){if(!o||o<=this.e)return null;const S=h===1?1:this.u.getPrefixSum(h-1)+1,p=this.u.getPrefixSum(f);return this.s.splice(h-1,f-h+1),this.u.removeValues(h-1,f-h+1),new C.ViewLinesDeletedEvent(S,p)}onModelLinesInserted(o,h,f,S){if(!o||o<=this.e)return null;const p=h>2&&!this.s[h-2].isVisible(),m=h===1?1:this.u.getPrefixSum(h-1)+1;let b=0;const L=[],k=[];for(let I=0,M=S.length;I<M;I++){const B=(0,d.createModelLineProjection)(S[I],!p);L.push(B);const z=B.getViewLineCount();b+=z,k[I]=z}return this.s=this.s.slice(0,h-1).concat(L).concat(this.s.slice(h-1)),this.u.insertValues(h-1,k),new C.ViewLinesInsertedEvent(m,m+b-1)}onModelLineChanged(o,h,f){if(o!==null&&o<=this.e)return[!1,null,null,null];const S=h-1,p=this.s[S].getViewLineCount(),m=this.s[S].isVisible(),b=(0,d.createModelLineProjection)(f,m);this.s[S]=b;const L=this.s[S].getViewLineCount();let k=!1,I=0,M=-1,B=0,z=-1,P=0,A=-1;p>L?(I=this.u.getPrefixSum(h-1)+1,M=I+L-1,P=M+1,A=P+(p-L)-1,k=!0):p<L?(I=this.u.getPrefixSum(h-1)+1,M=I+p-1,B=M+1,z=B+(L-p)-1,k=!0):(I=this.u.getPrefixSum(h-1)+1,M=I+L-1),this.u.setValue(S,L);const T=I<=M?new C.ViewLinesChangedEvent(I,M-I+1):null,O=B<=z?new C.ViewLinesInsertedEvent(B,z):null,F=P<=A?new C.ViewLinesDeletedEvent(P,A):null;return[k,T,O,F]}acceptVersionId(o){this.e=o,this.s.length===1&&!this.s[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.u.getTotalSum()}x(o){if(o<1)return 1;const h=this.getViewLineCount();return o>h?h:o|0}getActiveIndentGuide(o,h,f){o=this.x(o),h=this.x(h),f=this.x(f);const S=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),p=this.convertViewPositionToModelPosition(h,this.getViewLineMinColumn(h)),m=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),b=this.d.guides.getActiveIndentGuide(S.lineNumber,p.lineNumber,m.lineNumber),L=this.convertModelPositionToViewPosition(b.startLineNumber,1),k=this.convertModelPositionToViewPosition(b.endLineNumber,this.d.getLineMaxColumn(b.endLineNumber));return{startLineNumber:L.lineNumber,endLineNumber:k.lineNumber,indent:b.indent}}y(o){o=this.x(o);const h=this.u.getIndexOf(o-1),f=h.index,S=h.remainder;return new a(f+1,S)}z(o){return this.s[o.modelLineNumber-1].getViewLineMinColumn(this.d,o.modelLineNumber,o.modelLineWrappedLineIdx)}A(o){return this.s[o.modelLineNumber-1].getViewLineMaxColumn(this.d,o.modelLineNumber,o.modelLineWrappedLineIdx)}B(o){const h=this.s[o.modelLineNumber-1],f=h.getViewLineMinColumn(this.d,o.modelLineNumber,o.modelLineWrappedLineIdx),S=h.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,f);return new N.Position(o.modelLineNumber,S)}C(o){const h=this.s[o.modelLineNumber-1],f=h.getViewLineMaxColumn(this.d,o.modelLineNumber,o.modelLineWrappedLineIdx),S=h.getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,f);return new N.Position(o.modelLineNumber,S)}D(o,h){const f=this.y(o),S=this.y(h),p=new Array;let m=this.B(f),b=new Array;for(let L=f.modelLineNumber;L<=S.modelLineNumber;L++){const k=this.s[L-1];if(k.isVisible()){const I=L===f.modelLineNumber?f.modelLineWrappedLineIdx:0,M=L===S.modelLineNumber?S.modelLineWrappedLineIdx+1:k.getViewLineCount();for(let B=I;B<M;B++)b.push(new a(L,B))}if(!k.isVisible()&&m){const I=new N.Position(L-1,this.d.getLineMaxColumn(L-1)+1),M=E.Range.fromPositions(m,I);p.push(new r(M,b)),b=[],m=null}else k.isVisible()&&!m&&(m=new N.Position(L,1))}if(m){const L=E.Range.fromPositions(m,this.C(S));p.push(new r(L,b))}return p}getViewLinesBracketGuides(o,h,f,S){const p=f?this.convertViewPositionToModelPosition(f.lineNumber,f.column):null,m=[];for(const b of this.D(o,h)){const L=b.modelRange.startLineNumber,k=this.d.guides.getLinesBracketGuides(L,b.modelRange.endLineNumber,p,S);for(const I of b.viewLines){const B=k[I.modelLineNumber-L].map(z=>{if(z.forWrappedLinesAfterColumn!==-1&&this.s[I.modelLineNumber-1].getViewPositionOfModelPosition(0,z.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||z.forWrappedLinesBeforeOrAtColumn!==-1&&this.s[I.modelLineNumber-1].getViewPositionOfModelPosition(0,z.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!z.horizontalLine)return z;let P=-1;if(z.column!==-1){const O=this.s[I.modelLineNumber-1].getViewPositionOfModelPosition(0,z.column);if(O.lineNumber===I.modelLineWrappedLineIdx)P=O.column;else if(O.lineNumber<I.modelLineWrappedLineIdx)P=this.z(I);else if(O.lineNumber>I.modelLineWrappedLineIdx)return}const A=this.convertModelPositionToViewPosition(I.modelLineNumber,z.horizontalLine.endColumn),T=this.s[I.modelLineNumber-1].getViewPositionOfModelPosition(0,z.horizontalLine.endColumn);return T.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(z.visibleColumn,P,z.className,new D.IndentGuideHorizontalLine(z.horizontalLine.top,A.column),-1,-1):T.lineNumber<I.modelLineWrappedLineIdx||z.visibleColumn!==-1?void 0:new D.IndentGuide(z.visibleColumn,P,z.className,new D.IndentGuideHorizontalLine(z.horizontalLine.top,this.A(I)),-1,-1)});m.push(B.filter(z=>!!z))}}return m}getViewLinesIndentGuides(o,h){o=this.x(o),h=this.x(h);const f=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),S=this.convertViewPositionToModelPosition(h,this.getViewLineMaxColumn(h));let p=[];const m=[],b=[],L=f.lineNumber-1,k=S.lineNumber-1;let I=null;for(let P=L;P<=k;P++){const A=this.s[P];if(A.isVisible()){const T=A.getViewLineNumberOfModelPosition(0,P===L?f.column:1),O=A.getViewLineNumberOfModelPosition(0,this.d.getLineMaxColumn(P+1)),F=O-T+1;let W=0;F>1&&A.getViewLineMinColumn(this.d,P+1,O)===1&&(W=T===0?1:2),m.push(F),b.push(W),I===null&&(I=new N.Position(P+1,0))}else I!==null&&(p=p.concat(this.d.guides.getLinesIndentGuides(I.lineNumber,P)),I=null)}I!==null&&(p=p.concat(this.d.guides.getLinesIndentGuides(I.lineNumber,S.lineNumber)),I=null);const M=h-o+1,B=new Array(M);let z=0;for(let P=0,A=p.length;P<A;P++){let T=p[P];const O=Math.min(M-z,m[P]),F=b[P];let W;F===2?W=0:F===1?W=1:W=O;for(let V=0;V<O;V++)V===W&&(T=0),B[z++]=T}return B}getViewLineContent(o){const h=this.y(o);return this.s[h.modelLineNumber-1].getViewLineContent(this.d,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineLength(o){const h=this.y(o);return this.s[h.modelLineNumber-1].getViewLineLength(this.d,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMinColumn(o){const h=this.y(o);return this.s[h.modelLineNumber-1].getViewLineMinColumn(this.d,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMaxColumn(o){const h=this.y(o);return this.s[h.modelLineNumber-1].getViewLineMaxColumn(this.d,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineData(o){const h=this.y(o);return this.s[h.modelLineNumber-1].getViewLineData(this.d,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLinesData(o,h,f){o=this.x(o),h=this.x(h);const S=this.u.getIndexOf(o-1);let p=o;const m=S.index,b=S.remainder,L=[];for(let k=m,I=this.d.getLineCount();k<I;k++){const M=this.s[k];if(!M.isVisible())continue;const B=k===m?b:0;let z=M.getViewLineCount()-B,P=!1;if(p+z>h&&(P=!0,z=h-p+1),M.getViewLinesData(this.d,k+1,B,z,p-o,f,L),p+=z,P)break}return L}validateViewPosition(o,h,f){o=this.x(o);const S=this.u.getIndexOf(o-1),p=S.index,m=S.remainder,b=this.s[p],L=b.getViewLineMinColumn(this.d,p+1,m),k=b.getViewLineMaxColumn(this.d,p+1,m);h<L&&(h=L),h>k&&(h=k);const I=b.getModelColumnOfViewPosition(m,h);return this.d.validatePosition(new N.Position(p+1,I)).equals(f)?new N.Position(o,h):this.convertModelPositionToViewPosition(f.lineNumber,f.column)}validateViewRange(o,h){const f=this.validateViewPosition(o.startLineNumber,o.startColumn,h.getStartPosition()),S=this.validateViewPosition(o.endLineNumber,o.endColumn,h.getEndPosition());return new E.Range(f.lineNumber,f.column,S.lineNumber,S.column)}convertViewPositionToModelPosition(o,h){const f=this.y(o),S=this.s[f.modelLineNumber-1].getModelColumnOfViewPosition(f.modelLineWrappedLineIdx,h);return this.d.validatePosition(new N.Position(f.modelLineNumber,S))}convertViewRangeToModelRange(o){const h=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),f=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);return new E.Range(h.lineNumber,h.column,f.lineNumber,f.column)}convertModelPositionToViewPosition(o,h,f=2){const S=this.d.validatePosition(new N.Position(o,h)),p=S.lineNumber,m=S.column;let b=p-1,L=!1;for(;b>0&&!this.s[b].isVisible();)b--,L=!0;if(b===0&&!this.s[b].isVisible())return new N.Position(1,1);const k=1+this.u.getPrefixSum(b);let I;return L?I=this.s[b].getViewPositionOfModelPosition(k,this.d.getLineMaxColumn(b+1),f):I=this.s[p-1].getViewPositionOfModelPosition(k,m,f),I}convertModelRangeToViewRange(o,h=0){if(o.isEmpty()){const f=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,h);return E.Range.fromPositions(f)}else{const f=this.convertModelPositionToViewPosition(o.startLineNumber,o.startColumn,1),S=this.convertModelPositionToViewPosition(o.endLineNumber,o.endColumn,0);return new E.Range(f.lineNumber,f.column,S.lineNumber,S.column)}}getViewLineNumberOfModelPosition(o,h){let f=o-1;if(this.s[f].isVisible()){const p=1+this.u.getPrefixSum(f);return this.s[f].getViewLineNumberOfModelPosition(p,h)}for(;f>0&&!this.s[f].isVisible();)f--;if(f===0&&!this.s[f].isVisible())return 1;const S=1+this.u.getPrefixSum(f);return this.s[f].getViewLineNumberOfModelPosition(S,this.d.getLineMaxColumn(f+1))}getDecorationsInRange(o,h,f,S){const p=this.convertViewPositionToModelPosition(o.startLineNumber,o.startColumn),m=this.convertViewPositionToModelPosition(o.endLineNumber,o.endColumn);if(m.lineNumber-p.lineNumber<=o.endLineNumber-o.startLineNumber)return this.d.getDecorationsInRange(new E.Range(p.lineNumber,1,m.lineNumber,m.column),h,f,S);let b=[];const L=p.lineNumber-1,k=m.lineNumber-1;let I=null;for(let P=L;P<=k;P++)if(this.s[P].isVisible())I===null&&(I=new N.Position(P+1,P===L?p.column:1));else if(I!==null){const T=this.d.getLineMaxColumn(P);b=b.concat(this.d.getDecorationsInRange(new E.Range(I.lineNumber,I.column,P,T),h,f,S)),I=null}I!==null&&(b=b.concat(this.d.getDecorationsInRange(new E.Range(I.lineNumber,I.column,m.lineNumber,m.column),h,f,S)),I=null),b.sort((P,A)=>{const T=E.Range.compareRangesUsingStarts(P.range,A.range);return T===0?P.id<A.id?-1:P.id>A.id?1:0:T});const M=[];let B=0,z=null;for(const P of b){const A=P.id;z!==A&&(z=A,M[B++]=P)}return M}getInjectedTextAt(o){const h=this.y(o.lineNumber);return this.s[h.modelLineNumber-1].getInjectedTextAt(h.modelLineWrappedLineIdx,o.column)}normalizePosition(o,h){const f=this.y(o.lineNumber);return this.s[f.modelLineNumber-1].normalizePosition(f.modelLineWrappedLineIdx,o,h)}getLineIndentColumn(o){const h=this.y(o);return h.modelLineWrappedLineIdx===0?this.d.getLineIndentColumn(h.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=t;function n(l){if(l.length===0)return[];const o=l.slice();o.sort(E.Range.compareRangesUsingStarts);const h=[];let f=o[0].startLineNumber,S=o[0].endLineNumber;for(let p=1,m=o.length;p<m;p++){const b=o[p];b.startLineNumber>S+1?(h.push(new E.Range(f,1,S,1)),f=b.startLineNumber,S=b.endLineNumber):b.endLineNumber>S&&(S=b.endLineNumber)}return h.push(new E.Range(f,1,S,1)),h}class a{constructor(o,h){this.modelLineNumber=o,this.modelLineWrappedLineIdx=h}}class r{constructor(o,h){this.modelRange=o,this.viewLines=h}}class c{constructor(o){this.c=o}convertViewPositionToModelPosition(o){return this.c.convertViewPositionToModelPosition(o.lineNumber,o.column)}convertViewRangeToModelRange(o){return this.c.convertViewRangeToModelRange(o)}validateViewPosition(o,h){return this.c.validateViewPosition(o.lineNumber,o.column,h)}validateViewRange(o,h){return this.c.validateViewRange(o,h)}convertModelPositionToViewPosition(o,h){return this.c.convertModelPositionToViewPosition(o.lineNumber,o.column,h)}convertModelRangeToViewRange(o,h){return this.c.convertModelRangeToViewRange(o,h)}modelPositionIsVisible(o){return this.c.modelPositionIsVisible(o.lineNumber,o.column)}getModelLineViewLineCount(o){return this.c.getModelLineViewLineCount(o)}getViewLineNumberOfModelPosition(o,h){return this.c.getViewLineNumberOfModelPosition(o,h)}}class u{constructor(o){this.model=o}dispose(){}createCoordinatesConverter(){return new s(this)}getHiddenAreas(){return[]}setHiddenAreas(o){return!1}setTabSize(o){return!1}setWrappingSettings(o,h,f,S){return!1}createLineBreaksComputer(){const o=[];return{addRequest:(h,f,S)=>{o.push(null)},finalize:()=>o}}onModelFlushed(){}onModelLinesDeleted(o,h,f){return new C.ViewLinesDeletedEvent(h,f)}onModelLinesInserted(o,h,f,S){return new C.ViewLinesInsertedEvent(h,f)}onModelLineChanged(o,h,f){return[!1,new C.ViewLinesChangedEvent(h,1),null,null]}acceptVersionId(o){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(o,h,f){return{startLineNumber:o,endLineNumber:o,indent:0}}getViewLinesBracketGuides(o,h,f){return new Array(h-o+1).fill([])}getViewLinesIndentGuides(o,h){const f=h-o+1,S=new Array(f);for(let p=0;p<f;p++)S[p]=0;return S}getViewLineContent(o){return this.model.getLineContent(o)}getViewLineLength(o){return this.model.getLineLength(o)}getViewLineMinColumn(o){return this.model.getLineMinColumn(o)}getViewLineMaxColumn(o){return this.model.getLineMaxColumn(o)}getViewLineData(o){const h=this.model.tokenization.getLineTokens(o),f=h.getLineContent();return new i.ViewLineData(f,!1,1,f.length+1,0,h.inflate(),null)}getViewLinesData(o,h,f){const S=this.model.getLineCount();o=Math.min(Math.max(1,o),S),h=Math.min(Math.max(1,h),S);const p=[];for(let m=o;m<=h;m++){const b=m-o;p[b]=f[b]?this.getViewLineData(m):null}return p}getDecorationsInRange(o,h,f,S){return this.model.getDecorationsInRange(o,h,f,S)}normalizePosition(o,h){return this.model.normalizePosition(o,h)}getLineIndentColumn(o){return this.model.getLineIndentColumn(o)}getInjectedTextAt(o){return null}}e.ViewModelLinesFromModelAsIs=u;class s{constructor(o){this.c=o}d(o){return this.c.model.validatePosition(o)}e(o){return this.c.model.validateRange(o)}convertViewPositionToModelPosition(o){return this.d(o)}convertViewRangeToModelRange(o){return this.e(o)}validateViewPosition(o,h){return this.d(h)}validateViewRange(o,h){return this.e(h)}convertModelPositionToViewPosition(o){return this.d(o)}convertModelRangeToViewRange(o){return this.e(o)}modelPositionIsVisible(o){const h=this.c.model.getLineCount();return!(o.lineNumber<1||o.lineNumber>h)}getModelLineViewLineCount(o){return 1}getViewLineNumberOfModelPosition(o,h){return o}}}),define(ee[804],te([1,0,17,12,36,2,16,9,39,711,65,11,3,103,26,70,286,194,555,288,80,292,214,803]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class m extends D.Disposable{constructor(P,A,T,O,F,W,V,R){if(super(),this.s=V,this.t=R,this.z=new k,this.B=[],this.a=P,this.b=A,this.model=T,this.c=new f.ViewModelEventDispatcher,this.onEvent=this.c.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this.b,this.s),this.g=this.q(new N.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this.h=this.q(new N.RunOnceScheduler(()=>this.u(),0)),this.k=!1,this.l=b.create(this.model),p&&this.model.isTooLargeForTokenization())this.m=new S.ViewModelLinesFromModelAsIs(this.model);else{const $=this.b.options,X=$.get(47),ne=$.get(132),ae=$.get(139),ie=$.get(131),le=$.get(123);this.m=new S.ViewModelLinesFromProjectedModel(this.a,this.model,O,F,X,this.model.getOptions().tabSize,ne,ae.wrappingColumn,ie,le)}this.coordinatesConverter=this.m.createCoordinatesConverter(),this.n=this.q(new d.CursorsController(T,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this.q(new s.ViewLayout(this.b,this.getLineCount(),W)),this.q(this.viewLayout.onDidScroll($=>{$.scrollTopChanged&&this.g.schedule(),$.scrollTopChanged&&this.l.invalidate(),this.c.emitSingleViewEvent(new u.ViewScrollChangedEvent($)),this.c.emitOutgoingEvent(new f.ScrollChangedEvent($.oldScrollWidth,$.oldScrollLeft,$.oldScrollHeight,$.oldScrollTop,$.scrollWidth,$.scrollLeft,$.scrollHeight,$.scrollTop))})),this.q(this.viewLayout.onDidContentSizeChange($=>{this.c.emitOutgoingEvent($)})),this.p=new h.ViewModelDecorations(this.a,this.model,this.b,this.m,this.coordinatesConverter),this.y(),this.q(this.b.onDidChangeFast($=>{try{const X=this.c.beginEmitViewEvents();this.w(X,$)}finally{this.c.endEmitViewEvents()}})),this.q(l.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this.c.emitSingleViewEvent(new u.ViewTokensColorsChangedEvent)})),this.q(this.t.onDidColorThemeChange($=>{this.H(),this.c.emitSingleViewEvent(new u.ViewThemeChangedEvent($))})),this.u()}dispose(){super.dispose(),this.p.dispose(),this.m.dispose(),this.l.dispose(),this.c.dispose()}createLineBreaksComputer(){return this.m.createLineBreaksComputer()}addViewEventHandler(P){this.c.addViewEventHandler(P)}removeViewEventHandler(P){this.c.removeViewEventHandler(P)}u(){this.b.setViewLineCount(this.m.getViewLineCount())}tokenizeViewport(){const P=this.viewLayout.getLinesViewportData(),A=new t.Range(P.startLineNumber,this.getLineMinColumn(P.startLineNumber),P.endLineNumber,this.getLineMaxColumn(P.endLineNumber)),T=this.C(A);for(const O of T)this.model.tokenization.tokenizeViewport(O.startLineNumber,O.endLineNumber)}setHasFocus(P){this.k=P,this.n.setHasFocus(P),this.c.emitSingleViewEvent(new u.ViewFocusChangedEvent(P)),this.c.emitOutgoingEvent(new f.FocusChangedEvent(!P,P))}onCompositionStart(){this.c.emitSingleViewEvent(new u.ViewCompositionStartEvent)}onCompositionEnd(){this.c.emitSingleViewEvent(new u.ViewCompositionEndEvent)}v(){if(this.l.isValid&&this.viewLayout.getCurrentScrollTop()>0){const P=new i.Position(this.l.viewLineNumber,this.getLineMinColumn(this.l.viewLineNumber)),A=this.coordinatesConverter.convertViewPositionToModelPosition(P);return new B(A,this.l.startLineDelta)}return new B(null,0)}w(P,A){const T=this.v(),O=this.b.options,F=O.get(47),W=O.get(132),V=O.get(139),R=O.get(131),$=O.get(123);this.m.setWrappingSettings(F,W,V.wrappingColumn,R,$)&&(P.emitViewEvent(new u.ViewFlushedEvent),P.emitViewEvent(new u.ViewLineMappingChangedEvent),P.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this.n.onLineMappingChanged(P),this.p.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.h.schedule()),A.hasChanged(86)&&(this.p.reset(),P.emitViewEvent(new u.ViewDecorationsChangedEvent(null))),P.emitViewEvent(new u.ViewConfigurationChangedEvent(A)),this.viewLayout.onConfigurationChanged(A),T.recoverViewportStart(this.coordinatesConverter,this.viewLayout),g.CursorConfiguration.shouldRecreate(A)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this.b,this.s),this.n.updateConfiguration(this.cursorConfig))}y(){this.q(this.model.onDidChangeContentOrInjectedText(P=>{try{const T=this.c.beginEmitViewEvents();let O=!1,F=!1;const W=P instanceof n.InternalModelContentChangeEvent?P.rawContentChangedEvent.changes:P.changes,V=P instanceof n.InternalModelContentChangeEvent?P.rawContentChangedEvent.versionId:null,R=this.m.createLineBreaksComputer();for(const ne of W)switch(ne.changeType){case 4:{for(let ae=0;ae<ne.detail.length;ae++){const ie=ne.detail[ae];let le=ne.injectedTexts[ae];le&&(le=le.filter(J=>!J.ownerId||J.ownerId===this.a)),R.addRequest(ie,le,null)}break}case 2:{let ae=null;ne.injectedText&&(ae=ne.injectedText.filter(ie=>!ie.ownerId||ie.ownerId===this.a)),R.addRequest(ne.detail,ae,null);break}}const $=R.finalize(),X=new w.ArrayQueue($);for(const ne of W)switch(ne.changeType){case 1:{this.m.onModelFlushed(),T.emitViewEvent(new u.ViewFlushedEvent),this.p.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const ae=this.m.onModelLinesDeleted(V,ne.fromLineNumber,ne.toLineNumber);ae!==null&&(T.emitViewEvent(ae),this.viewLayout.onLinesDeleted(ae.fromLineNumber,ae.toLineNumber)),O=!0;break}case 4:{const ae=X.takeCount(ne.detail.length),ie=this.m.onModelLinesInserted(V,ne.fromLineNumber,ne.toLineNumber,ae);ie!==null&&(T.emitViewEvent(ie),this.viewLayout.onLinesInserted(ie.fromLineNumber,ie.toLineNumber)),O=!0;break}case 2:{const ae=X.dequeue(),[ie,le,J,x]=this.m.onModelLineChanged(V,ne.lineNumber,ae);F=ie,le&&T.emitViewEvent(le),J&&(T.emitViewEvent(J),this.viewLayout.onLinesInserted(J.fromLineNumber,J.toLineNumber)),x&&(T.emitViewEvent(x),this.viewLayout.onLinesDeleted(x.fromLineNumber,x.toLineNumber));break}case 5:break}V!==null&&this.m.acceptVersionId(V),this.viewLayout.onHeightMaybeChanged(),!O&&F&&(T.emitViewEvent(new u.ViewLineMappingChangedEvent),T.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this.n.onLineMappingChanged(T),this.p.onLineMappingChanged())}finally{this.c.endEmitViewEvents()}const A=this.l.isValid;if(this.l.invalidate(),this.b.setModelLineCount(this.model.getLineCount()),this.u(),!this.k&&this.model.getAttachedEditorCount()>=2&&A){const T=this.model._getTrackedRange(this.l.modelTrackedRange);if(T){const O=this.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),F=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:F+this.l.startLineDelta},1)}}try{const T=this.c.beginEmitViewEvents();P instanceof n.InternalModelContentChangeEvent&&T.emitOutgoingEvent(new f.ModelContentChangedEvent(P.contentChangedEvent)),this.n.onModelContentChanged(T,P)}finally{this.c.endEmitViewEvents()}this.g.schedule()})),this.q(this.model.onDidChangeTokens(P=>{const A=[];for(let T=0,O=P.ranges.length;T<O;T++){const F=P.ranges[T],W=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(F.fromLineNumber,1)).lineNumber,V=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(F.toLineNumber,this.model.getLineMaxColumn(F.toLineNumber))).lineNumber;A[T]={fromLineNumber:W,toLineNumber:V}}this.c.emitSingleViewEvent(new u.ViewTokensChangedEvent(A)),P.tokenizationSupportChanged&&this.g.schedule(),this.c.emitOutgoingEvent(new f.ModelTokensChangedEvent(P))})),this.q(this.model.onDidChangeLanguageConfiguration(P=>{this.c.emitSingleViewEvent(new u.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this.b,this.s),this.n.updateConfiguration(this.cursorConfig),this.c.emitOutgoingEvent(new f.ModelLanguageConfigurationChangedEvent(P))})),this.q(this.model.onDidChangeLanguage(P=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this.b,this.s),this.n.updateConfiguration(this.cursorConfig),this.c.emitOutgoingEvent(new f.ModelLanguageChangedEvent(P))})),this.q(this.model.onDidChangeOptions(P=>{if(this.m.setTabSize(this.model.getOptions().tabSize)){try{const A=this.c.beginEmitViewEvents();A.emitViewEvent(new u.ViewFlushedEvent),A.emitViewEvent(new u.ViewLineMappingChangedEvent),A.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this.n.onLineMappingChanged(A),this.p.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this.c.endEmitViewEvents()}this.h.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this.b,this.s),this.n.updateConfiguration(this.cursorConfig),this.c.emitOutgoingEvent(new f.ModelOptionsChangedEvent(P))})),this.q(this.model.onDidChangeDecorations(P=>{this.p.onModelDecorationsChanged(),this.c.emitSingleViewEvent(new u.ViewDecorationsChangedEvent(P)),this.c.emitOutgoingEvent(new f.ModelDecorationsChangedEvent(P))}))}setHiddenAreas(P,A){this.z.setHiddenAreas(A,P);const T=this.z.getMergedRanges();if(T===this.B)return;this.B=T;const O=this.v();let F=!1;try{const W=this.c.beginEmitViewEvents();F=this.m.setHiddenAreas(T),F&&(W.emitViewEvent(new u.ViewFlushedEvent),W.emitViewEvent(new u.ViewLineMappingChangedEvent),W.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this.n.onLineMappingChanged(W),this.p.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),O.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this.c.endEmitViewEvents()}this.h.schedule(),F&&this.c.emitOutgoingEvent(new f.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const P=this.b.options.get(138),A=this.b.options.get(63),T=Math.max(20,Math.round(P.height/A)),O=this.viewLayout.getLinesViewportData(),F=Math.max(1,O.completelyVisibleStartLineNumber-T),W=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+T);return this.C(new t.Range(F,this.getLineMinColumn(F),W,this.getLineMaxColumn(W)))}getVisibleRanges(){const P=this.getCompletelyVisibleViewRange();return this.C(P)}getHiddenAreas(){return this.m.getHiddenAreas()}C(P){const A=this.coordinatesConverter.convertViewRangeToModelRange(P),T=this.m.getHiddenAreas();if(T.length===0)return[A];const O=[];let F=0,W=A.startLineNumber,V=A.startColumn;const R=A.endLineNumber,$=A.endColumn;for(let X=0,ne=T.length;X<ne;X++){const ae=T[X].startLineNumber,ie=T[X].endLineNumber;ie<W||ae>R||(W<ae&&(O[F++]=new t.Range(W,V,ae-1,this.model.getLineMaxColumn(ae-1))),W=ie+1,V=1)}return(W<R||W===R&&V<$)&&(O[F++]=new t.Range(W,V,R,$)),O}getCompletelyVisibleViewRange(){const P=this.viewLayout.getLinesViewportData(),A=P.completelyVisibleStartLineNumber,T=P.completelyVisibleEndLineNumber;return new t.Range(A,this.getLineMinColumn(A),T,this.getLineMaxColumn(T))}getCompletelyVisibleViewRangeAtScrollTop(P){const A=this.viewLayout.getLinesViewportDataAtScrollTop(P),T=A.completelyVisibleStartLineNumber,O=A.completelyVisibleEndLineNumber;return new t.Range(T,this.getLineMinColumn(T),O,this.getLineMaxColumn(O))}saveState(){const P=this.viewLayout.saveState(),A=P.scrollTop,T=this.viewLayout.getLineNumberAtVerticalOffset(A),O=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(T,this.getLineMinColumn(T))),F=this.viewLayout.getVerticalOffsetForLineNumber(T)-A;return{scrollLeft:P.scrollLeft,firstPosition:O,firstPositionDeltaTop:F}}reduceRestoreState(P){if(typeof P.firstPosition>"u")return this.D(P);const A=this.model.validatePosition(P.firstPosition),T=this.coordinatesConverter.convertModelPositionToViewPosition(A),O=this.viewLayout.getVerticalOffsetForLineNumber(T.lineNumber)-P.firstPositionDeltaTop;return{scrollLeft:P.scrollLeft,scrollTop:O}}D(P){return{scrollLeft:P.scrollLeft,scrollTop:P.scrollTopWithoutViewZones}}F(){return this.model.getOptions().tabSize}getLineCount(){return this.m.getViewLineCount()}setViewport(P,A,T){this.l.update(this,P)}getActiveIndentGuide(P,A,T){return this.m.getActiveIndentGuide(P,A,T)}getLinesIndentGuides(P,A){return this.m.getViewLinesIndentGuides(P,A)}getBracketGuidesInRangeByLine(P,A,T,O){return this.m.getViewLinesBracketGuides(P,A,T,O)}getLineContent(P){return this.m.getViewLineContent(P)}getLineLength(P){return this.m.getViewLineLength(P)}getLineMinColumn(P){return this.m.getViewLineMinColumn(P)}getLineMaxColumn(P){return this.m.getViewLineMaxColumn(P)}getLineFirstNonWhitespaceColumn(P){const A=v.firstNonWhitespaceIndex(this.getLineContent(P));return A===-1?0:A+1}getLineLastNonWhitespaceColumn(P){const A=v.lastNonWhitespaceIndex(this.getLineContent(P));return A===-1?0:A+2}getDecorationsInViewport(P,A=!1){return this.p.getDecorationsViewportData(P,A).decorations}getInjectedTextAt(P){return this.m.getInjectedTextAt(P)}getViewportViewLineRenderingData(P,A){const O=this.p.getDecorationsViewportData(P).inlineDecorations[A-P.startLineNumber];return this.G(A,O)}getViewLineRenderingData(P){const A=this.p.getInlineDecorationsOnLine(P);return this.G(P,A)}G(P,A){const T=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),F=this.F(),W=this.m.getViewLineData(P);return W.inlineDecorations&&(A=[...A,...W.inlineDecorations.map(V=>V.toInlineDecoration(P))]),new o.ViewLineRenderingData(W.minColumn,W.maxColumn,W.content,W.continuesWithWrappedLine,T,O,W.tokens,A,F,W.startVisibleColumn)}getViewLineData(P){return this.m.getViewLineData(P)}getMinimapLinesRenderingData(P,A,T){const O=this.m.getViewLinesData(P,A,T);return new o.MinimapLinesRenderingData(this.F(),O)}getAllOverviewRulerDecorations(P){const A=this.model.getOverviewRulerDecorations(this.a,(0,C.filterValidationDecorations)(this.b.options)),T=new L;for(const O of A){const F=O.options,W=F.overviewRuler;if(!W)continue;const V=W.position;if(V===0)continue;const R=W.getColor(P.value),$=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),X=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);T.accept(R,F.zIndex,$,X,V)}return T.asArray}H(){const P=this.model.getOverviewRulerDecorations();for(const A of P){const T=A.options.overviewRuler;T?.invalidateCachedColor();const O=A.options.minimap;O?.invalidateCachedColor()}}getValueInRange(P,A){const T=this.coordinatesConverter.convertViewRangeToModelRange(P);return this.model.getValueInRange(T,A)}getValueLengthInRange(P,A){const T=this.coordinatesConverter.convertViewRangeToModelRange(P);return this.model.getValueLengthInRange(T,A)}modifyPosition(P,A){const T=this.coordinatesConverter.convertViewPositionToModelPosition(P);return this.model.modifyPosition(T,A)}deduceModelPositionRelativeToViewPosition(P,A,T){const O=this.coordinatesConverter.convertViewPositionToModelPosition(P);this.model.getEOL().length===2&&(A<0?A-=T:A+=T);const W=this.model.getOffsetAt(O)+A;return this.model.getPositionAt(W)}getPlainTextToCopy(P,A,T){const O=T?`\r
`:this.model.getEOL();P=P.slice(0),P.sort(t.Range.compareRangesUsingStarts);let F=!1,W=!1;for(const R of P)R.isEmpty()?F=!0:W=!0;if(!W){if(!A)return"";const R=P.map(X=>X.startLineNumber);let $="";for(let X=0;X<R.length;X++)X>0&&R[X-1]===R[X]||($+=this.model.getLineContent(R[X])+O);return $}if(F&&A){const R=[];let $=0;for(const X of P){const ne=X.startLineNumber;X.isEmpty()?ne!==$&&R.push(this.model.getLineContent(ne)):R.push(this.model.getValueInRange(X,T?2:0)),$=ne}return R.length===1?R[0]:R}const V=[];for(const R of P)R.isEmpty()||V.push(this.model.getValueInRange(R,T?2:0));return V.length===1?V[0]:V}getRichTextToCopy(P,A){const T=this.model.getLanguageId();if(T===r.PLAINTEXT_LANGUAGE_ID||P.length!==1)return null;let O=P[0];if(O.isEmpty()){if(!A)return null;const X=O.startLineNumber;O=new t.Range(X,this.model.getLineMinColumn(X),X,this.model.getLineMaxColumn(X))}const F=this.b.options.get(47),W=this.J(),R=/[:;\\\/<>]/.test(F.fontFamily)||F.fontFamily===C.EDITOR_FONT_DEFAULTS.fontFamily;let $;return R?$=C.EDITOR_FONT_DEFAULTS.fontFamily:($=F.fontFamily,$=$.replace(/"/g,"'"),/[,']/.test($)||/[+ ]/.test($)&&($=`'${$}'`),$=`${$}, ${C.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:T,html:`<div style="color: ${W[1]};background-color: ${W[2]};font-family: ${$};font-weight: ${F.fontWeight};font-size: ${F.fontSize}px;line-height: ${F.lineHeight}px;white-space: pre;">`+this.I(O,W)+"</div>"}}I(P,A){const T=P.startLineNumber,O=P.startColumn,F=P.endLineNumber,W=P.endColumn,V=this.F();let R="";for(let $=T;$<=F;$++){const X=this.model.tokenization.getLineTokens($),ne=X.getLineContent(),ae=$===T?O-1:0,ie=$===F?W-1:ne.length;ne===""?R+="<br>":R+=(0,c.tokenizeLineToHTML)(ne,X.inflate(),A,ae,ie,V,y.isWindows)}return R}J(){const P=a.TokenizationRegistry.getColorMap(),A=["#000000"];if(P)for(let T=1,O=P.length;T<O;T++)A[T]=E.Color.Format.CSS.formatHex(P[T]);return A}getPrimaryCursorState(){return this.n.getPrimaryCursorState()}getLastAddedCursorIndex(){return this.n.getLastAddedCursorIndex()}getCursorStates(){return this.n.getCursorStates()}setCursorStates(P,A,T){return this.M(O=>this.n.setStates(O,P,A,T))}getCursorColumnSelectData(){return this.n.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this.n.getAutoClosedCharacters()}setCursorColumnSelectData(P){this.n.setCursorColumnSelectData(P)}getPrevEditOperationType(){return this.n.getPrevEditOperationType()}setPrevEditOperationType(P){this.n.setPrevEditOperationType(P)}getSelection(){return this.n.getSelection()}getSelections(){return this.n.getSelections()}getPosition(){return this.n.getPrimaryCursorState().modelState.position}setSelections(P,A,T=0){this.M(O=>this.n.setSelections(O,P,A,T))}saveCursorState(){return this.n.saveState()}restoreCursorState(P){this.M(A=>this.n.restoreState(A,P))}L(P){if(this.n.context.cursorConfig.readOnly){this.c.emitOutgoingEvent(new f.ReadOnlyEditAttemptEvent);return}this.M(P)}executeEdits(P,A,T){this.L(O=>this.n.executeEdits(O,P,A,T))}startComposition(){this.L(P=>this.n.startComposition(P))}endComposition(P){this.L(A=>this.n.endComposition(A,P))}type(P,A){this.L(T=>this.n.type(T,P,A))}compositionType(P,A,T,O,F){this.L(W=>this.n.compositionType(W,P,A,T,O,F))}paste(P,A,T,O){this.L(F=>this.n.paste(F,P,A,T,O))}cut(P){this.L(A=>this.n.cut(A,P))}executeCommand(P,A){this.L(T=>this.n.executeCommand(T,P,A))}executeCommands(P,A){this.L(T=>this.n.executeCommands(T,P,A))}revealPrimaryCursor(P,A,T=!1){this.M(O=>this.n.revealPrimary(O,P,T,0,A,0))}revealTopMostCursor(P){const A=this.n.getTopMostViewPosition(),T=new t.Range(A.lineNumber,A.column,A.lineNumber,A.column);this.M(O=>O.emitViewEvent(new u.ViewRevealRangeRequestEvent(P,!1,T,null,0,!0,0)))}revealBottomMostCursor(P){const A=this.n.getBottomMostViewPosition(),T=new t.Range(A.lineNumber,A.column,A.lineNumber,A.column);this.M(O=>O.emitViewEvent(new u.ViewRevealRangeRequestEvent(P,!1,T,null,0,!0,0)))}revealRange(P,A,T,O,F){this.M(W=>W.emitViewEvent(new u.ViewRevealRangeRequestEvent(P,!1,T,null,O,A,F)))}changeWhitespace(P){this.viewLayout.changeWhitespace(P)&&(this.c.emitSingleViewEvent(new u.ViewZonesChangedEvent),this.c.emitOutgoingEvent(new f.ViewZonesChangedEvent))}M(P){try{const A=this.c.beginEmitViewEvents();return P(A)}finally{this.c.endEmitViewEvents()}}normalizePosition(P,A){return this.m.normalizePosition(P,A)}getLineIndentColumn(P){return this.m.getLineIndentColumn(P)}}e.ViewModel=m;class b{static create(P){const A=P._setTrackedRange(null,new t.Range(1,1,1,1),1);return new b(P,1,!1,A,0)}get viewLineNumber(){return this.b}get isValid(){return this.c}get modelTrackedRange(){return this.f}get startLineDelta(){return this.g}constructor(P,A,T,O,F){this.a=P,this.b=A,this.c=T,this.f=O,this.g=F}dispose(){this.a._setTrackedRange(this.f,null,1)}update(P,A){const T=P.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(A,P.getLineMinColumn(A))),O=P.model._setTrackedRange(this.f,new t.Range(T.lineNumber,T.column,T.lineNumber,T.column),1),F=P.viewLayout.getVerticalOffsetForLineNumber(A),W=P.viewLayout.getCurrentScrollTop();this.b=A,this.c=!0,this.f=O,this.g=W-F}invalidate(){this.c=!1}}class L{constructor(){this.a=Object.create(null),this.asArray=[]}accept(P,A,T,O,F){const W=this.a[P];if(W){const V=W.data,R=V[V.length-3],$=V[V.length-1];if(R===F&&$+1>=T){O>$&&(V[V.length-1]=O);return}V.push(F,T,O)}else{const V=new o.OverviewRulerDecorationsGroup(P,A,[F,T,O]);this.a[P]=V,this.asArray.push(V)}}}class k{constructor(){this.a=new Map,this.b=!1,this.c=[]}setHiddenAreas(P,A){const T=this.a.get(P);T&&M(T,A)||(this.a.set(P,A),this.b=!0)}getMergedRanges(){if(!this.b)return this.c;this.b=!1;const P=Array.from(this.a.values()).reduce((A,T)=>I(A,T),[]);return M(this.c,P)?this.c:(this.c=P,this.c)}}function I(z,P){const A=[];let T=0,O=0;for(;T<z.length&&O<P.length;){const F=z[T],W=P[O];if(F.endLineNumber<W.startLineNumber-1)A.push(z[T++]);else if(W.endLineNumber<F.startLineNumber-1)A.push(P[O++]);else{const V=Math.min(F.startLineNumber,W.startLineNumber),R=Math.max(F.endLineNumber,W.endLineNumber);A.push(new t.Range(V,1,R,1)),T++,O++}}for(;T<z.length;)A.push(z[T++]);for(;O<P.length;)A.push(P[O++]);return A}function M(z,P){if(z.length!==P.length)return!1;for(let A=0;A<z.length;A++)if(!z[A].equalsRange(P[A]))return!1;return!0}class B{constructor(P,A){this.viewportStartModelPosition=P,this.startLineDelta=A}recoverViewportStart(P,A){if(!this.viewportStartModelPosition)return;const T=P.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=A.getVerticalOffsetForLineNumber(T.lineNumber);A.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(ee[179],te([1,0,566,7,13,6,2,47,691,14,28,787,244,39,73,11,3,22,249,160,23,38,79,30,804,25,15,8,173,42,24,75,18,483,542,162,34,72,19,541,726,390]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O,F,W,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let R=0;class ${constructor(U,j,H,_,ce){this.model=U,this.viewModel=j,this.view=H,this.hasRealView=_,this.listenersToRemove=ce}dispose(){(0,y.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let X=class Pt extends y.Disposable{get isSimpleWidget(){return this.gb.isSimpleWidget}constructor(U,j,H,_,ce,ue,se,he,me,Se,ye,ke){super(),this.xb=ye,this.c=new D.EventDeliveryQueue,this.g=this.q(new V.CodeEditorContributions),this.h=this.q(new D.Emitter),this.onDidDispose=this.h.event,this.j=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelContent=this.j.event,this.k=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelLanguage=this.k.event,this.l=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelLanguageConfiguration=this.l.event,this.m=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelOptions=this.m.event,this.n=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelDecorations=this.n.event,this.p=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModelTokens=this.p.event,this.t=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeConfiguration=this.t.event,this.u=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeModel=this.u.event,this.v=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeCursorPosition=this.v.event,this.w=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeCursorSelection=this.w.event,this.y=this.q(new ae(this.g,this.c)),this.onDidAttemptReadOnlyEdit=this.y.event,this.z=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidLayoutChange=this.z.event,this.B=this.q(new ne({deliveryQueue:this.c})),this.onDidFocusEditorText=this.B.onDidChangeToTrue,this.onDidBlurEditorText=this.B.onDidChangeToFalse,this.C=this.q(new ne({deliveryQueue:this.c})),this.onDidFocusEditorWidget=this.C.onDidChangeToTrue,this.onDidBlurEditorWidget=this.C.onDidChangeToFalse,this.D=this.q(new ae(this.g,this.c)),this.onWillType=this.D.event,this.F=this.q(new ae(this.g,this.c)),this.onDidType=this.F.event,this.G=this.q(new ae(this.g,this.c)),this.onDidCompositionStart=this.G.event,this.H=this.q(new ae(this.g,this.c)),this.onDidCompositionEnd=this.H.event,this.I=this.q(new ae(this.g,this.c)),this.onDidPaste=this.I.event,this.J=this.q(new ae(this.g,this.c)),this.onMouseUp=this.J.event,this.L=this.q(new ae(this.g,this.c)),this.onMouseDown=this.L.event,this.M=this.q(new ae(this.g,this.c)),this.onMouseDrag=this.M.event,this.N=this.q(new ae(this.g,this.c)),this.onMouseDrop=this.N.event,this.O=this.q(new ae(this.g,this.c)),this.onMouseDropCanceled=this.O.event,this.P=this.q(new ae(this.g,this.c)),this.onDropIntoEditor=this.P.event,this.Q=this.q(new ae(this.g,this.c)),this.onContextMenu=this.Q.event,this.R=this.q(new ae(this.g,this.c)),this.onMouseMove=this.R.event,this.S=this.q(new ae(this.g,this.c)),this.onMouseLeave=this.S.event,this.U=this.q(new ae(this.g,this.c)),this.onMouseWheel=this.U.event,this.W=this.q(new ae(this.g,this.c)),this.onKeyUp=this.W.event,this.X=this.q(new ae(this.g,this.c)),this.onKeyDown=this.X.event,this.Y=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidContentSizeChange=this.Y.event,this.Z=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidScrollChange=this.Z.event,this.ab=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeViewZones=this.ab.event,this.bb=this.q(new D.Emitter({deliveryQueue:this.c})),this.onDidChangeHiddenAreas=this.bb.event,this.hb=new Map,this.vb=null,this.wb=this.createDecorationsCollection();const Te=Object.assign({},j);this.db=U,this.eb=Te.overflowWidgetsDomNode,delete Te.overflowWidgetsDomNode,this.fb=++R,this.tb={},this.ub={},this.cb=H.telemetryData,this.gb=this.q(this.yb(H.isSimpleWidget||!1,Te,Se)),this.q(this.gb.onDidChange(ve=>{this.t.fire(ve);const ge=this.gb.options;if(ve.hasChanged(138)){const we=ge.get(138);this.z.fire(we)}})),this.lb=this.q(se.createScoped(this.db)),this.mb=me,this.nb=ce,this.ob=ue,this.pb=he,this.q(new ie(this,this.lb)),this.q(new le(this,this.lb,ke)),this.jb=_.createChild(new k.ServiceCollection([b.IContextKeyService,this.lb])),this.ib=null,this.qb=new J(U),this.q(this.qb.onChange(()=>{this.C.setValue(this.qb.hasFocus())})),this.rb={},this.sb={};let Pe;Array.isArray(H.contributions)?Pe=H.contributions:Pe=d.EditorExtensionsRegistry.getEditorContributions(),this.g.initialize(this,Pe,this.jb);for(const ve of d.EditorExtensionsRegistry.getEditorActions()){if(this.hb.has(ve.id)){(0,E.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ve.id}`));continue}const ge=new s.InternalEditorAction(ve.id,ve.label,ve.alias,(0,z.withNullAsUndefined)(ve.precondition),()=>this.jb.invokeFunction(we=>Promise.resolve(ve.runEditorCommand(we,this,null))),this.lb);this.hb.set(ge.id,ge)}const Ie=()=>!this.gb.options.get(86)&&this.gb.options.get(33).enabled;this.q(new N.DragAndDropObserver(this.db,{onDragEnter:()=>{},onDragOver:ve=>{if(!Ie())return;const ge=this.getTargetAtClientPoint(ve.clientX,ve.clientY);ge?.position&&this.Ub(ge.position)},onDrop:ve=>Le(this,void 0,void 0,function*(){if(!Ie()||(this.Vb(),!ve.dataTransfer))return;const ge=this.getTargetAtClientPoint(ve.clientX,ve.clientY);ge?.position&&this.P.fire({position:ge.position,event:ve})}),onDragLeave:()=>{this.Vb()},onDragEnd:()=>{this.Vb()}})),this.nb.addCodeEditor(this)}writeScreenReaderContent(U){var j;(j=this.ib)===null||j===void 0||j.view.writeScreenReaderContent(U)}yb(U,j,H){return new C.EditorConfiguration(U,j,this.db,H)}getId(){return this.getEditorType()+":"+this.fb}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this.nb.removeCodeEditor(this),this.qb.dispose(),this.hb.clear(),this.rb={},this.sb={},this.zb(),this._postDetachModelCleanup(this.Sb()),this.h.fire(),super.dispose()}invokeWithinContext(U){return this.jb.invokeFunction(U)}updateOptions(U){this.gb.updateOptions(U||{})}getOptions(){return this.gb.options}getOption(U){return this.gb.options.get(U)}getRawOptions(){return this.gb.getRawOptions()}getOverflowWidgetsDomNode(){return this.eb}getConfiguredWordAtPosition(U){return this.ib?T.WordOperations.getWordAtPosition(this.ib.model,this.gb.options.get(124),U):null}getValue(U=null){if(!this.ib)return"";const j=!!(U&&U.preserveBOM);let H=0;return U&&U.lineEnding&&U.lineEnding===`
`?H=1:U&&U.lineEnding&&U.lineEnding===`\r
`&&(H=2),this.ib.model.getValue(H,j)}setValue(U){!this.ib||this.ib.model.setValue(U)}getModel(){return this.ib?this.ib.model:null}setModel(U=null){const j=U;if(this.ib===null&&j===null||this.ib&&this.ib.model===j)return;const H=this.hasTextFocus(),_=this.Sb();this.Qb(j),H&&this.hasModel()&&this.focus();const ce={oldModelUrl:_?_.uri:null,newModelUrl:j?j.uri:null};this.zb(),this.u.fire(ce),this._postDetachModelCleanup(_),this.g.onAfterModelAttached()}zb(){if(this.tb={},this.ub){for(const U in this.ub){const j=this.ub[U];for(const H in j)this.Tb(U+"-"+H)}this.ub={}}}getVisibleRanges(){return this.ib?this.ib.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this.ib?this.ib.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this.ib?this.ib.viewModel.viewLayout.getWhitespaces():[]}static Ab(U,j,H,_){const ce=U.model.validatePosition({lineNumber:j,column:H}),ue=U.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);return U.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ue.lineNumber,_)}getTopForLineNumber(U,j=!1){return this.ib?Pt.Bb(this.ib,U,1,j):-1}getTopForPosition(U,j){return this.ib?Pt.Bb(this.ib,U,j,!1):-1}static Bb(U,j,H,_=!1){const ce=U.model.validatePosition({lineNumber:j,column:H}),ue=U.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);return U.viewModel.viewLayout.getVerticalOffsetForLineNumber(ue.lineNumber,_)}getBottomForLineNumber(U,j=!1){return this.ib?Pt.Ab(this.ib,U,1,j):-1}setHiddenAreas(U,j){var H;(H=this.ib)===null||H===void 0||H.viewModel.setHiddenAreas(U.map(_=>c.Range.lift(_)),j)}getVisibleColumnFromPosition(U){if(!this.ib)return U.column;const j=this.ib.model.validatePosition(U),H=this.ib.model.getOptions().tabSize;return a.CursorColumns.visibleColumnFromColumn(this.ib.model.getLineContent(j.lineNumber),j.column,H)+1}getPosition(){return this.ib?this.ib.viewModel.getPosition():null}setPosition(U,j="api"){if(!!this.ib){if(!r.Position.isIPosition(U))throw new Error("Invalid arguments");this.ib.viewModel.setSelections(j,[{selectionStartLineNumber:U.lineNumber,selectionStartColumn:U.column,positionLineNumber:U.lineNumber,positionColumn:U.column}])}}Cb(U,j,H,_){if(!this.ib)return;if(!c.Range.isIRange(U))throw new Error("Invalid arguments");const ce=this.ib.model.validateRange(U),ue=this.ib.viewModel.coordinatesConverter.convertModelRangeToViewRange(ce);this.ib.viewModel.revealRange("api",H,ue,j,_)}revealLine(U,j=0){this.Db(U,0,j)}revealLineInCenter(U,j=0){this.Db(U,1,j)}revealLineInCenterIfOutsideViewport(U,j=0){this.Db(U,2,j)}revealLineNearTop(U,j=0){this.Db(U,5,j)}Db(U,j,H){if(typeof U!="number")throw new Error("Invalid arguments");this.Cb(new c.Range(U,1,U,1),j,!1,H)}revealPosition(U,j=0){this.Eb(U,0,!0,j)}revealPositionInCenter(U,j=0){this.Eb(U,1,!0,j)}revealPositionInCenterIfOutsideViewport(U,j=0){this.Eb(U,2,!0,j)}revealPositionNearTop(U,j=0){this.Eb(U,5,!0,j)}Eb(U,j,H,_){if(!r.Position.isIPosition(U))throw new Error("Invalid arguments");this.Cb(new c.Range(U.lineNumber,U.column,U.lineNumber,U.column),j,H,_)}getSelection(){return this.ib?this.ib.viewModel.getSelection():null}getSelections(){return this.ib?this.ib.viewModel.getSelections():null}setSelection(U,j="api"){const H=u.Selection.isISelection(U),_=c.Range.isIRange(U);if(!H&&!_)throw new Error("Invalid arguments");if(H)this.Fb(U,j);else if(_){const ce={selectionStartLineNumber:U.startLineNumber,selectionStartColumn:U.startColumn,positionLineNumber:U.endLineNumber,positionColumn:U.endColumn};this.Fb(ce,j)}}Fb(U,j){if(!this.ib)return;const H=new u.Selection(U.selectionStartLineNumber,U.selectionStartColumn,U.positionLineNumber,U.positionColumn);this.ib.viewModel.setSelections(j,[H])}revealLines(U,j,H=0){this.Gb(U,j,0,H)}revealLinesInCenter(U,j,H=0){this.Gb(U,j,1,H)}revealLinesInCenterIfOutsideViewport(U,j,H=0){this.Gb(U,j,2,H)}revealLinesNearTop(U,j,H=0){this.Gb(U,j,5,H)}Gb(U,j,H,_){if(typeof U!="number"||typeof j!="number")throw new Error("Invalid arguments");this.Cb(new c.Range(U,1,j,1),H,!1,_)}revealRange(U,j=0,H=!1,_=!0){this.Hb(U,H?1:0,_,j)}revealRangeInCenter(U,j=0){this.Hb(U,1,!0,j)}revealRangeInCenterIfOutsideViewport(U,j=0){this.Hb(U,2,!0,j)}revealRangeNearTop(U,j=0){this.Hb(U,5,!0,j)}revealRangeNearTopIfOutsideViewport(U,j=0){this.Hb(U,6,!0,j)}revealRangeAtTop(U,j=0){this.Hb(U,3,!0,j)}Hb(U,j,H,_){if(!c.Range.isIRange(U))throw new Error("Invalid arguments");this.Cb(c.Range.lift(U),j,H,_)}setSelections(U,j="api",H=0){if(!!this.ib){if(!U||U.length===0)throw new Error("Invalid arguments");for(let _=0,ce=U.length;_<ce;_++)if(!u.Selection.isISelection(U[_]))throw new Error("Invalid arguments");this.ib.viewModel.setSelections(j,U,H)}}getContentWidth(){return this.ib?this.ib.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this.ib?this.ib.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this.ib?this.ib.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this.ib?this.ib.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this.ib?this.ib.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this.ib?this.ib.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(U,j=1){if(!!this.ib){if(typeof U!="number")throw new Error("Invalid arguments");this.ib.viewModel.viewLayout.setScrollPosition({scrollLeft:U},j)}}setScrollTop(U,j=1){if(!!this.ib){if(typeof U!="number")throw new Error("Invalid arguments");this.ib.viewModel.viewLayout.setScrollPosition({scrollTop:U},j)}}setScrollPosition(U,j=1){!this.ib||this.ib.viewModel.viewLayout.setScrollPosition(U,j)}saveViewState(){if(!this.ib)return null;const U=this.g.saveViewState(),j=this.ib.viewModel.saveCursorState(),H=this.ib.viewModel.saveState();return{cursorState:j,viewState:H,contributionsState:U}}restoreViewState(U){if(!this.ib||!this.ib.hasRealView)return;const j=U;if(j&&j.cursorState&&j.viewState){const H=j.cursorState;Array.isArray(H)?H.length>0&&this.ib.viewModel.restoreCursorState(H):this.ib.viewModel.restoreCursorState([H]),this.g.restoreViewState(j.contributionsState||{});const _=this.ib.viewModel.reduceRestoreState(j.viewState);this.ib.view.restoreState(_)}}getContribution(U){return this.g.get(U)}getActions(){return Array.from(this.hb.values())}getSupportedActions(){let U=this.getActions();return U=U.filter(j=>j.isSupported()),U}getAction(U){return this.hb.get(U)||null}trigger(U,j,H){switch(H=H||{},j){case"compositionStart":this.Jb();return;case"compositionEnd":this.Kb(U);return;case"type":{const ce=H;this.Lb(U,ce.text||"");return}case"replacePreviousChar":{const ce=H;this.Mb(U,ce.text||"",ce.replaceCharCnt||0,0,0);return}case"compositionType":{const ce=H;this.Mb(U,ce.text||"",ce.replacePrevCharCnt||0,ce.replaceNextCharCnt||0,ce.positionDelta||0);return}case"paste":{const ce=H;this.Nb(U,ce.text||"",ce.pasteOnNewLine||!1,ce.multicursorText||null,ce.mode||null);return}case"cut":this.Ob(U);return}const _=this.getAction(j);if(_){Promise.resolve(_.run()).then(void 0,E.onUnexpectedError);return}!this.ib||this.Pb(U,j,H)||this.Ib(j,H)}Ib(U,j){this.ob.executeCommand(U,j)}Jb(){!this.ib||(this.ib.viewModel.startComposition(),this.G.fire())}Kb(U){!this.ib||(this.ib.viewModel.endComposition(U),this.H.fire())}Lb(U,j){!this.ib||j.length===0||(U==="keyboard"&&this.D.fire(j),this.ib.viewModel.type(j,U),U==="keyboard"&&this.F.fire(j))}Mb(U,j,H,_,ce){!this.ib||this.ib.viewModel.compositionType(j,H,_,ce,U)}Nb(U,j,H,_,ce){if(!this.ib||j.length===0)return;const ue=this.ib.viewModel,se=ue.getSelection().getStartPosition();ue.paste(j,H,_,U);const he=ue.getSelection().getStartPosition();U==="keyboard"&&this.I.fire({range:new c.Range(se.lineNumber,se.column,he.lineNumber,he.column),languageId:ce})}Ob(U){!this.ib||this.ib.viewModel.cut(U)}Pb(U,j,H){const _=d.EditorExtensionsRegistry.getEditorCommand(j);return _?(H=H||{},H.source=U,this.jb.invokeFunction(ce=>{Promise.resolve(_.runEditorCommand(ce,this,H)).then(void 0,E.onUnexpectedError)}),!0):!1}_getViewModel(){return this.ib?this.ib.viewModel:null}pushUndoStop(){return!this.ib||this.gb.options.get(86)?!1:(this.ib.model.pushStackElement(),!0)}popUndoStop(){return!this.ib||this.gb.options.get(86)?!1:(this.ib.model.popStackElement(),!0)}executeEdits(U,j,H){if(!this.ib||this.gb.options.get(86))return!1;let _;return H?Array.isArray(H)?_=()=>H:_=H:_=()=>null,this.ib.viewModel.executeEdits(U,j,_),!0}executeCommand(U,j){!this.ib||this.ib.viewModel.executeCommand(j,U)}executeCommands(U,j){!this.ib||this.ib.viewModel.executeCommands(j,U)}createDecorationsCollection(U){return new x(this,U)}changeDecorations(U){return this.ib?this.ib.model.changeDecorations(U,this.fb):null}getLineDecorations(U){return this.ib?this.ib.model.getLineDecorations(U,this.fb,(0,n.filterValidationDecorations)(this.gb.options)):null}getDecorationsInRange(U){return this.ib?this.ib.model.getDecorationsInRange(U,this.fb,(0,n.filterValidationDecorations)(this.gb.options)):null}deltaDecorations(U,j){return this.ib?U.length===0&&j.length===0?U:this.ib.model.deltaDecorations(U,j,this.fb):[]}removeDecorations(U){!this.ib||U.length===0||this.ib.model.changeDecorations(j=>{j.deltaDecorations(U,[])})}removeDecorationsByType(U){const j=this.tb[U];j&&this.deltaDecorations(j,[]),this.tb.hasOwnProperty(U)&&delete this.tb[U],this.ub.hasOwnProperty(U)&&delete this.ub[U]}getLayoutInfo(){return this.gb.options.get(138)}createOverviewRuler(U){return!this.ib||!this.ib.hasRealView?null:this.ib.view.createOverviewRuler(U)}getContainerDomNode(){return this.db}getDomNode(){return!this.ib||!this.ib.hasRealView?null:this.ib.view.domNode.domNode}delegateVerticalScrollbarPointerDown(U){!this.ib||!this.ib.hasRealView||this.ib.view.delegateVerticalScrollbarPointerDown(U)}delegateScrollFromMouseWheelEvent(U){!this.ib||!this.ib.hasRealView||this.ib.view.delegateScrollFromMouseWheelEvent(U)}layout(U){this.gb.observeContainer(U),this.render()}focus(){!this.ib||!this.ib.hasRealView||this.ib.view.focus()}hasTextFocus(){return!this.ib||!this.ib.hasRealView?!1:this.ib.view.isFocused()}hasWidgetFocus(){return this.qb&&this.qb.hasFocus()}addContentWidget(U){const j={widget:U,position:U.getPosition()};this.rb.hasOwnProperty(U.getId())&&console.warn("Overwriting a content widget with the same id."),this.rb[U.getId()]=j,this.ib&&this.ib.hasRealView&&this.ib.view.addContentWidget(j)}layoutContentWidget(U){const j=U.getId();if(this.rb.hasOwnProperty(j)){const H=this.rb[j];H.position=U.getPosition(),this.ib&&this.ib.hasRealView&&this.ib.view.layoutContentWidget(H)}}removeContentWidget(U){const j=U.getId();if(this.rb.hasOwnProperty(j)){const H=this.rb[j];delete this.rb[j],this.ib&&this.ib.hasRealView&&this.ib.view.removeContentWidget(H)}}addOverlayWidget(U){const j={widget:U,position:U.getPosition()};this.sb.hasOwnProperty(U.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.sb[U.getId()]=j,this.ib&&this.ib.hasRealView&&this.ib.view.addOverlayWidget(j)}layoutOverlayWidget(U){const j=U.getId();if(this.sb.hasOwnProperty(j)){const H=this.sb[j];H.position=U.getPosition(),this.ib&&this.ib.hasRealView&&this.ib.view.layoutOverlayWidget(H)}}removeOverlayWidget(U){const j=U.getId();if(this.sb.hasOwnProperty(j)){const H=this.sb[j];delete this.sb[j],this.ib&&this.ib.hasRealView&&this.ib.view.removeOverlayWidget(H)}}changeViewZones(U){!this.ib||!this.ib.hasRealView||this.ib.view.change(U)}getTargetAtClientPoint(U,j){return!this.ib||!this.ib.hasRealView?null:this.ib.view.getTargetAtClientPoint(U,j)}getScrolledVisiblePosition(U){if(!this.ib||!this.ib.hasRealView)return null;const j=this.ib.model.validatePosition(U),H=this.gb.options,_=H.get(138),ce=Pt.Bb(this.ib,j.lineNumber,j.column)-this.getScrollTop(),ue=this.ib.view.getOffsetForColumn(j.lineNumber,j.column)+_.glyphMarginWidth+_.lineNumbersWidth+_.decorationsWidth-this.getScrollLeft();return{top:ce,left:ue,height:H.get(63)}}getOffsetForColumn(U,j){return!this.ib||!this.ib.hasRealView?-1:this.ib.view.getOffsetForColumn(U,j)}render(U=!1){!this.ib||!this.ib.hasRealView||this.ib.view.render(!0,U)}setAriaOptions(U){!this.ib||!this.ib.hasRealView||this.ib.view.setAriaOptions(U)}applyFontInfo(U){(0,F.applyFontInfo)(U,this.gb.options.get(47))}setBanner(U,j){this.vb&&this.db.contains(this.vb)&&this.db.removeChild(this.vb),this.vb=U,this.gb.setReservedHeight(U?j:0),this.vb&&this.db.prepend(this.vb)}Qb(U){if(!U){this.ib=null;return}const j=[];this.db.setAttribute("data-mode-id",U.getLanguageId()),this.gb.setIsDominatedByLongLines(U.isDominatedByLongLines()),this.gb.setModelLineCount(U.getLineCount()),U.onBeforeAttached();const H=new p.ViewModel(this.fb,this.gb,U,A.DOMLineBreaksComputerFactory.create(),P.MonospaceLineBreaksComputerFactory.create(this.gb.options),ue=>N.scheduleAtNextAnimationFrame(ue),this.xb,this.pb);j.push(U.onWillDispose(()=>this.setModel(null))),j.push(H.onEvent(ue=>{switch(ue.kind){case 0:this.Y.fire(ue);break;case 1:this.B.setValue(ue.hasFocus);break;case 2:this.Z.fire(ue);break;case 3:this.ab.fire();break;case 4:this.bb.fire();break;case 5:this.y.fire();break;case 6:{if(ue.reachedMaxCursorCount){const Se=this.getOption(76),ye=w.localize(0,null,Se);this.mb.prompt(I.Severity.Warning,ye,[{label:"Find and Replace",run:()=>{this.ob.executeCommand("editor.action.startFindReplaceAction")}},{label:w.localize(1,null),run:()=>{this.ob.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const se=[];for(let Se=0,ye=ue.selections.length;Se<ye;Se++)se[Se]=ue.selections[Se].getPosition();const he={position:se[0],secondaryPositions:se.slice(1),reason:ue.reason,source:ue.source};this.v.fire(he);const me={selection:ue.selections[0],secondarySelections:ue.selections.slice(1),modelVersionId:ue.modelVersionId,oldSelections:ue.oldSelections,oldModelVersionId:ue.oldModelVersionId,source:ue.source,reason:ue.reason};this.w.fire(me);break}case 7:this.n.fire(ue.event);break;case 8:this.db.setAttribute("data-mode-id",U.getLanguageId()),this.k.fire(ue.event);break;case 9:this.l.fire(ue.event);break;case 10:this.j.fire(ue.event);break;case 11:this.m.fire(ue.event);break;case 12:this.p.fire(ue.event);break}}));const[_,ce]=this.Rb(H);if(ce){this.db.appendChild(_.domNode.domNode);let ue=Object.keys(this.rb);for(let se=0,he=ue.length;se<he;se++){const me=ue[se];_.addContentWidget(this.rb[me])}ue=Object.keys(this.sb);for(let se=0,he=ue.length;se<he;se++){const me=ue[se];_.addOverlayWidget(this.sb[me])}_.render(!1,!0),_.domNode.domNode.setAttribute("data-uri",U.uri.toString())}this.ib=new $(U,H,_,ce,j)}Rb(U){let j;this.isSimpleWidget?j={paste:(ce,ue,se,he)=>{this.Nb("keyboard",ce,ue,se,he)},type:ce=>{this.Lb("keyboard",ce)},compositionType:(ce,ue,se,he)=>{this.Mb("keyboard",ce,ue,se,he)},startComposition:()=>{this.Jb()},endComposition:()=>{this.Kb("keyboard")},cut:()=>{this.Ob("keyboard")}}:j={paste:(ce,ue,se,he)=>{const me={text:ce,pasteOnNewLine:ue,multicursorText:se,mode:he};this.ob.executeCommand("paste",me)},type:ce=>{const ue={text:ce};this.ob.executeCommand("type",ue)},compositionType:(ce,ue,se,he)=>{if(se||he){const me={text:ce,replacePrevCharCnt:ue,replaceNextCharCnt:se,positionDelta:he};this.ob.executeCommand("compositionType",me)}else{const me={text:ce,replaceCharCnt:ue};this.ob.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this.ob.executeCommand("compositionStart",{})},endComposition:()=>{this.ob.executeCommand("compositionEnd",{})},cut:()=>{this.ob.executeCommand("cut",{})}};const H=new t.ViewUserInputEvents(U.coordinatesConverter);return H.onKeyDown=ce=>this.X.fire(ce),H.onKeyUp=ce=>this.W.fire(ce),H.onContextMenu=ce=>this.Q.fire(ce),H.onMouseMove=ce=>this.R.fire(ce),H.onMouseLeave=ce=>this.S.fire(ce),H.onMouseDown=ce=>this.L.fire(ce),H.onMouseUp=ce=>this.J.fire(ce),H.onMouseDrag=ce=>this.M.fire(ce),H.onMouseDrop=ce=>this.N.fire(ce),H.onMouseDropCanceled=ce=>this.O.fire(ce),H.onMouseWheel=ce=>this.U.fire(ce),[new i.View(j,this.gb,this.pb.getColorTheme(),U,H,this.eb),!0]}_postDetachModelCleanup(U){U?.removeAllDecorationsWithOwnerId(this.fb)}Sb(){if(!this.ib)return null;const U=this.ib.model,j=this.ib.hasRealView?this.ib.view.domNode.domNode:null;return this.ib.dispose(),this.ib=null,this.db.removeAttribute("data-mode-id"),j&&this.db.contains(j)&&this.db.removeChild(j),this.vb&&this.db.contains(this.vb)&&this.db.removeChild(this.vb),U}Tb(U){this.nb.removeDecorationType(U)}hasModel(){return this.ib!==null}Ub(U){const j=[{range:new c.Range(U.lineNumber,U.column,U.lineNumber,U.column),options:Pt.b}];this.wb.set(j),this.revealPosition(U,1)}Vb(){this.wb.clear()}};X.b=h.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),X=De([fe(3,L.IInstantiationService),fe(4,g.ICodeEditorService),fe(5,m.ICommandService),fe(6,b.IContextKeyService),fe(7,M.IThemeService),fe(8,I.INotificationService),fe(9,B.IAccessibilityService),fe(10,O.ILanguageConfigurationService),fe(11,W.ILanguageFeaturesService)],X),e.CodeEditorWidget=X;class ne extends y.Disposable{constructor(U){super(),this.h=U,this.b=this.q(new D.Emitter(this.h)),this.onDidChangeToTrue=this.b.event,this.c=this.q(new D.Emitter(this.h)),this.onDidChangeToFalse=this.c.event,this.g=0}setValue(U){const j=U?2:1;this.g!==j&&(this.g=j,this.g===2?this.b.fire():this.g===1&&this.c.fire())}}e.BooleanEventEmitter=ne;class ae extends D.Emitter{constructor(U,j){super({deliveryQueue:j}),this.c=U}fire(U){this.c.onBeforeInteractionEvent(),super.fire(U)}}class ie extends y.Disposable{constructor(U,j){super(),this.b=U,j.createKey("editorId",U.getId()),this.c=o.EditorContextKeys.editorSimpleInput.bindTo(j),this.g=o.EditorContextKeys.focus.bindTo(j),this.h=o.EditorContextKeys.textInputFocus.bindTo(j),this.j=o.EditorContextKeys.editorTextFocus.bindTo(j),this.k=o.EditorContextKeys.tabMovesFocus.bindTo(j),this.l=o.EditorContextKeys.readOnly.bindTo(j),this.m=o.EditorContextKeys.inDiffEditor.bindTo(j),this.n=o.EditorContextKeys.columnSelection.bindTo(j),this.p=o.EditorContextKeys.hasMultipleSelections.bindTo(j),this.t=o.EditorContextKeys.hasNonEmptySelection.bindTo(j),this.u=o.EditorContextKeys.canUndo.bindTo(j),this.v=o.EditorContextKeys.canRedo.bindTo(j),this.q(this.b.onDidChangeConfiguration(()=>this.w())),this.q(this.b.onDidChangeCursorSelection(()=>this.y())),this.q(this.b.onDidFocusEditorWidget(()=>this.z())),this.q(this.b.onDidBlurEditorWidget(()=>this.z())),this.q(this.b.onDidFocusEditorText(()=>this.z())),this.q(this.b.onDidBlurEditorText(()=>this.z())),this.q(this.b.onDidChangeModel(()=>this.B())),this.q(this.b.onDidChangeConfiguration(()=>this.B())),this.w(),this.y(),this.z(),this.B(),this.c.set(this.b.isSimpleWidget)}w(){const U=this.b.getOptions();this.k.set(U.get(137)),this.l.set(U.get(86)),this.m.set(U.get(58)),this.n.set(U.get(19))}y(){const U=this.b.getSelections();U?(this.p.set(U.length>1),this.t.set(U.some(j=>!j.isEmpty()))):(this.p.reset(),this.t.reset())}z(){this.g.set(this.b.hasWidgetFocus()&&!this.b.isSimpleWidget),this.j.set(this.b.hasTextFocus()&&!this.b.isSimpleWidget),this.h.set(this.b.hasTextFocus())}B(){const U=this.b.getModel();this.u.set(Boolean(U&&U.canUndo())),this.v.set(Boolean(U&&U.canRedo()))}}class le extends y.Disposable{constructor(U,j,H){super(),this.G=U,this.H=j,this.I=H,this.b=o.EditorContextKeys.languageId.bindTo(j),this.c=o.EditorContextKeys.hasCompletionItemProvider.bindTo(j),this.g=o.EditorContextKeys.hasCodeActionsProvider.bindTo(j),this.h=o.EditorContextKeys.hasCodeLensProvider.bindTo(j),this.j=o.EditorContextKeys.hasDefinitionProvider.bindTo(j),this.k=o.EditorContextKeys.hasDeclarationProvider.bindTo(j),this.l=o.EditorContextKeys.hasImplementationProvider.bindTo(j),this.m=o.EditorContextKeys.hasTypeDefinitionProvider.bindTo(j),this.n=o.EditorContextKeys.hasHoverProvider.bindTo(j),this.p=o.EditorContextKeys.hasDocumentHighlightProvider.bindTo(j),this.t=o.EditorContextKeys.hasDocumentSymbolProvider.bindTo(j),this.u=o.EditorContextKeys.hasReferenceProvider.bindTo(j),this.v=o.EditorContextKeys.hasRenameProvider.bindTo(j),this.C=o.EditorContextKeys.hasSignatureHelpProvider.bindTo(j),this.D=o.EditorContextKeys.hasInlayHintsProvider.bindTo(j),this.w=o.EditorContextKeys.hasDocumentFormattingProvider.bindTo(j),this.y=o.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(j),this.z=o.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(j),this.B=o.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(j),this.F=o.EditorContextKeys.isInWalkThroughSnippet.bindTo(j);const _=()=>this.J();this.q(U.onDidChangeModel(_)),this.q(U.onDidChangeModelLanguage(_)),this.q(H.completionProvider.onDidChange(_)),this.q(H.codeActionProvider.onDidChange(_)),this.q(H.codeLensProvider.onDidChange(_)),this.q(H.definitionProvider.onDidChange(_)),this.q(H.declarationProvider.onDidChange(_)),this.q(H.implementationProvider.onDidChange(_)),this.q(H.typeDefinitionProvider.onDidChange(_)),this.q(H.hoverProvider.onDidChange(_)),this.q(H.documentHighlightProvider.onDidChange(_)),this.q(H.documentSymbolProvider.onDidChange(_)),this.q(H.referenceProvider.onDidChange(_)),this.q(H.renameProvider.onDidChange(_)),this.q(H.documentFormattingEditProvider.onDidChange(_)),this.q(H.documentRangeFormattingEditProvider.onDidChange(_)),this.q(H.signatureHelpProvider.onDidChange(_)),this.q(H.inlayHintsProvider.onDidChange(_)),_()}dispose(){super.dispose()}reset(){this.H.bufferChangeEvents(()=>{this.b.reset(),this.c.reset(),this.g.reset(),this.h.reset(),this.j.reset(),this.k.reset(),this.l.reset(),this.m.reset(),this.n.reset(),this.p.reset(),this.t.reset(),this.u.reset(),this.v.reset(),this.w.reset(),this.y.reset(),this.C.reset(),this.F.reset()})}J(){const U=this.G.getModel();if(!U){this.reset();return}this.H.bufferChangeEvents(()=>{this.b.set(U.getLanguageId()),this.c.set(this.I.completionProvider.has(U)),this.g.set(this.I.codeActionProvider.has(U)),this.h.set(this.I.codeLensProvider.has(U)),this.j.set(this.I.definitionProvider.has(U)),this.k.set(this.I.declarationProvider.has(U)),this.l.set(this.I.implementationProvider.has(U)),this.m.set(this.I.typeDefinitionProvider.has(U)),this.n.set(this.I.hoverProvider.has(U)),this.p.set(this.I.documentHighlightProvider.has(U)),this.t.set(this.I.documentSymbolProvider.has(U)),this.u.set(this.I.referenceProvider.has(U)),this.v.set(this.I.renameProvider.has(U)),this.C.set(this.I.signatureHelpProvider.has(U)),this.D.set(this.I.inlayHintsProvider.has(U)),this.w.set(this.I.documentFormattingEditProvider.has(U)||this.I.documentRangeFormattingEditProvider.has(U)),this.y.set(this.I.documentRangeFormattingEditProvider.has(U)),this.z.set(this.I.documentFormattingEditProvider.all(U).length+this.I.documentRangeFormattingEditProvider.all(U).length>1),this.B.set(this.I.documentRangeFormattingEditProvider.all(U).length>1),this.F.set(U.uri.scheme===v.Schemas.walkThroughSnippet)})}}e.EditorModeContext=le;class J extends y.Disposable{constructor(U){super(),this.g=this.q(new D.Emitter),this.onChange=this.g.event,this.b=!1,this.c=this.q(N.trackFocus(U)),this.q(this.c.onDidFocus(()=>{this.b=!0,this.g.fire(void 0)})),this.q(this.c.onDidBlur(()=>{this.b=!1,this.g.fire(void 0)}))}hasFocus(){return this.b}}class x{get length(){return this.b.length}constructor(U,j){this.d=U,this.b=[],this.c=!1,Array.isArray(j)&&j.length>0&&this.set(j)}onDidChange(U,j,H){return this.d.onDidChangeModelDecorations(_=>{this.c||U.call(j,_)},H)}getRange(U){return!this.d.hasModel()||U>=this.b.length?null:this.d.getModel().getDecorationRange(this.b[U])}getRanges(){if(!this.d.hasModel())return[];const U=this.d.getModel(),j=[];for(const H of this.b){const _=U.getDecorationRange(H);_&&j.push(_)}return j}has(U){return this.b.includes(U.id)}clear(){this.b.length!==0&&this.set([])}set(U){try{this.c=!0,this.d.changeDecorations(j=>{this.b=j.deltaDecorations(this.b,U)})}finally{this.c=!1}}}const q=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Y=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Q(Z){return q+encodeURIComponent(Z.toString())+Y}const re=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),oe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function G(Z){return re+encodeURIComponent(Z.toString())+oe}(0,M.registerThemingParticipant)((Z,U)=>{const j=Z.getColor(S.editorErrorForeground);j&&U.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Q(j)}") repeat-x bottom left; }`);const H=Z.getColor(S.editorWarningForeground);H&&U.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Q(H)}") repeat-x bottom left; }`);const _=Z.getColor(S.editorInfoForeground);_&&U.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Q(_)}") repeat-x bottom left; }`);const ce=Z.getColor(S.editorHintForeground);ce&&U.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${G(ce)}") no-repeat bottom left; }`);const ue=Z.getColor(f.editorUnnecessaryCodeOpacity);ue&&U.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ue.rgba.a}; }`)})}),define(ee[322],te([1,0,7,35,155,138,85,12,27,13,6,2,72,282,14,28,112,179,770,570,683,39,11,3,96,160,38,135,106,80,259,567,97,15,56,8,173,42,69,30,78,24,31,388]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O,F,W,V,R,$,X){"use strict";var ne;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class ae{constructor(ve,ge){this.j=ve,this.k=ge,this.d=[],this.f=[],this.g={},this.h=[]}getForeignViewZones(ve){return ve.filter(ge=>!this.g[String(ge.id)])}clean(ve){this.d.length>0&&ve.changeViewZones(ge=>{for(const we of this.d)ge.removeZone(we)}),this.d=[],this.g={},ve.changeDecorations(ge=>{this.h=ge.deltaDecorations(this.h,[])})}apply(ve,ge,we,de){const pe=de?c.StableEditorScrollState.capture(ve):null;ve.changeViewZones(be=>{var Ce;for(const Ee of this.d)be.removeZone(Ee);for(const Ee of this.f)Ee.dispose();this.d=[],this.g={},this.f=[];for(let Ee=0,Ae=we.zones.length;Ee<Ae;Ee++){const Me=we.zones[Ee];Me.suppressMouseDown=!0;const Re=be.addZone(Me);this.d.push(Re),this.g[String(Re)]=!0,we.zones[Ee].diff&&Me.marginDomNode&&(Me.suppressMouseDown=!1,((Ce=we.zones[Ee].diff)===null||Ce===void 0?void 0:Ce.originalModel.getValueLength())!==0&&this.f.push(new l.InlineDiffMargin(Re,Me.marginDomNode,ve,we.zones[Ee].diff,this.j,this.k)))}}),pe?.restore(ve),ve.changeDecorations(be=>{this.h=be.deltaDecorations(this.h,we.decorations)}),ge?.setZones(we.overviewZones)}}let ie=0;const le=(0,R.registerIcon)("diff-insert",C.Codicon.add,B.localize(0,null)),J=(0,R.registerIcon)("diff-remove",C.Codicon.remove,B.localize(1,null)),x=(ne=window.trustedTypes)===null||ne===void 0?void 0:ne.createPolicy("diffEditorWidget",{createHTML:Ie=>Ie}),q=B.localize(2,null);let Y=class ht extends i.Disposable{constructor(ve,ge,we,de,pe,be,Ce,Ee,Ae,Me,Re){super(),this.ib=Re,this.j=this.q(new g.Emitter),this.onDidDispose=this.j.event,this.k=this.q(new g.Emitter),this.onDidChangeModel=this.k.event,this.l=this.q(new g.Emitter),this.onDidUpdateDiff=this.l.event,this.n=this.q(new g.Emitter),this.xb=null,this.yb=null,this.bb=this.q(be.createInstance(o.WorkerBasedDocumentDiffProvider,ge)),this.q(this.bb.onDidChange(Fe=>this.wb())),this.eb=Ce,this.cb=this.q(pe.createScoped(ve)),this.db=be.createChild(new O.ServiceCollection([P.IContextKeyService,this.cb])),this.cb.createKey("isInDiffEditor",!0),this.fb=Ee,this.gb=Ae,this.p=++ie,this.u=0,this.v=null,this.y=ve,ge=ge||{},this.Y=Te(ge,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),typeof ge.isInEmbeddedEditor<"u"?this.cb.createKey("isInEmbeddedDiffEditor",ge.isInEmbeddedEditor):this.cb.createKey("isInEmbeddedDiffEditor",!1),this.ab=this.q(new v.RunOnceScheduler(()=>this.Cb(),0)),this.B=document.createElement("div"),this.B.className=ht.lb(this.fb.getColorTheme(),this.Y.renderSideBySide),this.B.style.position="relative",this.B.style.height="100%",this.y.appendChild(this.B),this.D=(0,N.createFastDomNode)(document.createElement("div")),this.D.setClassName("diffViewport"),this.D.setPosition("absolute"),this.C=document.createElement("div"),this.C.className="diffOverview",this.C.style.position="absolute",this.C.appendChild(this.D.domNode),this.q(w.addStandardDisposableListener(this.C,w.EventType.POINTER_DOWN,Fe=>{this.L.delegateVerticalScrollbarPointerDown(Fe)})),this.q(w.addDisposableListener(this.C,w.EventType.MOUSE_WHEEL,Fe=>{this.L.delegateScrollFromMouseWheelEvent(Fe)},{passive:!1})),this.Y.renderOverviewRuler&&this.B.appendChild(this.C),this.H=document.createElement("div"),this.H.className="editor original",this.H.style.position="absolute",this.H.style.height="100%",this.B.appendChild(this.H),this.M=document.createElement("div"),this.M.className="editor modified",this.M.style.position="absolute",this.M.style.height="100%",this.B.appendChild(this.M),this.Q=-1,this.P=!1,this.R=0,this.I=new ae(Me,de),this.N=new ae(Me,de),this.U=!0,this.W=!1,this.F=this.q(new n.ElementSizeObserver(this.B,ge.dimension)),this.q(this.F.onDidChange(()=>this.rb())),ge.automaticLayout&&this.F.startObserving(),this.S=null,this.G=this.ob(ge,we.originalEditor||{}),this.L=this.pb(ge,we.modifiedEditor||{}),this.J=null,this.O=null,this.hb=be.createInstance(s.DiffReview,this),this.B.appendChild(this.hb.domNode.domNode),this.B.appendChild(this.hb.shadow.domNode),this.B.appendChild(this.hb.actionBarContainer.domNode),this.Y.renderSideBySide?this.Kb(new U(this.Jb(),this.Y.enableSplitViewResizing)):this.Kb(new H(this.Jb(),this.Y.enableSplitViewResizing)),this.q(Ee.onDidColorThemeChange(Fe=>{this.Z&&this.Z.applyColors(Fe)&&this.ab.schedule(),this.B.className=ht.lb(this.fb.getColorTheme(),this.Y.renderSideBySide)}));const ze=a.EditorExtensionsRegistry.getDiffEditorContributions();for(const Fe of ze)try{this.q(be.createInstance(Fe.ctor,this))}catch(Ve){(0,d.onUnexpectedError)(Ve)}this.eb.addDiffEditor(this)}jb(ve){this.u!==ve&&(this.u=ve,this.v&&(this.v.done(),this.v=null),this.u===1&&(this.v=this.ib.show(!0,1e3)))}diffReviewNext(){this.hb.next()}diffReviewPrev(){this.hb.prev()}static lb(ve,ge){let we="monaco-diff-editor monaco-editor-background ";return ge&&(we+="side-by-side "),we+=(0,$.getThemeTypeSelector)(ve.type),we}mb(){this.J&&(this.C.removeChild(this.J.getDomNode()),this.J.dispose(),this.J=null),this.O&&(this.C.removeChild(this.O.getDomNode()),this.O.dispose(),this.O=null)}nb(){!this.Y.renderOverviewRuler||(y.ok(!this.J&&!this.O),this.G.hasModel()&&(this.J=this.G.createOverviewRuler("original diffOverviewRuler"),this.C.appendChild(this.J.getDomNode())),this.L.hasModel()&&(this.O=this.L.createOverviewRuler("modified diffOverviewRuler"),this.C.appendChild(this.O.getDomNode())),this.ub())}ob(ve,ge){const we=this.qb(this.db,this.H,this.Eb(ve),ge);this.q(we.onDidScrollChange(pe=>{this.W||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this.W=!0,this.L.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this.W=!1,this.Hb())})),this.q(we.onDidChangeViewZones(()=>{this.vb()})),this.q(we.onDidChangeConfiguration(pe=>{!we.getModel()||(pe.hasChanged(47)&&this.ab.schedule(),pe.hasChanged(139)&&(this.ab.cancel(),this.Cb()))})),this.q(we.onDidChangeHiddenAreas(()=>{this.ab.cancel(),this.Cb()})),this.q(we.onDidChangeModelContent(()=>{this.U&&this.wb()}));const de=this.cb.createKey("isInDiffLeftEditor",we.hasWidgetFocus());return this.q(we.onDidFocusEditorWidget(()=>de.set(!0))),this.q(we.onDidBlurEditorWidget(()=>de.set(!1))),this.q(we.onDidContentSizeChange(pe=>{const be=this.G.getContentWidth()+this.L.getContentWidth()+ht.g,Ce=Math.max(this.L.getContentHeight(),this.G.getContentHeight());this.n.fire({contentHeight:Ce,contentWidth:be,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),we}pb(ve,ge){const we=this.qb(this.db,this.M,this.Fb(ve),ge);this.q(we.onDidScrollChange(pe=>{this.W||!pe.scrollTopChanged&&!pe.scrollLeftChanged&&!pe.scrollHeightChanged||(this.W=!0,this.G.setScrollPosition({scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop}),this.W=!1,this.Hb())})),this.q(we.onDidChangeViewZones(()=>{this.vb()})),this.q(we.onDidChangeConfiguration(pe=>{!we.getModel()||(pe.hasChanged(47)&&this.ab.schedule(),pe.hasChanged(139)&&(this.ab.cancel(),this.Cb()))})),this.q(we.onDidChangeHiddenAreas(()=>{this.ab.cancel(),this.Cb()})),this.q(we.onDidChangeModelContent(()=>{this.U&&this.wb()})),this.q(we.onDidChangeModelOptions(pe=>{pe.tabSize&&this.ab.schedule()}));const de=this.cb.createKey("isInDiffRightEditor",we.hasWidgetFocus());return this.q(we.onDidFocusEditorWidget(()=>de.set(!0))),this.q(we.onDidBlurEditorWidget(()=>de.set(!1))),this.q(we.onDidContentSizeChange(pe=>{const be=this.G.getContentWidth()+this.L.getContentWidth()+ht.g,Ce=Math.max(this.L.getContentHeight(),this.G.getContentHeight());this.n.fire({contentHeight:Ce,contentWidth:be,contentHeightChanged:pe.contentHeightChanged,contentWidthChanged:pe.contentWidthChanged})})),this.q(we.onMouseDown(pe=>{var be,Ce;if(!pe.event.rightButton&&pe.target.position&&((be=pe.target.element)===null||be===void 0?void 0:be.className.includes("arrow-revert-change"))){const Ee=pe.target.position.lineNumber,Ae=pe.target,Me=(Ce=this.S)===null||Ce===void 0?void 0:Ce.changes.find(Re=>Ae?.detail.afterLineNumber===Re.modifiedStartLineNumber||Re.modifiedEndLineNumber>0&&Re.modifiedStartLineNumber===Ee);Me&&this.revertChange(Me),pe.event.stopPropagation(),this.Cb();return}})),we}revertChange(ve){const ge=this.L,we=this.G.getModel(),de=this.L.getModel();if(!we||!de||!ge)return;const pe=ve.originalEndLineNumber>0?new S.Range(ve.originalStartLineNumber,1,ve.originalEndLineNumber,we.getLineMaxColumn(ve.originalEndLineNumber)):null,be=pe?we.getValueInRange(pe):null,Ce=ve.modifiedEndLineNumber>0?new S.Range(ve.modifiedStartLineNumber,1,ve.modifiedEndLineNumber,de.getLineMaxColumn(ve.modifiedEndLineNumber)):null,Ee=de.getEOL();if(ve.originalEndLineNumber===0&&Ce){let Ae=Ce;ve.modifiedStartLineNumber>1?Ae=Ce.setStartPosition(ve.modifiedStartLineNumber-1,de.getLineMaxColumn(ve.modifiedStartLineNumber-1)):ve.modifiedEndLineNumber<de.getLineCount()&&(Ae=Ce.setEndPosition(ve.modifiedEndLineNumber+1,1)),ge.executeEdits("diffEditor",[{range:Ae,text:""}])}else if(ve.modifiedEndLineNumber===0&&be!==null){const Ae=ve.modifiedStartLineNumber<de.getLineCount()?new f.Position(ve.modifiedStartLineNumber+1,1):new f.Position(ve.modifiedStartLineNumber,de.getLineMaxColumn(ve.modifiedStartLineNumber));ge.executeEdits("diffEditor",[{range:S.Range.fromPositions(Ae,Ae),text:ve.modifiedStartLineNumber<de.getLineCount()?be+Ee:Ee+be}])}else Ce&&be!==null&&ge.executeEdits("diffEditor",[{range:Ce,text:be}])}qb(ve,ge,we,de){return ve.createInstance(u.CodeEditorWidget,ge,we,de)}dispose(){this.eb.removeDiffEditor(this),this.Q!==-1&&(window.clearTimeout(this.Q),this.Q=-1),this.Bb(),this.J&&(this.C.removeChild(this.J.getDomNode()),this.J.dispose()),this.O&&(this.C.removeChild(this.O.getDomNode()),this.O.dispose()),this.C.removeChild(this.D.domNode),this.Y.renderOverviewRuler&&this.B.removeChild(this.C),this.B.removeChild(this.H),this.G.dispose(),this.B.removeChild(this.M),this.L.dispose(),this.Z.dispose(),this.B.removeChild(this.hb.domNode.domNode),this.B.removeChild(this.hb.shadow.domNode),this.B.removeChild(this.hb.actionBarContainer.domNode),this.hb.dispose(),this.y.removeChild(this.B),this.j.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this.p}getEditorType(){return m.EditorType.IDiffEditor}getLineChanges(){return this.S?this.S.changes:null}getOriginalEditor(){return this.G}getModifiedEditor(){return this.L}updateOptions(ve){const ge=Te(ve,this.Y),we=Pe(this.Y,ge);this.Y=ge;const de=we.ignoreTrimWhitespace||we.renderIndicators||we.renderMarginRevertIcon,pe=this.U&&(we.maxComputationTime||we.maxFileSize);this.bb.setOptions(ge),de?this.Ab():pe&&this.wb(),this.L.updateOptions(this.Fb(ve)),this.G.updateOptions(this.Eb(ve)),this.Z.setEnableSplitViewResizing(this.Y.enableSplitViewResizing),we.renderSideBySide&&(this.Y.renderSideBySide?this.Kb(new U(this.Jb(),this.Y.enableSplitViewResizing)):this.Kb(new H(this.Jb(),this.Y.enableSplitViewResizing)),this.B.className=ht.lb(this.fb.getColorTheme(),this.Y.renderSideBySide)),we.renderOverviewRuler&&(this.Y.renderOverviewRuler?this.B.appendChild(this.C):this.B.removeChild(this.C))}getModel(){return{original:this.G.getModel(),modified:this.L.getModel()}}setModel(ve){if(ve&&(!ve.original||!ve.modified))throw new Error(ve.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this.Bb(),this.mb(),this.G.setModel(ve?ve.original:null),this.L.setModel(ve?ve.modified:null),this.ab.cancel(),ve&&(this.G.setScrollTop(0),this.L.setScrollTop(0)),this.S=null,this.R++,this.jb(0),ve&&(this.nb(),this.Ab()),this.Hb(),this.k.fire()}getContainerDomNode(){return this.y}getVisibleColumnFromPosition(ve){return this.L.getVisibleColumnFromPosition(ve)}getPosition(){return this.L.getPosition()}setPosition(ve,ge="api"){this.L.setPosition(ve,ge)}revealLine(ve,ge=0){this.L.revealLine(ve,ge)}revealLineInCenter(ve,ge=0){this.L.revealLineInCenter(ve,ge)}revealLineInCenterIfOutsideViewport(ve,ge=0){this.L.revealLineInCenterIfOutsideViewport(ve,ge)}revealLineNearTop(ve,ge=0){this.L.revealLineNearTop(ve,ge)}revealPosition(ve,ge=0){this.L.revealPosition(ve,ge)}revealPositionInCenter(ve,ge=0){this.L.revealPositionInCenter(ve,ge)}revealPositionInCenterIfOutsideViewport(ve,ge=0){this.L.revealPositionInCenterIfOutsideViewport(ve,ge)}revealPositionNearTop(ve,ge=0){this.L.revealPositionNearTop(ve,ge)}getSelection(){return this.L.getSelection()}getSelections(){return this.L.getSelections()}setSelection(ve,ge="api"){this.L.setSelection(ve,ge)}setSelections(ve,ge="api"){this.L.setSelections(ve,ge)}revealLines(ve,ge,we=0){this.L.revealLines(ve,ge,we)}revealLinesInCenter(ve,ge,we=0){this.L.revealLinesInCenter(ve,ge,we)}revealLinesInCenterIfOutsideViewport(ve,ge,we=0){this.L.revealLinesInCenterIfOutsideViewport(ve,ge,we)}revealLinesNearTop(ve,ge,we=0){this.L.revealLinesNearTop(ve,ge,we)}revealRange(ve,ge=0,we=!1,de=!0){this.L.revealRange(ve,ge,we,de)}revealRangeInCenter(ve,ge=0){this.L.revealRangeInCenter(ve,ge)}revealRangeInCenterIfOutsideViewport(ve,ge=0){this.L.revealRangeInCenterIfOutsideViewport(ve,ge)}revealRangeNearTop(ve,ge=0){this.L.revealRangeNearTop(ve,ge)}revealRangeNearTopIfOutsideViewport(ve,ge=0){this.L.revealRangeNearTopIfOutsideViewport(ve,ge)}revealRangeAtTop(ve,ge=0){this.L.revealRangeAtTop(ve,ge)}getSupportedActions(){return this.L.getSupportedActions()}saveViewState(){const ve=this.G.saveViewState(),ge=this.L.saveViewState();return{original:ve,modified:ge}}restoreViewState(ve){if(ve&&ve.original&&ve.modified){const ge=ve;this.G.restoreViewState(ge.original),this.L.restoreViewState(ge.modified)}}layout(ve){this.F.observe(ve)}focus(){this.L.focus()}hasTextFocus(){return this.G.hasTextFocus()||this.L.hasTextFocus()}trigger(ve,ge,we){this.L.trigger(ve,ge,we)}createDecorationsCollection(ve){return this.L.createDecorationsCollection(ve)}changeDecorations(ve){return this.L.changeDecorations(ve)}rb(){this.Gb()}tb(){return this.hb.isVisible()?this.F.getHeight():0}ub(){if(!this.Y.renderOverviewRuler||!this.J||!this.O)return;const ve=this.F.getHeight(),ge=this.tb(),we=ht.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ht.g;this.L.getLayoutInfo()&&(this.J.setLayout({top:0,width:ht.g,right:we+ht.g,height:ve-ge}),this.O.setLayout({top:0,right:0,width:ht.g,height:ve-ge}))}vb(){this.P||this.ab.schedule()}wb(){this.Q!==-1&&(window.clearTimeout(this.Q),this.Q=-1),this.Q=window.setTimeout(()=>this.Ab(),ht.h)}static zb(ve,ge){return!ve&&!ge?!0:!ve||!ge?!1:ve.toString()===ge.toString()}Ab(){this.Q!==-1&&(window.clearTimeout(this.Q),this.Q=-1);const ve=this.G.getModel(),ge=this.L.getModel();if(!ve||!ge)return;this.R++;const we=this.R,de=this.Y.maxFileSize*1024*1024,pe=be=>{const Ce=be.getValueLength();return de===0||Ce<=de};if(!pe(ve)||!pe(ge)){(!ht.zb(ve.uri,this.xb)||!ht.zb(ge.uri,this.yb))&&(this.xb=ve.uri,this.yb=ge.uri,this.gb.warn(B.localize(3,null)));return}this.jb(1),this.bb.computeDiff(ve,ge,{ignoreTrimWhitespace:this.Y.ignoreTrimWhitespace,maxComputationTimeMs:this.Y.maxComputationTime}).then(be=>{we===this.R&&ve===this.G.getModel()&&ge===this.L.getModel()&&(this.jb(2),this.S={identical:be.identical,quitEarly:be.quitEarly,changes:be.changes.map(Ce=>{let Ee,Ae,Me,Re,ze=Ce.innerChanges;return Ce.originalRange.isEmpty?(Ee=Ce.originalRange.startLineNumber-1,Ae=0,ze=void 0):(Ee=Ce.originalRange.startLineNumber,Ae=Ce.originalRange.endLineNumberExclusive-1),Ce.modifiedRange.isEmpty?(Me=Ce.modifiedRange.startLineNumber-1,Re=0,ze=void 0):(Me=Ce.modifiedRange.startLineNumber,Re=Ce.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:Ee,originalEndLineNumber:Ae,modifiedStartLineNumber:Me,modifiedEndLineNumber:Re,charChanges:ze?.map(Fe=>({originalStartLineNumber:Fe.originalRange.startLineNumber,originalStartColumn:Fe.originalRange.startColumn,originalEndLineNumber:Fe.originalRange.endLineNumber,originalEndColumn:Fe.originalRange.endColumn,modifiedStartLineNumber:Fe.modifiedRange.startLineNumber,modifiedStartColumn:Fe.modifiedRange.startColumn,modifiedEndLineNumber:Fe.modifiedRange.endLineNumber,modifiedEndColumn:Fe.modifiedRange.endColumn}))}})},this.ab.schedule(),this.l.fire())},be=>{we===this.R&&ve===this.G.getModel()&&ge===this.L.getModel()&&(this.jb(2),this.S=null,this.ab.schedule())})}Bb(){this.I.clean(this.G),this.N.clean(this.L)}Cb(){if(!this.G.getModel()||!this.L.getModel())return;const ve=this.S?this.S.changes:[],ge=this.I.getForeignViewZones(this.G.getWhitespaces()),we=this.N.getForeignViewZones(this.L.getWhitespaces()),de=this.Y.renderMarginRevertIcon&&!this.L.getOption(86),pe=this.Z.getEditorsDiffDecorations(ve,this.Y.ignoreTrimWhitespace,this.Y.renderIndicators,de,ge,we);try{this.P=!0,this.I.apply(this.G,this.J,pe.original,!1),this.N.apply(this.L,this.O,pe.modified,!0)}finally{this.P=!1}}Db(ve){const ge=Object.assign({},ve);return ge.inDiffEditor=!0,ge.automaticLayout=!1,ge.scrollbar=Object.assign({},ge.scrollbar||{}),ge.scrollbar.vertical="visible",ge.folding=!1,ge.codeLens=this.Y.diffCodeLens,ge.fixedOverflowWidgets=!0,ge.minimap=Object.assign({},ge.minimap||{}),ge.minimap.enabled=!1,ge}Eb(ve){const ge=this.Db(ve);return this.Y.renderSideBySide?ge.wordWrapOverride1=this.Y.diffWordWrap:(ge.wordWrapOverride1="off",ge.wordWrapOverride2="off"),ve.originalAriaLabel&&(ge.ariaLabel=ve.originalAriaLabel),ge.ariaLabel+=q,ge.readOnly=!this.Y.originalEditable,ge.dropIntoEditor={enabled:!ge.readOnly},ge.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ge),{dimension:{height:0,width:0}})}Fb(ve){const ge=this.Db(ve);return ve.modifiedAriaLabel&&(ge.ariaLabel=ve.modifiedAriaLabel),ge.ariaLabel+=q,ge.wordWrapOverride1=this.Y.diffWordWrap,ge.revealHorizontalRightPadding=h.EditorOptions.revealHorizontalRightPadding.defaultValue+ht.ENTIRE_DIFF_OVERVIEW_WIDTH,ge.scrollbar.verticalHasArrows=!1,ge.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ge),{dimension:{height:0,width:0}})}doLayout(){this.F.observe(),this.Gb()}Gb(){const ve=this.F.getWidth(),ge=this.F.getHeight(),we=this.tb(),de=this.Z.layout();this.H.style.width=de+"px",this.H.style.left="0px",this.M.style.width=ve-de+"px",this.M.style.left=de+"px",this.C.style.top="0px",this.C.style.height=ge-we+"px",this.C.style.width=ht.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this.C.style.left=ve-ht.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this.D.setWidth(ht.ENTIRE_DIFF_OVERVIEW_WIDTH),this.D.setHeight(30),this.G.layout({width:de,height:ge-we}),this.L.layout({width:ve-de-(this.Y.renderOverviewRuler?ht.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ge-we}),(this.J||this.O)&&this.ub(),this.hb.layout(ge-we,ve,we),this.Hb()}Hb(){const ve=this.Ib();ve?(this.D.setTop(ve.top),this.D.setHeight(ve.height)):(this.D.setTop(0),this.D.setHeight(0))}Ib(){const ve=this.L.getLayoutInfo();if(!ve)return null;const ge=this.L.getScrollTop(),we=this.L.getScrollHeight(),de=Math.max(0,ve.height),pe=Math.max(0,de-2*0),be=we>0?pe/we:0,Ce=Math.max(0,Math.floor(ve.height*be)),Ee=Math.floor(ge*be);return{height:Ce,top:Ee}}Jb(){return{getWidth:()=>this.F.getWidth(),getHeight:()=>this.F.getHeight()-this.tb(),getOptions:()=>({renderOverviewRuler:this.Y.renderOverviewRuler}),getContainerDomNode:()=>this.B,relayoutEditors:()=>{this.Gb()},getOriginalEditor:()=>this.G,getModifiedEditor:()=>this.L}}Kb(ve){var ge;(ge=this.Z)===null||ge===void 0||ge.dispose(),this.Z=ve,this.X&&ve.setBoundarySashes(this.X),ve.applyColors(this.fb.getColorTheme()),this.S&&this.Cb(),this.Gb()}Lb(ve,ge){const we=this.S?this.S.changes:[];if(we.length===0||ve<ge(we[0]))return null;let de=0,pe=we.length-1;for(;de<pe;){const be=Math.floor((de+pe)/2),Ce=ge(we[be]),Ee=be+1<=pe?ge(we[be+1]):1073741824;ve<Ce?pe=be-1:ve>=Ee?de=be+1:(de=be,pe=be)}return we[de]}Mb(ve){const ge=this.Lb(ve,Ee=>Ee.originalStartLineNumber);if(!ge)return ve;const we=ge.originalStartLineNumber+(ge.originalEndLineNumber>0?-1:0),de=ge.modifiedStartLineNumber+(ge.modifiedEndLineNumber>0?-1:0),pe=ge.originalEndLineNumber>0?ge.originalEndLineNumber-ge.originalStartLineNumber+1:0,be=ge.modifiedEndLineNumber>0?ge.modifiedEndLineNumber-ge.modifiedStartLineNumber+1:0,Ce=ve-we;return Ce<=pe?de+Math.min(Ce,be):de+be-pe+Ce}Nb(ve){const ge=this.Lb(ve,Ee=>Ee.modifiedStartLineNumber);if(!ge)return ve;const we=ge.originalStartLineNumber+(ge.originalEndLineNumber>0?-1:0),de=ge.modifiedStartLineNumber+(ge.modifiedEndLineNumber>0?-1:0),pe=ge.originalEndLineNumber>0?ge.originalEndLineNumber-ge.originalStartLineNumber+1:0,be=ge.modifiedEndLineNumber>0?ge.modifiedEndLineNumber-ge.modifiedStartLineNumber+1:0,Ce=ve-de;return Ce<=be?we+Math.min(Ce,pe):we+pe-be+Ce}getDiffLineInformationForOriginal(ve){return this.S?{equivalentLineNumber:this.Mb(ve)}:null}getDiffLineInformationForModified(ve){return this.S?{equivalentLineNumber:this.Nb(ve)}:null}};Y.g=15,Y.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Y.h=200,Y=De([fe(3,z.IClipboardService),fe(4,P.IContextKeyService),fe(5,T.IInstantiationService),fe(6,r.ICodeEditorService),fe(7,$.IThemeService),fe(8,F.INotificationService),fe(9,A.IContextMenuService),fe(10,W.IEditorProgressService)],Y),e.DiffEditorWidget=Y;class Q extends i.Disposable{constructor(ve){super(),this.g=ve,this.h=null,this.j=null}applyColors(ve){const ge=ve.getColor(V.diffOverviewRulerInserted)||(ve.getColor(V.diffInserted)||V.defaultInsertColor).transparent(2),we=ve.getColor(V.diffOverviewRulerRemoved)||(ve.getColor(V.diffRemoved)||V.defaultRemoveColor).transparent(2),de=!ge.equals(this.h)||!we.equals(this.j);return this.h=ge,this.j=we,de}getEditorsDiffDecorations(ve,ge,we,de,pe,be){be=be.sort((Me,Re)=>Me.afterLineNumber-Re.afterLineNumber),pe=pe.sort((Me,Re)=>Me.afterLineNumber-Re.afterLineNumber);const Ce=this.k(ve,pe,be,we),Ee=this.l(Ce,ve,ge,we),Ae=this.n(Ce,ve,ge,we,de);return{original:{decorations:Ee.decorations,overviewZones:Ee.overviewZones,zones:Ce.original},modified:{decorations:Ae.decorations,overviewZones:Ae.overviewZones,zones:Ce.modified}}}setBoundarySashes(ve){}}class re{constructor(ve){this.f=ve,this.d=-1,this.current=null,this.advance()}advance(){this.d++,this.d<this.f.length?this.current=this.f[this.d]:this.current=null}}class oe{constructor(ve,ge,we,de,pe){this.d=ve,this.f=ge,this.g=we,this.h=de,this.j=pe}static k(ve,ge,we){const de=ve.getModel(),pe=ve._getViewModel();if(de&&pe){const be=ke(de,pe,ge,we);return be.endLineNumber-be.startLineNumber+1}return we-ge+1}getViewZones(){const ve=this.h.getOption(63),ge=this.j.getOption(63),we=this.h.getOption(139).wrappingColumn!==-1,de=this.j.getOption(139).wrappingColumn!==-1,pe=we||de,be=this.h.getModel(),Ce=this.h._getViewModel().coordinatesConverter,Ee=this.j._getViewModel().coordinatesConverter,Ae={original:[],modified:[]};let Me=0,Re=0,ze=0,Fe=0,Ve=0,Ue=0;const Je=(xe,Ge)=>xe.afterLineNumber-Ge.afterLineNumber,it=(xe,Ge)=>{if(Ge.domNode===null&&xe.length>0){const je=xe[xe.length-1];if(je.afterLineNumber===Ge.afterLineNumber&&je.domNode===null){je.heightInLines+=Ge.heightInLines;return}}xe.push(Ge)},rt=new re(this.g),He=new re(this.f);let Ne=1,Be=1;for(let xe=0,Ge=this.d.length;xe<=Ge;xe++){const je=xe<Ge?this.d[xe]:null;je!==null?(ze=je.originalStartLineNumber+(je.originalEndLineNumber>0?-1:0),Fe=je.modifiedStartLineNumber+(je.modifiedEndLineNumber>0?-1:0),Re=je.originalEndLineNumber>0?oe.k(this.h,je.originalStartLineNumber,je.originalEndLineNumber):0,Me=je.modifiedEndLineNumber>0?oe.k(this.j,je.modifiedStartLineNumber,je.modifiedEndLineNumber):0,Ve=Math.max(je.originalStartLineNumber,je.originalEndLineNumber),Ue=Math.max(je.modifiedStartLineNumber,je.modifiedEndLineNumber)):(ze+=1e7+Re,Fe+=1e7+Me,Ve=ze,Ue=Fe);let et=[],Qe=[];if(pe){let $e;je?je.originalEndLineNumber>0?$e=je.originalStartLineNumber-Ne:$e=je.modifiedStartLineNumber-Be:$e=be.getLineCount()-Ne+1;for(let ot=0;ot<$e;ot++){const Ye=Ne+ot,Oe=Be+ot,We=Ce.getModelLineViewLineCount(Ye),qe=Ee.getModelLineViewLineCount(Oe);We<qe?et.push({afterLineNumber:Ye,heightInLines:qe-We,domNode:null,marginDomNode:null}):We>qe&&Qe.push({afterLineNumber:Oe,heightInLines:We-qe,domNode:null,marginDomNode:null})}je&&(Ne=(je.originalEndLineNumber>0?je.originalEndLineNumber:je.originalStartLineNumber)+1,Be=(je.modifiedEndLineNumber>0?je.modifiedEndLineNumber:je.modifiedStartLineNumber)+1)}for(;rt.current&&rt.current.afterLineNumber<=Ue;){let $e;rt.current.afterLineNumber<=Fe?$e=ze-Fe+rt.current.afterLineNumber:$e=Ve;let ot=null;je&&je.modifiedStartLineNumber<=rt.current.afterLineNumber&&rt.current.afterLineNumber<=je.modifiedEndLineNumber&&(ot=this.n()),et.push({afterLineNumber:$e,heightInLines:rt.current.height/ge,domNode:null,marginDomNode:ot}),rt.advance()}for(;He.current&&He.current.afterLineNumber<=Ve;){let $e;He.current.afterLineNumber<=ze?$e=Fe-ze+He.current.afterLineNumber:$e=Ue,Qe.push({afterLineNumber:$e,heightInLines:He.current.height/ve,domNode:null}),He.advance()}if(je!==null&&ue(je)){const $e=this.o(je,Re,Me);$e&&et.push($e)}if(je!==null&&se(je)){const $e=this.p(je,Re,Me);$e&&Qe.push($e)}let nt=0,st=0;for(et=et.sort(Je),Qe=Qe.sort(Je);nt<et.length&&st<Qe.length;){const $e=et[nt],ot=Qe[st],Ye=$e.afterLineNumber-ze,Oe=ot.afterLineNumber-Fe;Ye<Oe?(it(Ae.original,$e),nt++):Oe<Ye?(it(Ae.modified,ot),st++):$e.shouldNotShrink?(it(Ae.original,$e),nt++):ot.shouldNotShrink?(it(Ae.modified,ot),st++):$e.heightInLines>=ot.heightInLines?($e.heightInLines-=ot.heightInLines,st++):(ot.heightInLines-=$e.heightInLines,nt++)}for(;nt<et.length;)it(Ae.original,et[nt]),nt++;for(;st<Qe.length;)it(Ae.modified,Qe[st]),st++}return{original:oe.l(Ae.original),modified:oe.l(Ae.modified)}}static l(ve){return ve.map(ge=>(ge.domNode||(ge.domNode=Se()),ge))}}function G(Ie,ve,ge,we,de){return{range:new S.Range(Ie,ve,ge,we),options:de}}const Z={arrowRevertChange:b.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+X.ThemeIcon.asClassName(C.Codicon.arrowRight)}),charDelete:b.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:b.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:b.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:b.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:b.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:b.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+X.ThemeIcon.asClassName(le),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:b.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:b.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+X.ThemeIcon.asClassName(J),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:b.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class U extends Q{constructor(ve,ge){super(ve),this.p=ge===!1,this.v=null,this.y=null,this.B=null,this.u=this.q(new D.Sash(this.g.getContainerDomNode(),this,{orientation:0})),this.p&&(this.u.state=0),this.u.onDidStart(()=>this.C()),this.u.onDidChange(we=>this.D(we)),this.u.onDidEnd(()=>this.F()),this.u.onDidReset(()=>this.G())}setEnableSplitViewResizing(ve){const ge=ve===!1;this.p!==ge&&(this.p=ge,this.u.state=this.p?0:3)}layout(ve=this.v){const we=this.g.getWidth()-(this.g.getOptions().renderOverviewRuler?Y.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let de=Math.floor((ve||.5)*we);const pe=Math.floor(.5*we);return de=this.p?pe:de||pe,we>U.MINIMUM_EDITOR_WIDTH*2?(de<U.MINIMUM_EDITOR_WIDTH&&(de=U.MINIMUM_EDITOR_WIDTH),de>we-U.MINIMUM_EDITOR_WIDTH&&(de=we-U.MINIMUM_EDITOR_WIDTH)):de=pe,this.y!==de&&(this.y=de),this.u.layout(),this.y}C(){this.B=this.y}D(ve){const we=this.g.getWidth()-(this.g.getOptions().renderOverviewRuler?Y.ENTIRE_DIFF_OVERVIEW_WIDTH:0),de=this.layout((this.B+(ve.currentX-ve.startX))/we);this.v=de/we,this.g.relayoutEditors()}F(){this.u.layout()}G(){this.v=.5,this.g.relayoutEditors(),this.u.layout()}getVerticalSashTop(ve){return 0}getVerticalSashLeft(ve){return this.y}getVerticalSashHeight(ve){return this.g.getHeight()}setBoundarySashes(ve){this.u.orthogonalEndSash=ve.bottom}k(ve,ge,we){const de=this.g.getOriginalEditor(),pe=this.g.getModifiedEditor();return new j(ve,ge,we,de,pe).getViewZones()}l(ve,ge,we,de){const pe=this.g.getOriginalEditor(),be=String(this.j),Ce={decorations:[],overviewZones:[]},Ee=pe.getModel(),Ae=pe._getViewModel();for(const Me of ge)if(se(Me)){Ce.decorations.push({range:new S.Range(Me.originalStartLineNumber,1,Me.originalEndLineNumber,1073741824),options:de?Z.lineDeleteWithSign:Z.lineDelete}),(!ue(Me)||!Me.charChanges)&&Ce.decorations.push(G(Me.originalStartLineNumber,1,Me.originalEndLineNumber,1073741824,Z.charDeleteWholeLine));const Re=ke(Ee,Ae,Me.originalStartLineNumber,Me.originalEndLineNumber);if(Ce.overviewZones.push(new M.OverviewRulerZone(Re.startLineNumber,Re.endLineNumber,0,be)),Me.charChanges){for(const ze of Me.charChanges)if(me(ze))if(we)for(let Fe=ze.originalStartLineNumber;Fe<=ze.originalEndLineNumber;Fe++){let Ve,Ue;Fe===ze.originalStartLineNumber?Ve=ze.originalStartColumn:Ve=Ee.getLineFirstNonWhitespaceColumn(Fe),Fe===ze.originalEndLineNumber?Ue=ze.originalEndColumn:Ue=Ee.getLineLastNonWhitespaceColumn(Fe),Ce.decorations.push(G(Fe,Ve,Fe,Ue,Z.charDelete))}else Ce.decorations.push(G(ze.originalStartLineNumber,ze.originalStartColumn,ze.originalEndLineNumber,ze.originalEndColumn,Z.charDelete))}}return Ce}n(ve,ge,we,de,pe){const be=this.g.getModifiedEditor(),Ce=String(this.h),Ee={decorations:[],overviewZones:[]},Ae=be.getModel(),Me=be._getViewModel();for(const Re of ge){if(pe)if(Re.modifiedEndLineNumber>0)Ee.decorations.push({range:new S.Range(Re.modifiedStartLineNumber,1,Re.modifiedStartLineNumber,1),options:Z.arrowRevertChange});else{const ze=ve.modified.find(Fe=>Fe.afterLineNumber===Re.modifiedStartLineNumber);ze&&(ze.marginDomNode=ye())}if(ue(Re)){Ee.decorations.push({range:new S.Range(Re.modifiedStartLineNumber,1,Re.modifiedEndLineNumber,1073741824),options:de?Z.lineInsertWithSign:Z.lineInsert}),(!se(Re)||!Re.charChanges)&&Ee.decorations.push(G(Re.modifiedStartLineNumber,1,Re.modifiedEndLineNumber,1073741824,Z.charInsertWholeLine));const ze=ke(Ae,Me,Re.modifiedStartLineNumber,Re.modifiedEndLineNumber);if(Ee.overviewZones.push(new M.OverviewRulerZone(ze.startLineNumber,ze.endLineNumber,0,Ce)),Re.charChanges){for(const Fe of Re.charChanges)if(he(Fe))if(we)for(let Ve=Fe.modifiedStartLineNumber;Ve<=Fe.modifiedEndLineNumber;Ve++){let Ue,Je;Ve===Fe.modifiedStartLineNumber?Ue=Fe.modifiedStartColumn:Ue=Ae.getLineFirstNonWhitespaceColumn(Ve),Ve===Fe.modifiedEndLineNumber?Je=Fe.modifiedEndColumn:Je=Ae.getLineLastNonWhitespaceColumn(Ve),Ee.decorations.push(G(Ve,Ue,Ve,Je,Z.charInsert))}else Ee.decorations.push(G(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,Z.charInsert))}}}return Ee}}U.MINIMUM_EDITOR_WIDTH=100;class j extends oe{constructor(ve,ge,we,de,pe){super(ve,ge,we,de,pe)}n(){return null}o(ve,ge,we){return we>ge?{afterLineNumber:Math.max(ve.originalStartLineNumber,ve.originalEndLineNumber),heightInLines:we-ge,domNode:null}:null}p(ve,ge,we){return ge>we?{afterLineNumber:Math.max(ve.modifiedStartLineNumber,ve.modifiedEndLineNumber),heightInLines:ge-we,domNode:null}:null}}class H extends Q{constructor(ve,ge){super(ve),this.p=ve.getOriginalEditor().getLayoutInfo().decorationsLeft,this.q(ve.getOriginalEditor().onDidLayoutChange(we=>{this.p!==we.decorationsLeft&&(this.p=we.decorationsLeft,ve.relayoutEditors())}))}setEnableSplitViewResizing(ve){}k(ve,ge,we,de){const pe=this.g.getOriginalEditor(),be=this.g.getModifiedEditor();return new _(ve,ge,we,pe,be,de).getViewZones()}l(ve,ge,we,de){const pe=String(this.j),be={decorations:[],overviewZones:[]},Ce=this.g.getOriginalEditor(),Ee=Ce.getModel(),Ae=Ce._getViewModel();let Me=0;for(const Re of ge)if(se(Re)){for(be.decorations.push({range:new S.Range(Re.originalStartLineNumber,1,Re.originalEndLineNumber,1073741824),options:Z.lineDeleteMargin});Me<ve.modified.length;){const Ve=ve.modified[Me];if(Ve.diff&&Ve.diff.originalStartLineNumber>=Re.originalStartLineNumber)break;Me++}let ze=0;if(Me<ve.modified.length){const Ve=ve.modified[Me];Ve.diff&&Ve.diff.originalStartLineNumber===Re.originalStartLineNumber&&Ve.diff.originalEndLineNumber===Re.originalEndLineNumber&&Ve.diff.modifiedStartLineNumber===Re.modifiedStartLineNumber&&Ve.diff.modifiedEndLineNumber===Re.modifiedEndLineNumber&&(ze=Ve.heightInLines)}const Fe=ke(Ee,Ae,Re.originalStartLineNumber,Re.originalEndLineNumber);be.overviewZones.push(new M.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,ze,pe))}return be}n(ve,ge,we,de,pe){const be=this.g.getModifiedEditor(),Ce=String(this.h),Ee={decorations:[],overviewZones:[]},Ae=be.getModel(),Me=be._getViewModel();for(const Re of ge)if(ue(Re)){Ee.decorations.push({range:new S.Range(Re.modifiedStartLineNumber,1,Re.modifiedEndLineNumber,1073741824),options:de?Z.lineInsertWithSign:Z.lineInsert});const ze=ke(Ae,Me,Re.modifiedStartLineNumber,Re.modifiedEndLineNumber);if(Ee.overviewZones.push(new M.OverviewRulerZone(ze.startLineNumber,ze.endLineNumber,0,Ce)),Re.charChanges){for(const Fe of Re.charChanges)if(he(Fe))if(we)for(let Ve=Fe.modifiedStartLineNumber;Ve<=Fe.modifiedEndLineNumber;Ve++){let Ue,Je;Ve===Fe.modifiedStartLineNumber?Ue=Fe.modifiedStartColumn:Ue=Ae.getLineFirstNonWhitespaceColumn(Ve),Ve===Fe.modifiedEndLineNumber?Je=Fe.modifiedEndColumn:Je=Ae.getLineLastNonWhitespaceColumn(Ve),Ee.decorations.push(G(Ve,Ue,Ve,Je,Z.charInsert))}else Ee.decorations.push(G(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,Z.charInsert))}else Ee.decorations.push(G(Re.modifiedStartLineNumber,1,Re.modifiedEndLineNumber,1073741824,Z.charInsertWholeLine))}return Ee}layout(){return Math.max(5,this.p)}}class _ extends oe{constructor(ve,ge,we,de,pe,be){super(ve,ge,we,de,pe),this.q=de.getModel(),this.u=be,this.v=[],this.x=[],this.y=this.j._getViewModel().createLineBreaksComputer()}getViewZones(){const ve=super.getViewZones();return this.D(ve),ve}n(){const ve=document.createElement("div");return ve.className="inline-added-margin-view-zone",ve}o(ve,ge,we){const de=document.createElement("div");return de.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ve.originalStartLineNumber,ve.originalEndLineNumber),heightInLines:we,domNode:document.createElement("div"),marginDomNode:de}}p(ve,ge,we){const de=document.createElement("div");de.className=`view-lines line-delete ${E.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const pe=document.createElement("div");pe.className="inline-deleted-margin-view-zone";const be={shouldNotShrink:!0,afterLineNumber:ve.modifiedEndLineNumber===0?ve.modifiedStartLineNumber:ve.modifiedStartLineNumber-1,heightInLines:ge,minWidthInPx:0,domNode:de,marginDomNode:pe,diff:{originalStartLineNumber:ve.originalStartLineNumber,originalEndLineNumber:ve.originalEndLineNumber,modifiedStartLineNumber:ve.modifiedStartLineNumber,modifiedEndLineNumber:ve.modifiedEndLineNumber,originalModel:this.q,viewLineCounts:null}};for(let Ce=ve.originalStartLineNumber;Ce<=ve.originalEndLineNumber;Ce++)this.y.addRequest(this.q.getLineContent(Ce),null,null);return this.v.push(ve),this.x.push(be),be}D(ve){const ge=this.j.getOptions(),we=this.j.getModel().getOptions().tabSize,de=ge.get(47),pe=ge.get(30),be=de.typicalHalfwidthCharacterWidth,Ce=ge.get(98),Ee=this.q.mightContainNonBasicASCII(),Ae=this.q.mightContainRTL(),Me=ge.get(63),ze=ge.get(138).decorationsWidth,Fe=ge.get(111),Ve=ge.get(93),Ue=ge.get(88),Je=ge.get(48),it=this.y.finalize();let rt=0;for(let He=0;He<this.v.length;He++){const Ne=this.v[He],Be=this.x[He],xe=Be.domNode;(0,t.applyFontInfo)(xe,de);const Ge=Be.marginDomNode;(0,t.applyFontInfo)(Ge,de);const je=[];if(Ne.charChanges)for(const Oe of Ne.charChanges)me(Oe)&&je.push(new I.InlineDecoration(new S.Range(Oe.originalStartLineNumber,Oe.originalStartColumn,Oe.originalEndLineNumber,Oe.originalEndColumn),"char-delete",0));const et=je.length>0,Qe=new p.StringBuilder(1e4);let nt=0,st=0,$e=null;for(let Oe=Ne.originalStartLineNumber;Oe<=Ne.originalEndLineNumber;Oe++){const We=Oe-Ne.originalStartLineNumber,qe=this.q.tokenization.getLineTokens(Oe),Ke=qe.getLineContent(),tt=it[rt++],Xe=L.LineDecoration.filter(je,Oe,1,Ke.length+1);if(tt){let Ze=0;for(const ut of tt.breakOffsets){const pt=qe.sliceAndInflate(Ze,ut,0),bt=Ke.substring(Ze,ut);nt=Math.max(nt,this.E(st++,bt,pt,L.LineDecoration.extractWrapped(Xe,Ze,ut),et,Ee,Ae,de,pe,Me,ze,Fe,Ve,Ue,Je,we,Qe,Ge)),Ze=ut}for($e||($e=[]);$e.length<We;)$e[$e.length]=1;$e[We]=tt.breakOffsets.length,Be.heightInLines+=tt.breakOffsets.length-1;const at=document.createElement("div");at.className="gutter-delete",ve.original.push({afterLineNumber:Oe,afterColumn:0,heightInLines:tt.breakOffsets.length-1,domNode:Se(),marginDomNode:at})}else nt=Math.max(nt,this.E(st++,Ke,qe,Xe,et,Ee,Ae,de,pe,Me,ze,Fe,Ve,Ue,Je,we,Qe,Ge))}nt+=Ce;const ot=Qe.build(),Ye=x?x.createHTML(ot):ot;if(xe.innerHTML=Ye,Be.minWidthInPx=nt*be,$e){const Oe=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;$e.length<=Oe;)$e[$e.length]=1}Be.diff.viewLineCounts=$e}ve.original.sort((He,Ne)=>He.afterLineNumber-Ne.afterLineNumber)}E(ve,ge,we,de,pe,be,Ce,Ee,Ae,Me,Re,ze,Fe,Ve,Ue,Je,it,rt){it.appendString('<div class="view-line'),pe||it.appendString(" char-delete"),it.appendString('" style="top:'),it.appendString(String(ve*Me)),it.appendString('px;width:1000000px;">');const He=I.ViewLineRenderingData.isBasicASCII(ge,be),Ne=I.ViewLineRenderingData.containsRTL(ge,He,Ce),Be=(0,k.renderViewLine)(new k.RenderLineInput(Ee.isMonospace&&!Ae,Ee.canUseHalfwidthRightwardsArrow,ge,!1,He,Ne,0,we,de,Je,0,Ee.spaceWidth,Ee.middotWidth,Ee.wsmiddotWidth,ze,Fe,Ve,Ue!==h.EditorFontLigatures.OFF,null),it);if(it.appendString("</div>"),this.u){const xe=document.createElement("div");xe.className=`delete-sign ${X.ThemeIcon.asClassName(J)}`,xe.setAttribute("style",`position:absolute;top:${ve*Me}px;width:${Re}px;height:${Me}px;right:0;`),rt.appendChild(xe)}return Be.characterMapping.getHorizontalOffset(Be.characterMapping.length)}}function ce(Ie,ve){return(0,h.stringSet)(Ie,ve,["off","on","inherit"])}function ue(Ie){return Ie.modifiedEndLineNumber>0}function se(Ie){return Ie.originalEndLineNumber>0}function he(Ie){return Ie.modifiedStartLineNumber===Ie.modifiedEndLineNumber?Ie.modifiedEndColumn-Ie.modifiedStartColumn>0:Ie.modifiedEndLineNumber-Ie.modifiedStartLineNumber>0}function me(Ie){return Ie.originalStartLineNumber===Ie.originalEndLineNumber?Ie.originalEndColumn-Ie.originalStartColumn>0:Ie.originalEndLineNumber-Ie.originalStartLineNumber>0}function Se(){const Ie=document.createElement("div");return Ie.className="diagonal-fill",Ie}function ye(){const Ie=document.createElement("div");return Ie.className="arrow-revert-change "+X.ThemeIcon.asClassName(C.Codicon.arrowRight),w.$("div",{},Ie)}function ke(Ie,ve,ge,we){const de=Ie.getLineCount();return ge=Math.min(de,Math.max(1,ge)),we=Math.min(de,Math.max(1,we)),ve.coordinatesConverter.convertModelRangeToViewRange(new S.Range(ge,Ie.getLineMinColumn(ge),we,Ie.getLineMaxColumn(we)))}function Te(Ie,ve){return{enableSplitViewResizing:(0,h.boolean)(Ie.enableSplitViewResizing,ve.enableSplitViewResizing),renderSideBySide:(0,h.boolean)(Ie.renderSideBySide,ve.renderSideBySide),renderMarginRevertIcon:(0,h.boolean)(Ie.renderMarginRevertIcon,ve.renderMarginRevertIcon),maxComputationTime:(0,h.clampedInt)(Ie.maxComputationTime,ve.maxComputationTime,0,1073741824),maxFileSize:(0,h.clampedInt)(Ie.maxFileSize,ve.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,h.boolean)(Ie.ignoreTrimWhitespace,ve.ignoreTrimWhitespace),renderIndicators:(0,h.boolean)(Ie.renderIndicators,ve.renderIndicators),originalEditable:(0,h.boolean)(Ie.originalEditable,ve.originalEditable),diffCodeLens:(0,h.boolean)(Ie.diffCodeLens,ve.diffCodeLens),renderOverviewRuler:(0,h.boolean)(Ie.renderOverviewRuler,ve.renderOverviewRuler),diffWordWrap:ce(Ie.diffWordWrap,ve.diffWordWrap),diffAlgorithm:(0,h.stringSet)(Ie.diffAlgorithm,ve.diffAlgorithm,["smart","experimental"])}}function Pe(Ie,ve){return{enableSplitViewResizing:Ie.enableSplitViewResizing!==ve.enableSplitViewResizing,renderSideBySide:Ie.renderSideBySide!==ve.renderSideBySide,renderMarginRevertIcon:Ie.renderMarginRevertIcon!==ve.renderMarginRevertIcon,maxComputationTime:Ie.maxComputationTime!==ve.maxComputationTime,maxFileSize:Ie.maxFileSize!==ve.maxFileSize,ignoreTrimWhitespace:Ie.ignoreTrimWhitespace!==ve.ignoreTrimWhitespace,renderIndicators:Ie.renderIndicators!==ve.renderIndicators,originalEditable:Ie.originalEditable!==ve.originalEditable,diffCodeLens:Ie.diffCodeLens!==ve.diffCodeLens,renderOverviewRuler:Ie.renderOverviewRuler!==ve.renderOverviewRuler,diffWordWrap:Ie.diffWordWrap!==ve.diffWordWrap,diffAlgorithm:Ie.diffAlgorithm!==ve.diffAlgorithm}}(0,$.registerThemingParticipant)((Ie,ve)=>{const ge=Ie.getColor(V.diffDiagonalFill);ve.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${ge} 12.5%,
			#0000 12.5%, #0000 50%,
			${ge} 50%, ${ge} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[149],te([1,0,46,28,179,25,15,8,42,24,75,34,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let n=class extends E.CodeEditorWidget{constructor(r,c,u,s,l,o,h,f,S,p,m,b){super(r,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},s,l,o,h,f,S,p,m,b),this.kb=u,this.Wb=c,super.updateOptions(this.Wb),this.q(u.onDidChangeConfiguration(L=>this.Xb(L)))}getParentEditor(){return this.kb}Xb(r){super.updateOptions(this.kb.getRawOptions()),super.updateOptions(this.Wb)}updateOptions(r){w.mixin(this.Wb,r,!0),super.updateOptions(this.Wb)}};n=De([fe(3,v.IInstantiationService),fe(4,N.ICodeEditorService),fe(5,D.ICommandService),fe(6,y.IContextKeyService),fe(7,d.IThemeService),fe(8,C.INotificationService),fe(9,g.IAccessibilityService),fe(10,i.ILanguageConfigurationService),fe(11,t.ILanguageFeaturesService)],n),e.EmbeddedCodeEditorWidget=n}),define(ee[805],te([1,0,12,2,14,11,3,22,23,48,38,581,29,30,24,392]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,n.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},i.localize(0,null));class c extends E.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})}run(h,f){var S;(S=l.get(f))===null||S===void 0||S.jumpToBracket()}}class u extends E.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(h,f,S){var p;let m=!0;S&&S.selectBrackets===!1&&(m=!1),(p=l.get(f))===null||p===void 0||p.selectToBracket(m)}}class s{constructor(h,f,S){this.position=h,this.brackets=f,this.options=S}}class l extends N.Disposable{static get(h){return h.getContribution(l.ID)}constructor(h){super(),this.a=h,this.b=[],this.c=0,this.g=this.a.createDecorationsCollection(),this.h=this.q(new w.RunOnceScheduler(()=>this.m(),50)),this.j=this.a.getOption(68),this.h.schedule(),this.q(h.onDidChangeCursorPosition(f=>{this.j!=="never"&&this.h.schedule()})),this.q(h.onDidChangeModelContent(f=>{this.h.schedule()})),this.q(h.onDidChangeModel(f=>{this.b=[],this.h.schedule()})),this.q(h.onDidChangeModelLanguageConfiguration(f=>{this.b=[],this.h.schedule()})),this.q(h.onDidChangeConfiguration(f=>{f.hasChanged(68)&&(this.j=this.a.getOption(68),this.g.clear(),this.b=[],this.c=0,this.h.schedule())})),this.q(h.onDidBlurEditorWidget(()=>{this.h.schedule()})),this.q(h.onDidFocusEditorWidget(()=>{this.h.schedule()}))}jumpToBracket(){if(!this.a.hasModel())return;const h=this.a.getModel(),f=this.a.getSelections().map(S=>{const p=S.getStartPosition(),m=h.bracketPairs.matchBracket(p);let b=null;if(m)m[0].containsPosition(p)&&!m[1].containsPosition(p)?b=m[1].getStartPosition():m[1].containsPosition(p)&&(b=m[0].getStartPosition());else{const L=h.bracketPairs.findEnclosingBrackets(p);if(L)b=L[1].getStartPosition();else{const k=h.bracketPairs.findNextBracket(p);k&&k.range&&(b=k.range.getStartPosition())}}return b?new v.Selection(b.lineNumber,b.column,b.lineNumber,b.column):new v.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this.a.setSelections(f),this.a.revealRange(f[0])}selectToBracket(h){if(!this.a.hasModel())return;const f=this.a.getModel(),S=[];this.a.getSelections().forEach(p=>{const m=p.getStartPosition();let b=f.bracketPairs.matchBracket(m);if(!b&&(b=f.bracketPairs.findEnclosingBrackets(m),!b)){const I=f.bracketPairs.findNextBracket(m);I&&I.range&&(b=f.bracketPairs.matchBracket(I.range.getStartPosition()))}let L=null,k=null;if(b){b.sort(y.Range.compareRangesUsingStarts);const[I,M]=b;if(L=h?I.getStartPosition():I.getEndPosition(),k=h?M.getEndPosition():M.getStartPosition(),M.containsPosition(m)){const B=L;L=k,k=B}}L&&k&&S.push(new v.Selection(L.lineNumber,L.column,k.lineNumber,k.column))}),S.length>0&&(this.a.setSelections(S),this.a.revealRange(S[0]))}m(){if(this.j==="never")return;this.n();const h=[];let f=0;for(const S of this.b){const p=S.brackets;p&&(h[f++]={range:p[0],options:S.options},h[f++]={range:p[1],options:S.options})}this.g.set(h)}n(){if(!this.a.hasModel()||!this.a.hasWidgetFocus()){this.b=[],this.c=0;return}const h=this.a.getSelections();if(h.length>100){this.b=[],this.c=0;return}const f=this.a.getModel(),S=f.getVersionId();let p=[];this.c===S&&(p=this.b);const m=[];let b=0;for(let B=0,z=h.length;B<z;B++){const P=h[B];P.isEmpty()&&(m[b++]=P.getStartPosition())}m.length>1&&m.sort(D.Position.compare);const L=[];let k=0,I=0;const M=p.length;for(let B=0,z=m.length;B<z;B++){const P=m[B];for(;I<M&&p[I].position.isBefore(P);)I++;if(I<M&&p[I].position.equals(P))L[k++]=p[I];else{let A=f.bracketPairs.matchBracket(P,20),T=l.k;!A&&this.j==="always"&&(A=f.bracketPairs.findEnclosingBrackets(P,20),T=l.l),L[k++]=new s(P,A,T)}}this.b=L,this.c=S}}l.ID="editor.contrib.bracketMatchingController",l.k=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,a.themeColorFromId)(r),position:d.OverviewRulerLane.Center}}),l.l=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),e.BracketMatchingController=l,(0,E.registerEditorContribution)(l.ID,l,1),(0,E.registerEditorAction)(u),(0,E.registerEditorAction)(c),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(ee[806],te([1,0,7,137,3,38,394]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(t,n,a){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=n,this.b=a,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this.a===void 0?this.a=t:this.a!==t&&(this.a=t,this.b())}isVisible(){return this.a!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class v{constructor(t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.e=new Map,this.g=!0,this.d=t,this.b=`codelens.widget-${v.a++}`,this.updatePosition(n),this.c=document.createElement("span"),this.c.className="codelens-decoration"}withCommands(t,n){this.e.clear();const a=[];let r=!1;for(let c=0;c<t.length;c++){const u=t[c];if(!!u&&(r=!0,u.command)){const s=(0,N.renderLabelWithIcons)(u.command.title.trim());u.command.id?(a.push(w.$("a",{id:String(c),title:u.command.tooltip,role:"button"},...s)),this.e.set(String(c),u.command)):a.push(w.$("span",{title:u.command.tooltip},...s)),c+1<t.length&&a.push(w.$("span",void 0,"\xA0|\xA0"))}}r?(w.reset(this.c,...a),this.g&&n&&this.c.classList.add("fadein"),this.g=!1):w.reset(this.c,w.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this.c?this.e.get(t.id):void 0}getId(){return this.b}getDomNode(){return this.c}updatePosition(t){const n=this.d.getModel().getLineFirstNonWhitespaceColumn(t);this.f={position:{lineNumber:t,column:n},preference:[1]}}getPosition(){return this.f||null}}v.a=0;class C{constructor(){this.a=[],this.b=[],this.c=[]}addDecoration(t,n){this.b.push(t),this.c.push(n)}removeDecoration(t){this.a.push(t)}commit(t){const n=t.deltaDecorations(this.a,this.b);for(let a=0,r=n.length;a<r;a++)this.c[a](n[a])}}e.CodeLensHelper=C;const d=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class g{constructor(t,n,a,r,c,u){this.g=!1,this.a=n,this.f=t,this.e=[];let s;const l=[];this.f.forEach((o,h)=>{o.symbol.command&&l.push(o.symbol),a.addDecoration({range:o.symbol.range,options:d},f=>this.e[h]=f),s?s=E.Range.plusRange(s,o.symbol.range):s=E.Range.lift(o.symbol.range)}),this.b=new y(s.startLineNumber-1,c,u),this.c=r.addZone(this.b),l.length>0&&(this.h(),this.d.withCommands(l,!1))}h(){this.d?this.a.layoutContentWidget(this.d):(this.d=new v(this.a,this.b.afterLineNumber+1),this.a.addContentWidget(this.d))}dispose(t,n){this.e.forEach(t.removeDecoration,t),this.e=[],n?.removeZone(this.c),this.d&&(this.a.removeContentWidget(this.d),this.d=void 0),this.g=!0}isDisposed(){return this.g}isValid(){return this.e.some((t,n)=>{const a=this.a.getModel().getDecorationRange(t),r=this.f[n].symbol;return!!(a&&E.Range.isEmpty(r.range)===a.isEmpty())})}updateCodeLensSymbols(t,n){this.e.forEach(n.removeDecoration,n),this.e=[],this.f=t,this.f.forEach((a,r)=>{n.addDecoration({range:a.symbol.range,options:d},c=>this.e[r]=c)})}updateHeight(t,n){this.b.heightInPx=t,n.layoutZone(this.c),this.d&&this.a.layoutContentWidget(this.d)}computeIfNecessary(t){if(!this.b.isVisible())return null;for(let n=0;n<this.e.length;n++){const a=t.getDecorationRange(this.e[n]);a&&(this.f[n].symbol.range=a)}return this.f}updateCommands(t){this.h(),this.d.withCommands(t,!0);for(let n=0;n<this.f.length;n++){const a=t[n];if(a){const{symbol:r}=this.f[n];r.command=a.command||r.command}}}getCommand(t){var n;return(n=this.d)===null||n===void 0?void 0:n.getCommand(t)}getLineNumber(){const t=this.a.getModel().getDecorationRange(this.e[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const n=this.a.getModel().getDecorationRange(this.e[0]);n&&(this.b.afterLineNumber=n.startLineNumber-1,t.layoutZone(this.c),this.d&&(this.d.updatePosition(n.startLineNumber),this.a.layoutContentWidget(this.d)))}}}e.CodeLensWidget=g}),define(ee[807],te([1,0,12,13,2,112,14,39,23,296,724,806,591,25,42,83,76,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let s=class{constructor(o,h,f,S,p,m){this.n=o,this.o=h,this.p=S,this.q=p,this.r=m,this.a=new E.DisposableStore,this.b=new E.DisposableStore,this.c=[],this.j=new E.DisposableStore,this.d=f.for(h.codeLensProvider,"CodeLensProvide",{min:250}),this.f=f.for(h.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this.g=new w.RunOnceScheduler(()=>this.z(),this.f.default()),this.a.add(this.n.onDidChangeModel(()=>this.v())),this.a.add(this.n.onDidChangeModelLanguage(()=>this.v())),this.a.add(this.n.onDidChangeConfiguration(b=>{(b.hasChanged(47)||b.hasChanged(16)||b.hasChanged(15))&&this.t(),b.hasChanged(14)&&this.v()})),this.a.add(h.codeLensProvider.onDidChange(this.v,this)),this.v(),this.t()}dispose(){var o;this.u(),this.a.dispose(),this.j.dispose(),(o=this.k)===null||o===void 0||o.dispose()}s(){const o=Math.max(1.3,this.n.getOption(63)/this.n.getOption(49));let h=this.n.getOption(16);return(!h||h<5)&&(h=this.n.getOption(49)*.9|0),{fontSize:h,codeLensHeight:h*o|0}}t(){const{codeLensHeight:o,fontSize:h}=this.s(),f=this.n.getOption(15),S=this.n.getOption(47),{style:p}=this.n.getContainerDomNode();p.setProperty("--vscode-editorCodeLens-lineHeight",`${o}px`),p.setProperty("--vscode-editorCodeLens-fontSize",`${h}px`),p.setProperty("--vscode-editorCodeLens-fontFeatureSettings",S.fontFeatureSettings),f&&(p.setProperty("--vscode-editorCodeLens-fontFamily",f),p.setProperty("--vscode-editorCodeLens-fontFamilyDefault",v.EDITOR_FONT_DEFAULTS.fontFamily)),this.n.changeViewZones(m=>{for(const b of this.c)b.updateHeight(o,m)})}u(){var o,h,f;(o=this.h)===null||o===void 0||o.cancel(),this.h=void 0,(h=this.m)===null||h===void 0||h.cancel(),this.m=void 0,this.b.clear(),this.j.clear(),(f=this.k)===null||f===void 0||f.dispose()}v(){this.u();const o=this.n.getModel();if(!o||!this.n.getOption(14))return;const h=this.r.get(o);if(h&&this.x(h),!this.o.codeLensProvider.has(o)){h&&this.b.add((0,w.disposableTimeout)(()=>{const S=this.r.get(o);h===S&&(this.r.delete(o),this.v())},30*1e3));return}for(const S of this.o.codeLensProvider.all(o))if(typeof S.onDidChange=="function"){const p=S.onDidChange(()=>f.schedule());this.b.add(p)}const f=new w.RunOnceScheduler(()=>{var S;const p=Date.now();(S=this.h)===null||S===void 0||S.cancel(),this.h=(0,w.createCancelablePromise)(m=>(0,d.getCodeLensModel)(this.o.codeLensProvider,o,m)),this.h.then(m=>{this.k&&this.j.add(this.k),this.k=m,this.r.put(o,m);const b=this.d.update(o,Date.now()-p);f.delay=b,this.x(m),this.y()},N.onUnexpectedError)},this.d.get(o));this.b.add(f),this.b.add((0,E.toDisposable)(()=>this.g.cancel())),this.b.add(this.n.onDidChangeModelContent(()=>{this.n.changeDecorations(S=>{this.n.changeViewZones(p=>{const m=[];let b=-1;this.c.forEach(k=>{!k.isValid()||b===k.getLineNumber()?m.push(k):(k.update(p),b=k.getLineNumber())});const L=new i.CodeLensHelper;m.forEach(k=>{k.dispose(L,p),this.c.splice(this.c.indexOf(k),1)}),L.commit(S)})}),f.schedule()})),this.b.add(this.n.onDidFocusEditorWidget(()=>{f.schedule()})),this.b.add(this.n.onDidScrollChange(S=>{S.scrollTopChanged&&this.c.length>0&&this.y()})),this.b.add(this.n.onDidLayoutChange(()=>{this.y()})),this.b.add((0,E.toDisposable)(()=>{if(this.n.getModel()){const S=D.StableEditorScrollState.capture(this.n);this.n.changeDecorations(p=>{this.n.changeViewZones(m=>{this.w(p,m)})}),S.restore(this.n)}else this.w(void 0,void 0)})),this.b.add(this.n.onMouseDown(S=>{if(S.target.type!==9)return;let p=S.target.element;if(p?.tagName==="SPAN"&&(p=p.parentElement),p?.tagName==="A")for(const m of this.c){const b=m.getCommand(p);if(b){this.p.executeCommand(b.id,...b.arguments||[]).catch(L=>this.q.error(L));break}}})),f.schedule()}w(o,h){const f=new i.CodeLensHelper;for(const S of this.c)S.dispose(f,h);o&&f.commit(o),this.c.length=0}x(o){if(!this.n.hasModel())return;const h=this.n.getModel().getLineCount(),f=[];let S;for(const b of o.lenses){const L=b.symbol.range.startLineNumber;L<1||L>h||(S&&S[S.length-1].symbol.range.startLineNumber===L?S.push(b):(S=[b],f.push(S)))}if(!f.length&&!this.c.length)return;const p=D.StableEditorScrollState.capture(this.n),m=this.s();this.n.changeDecorations(b=>{this.n.changeViewZones(L=>{const k=new i.CodeLensHelper;let I=0,M=0;for(;M<f.length&&I<this.c.length;){const B=f[M][0].symbol.range.startLineNumber,z=this.c[I].getLineNumber();z<B?(this.c[I].dispose(k,L),this.c.splice(I,1)):z===B?(this.c[I].updateCodeLensSymbols(f[M],k),M++,I++):(this.c.splice(I,0,new i.CodeLensWidget(f[M],this.n,k,L,m.codeLensHeight,()=>this.y())),I++,M++)}for(;I<this.c.length;)this.c[I].dispose(k,L),this.c.splice(I,1);for(;M<f.length;)this.c.push(new i.CodeLensWidget(f[M],this.n,k,L,m.codeLensHeight,()=>this.y())),M++;k.commit(b)})}),p.restore(this.n)}y(){this.n.getModel()&&this.g.schedule()}z(){var o;(o=this.m)===null||o===void 0||o.cancel(),this.m=void 0;const h=this.n.getModel();if(!h)return;const f=[],S=[];if(this.c.forEach(b=>{const L=b.computeIfNecessary(h);L&&(f.push(L),S.push(b))}),f.length===0)return;const p=Date.now(),m=(0,w.createCancelablePromise)(b=>{const L=f.map((k,I)=>{const M=new Array(k.length),B=k.map((z,P)=>!z.symbol.command&&typeof z.provider.resolveCodeLens=="function"?Promise.resolve(z.provider.resolveCodeLens(h,z.symbol,b)).then(A=>{M[P]=A},N.onUnexpectedExternalError):(M[P]=z.symbol,Promise.resolve(void 0)));return Promise.all(B).then(()=>{!b.isCancellationRequested&&!S[I].isDisposed()&&S[I].updateCommands(M)})});return Promise.all(L)});this.m=m,this.m.then(()=>{const b=this.f.update(h,Date.now()-p);this.g.delay=b,this.k&&this.r.put(h,this.k),this.j.clear(),m===this.m&&(this.m=void 0)},b=>{(0,N.onUnexpectedError)(b),m===this.m&&(this.m=void 0)})}getModel(){return this.k}};s.ID="css.editor.codeLens",s=De([fe(1,u.ILanguageFeaturesService),fe(2,c.ILanguageFeatureDebounceService),fe(3,n.ICommandService),fe(4,a.INotificationService),fe(5,g.ICodeLensCache)],s),e.CodeLensContribution=s,(0,y.registerEditorContribution)(s.ID,s,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:C.EditorContextKeys.hasCodeLensProvider,label:(0,t.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(o,h){return Le(this,void 0,void 0,function*(){if(!h.hasModel())return;const f=o.get(r.IQuickInputService),S=o.get(n.ICommandService),p=o.get(a.INotificationService),m=h.getSelection().positionLineNumber,b=h.getContribution(s.ID);if(!b)return;const L=b.getModel();if(!L)return;const k=[];for(const M of L.lenses)M.symbol.command&&M.symbol.range.startLineNumber===m&&k.push({label:M.symbol.command.title,command:M.symbol.command});if(k.length===0)return;const I=yield f.pick(k,{canPickMany:!1});if(!!I){if(L.isDisposed)return yield S.executeCommand(this.id);try{yield S.executeCommand(I.command.id,...I.command.arguments||[])}catch(M){p.error(M)}}})}})}),define(ee[323],te([1,0,12,36,13,2,59,9,147,14,3,38,76,19,297,32]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let c=class Gi extends D.Disposable{constructor(s,l,o,h){super(),this.u=s,this.v=l,this.w=o,this.h=this.q(new D.DisposableStore),this.m=[],this.n=new Map,this.p=this.u.createDecorationsCollection(),this.t=new C.DynamicCssRules(this.u),this.F=this.q(new D.DisposableStore),this.l=h.for(o.colorProvider,"Document Colors",{min:Gi.RECOMPUTE_TIME}),this.q(s.onDidChangeModel(()=>{this.s=this.isEnabled(),this.z()})),this.q(s.onDidChangeModelLanguage(()=>this.z())),this.q(o.colorProvider.onDidChange(()=>this.z())),this.q(s.onDidChangeConfiguration(f=>{const S=this.s;this.s=this.isEnabled(),(S!==this.s||f.hasChanged(18))&&(this.s?this.z():this.H())})),this.k=null,this.j=null,this.s=this.isEnabled(),this.z()}isEnabled(){const s=this.u.getModel();if(!s)return!1;const l=s.getLanguageId(),o=this.v.getValue(l);if(o&&typeof o=="object"){const h=o.colorDecorators;if(h&&h.enable!==void 0&&!h.enable)return h.enable}return this.u.getOption(17)}y(){return this.u.getOption(18)}static get(s){return s.getContribution(this.ID)}dispose(){this.C(),this.H(),super.dispose()}z(){if(this.C(),!this.s)return;const s=this.u.getModel();!s||!this.w.colorProvider.has(s)||(this.h.add(this.u.onDidChangeModelContent(()=>{this.k||(this.k=new w.TimeoutTimer,this.k.cancelAndSet(()=>{this.k=null,this.B()},this.l.get(s)))})),this.B())}B(){this.j=(0,w.createCancelablePromise)(s=>Le(this,void 0,void 0,function*(){const l=this.u.getModel();if(!l)return Promise.resolve([]);const o=new y.StopWatch(!1),h=yield(0,a.getColors)(this.w.colorProvider,l,s);return this.l.update(l,o.elapsed()),h})),this.j.then(s=>{this.D(s),this.G(s),this.j=null},E.onUnexpectedError)}C(){this.k&&(this.k.cancel(),this.k=null),this.j&&(this.j.cancel(),this.j=null),this.h.clear()}D(s){const l=s.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this.u.changeDecorations(o=>{this.m=o.deltaDecorations(this.m,l),this.n=new Map,this.m.forEach((h,f)=>this.n.set(h,s[f]))})}G(s){this.F.clear();const l=[];for(let o=0;o<s.length&&l.length<this.y();o++){const{red:h,green:f,blue:S,alpha:p}=s[o].colorInfo.color,m=new N.RGBA(Math.round(h*255),Math.round(f*255),Math.round(S*255),p),b=`rgba(${m.r}, ${m.g}, ${m.b}, ${m.a})`,L=this.F.add(this.t.createClassNameRef({backgroundColor:b}));l.push({range:{startLineNumber:s[o].colorInfo.range.startLineNumber,startColumn:s[o].colorInfo.range.startColumn,endLineNumber:s[o].colorInfo.range.endLineNumber,endColumn:s[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:v.noBreakWhitespace,inlineClassName:`${L.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this.p.set(l)}H(){this.u.removeDecorations(this.m),this.m=[],this.p.clear(),this.F.clear()}getColorData(s){const l=this.u.getModel();if(!l)return null;const o=l.getDecorationsInRange(g.Range.fromPositions(s,s)).filter(h=>this.n.has(h.id));return o.length===0?null:this.n.get(o[0].id)}isColorDecoration(s){return this.p.has(s)}};c.ID="editor.contrib.colorDetector",c.RECOMPUTE_TIME=1e3,c=De([fe(1,r.IConfigurationService),fe(2,n.ILanguageFeaturesService),fe(3,t.ILanguageFeatureDebounceService)],c),e.ColorDetector=c,(0,d.registerEditorContribution)(c.ID,c,1)}),define(ee[808],te([1,0,12,20,36,2,3,297,323,556,762,24]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class t{constructor(r,c,u,s){this.owner=r,this.range=c,this.model=u,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.ColorHover=t;let n=class{constructor(r,c){this.c=r,this.e=c,this.hoverOrdinal=1}computeSync(r,c){return[]}computeAsync(r,c,u){return w.AsyncIterableObject.fromPromise(this.f(r,c,u))}f(r,c,u){return Le(this,void 0,void 0,function*(){if(!this.c.hasModel())return[];const s=C.ColorDetector.get(this.c);if(!s)return[];for(const l of c){if(!s.isColorDecoration(l))continue;const o=s.getColorData(l.range.getStartPosition());if(o)return[yield this.h(this.c.getModel(),o.colorInfo,o.provider)]}return[]})}h(r,c,u){return Le(this,void 0,void 0,function*(){const s=r.getValueInRange(c.range),{red:l,green:o,blue:h,alpha:f}=c.color,S=new E.RGBA(Math.round(l*255),Math.round(o*255),Math.round(h*255),f),p=new E.Color(S),m=yield(0,v.getColorPresentations)(r,c,u,N.CancellationToken.None),b=new d.ColorPickerModel(p,[],0);return b.colorPresentations=m||[],b.guessColorPresentation(p,s),new t(this,y.Range.lift(c.range),b,u)})}renderHoverParts(r,c){if(c.length===0||!this.c.hasModel())return D.Disposable.None;const u=new D.DisposableStore,s=c[0],l=this.c.getModel(),o=s.model,h=u.add(new g.ColorPickerWidget(r.fragment,o,this.c.getOption(136),this.e));r.setColorPicker(h);let f=new y.Range(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const S=()=>{let m,b;if(o.presentation.textEdit){m=[o.presentation.textEdit],b=new y.Range(o.presentation.textEdit.range.startLineNumber,o.presentation.textEdit.range.startColumn,o.presentation.textEdit.range.endLineNumber,o.presentation.textEdit.range.endColumn);const L=this.c.getModel()._setTrackedRange(null,b,3);this.c.pushUndoStop(),this.c.executeEdits("colorpicker",m),b=this.c.getModel()._getTrackedRange(L)||b}else m=[{range:f,text:o.presentation.label,forceMoveMarkers:!1}],b=f.setEndPosition(f.endLineNumber,f.startColumn+o.presentation.label.length),this.c.pushUndoStop(),this.c.executeEdits("colorpicker",m);o.presentation.additionalTextEdits&&(m=[...o.presentation.additionalTextEdits],this.c.executeEdits("colorpicker",m),r.hide()),this.c.pushUndoStop(),f=b},p=m=>(0,v.getColorPresentations)(l,{range:f,color:{red:m.rgba.r/255,green:m.rgba.g/255,blue:m.rgba.b/255,alpha:m.rgba.a}},s.provider,N.CancellationToken.None).then(b=>{o.colorPresentations=b||[]});return u.add(o.onColorFlushed(m=>{p(m).then(S)})),u.add(o.onDidChangeColor(p)),u}};n=De([fe(1,i.IThemeService)],n),e.ColorHoverParticipant=n}),define(ee[809],te([1,0,2,16,14,11,3,22,38,488,396]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(t){return N.isMacintosh?t.altKey:t.ctrlKey}class i extends w.Disposable{constructor(n){super(),this.a=n,this.c=this.a.createDecorationsCollection(),this.q(this.a.onMouseDown(a=>this.l(a))),this.q(this.a.onMouseUp(a=>this.m(a))),this.q(this.a.onMouseDrag(a=>this.n(a))),this.q(this.a.onMouseDrop(a=>this.r(a))),this.q(this.a.onMouseDropCanceled(()=>this.p())),this.q(this.a.onKeyDown(a=>this.j(a))),this.q(this.a.onKeyUp(a=>this.k(a))),this.q(this.a.onDidBlurEditorWidget(()=>this.i())),this.q(this.a.onDidBlurEditorText(()=>this.i())),this.g=!1,this.h=!1,this.b=null}i(){this.t(),this.b=null,this.g=!1,this.h=!1}j(n){!this.a.getOption(32)||this.a.getOption(19)||(g(n)&&(this.h=!0),this.g&&g(n)&&this.a.updateOptions({mouseStyle:"copy"}))}k(n){!this.a.getOption(32)||this.a.getOption(19)||(g(n)&&(this.h=!1),this.g&&n.keyCode===i.TRIGGER_KEY_VALUE&&this.a.updateOptions({mouseStyle:"default"}))}l(n){this.g=!0}m(n){this.g=!1,this.a.updateOptions({mouseStyle:"text"})}n(n){const a=n.target;if(this.b===null){const c=(this.a.getSelections()||[]).filter(u=>a.position&&u.containsPosition(a.position));if(c.length===1)this.b=c[0];else return}g(n.event)?this.a.updateOptions({mouseStyle:"copy"}):this.a.updateOptions({mouseStyle:"default"}),a.position&&(this.b.containsPosition(a.position)?this.t():this.showAt(a.position))}p(){this.a.updateOptions({mouseStyle:"text"}),this.t(),this.b=null,this.g=!1}r(n){if(n.target&&(this.u(n.target)||this.v(n.target))&&n.target.position){const a=new D.Position(n.target.position.lineNumber,n.target.position.column);if(this.b===null){let r=null;if(n.event.shiftKey){const c=this.a.getSelection();if(c){const{selectionStartLineNumber:u,selectionStartColumn:s}=c;r=[new v.Selection(u,s,a.lineNumber,a.column)]}}else r=(this.a.getSelections()||[]).map(c=>c.containsPosition(a)?new v.Selection(a.lineNumber,a.column,a.lineNumber,a.column):c);this.a.setSelections(r||[],"mouse",3)}else(!this.b.containsPosition(a)||(g(n.event)||this.h)&&(this.b.getEndPosition().equals(a)||this.b.getStartPosition().equals(a)))&&(this.a.pushUndoStop(),this.a.executeCommand(i.ID,new d.DragAndDropCommand(this.b,a,g(n.event)||this.h)),this.a.pushUndoStop())}this.a.updateOptions({mouseStyle:"text"}),this.t(),this.b=null,this.g=!1}showAt(n){this.c.set([{range:new y.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:i.s}]),this.a.revealPosition(n,1)}t(){this.c.clear()}u(n){return n.type===6||n.type===7}v(n){return n.type===2||n.type===3||n.type===4}dispose(){this.t(),this.b=null,this.g=!1,this.h=!1,super.dispose()}}i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=N.isMacintosh?6:5,i.s=C.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),e.DragAndDropController=i,(0,E.registerEditorContribution)(i.ID,i,2)}),define(ee[810],te([1,0,3,48,38,30,24]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class v{constructor(d){this.a=d,this.b=[],this.c=[],this.d=[],this.e=null,this.f=null,this.g=this.a.getPosition()}dispose(){this.a.removeDecorations(this.j()),this.b=[],this.c=[],this.d=[],this.e=null,this.f=null}reset(){this.b=[],this.c=[],this.d=[],this.e=null,this.f=null}getCount(){return this.b.length}getFindScope(){return this.d[0]?this.a.getModel().getDecorationRange(this.d[0]):null}getFindScopes(){if(this.d.length){const d=this.d.map(g=>this.a.getModel().getDecorationRange(g)).filter(g=>!!g);if(d.length)return d}return null}getStartPosition(){return this.g}setStartPosition(d){this.g=d,this.setCurrentFindMatch(null)}h(d){const g=this.b.indexOf(d);return g>=0?g+1:1}getDecorationRangeAt(d){const g=d<this.b.length?this.b[d]:null;return g?this.a.getModel().getDecorationRange(g):null}getCurrentMatchesPosition(d){const g=this.a.getModel().getDecorationsInRange(d);for(const i of g){const t=i.options;if(t===v._FIND_MATCH_DECORATION||t===v._CURRENT_FIND_MATCH_DECORATION)return this.h(i.id)}return 0}setCurrentFindMatch(d){let g=null,i=0;if(d)for(let t=0,n=this.b.length;t<n;t++){const a=this.a.getModel().getDecorationRange(this.b[t]);if(d.equalsRange(a)){g=this.b[t],i=t+1;break}}return(this.f!==null||g!==null)&&this.a.changeDecorations(t=>{if(this.f!==null&&(t.changeDecorationOptions(this.f,v._FIND_MATCH_DECORATION),this.f=null),g!==null&&(this.f=g,t.changeDecorationOptions(this.f,v._CURRENT_FIND_MATCH_DECORATION)),this.e!==null&&(t.removeDecoration(this.e),this.e=null),g!==null){let n=this.a.getModel().getDecorationRange(g);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){const a=n.endLineNumber-1,r=this.a.getModel().getLineMaxColumn(a);n=new w.Range(n.startLineNumber,n.startColumn,a,r)}this.e=t.addDecoration(n,v.l)}}),i}set(d,g){this.a.changeDecorations(i=>{let t=v._FIND_MATCH_DECORATION;const n=[];if(d.length>1e3){t=v._FIND_MATCH_NO_OVERVIEW_DECORATION;const r=this.a.getModel().getLineCount(),u=this.a.getLayoutInfo().height/r,s=Math.max(2,Math.ceil(3/u));let l=d[0].range.startLineNumber,o=d[0].range.endLineNumber;for(let h=1,f=d.length;h<f;h++){const S=d[h].range;o+s>=S.startLineNumber?S.endLineNumber>o&&(o=S.endLineNumber):(n.push({range:new w.Range(l,1,o,1),options:v.k}),l=S.startLineNumber,o=S.endLineNumber)}n.push({range:new w.Range(l,1,o,1),options:v.k})}const a=new Array(d.length);for(let r=0,c=d.length;r<c;r++)a[r]={range:d[r].range,options:t};this.b=i.deltaDecorations(this.b,a),this.c=i.deltaDecorations(this.c,n),this.e&&(i.removeDecoration(this.e),this.e=null),this.d.length&&(this.d.forEach(r=>i.removeDecoration(r)),this.d=[]),g?.length&&(this.d=g.map(r=>i.addDecoration(r,v.m)))})}matchBeforePosition(d){if(this.b.length===0)return null;for(let g=this.b.length-1;g>=0;g--){const i=this.b[g],t=this.a.getModel().getDecorationRange(i);if(!(!t||t.endLineNumber>d.lineNumber)){if(t.endLineNumber<d.lineNumber)return t;if(!(t.endColumn>d.column))return t}}return this.a.getModel().getDecorationRange(this.b[this.b.length-1])}matchAfterPosition(d){if(this.b.length===0)return null;for(let g=0,i=this.b.length;g<i;g++){const t=this.b[g],n=this.a.getModel().getDecorationRange(t);if(!(!n||n.startLineNumber<d.lineNumber)){if(n.startLineNumber>d.lineNumber)return n;if(!(n.startColumn<d.column))return n}}return this.a.getModel().getDecorationRange(this.b[0])}j(){let d=[];return d=d.concat(this.b),d=d.concat(this.c),this.d.length&&d.push(...this.d),this.e&&d.push(this.e),d}}v._CURRENT_FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:N.MinimapPosition.Inline}}),v._FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:N.MinimapPosition.Inline}}),v._FIND_MATCH_NO_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),v.k=E.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center}}),v.l=E.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),v.m=E.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0}),e.FindDecorations=v}),define(ee[180],te([1,0,17,12,2,114,11,3,22,164,810,489,490,15]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const a=240;class r{constructor(u,s){this.c=new E.DisposableStore,this.a=u,this.b=s,this.j=!1,this.g=new N.TimeoutTimer,this.d=new g.FindDecorations(u),this.c.add(this.d),this.h=new N.RunOnceScheduler(()=>this.n(!1),100),this.c.add(this.h),this.c.add(this.a.onDidChangeCursorPosition(l=>{(l.reason===3||l.reason===5||l.reason===6)&&this.d.setStartPosition(this.a.getPosition())})),this.f=!1,this.c.add(this.a.onDidChangeModelContent(l=>{this.f||(l.isFlush&&this.d.reset(),this.d.setStartPosition(this.a.getPosition()),this.h.schedule())})),this.c.add(this.b.onFindReplaceStateChange(l=>this.k(l))),this.n(!1,this.b.searchScope)}dispose(){this.j=!0,(0,E.dispose)(this.g),this.c.dispose()}k(u){this.j||!this.a.hasModel()||(u.searchString||u.isReplaceRevealed||u.isRegex||u.wholeWord||u.matchCase||u.searchScope)&&(this.a.getModel().isTooLargeForSyncing()?(this.g.cancel(),this.g.setIfNotSet(()=>{u.searchScope?this.n(u.moveCursor,this.b.searchScope):this.n(u.moveCursor)},a)):u.searchScope?this.n(u.moveCursor,this.b.searchScope):this.n(u.moveCursor))}static l(u,s){return s||u.getFullModelRange()}n(u,s){let l=null;typeof s<"u"?s!==null&&(Array.isArray(s)?l=s:l=[s]):l=this.d.getFindScopes(),l!==null&&(l=l.map(S=>{if(S.startLineNumber!==S.endLineNumber){let p=S.endLineNumber;return S.endColumn===1&&(p=p-1),new v.Range(S.startLineNumber,1,p,this.a.getModel().getLineMaxColumn(p))}return S}));const o=this.y(l,!1,e.MATCHES_LIMIT);this.d.set(o,l);const h=this.a.getSelection();let f=this.d.getCurrentMatchesPosition(h);if(f===0&&o.length>0){const S=(0,w.findFirstInSorted)(o.map(p=>p.range),p=>v.Range.compareRangesUsingStarts(p,h)>=0);f=S>0?S-1+1:f}this.b.changeMatchInfo(f,this.d.getCount(),void 0),u&&this.a.getOption(38).cursorMoveOnType&&this.u(this.d.getStartPosition())}o(){return this.b.matchesCount>0}p(){if(!this.o()){const u=this.d.getFindScope();return u&&this.a.revealRangeInCenterIfOutsideViewport(u,0),!0}return!1}q(u){const s=this.d.setCurrentFindMatch(u);this.b.changeMatchInfo(s,this.d.getCount(),u),this.a.setSelection(u),this.a.revealRangeInCenterIfOutsideViewport(u,0)}r(u){const s=this.b.isRegex&&(this.b.searchString.indexOf("^")>=0||this.b.searchString.indexOf("$")>=0);let{lineNumber:l,column:o}=u;const h=this.a.getModel();return s||o===1?(l===1?l=h.getLineCount():l--,o=h.getLineMaxColumn(l)):o--,new y.Position(l,o)}s(u,s=!1){if(!this.b.canNavigateBack()){const b=this.d.matchAfterPosition(u);b&&this.q(b);return}if(this.d.getCount()<e.MATCHES_LIMIT){let b=this.d.matchBeforePosition(u);b&&b.isEmpty()&&b.getStartPosition().equals(u)&&(u=this.r(u),b=this.d.matchBeforePosition(u)),b&&this.q(b);return}if(this.p())return;const l=this.d.getFindScope(),o=r.l(this.a.getModel(),l);o.getEndPosition().isBefore(u)&&(u=o.getEndPosition()),u.isBefore(o.getStartPosition())&&(u=o.getEndPosition());const{lineNumber:h,column:f}=u,S=this.a.getModel();let p=new y.Position(h,f),m=S.findPreviousMatch(this.b.searchString,p,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null,!1);if(m&&m.range.isEmpty()&&m.range.getStartPosition().equals(p)&&(p=this.r(p),m=S.findPreviousMatch(this.b.searchString,p,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null,!1)),!!m){if(!s&&!o.containsRange(m.range))return this.s(m.range.getStartPosition(),!0);this.q(m.range)}}moveToPrevMatch(){this.s(this.a.getSelection().getStartPosition())}t(u){const s=this.b.isRegex&&(this.b.searchString.indexOf("^")>=0||this.b.searchString.indexOf("$")>=0);let{lineNumber:l,column:o}=u;const h=this.a.getModel();return s||o===h.getLineMaxColumn(l)?(l===h.getLineCount()?l=1:l++,o=1):o++,new y.Position(l,o)}u(u){if(!this.b.canNavigateForward()){const l=this.d.matchBeforePosition(u);l&&this.q(l);return}if(this.d.getCount()<e.MATCHES_LIMIT){let l=this.d.matchAfterPosition(u);l&&l.isEmpty()&&l.getStartPosition().equals(u)&&(u=this.t(u),l=this.d.matchAfterPosition(u)),l&&this.q(l);return}const s=this.v(u,!1,!0);s&&this.q(s.range)}v(u,s,l,o=!1){if(this.p())return null;const h=this.d.getFindScope(),f=r.l(this.a.getModel(),h);f.getEndPosition().isBefore(u)&&(u=f.getStartPosition()),u.isBefore(f.getStartPosition())&&(u=f.getStartPosition());const{lineNumber:S,column:p}=u,m=this.a.getModel();let b=new y.Position(S,p),L=m.findNextMatch(this.b.searchString,b,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null,s);return l&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(b)&&(b=this.t(b),L=m.findNextMatch(this.b.searchString,b,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null,s)),L?!o&&!f.containsRange(L.range)?this.v(L.range.getEndPosition(),s,l,!0):L:null}moveToNextMatch(){this.u(this.a.getSelection().getEndPosition())}w(u){const s=this.d.getDecorationRangeAt(u);s&&this.q(s)}moveToMatch(u){this.w(u)}x(){return this.b.isRegex?(0,t.parseReplaceString)(this.b.replaceString):t.ReplacePattern.fromStaticValue(this.b.replaceString)}replace(){if(!this.o())return;const u=this.x(),s=this.a.getSelection(),l=this.v(s.getStartPosition(),!0,!1);if(l)if(s.equalsRange(l.range)){const o=u.buildReplaceString(l.matches,this.b.preserveCase),h=new D.ReplaceCommand(s,o);this.B("replace",h),this.d.setStartPosition(new y.Position(s.startLineNumber,s.startColumn+o.length)),this.n(!0)}else this.d.setStartPosition(this.a.getPosition()),this.q(l.range)}y(u,s,l){const o=(u||[null]).map(h=>r.l(this.a.getModel(),h));return this.a.getModel().findMatches(this.b.searchString,o,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null,s,l)}replaceAll(){if(!this.o())return;const u=this.d.getFindScopes();u===null&&this.b.matchesCount>=e.MATCHES_LIMIT?this.z():this.A(u),this.n(!1)}z(){const s=new d.SearchParams(this.b.searchString,this.b.isRegex,this.b.matchCase,this.b.wholeWord?this.a.getOption(124):null).parseSearchRequest();if(!s)return;let l=s.regex;if(!l.multiline){let L="mu";l.ignoreCase&&(L+="i"),l.global&&(L+="g"),l=new RegExp(l.source,L)}const o=this.a.getModel(),h=o.getValue(1),f=o.getFullModelRange(),S=this.x();let p;const m=this.b.preserveCase;S.hasReplacementPatterns||m?p=h.replace(l,function(){return S.buildReplaceString(arguments,m)}):p=h.replace(l,S.buildReplaceString(null,m));const b=new D.ReplaceCommandThatPreservesSelection(f,p,this.a.getSelection());this.B("replaceAll",b)}A(u){const s=this.x(),l=this.y(u,s.hasReplacementPatterns||this.b.preserveCase,1073741824),o=[];for(let f=0,S=l.length;f<S;f++)o[f]=s.buildReplaceString(l[f].matches,this.b.preserveCase);const h=new i.ReplaceAllCommand(this.a.getSelection(),l.map(f=>f.range),o);this.B("replaceAll",h)}selectAllMatches(){if(!this.o())return;const u=this.d.getFindScopes();let l=this.y(u,!1,1073741824).map(h=>new C.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn));const o=this.a.getSelection();for(let h=0,f=l.length;h<f;h++)if(l[h].equalsRange(o)){l=[o].concat(l.slice(0,h)).concat(l.slice(h+1));break}this.a.setSelections(l)}B(u,s){try{this.f=!0,this.a.pushUndoStop(),this.a.executeCommand(u,s),this.a.pushUndoStop()}finally{this.f=!1}}}e.FindModelBoundToEditorModel=r}),define(ee[811],te([1,0,7,276,67,12,180,30,397]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class C extends E.Widget{constructor(g,i,t){super(),this.v=this.q(new D.RunOnceScheduler(()=>this.H(),2e3)),this.F=!1,this.b=g,this.g=i,this.h=t,this.i=document.createElement("div"),this.i.className="findOptionsWidget",this.i.style.display="none",this.i.style.top="10px",this.i.style.zIndex="12",this.i.setAttribute("role","presentation"),this.i.setAttribute("aria-hidden","true");const n={inputActiveOptionBorder:(0,v.asCssVariable)(v.inputActiveOptionBorder),inputActiveOptionForeground:(0,v.asCssVariable)(v.inputActiveOptionForeground),inputActiveOptionBackground:(0,v.asCssVariable)(v.inputActiveOptionBackground)};this.s=this.q(new N.CaseSensitiveToggle(Object.assign({appendTitle:this.t(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this.g.matchCase},n))),this.i.appendChild(this.s.domNode),this.q(this.s.onChange(()=>{this.g.change({matchCase:this.s.checked},!1)})),this.r=this.q(new N.WholeWordsToggle(Object.assign({appendTitle:this.t(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this.g.wholeWord},n))),this.i.appendChild(this.r.domNode),this.q(this.r.onChange(()=>{this.g.change({wholeWord:this.r.checked},!1)})),this.l=this.q(new N.RegexToggle(Object.assign({appendTitle:this.t(y.FIND_IDS.ToggleRegexCommand),isChecked:this.g.isRegex},n))),this.i.appendChild(this.l.domNode),this.q(this.l.onChange(()=>{this.g.change({isRegex:this.l.checked},!1)})),this.b.addOverlayWidget(this),this.q(this.g.onFindReplaceStateChange(a=>{let r=!1;a.isRegex&&(this.l.checked=this.g.isRegex,r=!0),a.wholeWord&&(this.r.checked=this.g.wholeWord,r=!0),a.matchCase&&(this.s.checked=this.g.matchCase,r=!0),!this.g.isRevealed&&r&&this.w()})),this.q(w.addDisposableListener(this.i,w.EventType.MOUSE_LEAVE,a=>this.C())),this.q(w.addDisposableListener(this.i,"mouseover",a=>this.D()))}t(g){const i=this.h.lookupKeybinding(g);return i?` (${i.getLabel()})`:""}dispose(){this.b.removeOverlayWidget(this),super.dispose()}getId(){return C.a}getDomNode(){return this.i}getPosition(){return{preference:0}}highlightFindOptions(){this.w()}w(){this.G(),this.v.schedule()}C(){this.v.schedule()}D(){this.v.cancel()}G(){this.F||(this.F=!0,this.i.style.display="block")}H(){!this.F||(this.F=!1,this.i.style.display="none")}}C.a="editor.contrib.findOptionsWidget",e.FindOptionsWidget=C}),define(ee[812],te([1,0,6,2,3,180]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(C,d){return C===1?!0:C===2?!1:d}class v extends N.Disposable{get searchString(){return this.a}get replaceString(){return this.b}get isRevealed(){return this.c}get isReplaceRevealed(){return this.g}get isRegex(){return y(this.i,this.h)}get wholeWord(){return y(this.k,this.j)}get matchCase(){return y(this.m,this.l)}get preserveCase(){return y(this.p,this.n)}get actualIsRegex(){return this.h}get actualWholeWord(){return this.j}get actualMatchCase(){return this.l}get actualPreserveCase(){return this.n}get searchScope(){return this.r}get matchesPosition(){return this.s}get matchesCount(){return this.t}get currentMatch(){return this.u}constructor(){super(),this.z=this.q(new w.Emitter),this.onFindReplaceStateChange=this.z.event,this.a="",this.b="",this.c=!1,this.g=!1,this.h=!1,this.i=0,this.j=!1,this.k=0,this.l=!1,this.m=0,this.n=!1,this.p=0,this.r=null,this.s=0,this.t=0,this.u=null,this.v=!0,this.w=!1,this.y=null}changeMatchInfo(d,g,i){const t={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let n=!1;g===0&&(d=0),d>g&&(d=g),this.s!==d&&(this.s=d,t.matchesPosition=!0,n=!0),this.t!==g&&(this.t=g,t.matchesCount=!0,n=!0),typeof i<"u"&&(E.Range.equalsRange(this.u,i)||(this.u=i,t.currentMatch=!0,n=!0)),n&&this.z.fire(t)}change(d,g,i=!0){var t;const n={moveCursor:g,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let a=!1;const r=this.isRegex,c=this.wholeWord,u=this.matchCase,s=this.preserveCase;typeof d.searchString<"u"&&this.a!==d.searchString&&(this.a=d.searchString,n.searchString=!0,a=!0),typeof d.replaceString<"u"&&this.b!==d.replaceString&&(this.b=d.replaceString,n.replaceString=!0,a=!0),typeof d.isRevealed<"u"&&this.c!==d.isRevealed&&(this.c=d.isRevealed,n.isRevealed=!0,a=!0),typeof d.isReplaceRevealed<"u"&&this.g!==d.isReplaceRevealed&&(this.g=d.isReplaceRevealed,n.isReplaceRevealed=!0,a=!0),typeof d.isRegex<"u"&&(this.h=d.isRegex),typeof d.wholeWord<"u"&&(this.j=d.wholeWord),typeof d.matchCase<"u"&&(this.l=d.matchCase),typeof d.preserveCase<"u"&&(this.n=d.preserveCase),typeof d.searchScope<"u"&&(!((t=d.searchScope)===null||t===void 0)&&t.every(l=>{var o;return(o=this.r)===null||o===void 0?void 0:o.some(h=>!E.Range.equalsRange(h,l))})||(this.r=d.searchScope,n.searchScope=!0,a=!0)),typeof d.loop<"u"&&this.v!==d.loop&&(this.v=d.loop,n.loop=!0,a=!0),typeof d.isSearching<"u"&&this.w!==d.isSearching&&(this.w=d.isSearching,n.isSearching=!0,a=!0),typeof d.filters<"u"&&(this.y?this.y.update(d.filters):this.y=d.filters,n.filters=!0,a=!0),this.i=typeof d.isRegexOverride<"u"?d.isRegexOverride:0,this.k=typeof d.wholeWordOverride<"u"?d.wholeWordOverride:0,this.m=typeof d.matchCaseOverride<"u"?d.matchCaseOverride:0,this.p=typeof d.preserveCaseOverride<"u"?d.preserveCaseOverride:0,r!==this.isRegex&&(a=!0,n.isRegex=!0),c!==this.wholeWord&&(a=!0,n.wholeWord=!0),u!==this.matchCase&&(a=!0,n.matchCase=!0),s!==this.preserveCase&&(a=!0,n.preserveCase=!0),a&&this.z.fire(n)}canNavigateBack(){return this.B()||this.matchesPosition!==1}canNavigateForward(){return this.B()||this.matchesPosition<this.matchesCount}B(){return this.v||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=v}),define(ee[813],te([1,0,7,50,139,138,67,12,27,13,2,16,9,3,180,601,307,681,30,78,24,31,91,18,99,398]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const m=(0,l.registerIcon)("find-selection",C.Codicon.selection,r.localize(0,null)),b=(0,l.registerIcon)("find-collapsed",C.Codicon.chevronRight,r.localize(1,null)),L=(0,l.registerIcon)("find-expanded",C.Codicon.chevronDown,r.localize(2,null));e.findReplaceIcon=(0,l.registerIcon)("find-replace",C.Codicon.replace,r.localize(3,null)),e.findReplaceAllIcon=(0,l.registerIcon)("find-replace-all",C.Codicon.replaceAll,r.localize(4,null)),e.findPreviousMatchIcon=(0,l.registerIcon)("find-previous-match",C.Codicon.arrowUp,r.localize(5,null)),e.findNextMatchIcon=(0,l.registerIcon)("find-next-match",C.Codicon.arrowDown,r.localize(6,null));const k=r.localize(7,null),I=r.localize(8,null),M=r.localize(9,null),B=r.localize(10,null),z=r.localize(11,null),P=r.localize(12,null),A=r.localize(13,null),T=r.localize(14,null),O=r.localize(15,null),F=r.localize(16,null),W=r.localize(17,null),V=r.localize(18,null,a.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=r.localize(19,null),e.NLS_NO_RESULTS=r.localize(20,null);const R=419,X=275-54;let ne=69;const ae=33,ie="ctrlEnterReplaceAll.windows.donotask",le=i.isMacintosh?256:2048;class J{constructor(oe){this.afterLineNumber=oe,this.heightInPx=ae,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=J;function x(re,oe,G){const Z=!!oe.match(/\n/);if(G&&Z&&G.selectionStart>0){re.stopPropagation();return}}function q(re,oe,G){const Z=!!oe.match(/\n/);if(G&&Z&&G.selectionEnd<G.value.length){re.stopPropagation();return}}class Y extends y.Widget{constructor(oe,G,Z,U,j,H,_,ce,ue){super(),this.w=null,this.lb=[],this.b=oe,this.h=G,this.g=Z,this.i=U,this.l=j,this.r=H,this.s=ce,this.t=ue,this.R=!!ce.getBoolean(ie,0),this.O=!1,this.P=!1,this.Q=!1,this.cb=new v.Delayer(500),this.q((0,g.toDisposable)(()=>this.cb.cancel())),this.q(this.g.onFindReplaceStateChange(se=>this.db(se))),this.zb(),this.jb(),this.rb(),this.C.inputBox.layout(),this.q(this.b.onDidChangeConfiguration(se=>{if(se.hasChanged(86)&&(this.b.getOption(86)&&this.g.change({isReplaceRevealed:!1},!1),this.jb()),se.hasChanged(138)&&this.rb(),se.hasChanged(2)&&this.Ab(),se.hasChanged(38)){const he=this.b.getOption(38).loop;this.g.change({loop:he},!1);const me=this.b.getOption(38).addExtraSpaceOnTop;me&&!this.Y&&(this.Y=new J(0),this.pb()),!me&&this.Y&&this.qb()}})),this.Ab(),this.q(this.b.onDidChangeCursorSelection(()=>{this.O&&this.ib()})),this.q(this.b.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this.O){const se=yield this.h.getGlobalBufferTerm();se&&se!==this.g.searchString&&(this.g.change({searchString:se},!1),this.C.select())}}))),this.U=a.CONTEXT_FIND_INPUT_FOCUSED.bindTo(H),this.S=this.q(w.trackFocus(this.C.inputBox.inputElement)),this.q(this.S.onDidFocus(()=>{this.U.set(!0),this.ub()})),this.q(this.S.onDidBlur(()=>{this.U.set(!1)})),this.X=a.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(H),this.W=this.q(w.trackFocus(this.D.inputBox.inputElement)),this.q(this.W.onDidFocus(()=>{this.X.set(!0),this.ub()})),this.q(this.W.onDidBlur(()=>{this.X.set(!1)})),this.b.addOverlayWidget(this),this.b.getOption(38).addExtraSpaceOnTop&&(this.Y=new J(0)),this.q(this.b.onDidChangeModel(()=>{!this.O||(this.Z=void 0)})),this.q(this.b.onDidScrollChange(se=>{if(se.scrollTopChanged){this.ob();return}setTimeout(()=>{this.ob()},0)}))}getId(){return Y.a}getDomNode(){return this.v}getPosition(){return this.O?{preference:0}:null}db(oe){if(oe.searchString){try{this.Q=!0,this.C.setValue(this.g.searchString)}finally{this.Q=!1}this.jb()}if(oe.replaceString&&(this.D.inputBox.value=this.g.replaceString),oe.isRevealed&&(this.g.isRevealed?this.mb():this.nb(!0)),oe.isReplaceRevealed&&(this.g.isReplaceRevealed?!this.b.getOption(86)&&!this.P&&(this.P=!0,this.D.width=w.getTotalWidth(this.C.domNode),this.jb(),this.D.inputBox.layout()):this.P&&(this.P=!1,this.jb())),(oe.isRevealed||oe.isReplaceRevealed)&&(this.g.isRevealed||this.g.isReplaceRevealed)&&this.tb()&&this.pb(),oe.isRegex&&this.C.setRegex(this.g.isRegex),oe.wholeWord&&this.C.setWholeWords(this.g.wholeWord),oe.matchCase&&this.C.setCaseSensitive(this.g.matchCase),oe.preserveCase&&this.D.setPreserveCase(this.g.preserveCase),oe.searchScope&&(this.g.searchScope?this.J.checked=!0:this.J.checked=!1,this.ib()),oe.searchString||oe.matchesCount||oe.matchesPosition){const G=this.g.searchString.length>0&&this.g.matchesCount===0;this.v.classList.toggle("no-results",G),this.gb(),this.jb()}(oe.searchString||oe.currentMatch)&&this.ob(),oe.updateHistory&&this.eb(),oe.loop&&this.jb()}eb(){this.cb.trigger(this.fb.bind(this)).then(void 0,d.onUnexpectedError)}fb(){this.g.searchString&&this.C.inputBox.addToHistory(),this.g.replaceString&&this.D.inputBox.addToHistory()}gb(){this.G.style.minWidth=ne+"px",this.g.matchesCount>=a.MATCHES_LIMIT?this.G.title=V:this.G.title="",this.G.firstChild&&this.G.removeChild(this.G.firstChild);let oe;if(this.g.matchesCount>0){let G=String(this.g.matchesCount);this.g.matchesCount>=a.MATCHES_LIMIT&&(G+="+");let Z=String(this.g.matchesPosition);Z==="0"&&(Z="?"),oe=t.format(e.NLS_MATCHES_LOCATION,Z,G)}else oe=e.NLS_NO_RESULTS;this.G.appendChild(document.createTextNode(oe)),(0,N.alert)(this.hb(oe,this.g.currentMatch,this.g.searchString)),ne=Math.max(ne,this.G.clientWidth)}hb(oe,G,Z){if(oe===e.NLS_NO_RESULTS)return Z===""?r.localize(21,null,oe):r.localize(22,null,oe,Z);if(G){const U=r.localize(23,null,oe,Z,G.startLineNumber+":"+G.startColumn),j=this.b.getModel();return j&&G.startLineNumber<=j.getLineCount()&&G.startLineNumber>=1?`${j.getLineContent(G.startLineNumber)}, ${U}`:U}return r.localize(24,null,oe,Z)}ib(){const oe=this.b.getSelection(),G=oe?oe.startLineNumber!==oe.endLineNumber||oe.startColumn!==oe.endColumn:!1,Z=this.J.checked;this.O&&(Z||G)?this.J.enable():this.J.disable()}jb(){this.C.setEnabled(this.O),this.D.setEnabled(this.O&&this.P),this.ib(),this.L.setEnabled(this.O);const oe=this.g.searchString.length>0,G=!!this.g.matchesCount;this.H.setEnabled(this.O&&oe&&G&&this.g.canNavigateBack()),this.I.setEnabled(this.O&&oe&&G&&this.g.canNavigateForward()),this.M.setEnabled(this.O&&this.P&&oe),this.N.setEnabled(this.O&&this.P&&oe),this.v.classList.toggle("replaceToggled",this.P),this.F.setExpanded(this.P);const Z=!this.b.getOption(86);this.F.setEnabled(this.O&&Z)}mb(){if(this.lb.forEach(oe=>{clearTimeout(oe)}),this.lb=[],!this.O){this.O=!0;const oe=this.b.getSelection();switch(this.b.getOption(38).autoFindInSelection){case"always":this.J.checked=!0;break;case"never":this.J.checked=!1;break;case"multiline":{const Z=!!oe&&oe.startLineNumber!==oe.endLineNumber;this.J.checked=Z;break}default:break}this.rb(),this.jb(),this.lb.push(setTimeout(()=>{this.v.classList.add("visible"),this.v.setAttribute("aria-hidden","false")},0)),this.lb.push(setTimeout(()=>{this.C.validate()},200)),this.b.layoutOverlayWidget(this);let G=!0;if(this.b.getOption(38).seedSearchStringFromSelection&&oe){const Z=this.b.getDomNode();if(Z){const U=w.getDomNodePagePosition(Z),j=this.b.getScrolledVisiblePosition(oe.getStartPosition()),H=U.left+(j?j.left:0),_=j?j.top:0;if(this.Y&&_<this.Y.heightInPx){oe.endLineNumber>oe.startLineNumber&&(G=!1);const ce=w.getTopLeftOffset(this.v).left;H>ce&&(G=!1);const ue=this.b.getScrolledVisiblePosition(oe.getEndPosition());U.left+(ue?ue.left:0)>ce&&(G=!1)}}}this.pb(G)}}nb(oe){this.lb.forEach(G=>{clearTimeout(G)}),this.lb=[],this.O&&(this.O=!1,this.jb(),this.v.classList.remove("visible"),this.v.setAttribute("aria-hidden","true"),this.C.clearMessage(),oe&&this.b.focus(),this.b.layoutOverlayWidget(this),this.qb())}ob(oe){if(!this.b.getOption(38).addExtraSpaceOnTop){this.qb();return}if(!this.O)return;const Z=this.Y;this.Z!==void 0||!Z||this.b.changeViewZones(U=>{Z.heightInPx=this.sb(),this.Z=U.addZone(Z),this.b.setScrollTop(oe||this.b.getScrollTop()+Z.heightInPx)})}pb(oe=!0){if(!this.O||!this.b.getOption(38).addExtraSpaceOnTop)return;this.Y===void 0&&(this.Y=new J(0));const Z=this.Y;this.b.changeViewZones(U=>{if(this.Z!==void 0){const j=this.sb();if(j===Z.heightInPx)return;const H=j-Z.heightInPx;Z.heightInPx=j,U.layoutZone(this.Z),oe&&this.b.setScrollTop(this.b.getScrollTop()+H);return}else{let j=this.sb();if(j-=this.b.getOption(80).top,j<=0)return;Z.heightInPx=j,this.Z=U.addZone(Z),oe&&this.b.setScrollTop(this.b.getScrollTop()+j)}})}qb(){this.b.changeViewZones(oe=>{this.Z!==void 0&&(oe.removeZone(this.Z),this.Z=void 0,this.Y&&(this.b.setScrollTop(this.b.getScrollTop()-this.Y.heightInPx),this.Y=void 0))})}rb(){if(!this.O||!w.isInDOM(this.v))return;const oe=this.b.getLayoutInfo();if(oe.contentWidth<=0){this.v.classList.add("hiddenEditor");return}else this.v.classList.contains("hiddenEditor")&&this.v.classList.remove("hiddenEditor");const Z=oe.width,U=oe.minimap.minimapWidth;let j=!1,H=!1,_=!1;if(this.bb&&w.getTotalWidth(this.v)>R){this.v.style.maxWidth=`${Z-28-U-15}px`,this.D.width=w.getTotalWidth(this.C.domNode);return}if(R+28+U>=Z&&(H=!0),R+28+U-ne>=Z&&(_=!0),R+28+U-ne>=Z+50&&(j=!0),this.v.classList.toggle("collapsed-find-widget",j),this.v.classList.toggle("narrow-find-widget",_),this.v.classList.toggle("reduced-find-widget",H),!_&&!j&&(this.v.style.maxWidth=`${Z-28-U-15}px`),this.bb){this.C.inputBox.layout();const ce=this.C.inputBox.element.clientWidth;ce>0&&(this.D.width=ce)}else this.P&&(this.D.width=w.getTotalWidth(this.C.domNode))}sb(){let oe=0;return oe+=4,oe+=this.C.inputBox.height+2,this.P&&(oe+=4,oe+=this.D.inputBox.height+2),oe+=4,oe}tb(){const oe=this.sb();return this.w!==null&&this.w===oe?!1:(this.w=oe,this.v.style.height=`${oe}px`,!0)}focusFindInput(){this.C.select(),this.C.focus()}focusReplaceInput(){this.D.select(),this.D.focus()}highlightFindOptions(){this.C.highlightFindOptions()}ub(){if(!!this.b.hasModel()&&this.J.checked){const oe=this.b.getSelections();oe.map(G=>{G.endColumn===1&&G.endLineNumber>G.startLineNumber&&(G=G.setEndPosition(G.endLineNumber-1,this.b.getModel().getLineMaxColumn(G.endLineNumber-1)));const Z=this.g.currentMatch;return G.startLineNumber!==G.endLineNumber&&!n.Range.equalsRange(G,Z)?G:null}).filter(G=>!!G),oe.length&&this.g.change({searchScope:oe},!0)}}vb(oe){oe.middleButton&&oe.stopPropagation()}wb(oe){if(oe.equals(le|3))if(this.l.dispatchEvent(oe,oe.target)){oe.preventDefault();return}else{this.C.inputBox.insertAtCursor(`
`),oe.preventDefault();return}if(oe.equals(2)){this.P?this.D.focus():this.C.focusOnCaseSensitive(),oe.preventDefault();return}if(oe.equals(2066)){this.b.focus(),oe.preventDefault();return}if(oe.equals(16))return x(oe,this.C.getValue(),this.C.domNode.querySelector("textarea"));if(oe.equals(18))return q(oe,this.C.getValue(),this.C.domNode.querySelector("textarea"))}xb(oe){if(oe.equals(le|3))if(this.l.dispatchEvent(oe,oe.target)){oe.preventDefault();return}else{i.isWindows&&i.isNative&&!this.R&&(this.t.info(r.localize(25,null)),this.R=!0,this.s.store(ie,!0,0,0)),this.D.inputBox.insertAtCursor(`
`),oe.preventDefault();return}if(oe.equals(2)){this.C.focusOnCaseSensitive(),oe.preventDefault();return}if(oe.equals(1026)){this.C.focus(),oe.preventDefault();return}if(oe.equals(2066)){this.b.focus(),oe.preventDefault();return}if(oe.equals(16))return x(oe,this.D.inputBox.value,this.D.inputBox.element.querySelector("textarea"));if(oe.equals(18))return q(oe,this.D.inputBox.value,this.D.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(oe){return 0}yb(oe){const G=this.l.lookupKeybinding(oe);return G?` (${G.getLabel()})`:""}zb(){this.C=this.q(new c.ContextScopedFindInput(null,this.i,{width:X,label:k,placeholder:I,appendCaseSensitiveLabel:this.yb(a.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this.yb(a.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this.yb(a.FIND_IDS.ToggleRegexCommand),validation:ce=>{if(ce.length===0||!this.C.getRegex())return null;try{return new RegExp(ce,"gu"),null}catch(ue){return{content:ue.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this.l),inputBoxStyles:p.defaultInputBoxStyles,toggleStyles:p.defaultToggleStyles},this.r)),this.C.setRegex(!!this.g.isRegex),this.C.setCaseSensitive(!!this.g.matchCase),this.C.setWholeWords(!!this.g.wholeWord),this.q(this.C.onKeyDown(ce=>this.wb(ce))),this.q(this.C.inputBox.onDidChange(()=>{this.Q||this.g.change({searchString:this.C.getValue()},!0)})),this.q(this.C.onDidOptionChange(()=>{this.g.change({isRegex:this.C.getRegex(),wholeWord:this.C.getWholeWords(),matchCase:this.C.getCaseSensitive()},!0)})),this.q(this.C.onCaseSensitiveKeyDown(ce=>{ce.equals(1026)&&this.P&&(this.D.focus(),ce.preventDefault())})),this.q(this.C.onRegexKeyDown(ce=>{ce.equals(2)&&this.P&&(this.D.focusOnPreserve(),ce.preventDefault())})),this.q(this.C.inputBox.onDidHeightChange(ce=>{this.tb()&&this.pb()})),i.isLinux&&this.q(this.C.onMouseDown(ce=>this.vb(ce))),this.G=document.createElement("div"),this.G.className="matchesCount",this.gb(),this.H=this.q(new Q({label:M+this.yb(a.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,S.assertIsDefined)(this.b.getAction(a.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,d.onUnexpectedError)}})),this.I=this.q(new Q({label:B+this.yb(a.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,S.assertIsDefined)(this.b.getAction(a.FIND_IDS.NextMatchFindAction)).run().then(void 0,d.onUnexpectedError)}}));const Z=document.createElement("div");Z.className="find-part",Z.appendChild(this.C.domNode);const U=document.createElement("div");U.className="find-actions",Z.appendChild(U),U.appendChild(this.G),U.appendChild(this.H.domNode),U.appendChild(this.I.domNode),this.J=this.q(new E.Toggle({icon:m,title:z+this.yb(a.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,s.asCssVariable)(s.inputActiveOptionBackground),inputActiveOptionBorder:(0,s.asCssVariable)(s.inputActiveOptionBorder),inputActiveOptionForeground:(0,s.asCssVariable)(s.inputActiveOptionForeground)})),this.q(this.J.onChange(()=>{if(this.J.checked){if(this.b.hasModel()){const ce=this.b.getSelections();ce.map(ue=>(ue.endColumn===1&&ue.endLineNumber>ue.startLineNumber&&(ue=ue.setEndPosition(ue.endLineNumber-1,this.b.getModel().getLineMaxColumn(ue.endLineNumber-1))),ue.isEmpty()?null:ue)).filter(ue=>!!ue),ce.length&&this.g.change({searchScope:ce},!0)}}else this.g.change({searchScope:null},!0)})),U.appendChild(this.J.domNode),this.L=this.q(new Q({label:P+this.yb(a.FIND_IDS.CloseFindWidgetCommand),icon:l.widgetClose,onTrigger:()=>{this.g.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ce=>{ce.equals(2)&&this.P&&(this.M.isEnabled()?this.M.focus():this.b.focus(),ce.preventDefault())}})),U.appendChild(this.L.domNode),this.D=this.q(new c.ContextScopedReplaceInput(null,void 0,{label:A,placeholder:T,appendPreserveCaseLabel:this.yb(a.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this.l),inputBoxStyles:p.defaultInputBoxStyles,toggleStyles:p.defaultToggleStyles},this.r,!0)),this.D.setPreserveCase(!!this.g.preserveCase),this.q(this.D.onKeyDown(ce=>this.xb(ce))),this.q(this.D.inputBox.onDidChange(()=>{this.g.change({replaceString:this.D.inputBox.value},!1)})),this.q(this.D.inputBox.onDidHeightChange(ce=>{this.P&&this.tb()&&this.pb()})),this.q(this.D.onDidOptionChange(()=>{this.g.change({preserveCase:this.D.getPreserveCase()},!0)})),this.q(this.D.onPreserveCaseKeyDown(ce=>{ce.equals(2)&&(this.H.isEnabled()?this.H.focus():this.I.isEnabled()?this.I.focus():this.J.enabled?this.J.focus():this.L.isEnabled()&&this.L.focus(),ce.preventDefault())})),this.M=this.q(new Q({label:O+this.yb(a.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this.h.replace()},onKeyDown:ce=>{ce.equals(1026)&&(this.L.focus(),ce.preventDefault())}})),this.N=this.q(new Q({label:F+this.yb(a.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this.h.replaceAll()}}));const j=document.createElement("div");j.className="replace-part",j.appendChild(this.D.domNode);const H=document.createElement("div");H.className="replace-actions",j.appendChild(H),H.appendChild(this.M.domNode),H.appendChild(this.N.domNode),this.F=this.q(new Q({label:W,className:"codicon toggle left",onTrigger:()=>{this.g.change({isReplaceRevealed:!this.P},!1),this.P&&(this.D.width=w.getTotalWidth(this.C.domNode),this.D.inputBox.layout()),this.pb()}})),this.F.setExpanded(this.P),this.v=document.createElement("div"),this.v.className="editor-widget find-widget",this.v.setAttribute("aria-hidden","true"),this.v.style.width=`${R}px`,this.v.appendChild(this.F.domNode),this.v.appendChild(Z),this.v.appendChild(j),this.ab=new D.Sash(this.v,this,{orientation:0,size:2}),this.bb=!1;let _=R;this.q(this.ab.onDidStart(()=>{_=w.getTotalWidth(this.v)})),this.q(this.ab.onDidChange(ce=>{this.bb=!0;const ue=_+ce.startX-ce.currentX;if(ue<R)return;const se=parseFloat(w.getComputedStyle(this.v).maxWidth)||0;ue>se||(this.v.style.width=`${ue}px`,this.P&&(this.D.width=w.getTotalWidth(this.C.domNode)),this.C.inputBox.layout(),this.tb())})),this.q(this.ab.onDidReset(()=>{const ce=w.getTotalWidth(this.v);if(ce<R)return;let ue=R;if(!this.bb||ce===R){const se=this.b.getLayoutInfo();ue=se.width-28-se.minimap.minimapWidth-15,this.bb=!0}this.v.style.width=`${ue}px`,this.P&&(this.D.width=w.getTotalWidth(this.C.domNode)),this.C.inputBox.layout()}))}Ab(){const oe=this.b.getOption(2);this.C.setFocusInputOnOptionClick(oe!==2)}}Y.a="editor.contrib.findWidget",e.FindWidget=Y;class Q extends y.Widget{constructor(oe){super(),this.a=oe;let G="button";this.a.className&&(G=G+" "+this.a.className),this.a.icon&&(G=G+" "+h.ThemeIcon.asClassName(this.a.icon)),this.b=document.createElement("div"),this.b.title=this.a.label,this.b.tabIndex=0,this.b.className=G,this.b.setAttribute("role","button"),this.b.setAttribute("aria-label",this.a.label),this.c(this.b,Z=>{this.a.onTrigger(),Z.preventDefault()}),this.n(this.b,Z=>{var U,j;if(Z.equals(10)||Z.equals(3)){this.a.onTrigger(),Z.preventDefault();return}(j=(U=this.a).onKeyDown)===null||j===void 0||j.call(U,Z)})}get domNode(){return this.b}isEnabled(){return this.b.tabIndex>=0}focus(){this.b.focus()}setEnabled(oe){this.b.classList.toggle("disabled",!oe),this.b.setAttribute("aria-disabled",String(!oe)),this.b.tabIndex=oe?0:-1}setExpanded(oe){this.b.setAttribute("aria-expanded",String(!!oe)),oe?(this.b.classList.remove(...h.ThemeIcon.asClassNameArray(b)),this.b.classList.add(...h.ThemeIcon.asClassNameArray(L))):(this.b.classList.remove(...h.ThemeIcon.asClassNameArray(L)),this.b.classList.add(...h.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=Q,(0,o.registerThemingParticipant)((re,oe)=>{const G=(ke,Te)=>{Te&&oe.addRule(`.monaco-editor ${ke} { background-color: ${Te}; }`)};G(".findMatch",re.getColor(s.editorFindMatchHighlight)),G(".currentFindMatch",re.getColor(s.editorFindMatch)),G(".findScope",re.getColor(s.editorFindRangeHighlight));const Z=re.getColor(s.editorWidgetBackground);G(".find-widget",Z);const U=re.getColor(s.widgetShadow);U&&oe.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${U}; }`);const j=re.getColor(s.widgetBorder);j&&oe.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${j}; border-right: 1px solid ${j}; border-bottom: 1px solid ${j}; }`);const H=re.getColor(s.editorFindMatchHighlightBorder);H&&oe.addRule(`.monaco-editor .findMatch { border: 1px ${(0,f.isHighContrast)(re.type)?"dotted":"solid"} ${H}; box-sizing: border-box; }`);const _=re.getColor(s.editorFindMatchBorder);_&&oe.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${_}; padding: 1px; box-sizing: border-box; }`);const ce=re.getColor(s.editorFindRangeHighlightBorder);ce&&oe.addRule(`.monaco-editor .findScope { border: 1px ${(0,f.isHighContrast)(re.type)?"dashed":"solid"} ${ce}; }`);const ue=re.getColor(s.contrastBorder);ue&&oe.addRule(`.monaco-editor .find-widget { border: 1px solid ${ue}; }`);const se=re.getColor(s.editorWidgetForeground);se&&oe.addRule(`.monaco-editor .find-widget { color: ${se}; }`);const he=re.getColor(s.errorForeground);he&&oe.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${he}; }`);const me=re.getColor(s.editorWidgetResizeBorder);if(me)oe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${me}; }`);else{const ke=re.getColor(s.editorWidgetBorder);ke&&oe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ke}; }`)}const Se=re.getColor(s.toolbarHoverBackground);Se&&oe.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Se} !important;
		}
	`);const ye=re.getColor(s.focusBorder);ye&&oe.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ye}; }`)})}),define(ee[324],te([1,0,12,2,9,14,23,180,811,812,813,600,29,97,15,56,37,42,83,84,24]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const h=524288;function f(O,F="single",W=!1){if(!O.hasModel())return null;const V=O.getSelection();if(F==="single"&&V.startLineNumber===V.endLineNumber||F==="multiple"){if(V.isEmpty()){const R=O.getConfiguredWordAtPosition(V.getStartPosition());if(R&&W===!1)return R.word}else if(O.getModel().getValueLengthInRange(V)<h)return O.getModel().getValueInRange(V)}return null}e.getSelectionSearchString=f;let S=class Yi extends N.Disposable{get editor(){return this.a}static get(F){return F.getContribution(Yi.ID)}constructor(F,W,V,R){super(),this.a=F,this.b=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(W),this.k=W,this.i=V,this.j=R,this.g=new w.Delayer(500),this.c=this.q(new d.FindReplaceState),this.p(),this.q(this.c.onFindReplaceStateChange($=>this.m($))),this.h=null,this.q(this.a.onDidChangeModel(()=>{const $=this.a.getModel()&&this.c.isRevealed;this.l(),this.c.change({searchScope:null,matchCase:this.i.getBoolean("editor.matchCase",1,!1),wholeWord:this.i.getBoolean("editor.wholeWord",1,!1),isRegex:this.i.getBoolean("editor.isRegex",1,!1),preserveCase:this.i.getBoolean("editor.preserveCase",1,!1)},!1),$&&this.r({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this.a.getOption(38).loop})}))}dispose(){this.l(),super.dispose()}l(){this.h&&(this.h.dispose(),this.h=null)}m(F){this.n(F),F.isRevealed&&(this.c.isRevealed?this.b.set(!0):(this.b.reset(),this.l())),F.searchString&&this.setGlobalBufferTerm(this.c.searchString)}n(F){F.isRegex&&this.i.store("editor.isRegex",this.c.actualIsRegex,1,0),F.wholeWord&&this.i.store("editor.wholeWord",this.c.actualWholeWord,1,0),F.matchCase&&this.i.store("editor.matchCase",this.c.actualMatchCase,1,0),F.preserveCase&&this.i.store("editor.preserveCase",this.c.actualPreserveCase,1,0)}p(){this.c.change({matchCase:this.i.getBoolean("editor.matchCase",1,this.c.matchCase),wholeWord:this.i.getBoolean("editor.wholeWord",1,this.c.wholeWord),isRegex:this.i.getBoolean("editor.isRegex",1,this.c.isRegex),preserveCase:this.i.getBoolean("editor.preserveCase",1,this.c.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this.k)}getState(){return this.c}closeFindWidget(){this.c.change({isRevealed:!1,searchScope:null},!1),this.a.focus()}toggleCaseSensitive(){this.c.change({matchCase:!this.c.matchCase},!1),this.c.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this.c.change({wholeWord:!this.c.wholeWord},!1),this.c.isRevealed||this.highlightFindOptions()}toggleRegex(){this.c.change({isRegex:!this.c.isRegex},!1),this.c.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this.c.change({preserveCase:!this.c.preserveCase},!1),this.c.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this.c.searchScope)this.c.change({searchScope:null},!0);else if(this.a.hasModel()){const F=this.a.getSelections();F.map(W=>(W.endColumn===1&&W.endLineNumber>W.startLineNumber&&(W=W.setEndPosition(W.endLineNumber-1,this.a.getModel().getLineMaxColumn(W.endLineNumber-1))),W.isEmpty()?null:W)).filter(W=>!!W),F.length&&this.c.change({searchScope:F},!0)}}setSearchString(F){this.c.isRegex&&(F=E.escapeRegExpCharacters(F)),this.c.change({searchString:F},!1)}highlightFindOptions(F=!1){}r(F,W){return Le(this,void 0,void 0,function*(){if(this.l(),!this.a.hasModel())return;const V=Object.assign(Object.assign({},W),{isRevealed:!0});if(F.seedSearchStringFromSelection==="single"){const R=f(this.a,F.seedSearchStringFromSelection,F.seedSearchStringFromNonEmptySelection);R&&(this.c.isRegex?V.searchString=E.escapeRegExpCharacters(R):V.searchString=R)}else if(F.seedSearchStringFromSelection==="multiple"&&!F.updateSearchScope){const R=f(this.a,F.seedSearchStringFromSelection);R&&(V.searchString=R)}if(!V.searchString&&F.seedSearchStringFromGlobalClipboard){const R=yield this.getGlobalBufferTerm();if(!this.a.hasModel())return;R&&(V.searchString=R)}if(F.forceRevealReplace||V.isReplaceRevealed?V.isReplaceRevealed=!0:this.b.get()||(V.isReplaceRevealed=!1),F.updateSearchScope){const R=this.a.getSelections();R.some($=>!$.isEmpty())&&(V.searchScope=R)}V.loop=F.loop,this.c.change(V,!1),this.h||(this.h=new v.FindModelBoundToEditorModel(this.a,this.c))})}start(F,W){return this.r(F,W)}moveToNextMatch(){return this.h?(this.h.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this.h?(this.h.moveToPrevMatch(),!0):!1}goToMatch(F){return this.h?(this.h.moveToMatch(F),!0):!1}replace(){return this.h?(this.h.replace(),!0):!1}replaceAll(){return this.h?(this.h.replaceAll(),!0):!1}selectAllMatches(){return this.h?(this.h.selectAllMatches(),this.a.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this.a.getOption(38).globalFindClipboard&&this.a.hasModel()&&!this.a.getModel().isTooLargeForSyncing()?this.j.readFindText():""})}setGlobalBufferTerm(F){this.a.getOption(38).globalFindClipboard&&this.a.hasModel()&&!this.a.getModel().isTooLargeForSyncing()&&this.j.writeFindText(F)}};S.ID="editor.contrib.findController",S=De([fe(1,a.IContextKeyService),fe(2,l.IStorageService),fe(3,n.IClipboardService)],S),e.CommonFindController=S;let p=class extends S{constructor(F,W,V,R,$,X,ne,ae){super(F,V,ne,ae),this.u=W,this.v=R,this.w=$,this.y=X,this.s=null,this.t=null}r(F,W){const V=Object.create(null,{r:{get:()=>super.r}});return Le(this,void 0,void 0,function*(){this.s||this.B();const R=this.a.getSelection();let $=!1;switch(this.a.getOption(38).autoFindInSelection){case"always":$=!0;break;case"never":$=!1;break;case"multiline":{$=!!R&&R.startLineNumber!==R.endLineNumber;break}default:break}F.updateSearchScope=F.updateSearchScope||$,yield V.r.call(this,F,W),this.s&&(F.shouldFocus===2?this.s.focusReplaceInput():F.shouldFocus===1&&this.s.focusFindInput())})}highlightFindOptions(F=!1){this.s||this.B(),this.c.isRevealed&&!F?this.s.highlightFindOptions():this.t.highlightFindOptions()}B(){this.s=this.q(new g.FindWidget(this.a,this,this.c,this.u,this.v,this.k,this.w,this.i,this.y)),this.t=this.q(new C.FindOptionsWidget(this.a,this.c,this.v))}};p=De([fe(1,r.IContextViewService),fe(2,a.IContextKeyService),fe(3,c.IKeybindingService),fe(4,o.IThemeService),fe(5,u.INotificationService),fe(6,l.IStorageService),fe(7,n.IClipboardService)],p),e.FindController=p,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:a.ContextKeyExpr.or(y.EditorContextKeys.focus,a.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(O,F,W)=>{const V=S.get(F);return V?V.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:F.getOption(38).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(38).loop}):!1});const m={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class b extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:m})}run(F,W,V){return Le(this,void 0,void 0,function*(){const R=S.get(W);if(R){const $=V?{searchString:V.searchString,replaceString:V.replaceString,isReplaceRevealed:V.replaceString!==void 0,isRegex:V.isRegex,wholeWord:V.matchWholeWord,matchCase:V.isCaseSensitive,preserveCase:V.preserveCase}:{};yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getState().searchString.length===0&&W.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:V?.findInSelection||!1,loop:W.getOption(38).loop},$),R.setGlobalBufferTerm(R.getState().searchString)}})}}e.StartFindWithArgsAction=b;class L extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(F,W){return Le(this,void 0,void 0,function*(){const V=S.get(W);V&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(38).loop}),V.setGlobalBufferTerm(V.getState().searchString))})}}e.StartFindWithSelectionAction=L;class k extends D.EditorAction{run(F,W){return Le(this,void 0,void 0,function*(){const V=S.get(W);V&&!this.d(V)&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getState().searchString.length===0&&W.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(38).loop}),this.d(V))})}}e.MatchFindAction=k;class I extends k{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:y.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:a.ContextKeyExpr.and(y.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}d(F){return F.moveToNextMatch()?(F.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=I;class M extends k{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:y.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:a.ContextKeyExpr.and(y.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}d(F){return F.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class B extends D.EditorAction{constructor(){super({id:v.FIND_IDS.GoToMatchFindAction,label:i.localize(10,null),alias:"Go to Match...",precondition:v.CONTEXT_FIND_WIDGET_VISIBLE})}run(F,W,V){const R=S.get(W);if(!R)return;const X=F.get(s.IQuickInputService).createInputBox();X.placeholder=i.localize(11,null,R.getState().matchesCount),X.onDidChangeValue(ne=>{const ae=parseInt(ne);!isNaN(ae)&&ae>0&&ae<=R.getState().matchesCount?X.validationMessage=void 0:X.validationMessage=i.localize(12,null,R.getState().matchesCount)}),X.onDidAccept(()=>{const ne=parseInt(X.value);!isNaN(ne)&&ne>0&&ne<=R.getState().matchesCount?(R.goToMatch(ne-1),X.hide()):X.validationMessage=i.localize(13,null,R.getState().matchesCount)}),X.onDidHide(()=>{X.dispose()}),X.show()}}e.MoveToMatchFindAction=B;class z extends D.EditorAction{run(F,W){return Le(this,void 0,void 0,function*(){const V=S.get(W);if(!V)return;const R=f(W,"single",!1);R&&V.setSearchString(R),this.d(V)||(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(38).loop}),this.d(V))})}}e.SelectionMatchFindAction=z;class P extends z{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(14,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.focus,primary:2109,weight:100}})}d(F){return F.moveToNextMatch()}}e.NextSelectionMatchFindAction=P;class A extends z{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(15,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.focus,primary:3133,weight:100}})}d(F){return F.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=A,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:i.localize(16,null),alias:"Replace",precondition:a.ContextKeyExpr.or(y.EditorContextKeys.focus,a.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(17,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(O,F,W)=>{if(!F.hasModel()||F.getOption(86))return!1;const V=S.get(F);if(!V)return!1;const R=F.getSelection(),$=V.isFindInputFocused(),X=!R.isEmpty()&&R.startLineNumber===R.endLineNumber&&F.getOption(38).seedSearchStringFromSelection!=="never"&&!$,ne=$||X?2:1;return V.start({forceRevealReplace:!0,seedSearchStringFromSelection:X?"single":"none",seedSearchStringFromNonEmptySelection:F.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:F.getOption(38).seedSearchStringFromSelection!=="never",shouldFocus:ne,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(38).loop})}),(0,D.registerEditorContribution)(S.ID,p,0),(0,D.registerEditorAction)(b),(0,D.registerEditorAction)(L),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(B),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(A);const T=D.EditorCommand.bindToContribution(S.get);(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(y.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:O=>O.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:O=>O.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:O=>O.toggleRegex(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:O=>O.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:O=>O.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replace(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replace(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(y.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replaceAll(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replaceAll(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(y.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new T({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:y.EditorContextKeys.focus,primary:515}}))}),define(ee[814],te([1,0,27,48,38,603,30,78,24,31]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const g=(0,y.registerColor)("editor.foldBackground",{light:(0,y.transparent)(y.editorSelectionBackground,.3),dark:(0,y.transparent)(y.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,y.registerColor)("editorGutter.foldingControlForeground",{dark:y.iconForeground,light:y.iconForeground,hcDark:y.iconForeground,hcLight:y.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,v.registerIcon)("folding-expanded",w.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,v.registerIcon)("folding-collapsed",w.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,v.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,v.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const i={color:(0,C.themeColorFromId)(g),position:N.MinimapPosition.Inline};class t{constructor(a){this.m=a,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(a,r,c){return r?t.l:this.showFoldingControls==="never"?a?this.showFoldingHighlights?t.f:t.e:t.k:a?c?this.showFoldingHighlights?t.d:t.c:this.showFoldingHighlights?t.b:t.a:this.showFoldingControls==="mouseover"?c?t.j:t.h:c?t.i:t.g}changeDecorations(a){return this.m.changeDecorations(a)}removeDecorations(a){this.m.removeDecorations(a)}}t.a=E.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.b=E.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.c=E.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.d=E.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.e=E.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),t.f=E.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0}),t.g=E.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+d.ThemeIcon.asClassName(e.foldingExpandedIcon)}),t.h=E.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingExpandedIcon)}),t.i=E.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+d.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),t.j=E.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:d.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),t.k=E.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),t.l=E.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1}),e.FoldingDecorationProvider=t}),define(ee[325],te([1,0,12,13,57,2,9,18,112,14,23,26,34,557,558,491,602,15,814,166,492,42,76,59,19,6,399]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingController=void 0;const b=new u.RawContextKey("foldingEnabled",!1);let L=class Qt extends D.Disposable{static get(q){return q.getContribution(Qt.ID)}constructor(q,Y,Q,re,oe,G){super(),this.M=Y,this.N=Q,this.O=G,this.H=this.q(new D.DisposableStore),this.J=new m.Emitter,this.g=q;const Z=this.g.getOptions();this.h=Z.get(40),this.j=Z.get(41)!=="indentation",this.k=Z.get(45),this.m=!1,this.p=!1,this.n=Z.get(43),this.t={get limit(){return q.getOptions().get(44)},report:U=>{(!this.L||U.limited!==this.L.limited)&&(this.L=U,this.J.fire(U))}},this.D=oe.for(G.foldingRangeProvider,"Folding",{min:200}),this.v=null,this.w=null,this.y=null,this.z=null,this.B=null,this.C=null,this.G=null,this.I=null,this.u=new s.FoldingDecorationProvider(q),this.u.showFoldingControls=Z.get(104),this.u.showFoldingHighlights=Z.get(42),this.F=b.bindTo(this.M),this.F.set(this.h),this.q(this.g.onDidChangeModel(()=>this.P())),this.q(this.g.onDidChangeConfiguration(U=>{if(U.hasChanged(40)&&(this.h=this.g.getOptions().get(40),this.F.set(this.h),this.P()),U.hasChanged(44)&&this.P(),U.hasChanged(104)||U.hasChanged(42)){const j=this.g.getOptions();this.u.showFoldingControls=j.get(104),this.u.showFoldingHighlights=j.get(42),this.triggerFoldingModelChanged()}U.hasChanged(41)&&(this.j=this.g.getOptions().get(41)!=="indentation",this.Q()),U.hasChanged(45)&&(this.k=this.g.getOptions().get(45)),U.hasChanged(43)&&(this.n=this.g.getOptions().get(43))})),this.P()}saveViewState(){const q=this.g.getModel();if(!q||!this.h||q.isTooLargeForTokenization())return{};if(this.v){const Y=this.v.getMemento(),Q=this.y?this.y.id:void 0;return{collapsedRegions:Y,lineCount:q.getLineCount(),provider:Q,foldedImports:this.p}}}restoreViewState(q){const Y=this.g.getModel();if(!(!Y||!this.h||Y.isTooLargeForTokenization()||!this.w)&&!!q&&(this.p=!!q.foldedImports,q.collapsedRegions&&q.collapsedRegions.length>0&&this.v)){this.m=!0;try{this.v.applyMemento(q.collapsedRegions)}finally{this.m=!1}}}P(){this.H.clear();const q=this.g.getModel();!this.h||!q||q.isTooLargeForTokenization()||(this.p=!1,this.v=new n.FoldingModel(q,this.u),this.H.add(this.v),this.w=new a.HiddenRangeModel(this.v),this.H.add(this.w),this.H.add(this.w.onDidChange(Y=>this.U(Y))),this.C=new w.Delayer(this.D.get(q)),this.G=new w.RunOnceScheduler(()=>this.X(),200),this.H.add(this.G),this.H.add(this.O.foldingRangeProvider.onDidChange(()=>this.Q())),this.H.add(this.g.onDidChangeModelLanguageConfiguration(()=>this.Q())),this.H.add(this.g.onDidChangeModelContent(Y=>this.S(Y))),this.H.add(this.g.onDidChangeCursorPosition(()=>this.W())),this.H.add(this.g.onMouseDown(Y=>this.Y(Y))),this.H.add(this.g.onMouseUp(Y=>this.Z(Y))),this.H.add({dispose:()=>{var Y,Q;this.z&&(this.z.cancel(),this.z=null),(Y=this.C)===null||Y===void 0||Y.cancel(),this.C=null,this.v=null,this.B=null,this.w=null,this.G=null,(Q=this.y)===null||Q===void 0||Q.dispose(),this.y=null}}),this.triggerFoldingModelChanged())}Q(){var q;(q=this.y)===null||q===void 0||q.dispose(),this.y=null,this.triggerFoldingModelChanged()}R(q){var Y,Q;if(this.y)return this.y;const re=new r.IndentRangeProvider(q,this.N,this.t);if(this.y=re,this.j&&this.v){const oe=this.O.foldingRangeProvider.ordered(this.v.textModel),G=(Q=(Y=Qt.c)===null||Y===void 0?void 0:Y.call(Qt,oe,q))!==null&&Q!==void 0?Q:oe;G.length>0&&(this.y=new o.SyntaxRangeProvider(q,G,()=>this.triggerFoldingModelChanged(),this.t,re))}return this.y}getFoldingModel(){return this.B}S(q){var Y;(Y=this.w)===null||Y===void 0||Y.notifyChangeModelContent(q),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.C&&(this.z&&(this.z.cancel(),this.z=null),this.B=this.C.trigger(()=>{const q=this.v;if(!q)return null;const Y=new S.StopWatch(!0),Q=this.R(q.textModel),re=this.z=(0,w.createCancelablePromise)(oe=>Q.compute(oe));return re.then(oe=>{if(oe&&re===this.z){let G;if(this.n&&!this.p){const H=oe.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);H&&(G=C.StableEditorScrollState.capture(this.g),this.p=H)}const Z=this.g.getSelections(),U=Z?Z.map(H=>H.startLineNumber):[];q.update(oe,U),G?.restore(this.g);const j=this.D.update(q.textModel,Y.elapsed());this.C&&(this.C.defaultDelay=j)}return q})}).then(void 0,q=>((0,N.onUnexpectedError)(q),null)))}U(q){if(this.w&&q.length&&!this.m){const Y=this.g.getSelections();Y&&this.w.adjustSelections(Y)&&this.g.setSelections(Y)}this.g.setHiddenAreas(q,this)}W(){this.w&&this.w.hasRanges()&&this.G.schedule()}X(){const q=this.getFoldingModel();!q||q.then(Y=>{if(Y){const Q=this.g.getSelections();if(Q&&Q.length>0){const re=[];for(const oe of Q){const G=oe.selectionStartLineNumber;this.w&&this.w.isHidden(G)&&re.push(...Y.getAllRegionsAtLine(G,Z=>Z.isCollapsed&&G>Z.startLineNumber))}re.length&&(Y.toggleCollapseState(re),this.reveal(Q[0].getPosition()))}}}).then(void 0,N.onUnexpectedError)}Y(q){if(this.I=null,!this.w||!q.target||!q.target.range||!q.event.leftButton&&!q.event.middleButton)return;const Y=q.target.range;let Q=!1;switch(q.target.type){case 4:{const re=q.target.detail,oe=q.target.element.offsetLeft;if(re.offsetX-oe<5)return;Q=!0;break}case 7:{if(this.k&&this.w.hasRanges()&&!q.target.detail.isAfterLines)break;return}case 6:{if(this.w.hasRanges()){const re=this.g.getModel();if(re&&Y.startColumn===re.getLineMaxColumn(Y.startLineNumber))break}return}default:return}this.I={lineNumber:Y.startLineNumber,iconClicked:Q}}Z(q){const Y=this.v;if(!Y||!this.I||!q.target)return;const Q=this.I.lineNumber,re=this.I.iconClicked,oe=q.target.range;if(!oe||oe.startLineNumber!==Q)return;if(re){if(q.target.type!==4)return}else{const Z=this.g.getModel();if(!Z||oe.startColumn!==Z.getLineMaxColumn(Q))return}const G=Y.getRegionAtLine(Q);if(G&&G.startLineNumber===Q){const Z=G.isCollapsed;if(re||Z){const U=q.event.altKey;let j=[];if(U){const H=ce=>!ce.containedBy(G)&&!G.containedBy(ce),_=Y.getRegionsInside(null,H);for(const ce of _)ce.isCollapsed&&j.push(ce);j.length===0&&(j=_)}else{const H=q.event.middleButton||q.event.shiftKey;if(H)for(const _ of Y.getRegionsInside(G))_.isCollapsed===Z&&j.push(_);(Z||!H||j.length===0)&&j.push(G)}Y.toggleCollapseState(j),this.reveal({lineNumber:Q,column:1})}}}reveal(q){this.g.revealPositionInCenterIfOutsideViewport(q,0)}};L.ID="editor.contrib.folding",L=De([fe(1,u.IContextKeyService),fe(2,t.ILanguageConfigurationService),fe(3,h.INotificationService),fe(4,f.ILanguageFeatureDebounceService),fe(5,p.ILanguageFeaturesService)],L),e.FoldingController=L;class k extends d.EditorAction{runEditorCommand(q,Y,Q){const re=q.get(t.ILanguageConfigurationService),oe=L.get(Y);if(!oe)return;const G=oe.getFoldingModel();if(G)return this.q(q,Y),G.then(Z=>{if(Z){this.invoke(oe,Z,Y,Q,re);const U=Y.getSelection();U&&oe.reveal(U.getStartPosition())}})}d(q){const Y=q.getSelections();return Y?Y.map(Q=>Q.startLineNumber):[]}h(q,Y){return q&&q.selectionLines?q.selectionLines.map(Q=>Q+1):this.d(Y)}run(q,Y){}}function I(x){if(!v.isUndefined(x)){if(!v.isObject(x))return!1;const q=x;if(!v.isUndefined(q.levels)&&!v.isNumber(q.levels)||!v.isUndefined(q.direction)&&!v.isString(q.direction)||!v.isUndefined(q.selectionLines)&&(!Array.isArray(q.selectionLines)||!q.selectionLines.every(v.isNumber)))return!1}return!0}class M extends k{constructor(){super({id:"editor.unfold",label:c.localize(0,null),alias:"Unfold",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:I,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(q,Y,Q,re){const oe=re&&re.levels||1,G=this.h(re,Q);re&&re.direction==="up"?(0,n.setCollapseStateLevelsUp)(Y,!1,oe,G):(0,n.setCollapseStateLevelsDown)(Y,!1,oe,G)}}class B extends k{constructor(){super({id:"editor.unfoldRecursively",label:c.localize(1,null),alias:"Unfold Recursively",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2137),weight:100}})}invoke(q,Y,Q,re){(0,n.setCollapseStateLevelsDown)(Y,!1,Number.MAX_VALUE,this.d(Q))}}class z extends k{constructor(){super({id:"editor.fold",label:c.localize(2,null),alias:"Fold",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:I,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(q,Y,Q,re){const oe=this.h(re,Q),G=re&&re.levels,Z=re&&re.direction;typeof G!="number"&&typeof Z!="string"?(0,n.setCollapseStateUp)(Y,!0,oe):Z==="up"?(0,n.setCollapseStateLevelsUp)(Y,!0,G||1,oe):(0,n.setCollapseStateLevelsDown)(Y,!0,G||1,oe)}}class P extends k{constructor(){super({id:"editor.toggleFold",label:c.localize(3,null),alias:"Toggle Fold",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2090),weight:100}})}invoke(q,Y,Q){const re=this.d(Q);(0,n.toggleCollapseState)(Y,1,re)}}class A extends k{constructor(){super({id:"editor.foldRecursively",label:c.localize(4,null),alias:"Fold Recursively",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2135),weight:100}})}invoke(q,Y,Q){const re=this.d(Q);(0,n.setCollapseStateLevelsDown)(Y,!0,Number.MAX_VALUE,re)}}class T extends k{constructor(){super({id:"editor.foldAllBlockComments",label:c.localize(5,null),alias:"Fold All Block Comments",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2133),weight:100}})}invoke(q,Y,Q,re,oe){if(Y.regions.hasTypes())(0,n.setCollapseStateForType)(Y,i.FoldingRangeKind.Comment.value,!0);else{const G=Q.getModel();if(!G)return;const Z=oe.getLanguageConfiguration(G.getLanguageId()).comments;if(Z&&Z.blockCommentStartToken){const U=new RegExp("^\\s*"+(0,y.escapeRegExpCharacters)(Z.blockCommentStartToken));(0,n.setCollapseStateForMatchingLines)(Y,U,!0)}}}}class O extends k{constructor(){super({id:"editor.foldAllMarkerRegions",label:c.localize(6,null),alias:"Fold All Regions",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2077),weight:100}})}invoke(q,Y,Q,re,oe){if(Y.regions.hasTypes())(0,n.setCollapseStateForType)(Y,i.FoldingRangeKind.Region.value,!0);else{const G=Q.getModel();if(!G)return;const Z=oe.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){const U=new RegExp(Z.markers.start);(0,n.setCollapseStateForMatchingLines)(Y,U,!0)}}}}class F extends k{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:c.localize(7,null),alias:"Unfold All Regions",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2078),weight:100}})}invoke(q,Y,Q,re,oe){if(Y.regions.hasTypes())(0,n.setCollapseStateForType)(Y,i.FoldingRangeKind.Region.value,!1);else{const G=Q.getModel();if(!G)return;const Z=oe.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){const U=new RegExp(Z.markers.start);(0,n.setCollapseStateForMatchingLines)(Y,U,!1)}}}}class W extends k{constructor(){super({id:"editor.foldAllExcept",label:c.localize(8,null),alias:"Fold All Regions Except Selected",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2131),weight:100}})}invoke(q,Y,Q){const re=this.d(Q);(0,n.setCollapseStateForRest)(Y,!0,re)}}class V extends k{constructor(){super({id:"editor.unfoldAllExcept",label:c.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2129),weight:100}})}invoke(q,Y,Q){const re=this.d(Q);(0,n.setCollapseStateForRest)(Y,!1,re)}}class R extends k{constructor(){super({id:"editor.foldAll",label:c.localize(10,null),alias:"Fold All",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2069),weight:100}})}invoke(q,Y,Q){(0,n.setCollapseStateLevelsDown)(Y,!0)}}class $ extends k{constructor(){super({id:"editor.unfoldAll",label:c.localize(11,null),alias:"Unfold All",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2088),weight:100}})}invoke(q,Y,Q){(0,n.setCollapseStateLevelsDown)(Y,!1)}}class X extends k{m(){return parseInt(this.id.substr(X.j.length))}invoke(q,Y,Q){(0,n.setCollapseStateAtLevel)(Y,this.m(),!0,this.d(Q))}}X.j="editor.foldLevel",X.ID=x=>X.j+x;class ne extends k{constructor(){super({id:"editor.gotoParentFold",label:c.localize(12,null),alias:"Go to Parent Fold",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,Y,Q){const re=this.d(Q);if(re.length>0){const oe=(0,n.getParentFoldLine)(re[0],Y);oe!==null&&Q.setSelection({startLineNumber:oe,startColumn:1,endLineNumber:oe,endColumn:1})}}}class ae extends k{constructor(){super({id:"editor.gotoPreviousFold",label:c.localize(13,null),alias:"Go to Previous Folding Range",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,Y,Q){const re=this.d(Q);if(re.length>0){const oe=(0,n.getPreviousFoldLine)(re[0],Y);oe!==null&&Q.setSelection({startLineNumber:oe,startColumn:1,endLineNumber:oe,endColumn:1})}}}class ie extends k{constructor(){super({id:"editor.gotoNextFold",label:c.localize(14,null),alias:"Go to Next Folding Range",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,Y,Q){const re=this.d(Q);if(re.length>0){const oe=(0,n.getNextFoldLine)(re[0],Y);oe!==null&&Q.setSelection({startLineNumber:oe,startColumn:1,endLineNumber:oe,endColumn:1})}}}class le extends k{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:c.localize(15,null),alias:"Create Folding Range from Selection",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2130),weight:100}})}invoke(q,Y,Q){var re;const oe=[],G=Q.getSelections();if(G){for(const Z of G){let U=Z.endLineNumber;Z.endColumn===1&&--U,U>Z.startLineNumber&&(oe.push({startLineNumber:Z.startLineNumber,endLineNumber:U,type:void 0,isCollapsed:!0,source:1}),Q.setSelection({startLineNumber:Z.startLineNumber,startColumn:1,endLineNumber:Z.startLineNumber,endColumn:1}))}if(oe.length>0){oe.sort((U,j)=>U.startLineNumber-j.startLineNumber);const Z=l.FoldingRegions.sanitizeAndMerge(Y.regions,oe,(re=Q.getModel())===null||re===void 0?void 0:re.getLineCount());Y.updatePost(l.FoldingRegions.fromFoldRanges(Z))}}}}class J extends k{constructor(){super({id:"editor.removeManualFoldingRanges",label:c.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2132),weight:100}})}invoke(q,Y,Q){const re=Q.getSelections();if(re){const oe=[];for(const G of re){const{startLineNumber:Z,endLineNumber:U}=G;oe.push(U>=Z?{startLineNumber:Z,endLineNumber:U}:{endLineNumber:U,startLineNumber:Z})}Y.removeManualRanges(oe),q.triggerFoldingModelChanged()}}}(0,d.registerEditorContribution)(L.ID,L,0),(0,d.registerEditorAction)(M),(0,d.registerEditorAction)(B),(0,d.registerEditorAction)(z),(0,d.registerEditorAction)(A),(0,d.registerEditorAction)(R),(0,d.registerEditorAction)($),(0,d.registerEditorAction)(T),(0,d.registerEditorAction)(O),(0,d.registerEditorAction)(F),(0,d.registerEditorAction)(W),(0,d.registerEditorAction)(V),(0,d.registerEditorAction)(P),(0,d.registerEditorAction)(ne),(0,d.registerEditorAction)(ae),(0,d.registerEditorAction)(ie),(0,d.registerEditorAction)(le),(0,d.registerEditorAction)(J);for(let x=1;x<=7;x++)(0,d.registerInstantiatedEditorAction)(new X({id:X.ID(x),label:c.localize(17,null,x),alias:`Fold Level ${x}`,precondition:b,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2048|21+x),weight:100}}))}),define(ee[815],te([1,0,7,274,17,2,11,3,38,26,289,94,15,8,37,122,12,23]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const s=w.$;let l=class hi extends D.Disposable{constructor(k,I,M){super(),this.k=k,this.l=I,this.n=M,this.g=this.q(this.l.createInstance(S,this.k)),this.j=null,this.c=[];for(const B of i.HoverParticipantRegistry.getAll())this.c.push(this.l.createInstance(B,this.k));this.c.sort((B,z)=>B.hoverOrdinal-z.hoverOrdinal),this.h=new m(this.k,this.c),this.i=this.q(new g.HoverOperation(this.k,this.h)),this.q(this.i.onResult(B=>{if(!this.h.anchor)return;const z=B.hasLoadingMessage?this.t(B.value):B.value;this.u(new o(this.h.anchor,z,B.isComplete))})),this.q(w.addStandardDisposableListener(this.g.getDomNode(),"keydown",B=>{B.equals(9)&&this.hide()})),this.q(d.TokenizationRegistry.onDidChange(()=>{this.g.position&&this.j&&(this.g.clear(),this.s(this.j))}))}maybeShowAt(k){const I=[];for(const B of this.c)if(B.suggestHoverAnchor){const z=B.suggestHoverAnchor(k);z&&I.push(z)}const M=k.target;if(M.type===6&&I.push(new i.HoverRangeAnchor(0,M.range,k.event.posx,k.event.posy)),M.type===7){const B=this.k.getOption(47).typicalHalfwidthCharacterWidth/2;!M.detail.isAfterLines&&typeof M.detail.horizontalDistanceToText=="number"&&M.detail.horizontalDistanceToText<B&&I.push(new i.HoverRangeAnchor(0,M.range,k.event.posx,k.event.posy))}return I.length===0?this.p(null,0,0,!1,k):(I.sort((B,z)=>z.priority-B.priority),this.p(I[0],0,0,!1,k))}startShowingAtRange(k,I,M,B){this.p(new i.HoverRangeAnchor(0,k,void 0,void 0),I,M,B,null)}p(k,I,M,B,z){return!this.g.position||!this.j?k?(this.r(k,I,M,B,!1),!0):!1:this.k.getOption(57).sticky&&z&&this.g.isMouseGettingCloser(z.event.posx,z.event.posy)?(k&&this.r(k,I,M,B,!0),!0):k?k&&this.j.anchor.equals(k)?!0:k.canAdoptVisibleHover(this.j.anchor,this.g.position)?(this.s(this.j.filter(k)),this.r(k,I,M,B,!1),!0):(this.s(null),this.r(k,I,M,B,!1),!0):(this.s(null),!1)}r(k,I,M,B,z){this.h.anchor&&this.h.anchor.equals(k)||(this.i.cancel(),this.h.anchor=k,this.h.shouldFocus=B,this.h.source=M,this.h.insistOnKeepingHoverVisible=z,this.i.start(I))}s(k){this.j!==k&&(k&&k.messages.length===0&&(k=null),this.j=k,this.j?this.v(this.j.anchor,this.j.messages):this.g.hide())}hide(){this.h.anchor=null,this.i.cancel(),this.s(null)}isColorPickerVisible(){return this.g.isColorPickerVisible}isVisibleFromKeyboard(){return this.g.isVisibleFromKeyboard}containsNode(k){return this.g.getDomNode().contains(k)}t(k){if(this.h.anchor){for(const I of this.c)if(I.createLoadingMessage){const M=I.createLoadingMessage(this.h.anchor);if(M)return k.slice(0).concat([M])}}return k}u(k){this.g.position&&this.j&&this.j.isComplete&&(!k.isComplete||this.h.insistOnKeepingHoverVisible&&k.messages.length===0)||this.s(k)}v(k,I){const{showAtPosition:M,showAtSecondaryPosition:B,highlightRange:z}=hi.computeHoverRanges(this.k,k.range,I),P=new D.DisposableStore,A=P.add(new p(this.n)),T=document.createDocumentFragment();let O=null;const F={fragment:T,statusBar:A,setColorPicker:V=>O=V,onContentsChanged:()=>this.g.onContentsChanged(),hide:()=>this.hide()};for(const V of this.c){const R=I.filter($=>$.owner===V);R.length>0&&P.add(V.renderHoverParts(F,R))}const W=I.some(V=>V.isBeforeContent);if(A.hasContent&&T.appendChild(A.hoverElement),T.hasChildNodes()){if(z){const V=this.k.createDecorationsCollection();V.set([{range:z,options:hi.w}]),P.add((0,D.toDisposable)(()=>{V.clear()}))}this.g.showAt(T,new f(O,M,B,this.k.getOption(57).above,this.h.shouldFocus,this.h.source,W,k.initialMousePosX,k.initialMousePosY,P))}else P.dispose()}static computeHoverRanges(k,I,M){let B=1;if(k.hasModel()){const O=k._getViewModel(),F=O.coordinatesConverter,W=F.convertModelRangeToViewRange(I),V=new y.Position(W.startLineNumber,O.getLineMinColumn(W.startLineNumber));B=F.convertViewPositionToModelPosition(V).column}const z=I.startLineNumber;let P=I.startColumn,A=M[0].range,T=null;for(const O of M)A=v.Range.plusRange(A,O.range),O.range.startLineNumber===z&&O.range.endLineNumber===z&&(P=Math.max(Math.min(P,O.range.startColumn),B)),O.forceShowAtRange&&(T=O.range);return{showAtPosition:T?T.getStartPosition():new y.Position(z,I.startColumn),showAtSecondaryPosition:T?T.getStartPosition():new y.Position(z,P),highlightRange:A}}};l.w=C.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),l=De([fe(1,n.IInstantiationService),fe(2,a.IKeybindingService)],l),e.ContentHoverController=l;class o{constructor(k,I,M){this.anchor=k,this.messages=I,this.isComplete=M}filter(k){const I=this.messages.filter(M=>M.isValidForHoverAnchor(k));return I.length===this.messages.length?this:new h(this,this.anchor,I,this.isComplete)}}class h extends o{constructor(k,I,M,B){super(I,M,B),this.c=k}filter(k){return this.c.filter(k)}}class f{constructor(k,I,M,B,z,P,A,T,O,F){this.colorPicker=k,this.showAtPosition=I,this.showAtSecondaryPosition=M,this.preferAbove=B,this.stoleFocus=z,this.source=P,this.isBeforeContent=A,this.initialMousePosX=T,this.initialMousePosY=O,this.disposables=F,this.closestMouseDistance=void 0}}let S=class Qi extends D.Disposable{get position(){var k,I;return(I=(k=this.h)===null||k===void 0?void 0:k.showAtPosition)!==null&&I!==void 0?I:null}get isColorPickerVisible(){var k;return Boolean((k=this.h)===null||k===void 0?void 0:k.colorPicker)}get isVisibleFromKeyboard(){var k;return((k=this.h)===null||k===void 0?void 0:k.source)===1}constructor(k,I){super(),this.i=k,this.j=I,this.allowEditorOverflow=!0,this.c=u.EditorContextKeys.hoverVisible.bindTo(this.j),this.g=this.q(new N.HoverWidget),this.h=null,this.q(this.i.onDidLayoutChange(()=>this.l())),this.q(this.i.onDidChangeConfiguration(M=>{M.hasChanged(47)&&this.n()})),this.k(null),this.l(),this.i.addContentWidget(this)}dispose(){this.i.removeContentWidget(this),this.h&&this.h.disposables.dispose(),super.dispose()}getId(){return Qi.ID}getDomNode(){return this.g.containerDomNode}getPosition(){if(!this.h)return null;let k=this.h.preferAbove;!k&&this.j.getContextKeyValue(r.Context.Visible.key)&&(k=!0);const I=this.h.isBeforeContent?3:void 0;return{position:this.h.showAtPosition,secondaryPosition:this.h.showAtSecondaryPosition,preference:k?[1,2]:[2,1],positionAffinity:I}}isMouseGettingCloser(k,I){if(!this.h)return!1;if(typeof this.h.initialMousePosX>"u"||typeof this.h.initialMousePosY>"u")return this.h.initialMousePosX=k,this.h.initialMousePosY=I,!1;const M=w.getDomNodePagePosition(this.getDomNode());typeof this.h.closestMouseDistance>"u"&&(this.h.closestMouseDistance=b(this.h.initialMousePosX,this.h.initialMousePosY,M.left,M.top,M.width,M.height));const B=b(k,I,M.left,M.top,M.width,M.height);return B>this.h.closestMouseDistance+4?!1:(this.h.closestMouseDistance=Math.min(this.h.closestMouseDistance,B),!0)}k(k){this.h&&this.h.disposables.dispose(),this.h=k,this.c.set(!!this.h),this.g.containerDomNode.classList.toggle("hidden",!this.h)}l(){const k=Math.max(this.i.getLayoutInfo().height/4,250),{fontSize:I,lineHeight:M}=this.i.getOption(47);this.g.contentsDomNode.style.fontSize=`${I}px`,this.g.contentsDomNode.style.lineHeight=`${M/I}`,this.g.contentsDomNode.style.maxHeight=`${k}px`,this.g.contentsDomNode.style.maxWidth=`${Math.max(this.i.getLayoutInfo().width*.66,500)}px`}n(){Array.prototype.slice.call(this.g.contentsDomNode.getElementsByClassName("code")).forEach(I=>this.i.applyFontInfo(I))}showAt(k,I){var M;this.k(I),this.g.contentsDomNode.textContent="",this.g.contentsDomNode.appendChild(k),this.g.contentsDomNode.style.paddingBottom="",this.n(),this.onContentsChanged(),this.i.render(),this.onContentsChanged(),I.stoleFocus&&this.g.containerDomNode.focus(),(M=I.colorPicker)===null||M===void 0||M.layout()}hide(){if(this.h){const k=this.h.stoleFocus;this.k(null),this.i.layoutContentWidget(this),k&&this.i.focus()}}onContentsChanged(){this.i.layoutContentWidget(this),this.g.onContentsChanged();const k=this.g.scrollbar.getScrollDimensions();if(k.scrollWidth>k.width){const M=`${this.g.scrollbar.options.horizontalScrollbarSize}px`;this.g.contentsDomNode.style.paddingBottom!==M&&(this.g.contentsDomNode.style.paddingBottom=M,this.i.layoutContentWidget(this),this.g.onContentsChanged())}}clear(){this.g.contentsDomNode.textContent=""}};S.ID="editor.contrib.contentHoverWidget",S=De([fe(1,t.IContextKeyService)],S),e.ContentHoverWidget=S;let p=class extends D.Disposable{get hasContent(){return this.g}constructor(k){super(),this.h=k,this.g=!1,this.hoverElement=s("div.hover-row.status-bar"),this.c=w.append(this.hoverElement,s("div.actions"))}addAction(k){const I=this.h.lookupKeybinding(k.commandId),M=I?I.getLabel():null;return this.g=!0,this.q(N.HoverAction.render(this.c,k,M))}append(k){const I=w.append(this.c,k);return this.g=!0,I}};p=De([fe(0,a.IKeybindingService)],p);class m{get anchor(){return this.c}set anchor(k){this.c=k}get shouldFocus(){return this.f}set shouldFocus(k){this.f=k}get source(){return this.g}set source(k){this.g=k}get insistOnKeepingHoverVisible(){return this.h}set insistOnKeepingHoverVisible(k){this.h=k}constructor(k,I){this.i=k,this.j=I,this.c=null,this.f=!1,this.g=0,this.h=!1}static k(k,I){if(I.type!==1&&!I.supportsMarkerHover)return[];const M=k.getModel(),B=I.range.startLineNumber;if(B>M.getLineCount())return[];const z=M.getLineMaxColumn(B);return k.getLineDecorations(B).filter(P=>{if(P.options.isWholeLine)return!0;const A=P.range.startLineNumber===B?P.range.startColumn:1,T=P.range.endLineNumber===B?P.range.endColumn:z;if(P.options.showIfCollapsed){if(A>I.range.startColumn+1||I.range.endColumn-1>T)return!1}else if(A>I.range.startColumn||I.range.endColumn>T)return!1;return!0})}computeAsync(k){const I=this.c;if(!this.i.hasModel()||!I)return c.AsyncIterableObject.EMPTY;const M=m.k(this.i,I);return c.AsyncIterableObject.merge(this.j.map(B=>B.computeAsync?B.computeAsync(I,M,k):c.AsyncIterableObject.EMPTY))}computeSync(){if(!this.i.hasModel()||!this.c)return[];const k=m.k(this.i,this.c);let I=[];for(const M of this.j)I=I.concat(M.computeSync(this.c,k));return(0,E.coalesce)(I)}}function b(L,k,I,M,B,z){const P=I+B/2,A=M+z/2,T=Math.max(Math.abs(L-P)-B/2,0),O=Math.max(Math.abs(k-A)-z/2,0);return Math.sqrt(T*T+O*O)}}),define(ee[816],te([1,0,12,13,98,14,3,22,23,38,107,619,493,404]),function(K,e,w,N,E,D,y,v,C,d,g,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let n=class di{static get(u){return u.getContribution(di.ID)}constructor(u,s){this.b=u,this.c=s,this.d=this.b.createDecorationsCollection()}dispose(){}run(u,s){var l;(l=this.e)===null||l===void 0||l.cancel();const o=this.b.getSelection(),h=this.b.getModel();if(!h||!o)return;let f=o;if(f.startLineNumber!==f.endLineNumber)return;const S=new E.EditorState(this.b,5),p=h.uri;return this.c.canNavigateValueSet(p)?(this.e=(0,w.createCancelablePromise)(m=>this.c.navigateValueSet(p,f,s)),this.e.then(m=>{var b;if(!m||!m.range||!m.value||!S.validate(this.b))return;const L=y.Range.lift(m.range);let k=m.range;const I=m.value.length-(f.endColumn-f.startColumn);k={startLineNumber:k.startLineNumber,startColumn:k.startColumn,endLineNumber:k.endLineNumber,endColumn:k.startColumn+m.value.length},I>1&&(f=new v.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+I-1));const M=new t.InPlaceReplaceCommand(L,f,m.value);this.b.pushUndoStop(),this.b.executeCommand(u,M),this.b.pushUndoStop(),this.d.set([{range:k,options:di.a}]),(b=this.f)===null||b===void 0||b.cancel(),this.f=(0,w.timeout)(350),this.f.then(()=>this.d.clear()).catch(N.onUnexpectedError)}).catch(N.onUnexpectedError)):Promise.resolve(void 0)}};n.ID="editor.contrib.inPlaceReplaceController",n.a=d.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),n=De([fe(1,g.IEditorWorkerService)],n);class a extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3154,weight:100}})}run(u,s){const l=n.get(s);return l?l.run(this.id,!0):Promise.resolve(void 0)}}class r extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3156,weight:100}})}run(u,s){const l=n.get(s);return l?l.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(n.ID,n,4),(0,D.registerEditorAction)(a),(0,D.registerEditorAction)(r)}),define(ee[817],te([1,0,17,12,20,36,13,6,2,9,21,14,28,11,3,23,38,34,627,15,19,30,76,59,407]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new l.RawContextKey("LinkedEditingInputVisible",!1);const p="linked-editing-decoration";let m=class fi extends C.Disposable{static get(M){return M.getContribution(fi.ID)}constructor(M,B,z,P,A){super(),this.B=P,this.u=0,this.z=this.q(new C.DisposableStore),this.g=M,this.h=z.linkedEditingRangeProvider,this.j=!1,this.k=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(B),this.l=A.for(this.h,"Linked Editing",{min:200}),this.t=this.g.createDecorationsCollection(),this.v=null,this.w=null,this.y=!1,this.z=this.q(new C.DisposableStore),this.m=null,this.n=null,this.p=null,this.r=null,this.s=null,this.q(this.g.onDidChangeModel(()=>this.C(!0))),this.q(this.g.onDidChangeConfiguration(T=>{(T.hasChanged(66)||T.hasChanged(87))&&this.C(!1)})),this.q(this.h.onDidChange(()=>this.C(!1))),this.q(this.g.onDidChangeModelLanguage(()=>this.C(!0))),this.C(!0)}C(M){const B=this.g.getModel(),z=B!==null&&(this.g.getOption(66)||this.g.getOption(87))&&this.h.has(B);if(z===this.j&&!M||(this.j=z,this.clearRanges(),this.z.clear(),!z||B===null))return;this.z.add(v.Event.runAndSubscribe(B.onDidChangeLanguageConfiguration,()=>{this.v=this.B.getLanguageConfiguration(B.getLanguageId()).getWordDefinition()}));const P=new N.Delayer(this.l.get(B)),A=()=>{var F;this.m=P.trigger(()=>this.updateRanges(),(F=this.b)!==null&&F!==void 0?F:this.l.get(B))},T=new N.Delayer(0),O=F=>{this.n=T.trigger(()=>this.D(F))};this.z.add(this.g.onDidChangeCursorPosition(()=>{A()})),this.z.add(this.g.onDidChangeModelContent(F=>{if(!this.y&&this.t.length>0){const W=this.t.getRange(0);if(W&&F.changes.every(V=>W.intersectRanges(V.range))){O(this.u);return}}A()})),this.z.add({dispose:()=>{P.dispose(),T.dispose()}}),this.updateRanges()}D(M){if(!this.g.hasModel()||M!==this.u||this.t.length===0)return;const B=this.g.getModel(),z=this.t.getRange(0);if(!z||z.startLineNumber!==z.endLineNumber)return this.clearRanges();const P=B.getValueInRange(z);if(this.w){const T=P.match(this.w);if((T?T[0].length:0)!==P.length)return this.clearRanges()}const A=[];for(let T=1,O=this.t.length;T<O;T++){const F=this.t.getRange(T);if(!!F)if(F.startLineNumber!==F.endLineNumber)A.push({range:F,text:P});else{let W=B.getValueInRange(F),V=P,R=F.startColumn,$=F.endColumn;const X=d.commonPrefixLength(W,V);R+=X,W=W.substr(X),V=V.substr(X);const ne=d.commonSuffixLength(W,V);$-=ne,W=W.substr(0,W.length-ne),V=V.substr(0,V.length-ne),(R!==$||V.length!==0)&&A.push({range:new a.Range(F.startLineNumber,R,F.endLineNumber,$),text:V})}}if(A.length!==0)try{this.g.popUndoStop(),this.y=!0;const T=this.g._getViewModel().getPrevEditOperationType();this.g.executeEdits("linkedEditing",A),this.g._getViewModel().setPrevEditOperationType(T)}finally{this.y=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this.k.set(!1),this.t.clear(),this.p&&(this.p.cancel(),this.p=null,this.r=null)}updateRanges(M=!1){return Le(this,void 0,void 0,function*(){if(!this.g.hasModel()){this.clearRanges();return}const B=this.g.getPosition();if(!this.j&&!M||this.g.getSelections().length>1){this.clearRanges();return}const z=this.g.getModel(),P=z.getVersionId();if(this.r&&this.s===P){if(B.equals(this.r))return;if(this.t.length>0){const T=this.t.getRange(0);if(T&&T.containsPosition(B))return}}this.r=B,this.s=P;const A=(0,N.createCancelablePromise)(T=>Le(this,void 0,void 0,function*(){try{const O=new S.StopWatch(!1),F=yield k(this.h,z,B,T);if(this.l.update(z,O.elapsed()),A!==this.p||(this.p=null,P!==z.getVersionId()))return;let W=[];F?.ranges&&(W=F.ranges),this.w=F?.wordPattern||this.v;let V=!1;for(let $=0,X=W.length;$<X;$++)if(a.Range.containsPosition(W[$],B)){if(V=!0,$!==0){const ne=W[$];W.splice($,1),W.unshift(ne)}break}if(!V){this.clearRanges();return}const R=W.map($=>({range:$,options:fi.a}));this.k.set(!0),this.t.set(R),this.u++}catch(O){(0,y.isCancellationError)(O)||(0,y.onUnexpectedError)(O),(this.p===A||!this.p)&&this.clearRanges()}}));return this.p=A,A})}};m.ID="editor.contrib.linkedEditing",m.a=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:p}),m=De([fe(1,l.IContextKeyService),fe(2,o.ILanguageFeaturesService),fe(3,u.ILanguageConfigurationService),fe(4,f.ILanguageFeatureDebounceService)],m),e.LinkedEditingContribution=m;class b extends i.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:s.localize(0,null),alias:"Start Linked Editing",precondition:l.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(M,B){const z=M.get(t.ICodeEditorService),[P,A]=Array.isArray(B)&&B||[void 0,void 0];return g.URI.isUri(P)&&n.Position.isIPosition(A)?z.openCodeEditor({resource:P},z.getActiveCodeEditor()).then(T=>{!T||(T.setPosition(A),T.invokeWithinContext(O=>(this.q(O,T),this.run(O,T))))},y.onUnexpectedError):super.runCommand(M,B)}run(M,B){const z=m.get(B);return z?Promise.resolve(z.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=b;const L=i.EditorCommand.bindToContribution(m.get);(0,i.registerEditorCommand)(new L({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:I=>I.clearRanges(),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function k(I,M,B,z){const P=I.ordered(M);return(0,N.first)(P.map(A=>()=>Le(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(M,B,z)}catch(T){(0,y.onUnexpectedExternalError)(T);return}})),A=>!!A&&w.isNonEmptyArray(A?.ranges))}e.editorLinkedEditingBackground=(0,h.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},s.localize(1,null)),(0,i.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(I,M,B)=>{const{linkedEditingRangeProvider:z}=I.get(o.ILanguageFeaturesService);return k(z,M,B,E.CancellationToken.None)}),(0,i.registerEditorContribution)(m.ID,m,1),(0,i.registerEditorAction)(b)}),define(ee[818],te([1,0,12,20,13,71,2,47,16,43,59,21,14,38,76,19,170,686,628,42,53,408]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let h=class Xi extends y.Disposable{static get(L){return L.getContribution(Xi.ID)}constructor(L,k,I,M,B){super(),this.l=L,this.m=k,this.n=I,this.p=M,this.a=this.p.linkProvider,this.b=B.for(this.a,"Links",{min:1e3,max:4e3}),this.c=this.q(new w.RunOnceScheduler(()=>this.r(),1e3)),this.g=null,this.h=null,this.k={},this.j=null;const z=this.q(new c.ClickLinkGesture(L));this.q(z.onMouseMoveOrRelevantKeyDown(([P,A])=>{this.t(P,A)})),this.q(z.onExecute(P=>{this.v(P)})),this.q(z.onCancel(P=>{this.u()})),this.q(L.onDidChangeConfiguration(P=>{!P.hasChanged(67)||(this.s([]),this.y(),this.c.schedule(0))})),this.q(L.onDidChangeModelContent(P=>{!this.l.hasModel()||this.c.schedule(this.b.get(this.l.getModel()))})),this.q(L.onDidChangeModel(P=>{this.k={},this.j=null,this.y(),this.c.schedule(0)})),this.q(L.onDidChangeModelLanguage(P=>{this.y(),this.c.schedule(0)})),this.q(this.a.onDidChange(P=>{this.y(),this.c.schedule(0)})),this.c.schedule(0)}r(){return Le(this,void 0,void 0,function*(){if(!this.l.hasModel()||!this.l.getOption(67))return;const L=this.l.getModel();if(!!this.a.has(L)){this.h&&(this.h.dispose(),this.h=null),this.g=(0,w.createCancelablePromise)(k=>(0,u.getLinks)(this.a,L,k));try{const k=new g.StopWatch(!1);if(this.h=yield this.g,this.b.update(L,k.elapsed()),L.isDisposed())return;this.s(this.h.links)}catch(k){(0,E.onUnexpectedError)(k)}finally{this.g=null}}})}s(L){const k=this.l.getOption(74)==="altKey",I=[],M=Object.keys(this.k);for(const z of M){const P=this.k[z];I.push(P.decorationId)}const B=[];if(L)for(const z of L)B.push(S.decoration(z,k));this.l.changeDecorations(z=>{const P=z.deltaDecorations(I,B);this.k={},this.j=null;for(let A=0,T=P.length;A<T;A++){const O=new S(L[A],P[A]);this.k[O.decorationId]=O}})}t(L,k){const I=this.l.getOption(74)==="altKey";if(this.w(L,k)){this.u();const M=this.getLinkOccurrence(L.target.position);M&&this.l.changeDecorations(B=>{M.activate(B,I),this.j=M.decorationId})}else this.u()}u(){const L=this.l.getOption(74)==="altKey";if(this.j){const k=this.k[this.j];k&&this.l.changeDecorations(I=>{k.deactivate(I,L)}),this.j=null}}v(L){if(!this.w(L))return;const k=this.getLinkOccurrence(L.target.position);!k||this.openLinkOccurrence(k,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,k,I=!1){if(!this.m)return;const{link:M}=L;M.resolve(N.CancellationToken.None).then(B=>{if(typeof B=="string"&&this.l.hasModel()){const z=this.l.getModel().uri;if(z.scheme===v.Schemas.file&&B.startsWith(`${v.Schemas.file}:`)){const P=i.URI.parse(B);if(P.scheme===v.Schemas.file){const A=d.originalFSPath(P);let T=null;A.startsWith("/./")?T=`.${A.substr(1)}`:A.startsWith("//./")&&(T=`.${A.substr(2)}`),T&&(B=d.joinPath(z,T))}}}return this.m.open(B,{openToSide:k,fromUserGesture:I,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},B=>{const z=B instanceof Error?B.message:B;z==="invalid"?this.n.warn(s.localize(0,null,M.url.toString())):z==="missing"?this.n.warn(s.localize(1,null)):(0,E.onUnexpectedError)(B)})}getLinkOccurrence(L){if(!this.l.hasModel()||!L)return null;const k=this.l.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const I of k){const M=this.k[I.id];if(M)return M}return null}w(L,k){return Boolean(L.target.type===6&&(L.hasTriggerModifier||k&&k.keyCodeIsTriggerKey))}y(){var L;this.c.cancel(),this.h&&((L=this.h)===null||L===void 0||L.dispose(),this.h=null),this.g&&(this.g.cancel(),this.g=null)}dispose(){super.dispose(),this.y()}};h.ID="editor.linkDetector",h=De([fe(1,o.IOpenerService),fe(2,l.INotificationService),fe(3,r.ILanguageFeaturesService),fe(4,a.ILanguageFeatureDebounceService)],h),e.LinkDetector=h;const f={general:n.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:n.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class S{static decoration(L,k){return{range:L.range,options:S.a(L,k,!1)}}static a(L,k,I){const M=Object.assign({},I?f.active:f.general);return M.hoverMessage=p(L,k),M}constructor(L,k){this.link=L,this.decorationId=k}activate(L,k){L.changeDecorationOptions(this.decorationId,S.a(this.link,k,!0))}deactivate(L,k){L.changeDecorationOptions(this.decorationId,S.a(this.link,k,!1))}}function p(b,L){const k=b.url&&/^command:/i.test(b.url.toString()),I=b.tooltip?b.tooltip:k?s.localize(2,null):s.localize(3,null),M=L?C.isMacintosh?s.localize(4,null):s.localize(5,null):C.isMacintosh?s.localize(6,null):s.localize(7,null);if(b.url){let B="";if(/^command:/i.test(b.url.toString())){const P=b.url.toString().match(/^command:([^?#]+)/);if(P){const A=P[1];B=s.localize(8,null,A)}}return new D.MarkdownString("",!0).appendLink(b.url.toString(!0).replace(/ /g,"%20"),I,B).appendMarkdown(` (${M})`)}else return new D.MarkdownString().appendText(`${I} (${M})`)}class m extends t.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,k){const I=h.get(k);if(!I||!k.hasModel())return;const M=k.getSelections();for(const B of M){const z=I.getLinkOccurrence(B.getEndPosition());z&&I.openLinkOccurrence(z,!1)}}}(0,t.registerEditorContribution)(h.ID,h,1),(0,t.registerEditorAction)(m)}),define(ee[819],te([1,0,2,19,174,20,12,6,17,54,325,43]),function(K,e,w,N,E,D,y,v,C,d,g,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=e.StickyRange=void 0;class t{constructor(s,l){this.startLineNumber=s,this.endLineNumber=l}}e.StickyRange=t;class n{constructor(s,l,o){this.startLineNumber=s,this.endLineNumber=l,this.nestingDepth=o}}e.StickyLineCandidate=n;let a=class extends w.Disposable{constructor(s,l){super(),this.c=this.f.add(new v.Emitter),this.onDidChangeStickyScroll=this.c.event,this.k=new w.DisposableStore,this.g=s,this.h=l,this.j=this.q(new y.RunOnceScheduler(()=>this.update(),50)),this.q(this.g.onDidChangeConfiguration(o=>{o.hasChanged(109)&&this.n()})),this.n()}dispose(){super.dispose(),this.k.dispose()}n(){if(this.g.getOption(109).enabled===!1){this.k.clear();return}else this.k.add(this.g.onDidChangeModel(()=>{this.update()})),this.k.add(this.g.onDidChangeHiddenAreas(()=>this.update())),this.k.add(this.g.onDidChangeModelContent(()=>this.j.schedule())),this.k.add(this.h.documentSymbolProvider.onDidChange(()=>{this.update()})),this.update()}getVersionId(){var s;return(s=this.m)===null||s===void 0?void 0:s.version}update(){var s;return Le(this,void 0,void 0,function*(){(s=this.l)===null||s===void 0||s.dispose(!0),this.l=new D.CancellationTokenSource,yield this.p(this.l.token),this.c.fire()})}p(s){var l;return Le(this,void 0,void 0,function*(){if(!this.g.hasModel())return;const o=this.g.getModel(),h=o.getVersionId(),S=(this.m?!(0,i.isEqual)(this.m.uri,o.uri):!1)?setTimeout(()=>{s.isCancellationRequested||(this.m=new c(o.uri,o.getVersionId(),void 0,void 0),this.c.fire())},75):void 0,p=yield E.OutlineModel.create(this.h.documentSymbolProvider,o,s);if(!s.isCancellationRequested){if(p.children.size!==0){const{stickyOutlineElement:m,providerID:b}=r.fromOutlineModel(p,(l=this.m)===null||l===void 0?void 0:l.outlineProviderId);this.m=new c(o.uri,h,m,b)}else{const m=g.FoldingController.get(this.g),b=yield m?.getFoldingModel();if(s.isCancellationRequested)return;if(b&&b.regions.length!==0){const L=r.fromFoldingModel(b);this.m=new c(o.uri,h,L,void 0)}else this.m=void 0}clearTimeout(S)}})}r(s){return s===-1?s=0:s<0&&(s=-s-2),s}getCandidateStickyLinesIntersectingFromOutline(s,l,o,h,f){if(l.children.length===0)return;let S=f;const p=[];for(let L=0;L<l.children.length;L++){const k=l.children[L];k.range&&p.push(k.range.startLineNumber)}const m=this.r((0,C.binarySearch)(p,s.startLineNumber,(L,k)=>L-k)),b=this.r((0,C.binarySearch)(p,s.startLineNumber+h,(L,k)=>L-k));for(let L=m;L<=b;L++){const k=l.children[L];if(!k)return;if(k.range){const I=k.range.startLineNumber,M=k.range.endLineNumber;s.startLineNumber<=M+1&&I-1<=s.endLineNumber&&I!==S&&(S=I,o.push(new n(I,M-1,h+1)),this.getCandidateStickyLinesIntersectingFromOutline(s,k,o,h+1,I))}else this.getCandidateStickyLinesIntersectingFromOutline(s,k,o,h,f)}}getCandidateStickyLinesIntersecting(s){var l,o;if(!(!((l=this.m)===null||l===void 0)&&l.element))return[];let h=[];this.getCandidateStickyLinesIntersectingFromOutline(s,this.m.element,h,0,-1);const f=(o=this.g._getViewModel())===null||o===void 0?void 0:o.getHiddenAreas();if(f)for(const S of f)h=h.filter(p=>!(p.startLineNumber>=S.startLineNumber&&p.endLineNumber<=S.endLineNumber+1));return h}};a=De([fe(1,N.ILanguageFeaturesService)],a),e.StickyLineCandidateProvider=a;class r{static c(s,l){return s.startLineNumber!==l.startLineNumber?s.startLineNumber-l.startLineNumber:l.endLineNumber-s.endLineNumber}static fromOutlineElement(s,l){const o=[];for(const f of s.children.values())if(f.symbol.selectionRange.startLineNumber!==f.symbol.range.endLineNumber)if(f.symbol.selectionRange.startLineNumber!==l)o.push(r.fromOutlineElement(f,f.symbol.selectionRange.startLineNumber));else for(const S of f.children.values())o.push(r.fromOutlineElement(S,f.symbol.selectionRange.startLineNumber));o.sort((f,S)=>this.c(f.range,S.range));const h=new t(s.symbol.selectionRange.startLineNumber,s.symbol.range.endLineNumber);return new r(h,o,void 0)}static fromOutlineModel(s,l){let o;if(d.Iterable.first(s.children.values())instanceof E.OutlineGroup){const p=d.Iterable.find(s.children.values(),m=>m.id===l);if(p)o=p.children;else{let m="",b=-1,L;for(const[k,I]of s.children.entries()){const M=r.d(I);M>b&&(L=I,b=M,m=I.id)}l=m,o=L.children}}else o=s.children;const h=[],f=Array.from(o.values()).sort((p,m)=>{const b=new t(p.symbol.range.startLineNumber,p.symbol.range.endLineNumber),L=new t(m.symbol.range.startLineNumber,m.symbol.range.endLineNumber);return this.c(b,L)});for(const p of f)h.push(r.fromOutlineElement(p,p.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new r(void 0,h,void 0),providerID:l}}static d(s){let l=0;for(const o of s.children.values())l+=this.d(o);return s instanceof E.OutlineElement?l+s.symbol.range.endLineNumber-s.symbol.selectionRange.startLineNumber:l}static fromFoldingModel(s){const l=s.regions,o=l.length;let h;const f=[],S=new r(void 0,[],void 0);let p=S;for(let m=0;m<o;m++){for(h=new t(l.getStartLineNumber(m),l.getEndLineNumber(m)+1);f.length!==0&&(h.startLineNumber<f[f.length-1].startLineNumber||h.endLineNumber>f[f.length-1].endLineNumber);)f.pop(),p.parent!==void 0&&(p=p.parent);const b=new r(h,[],p);p.children.push(b),p=b,f.push(h)}return S}constructor(s,l,o){this.range=s,this.children=l,this.parent=o}}class c{constructor(s,l,o,h){this.uri=s,this.version=l,this.element=o,this.outlineProviderId=h}}}),define(ee[820],te([1,0,7,105,12,13,6,2,128,9,149,799,645,15,8,84,30,91,24,272,122,305,794,99,154,415,229]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hcDark:c.editorWidgetBackground,hcLight:c.editorWidgetBackground},t.localize(0,null)),(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hcDark:c.editorWidgetBorder,hcLight:c.editorWidgetBorder},t.localize(1,null));const p=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hcDark:c.editorForeground,hcLight:c.editorForeground},t.localize(2,null));(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hcDark:c.quickInputListFocusForeground,hcLight:c.quickInputListFocusForeground},t.localize(3,null)),(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hcDark:c.quickInputListFocusIconForeground,hcLight:c.quickInputListFocusIconForeground},t.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hcDark:c.quickInputListFocusBackground,hcLight:c.quickInputListFocusBackground},t.localize(5,null)),(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},t.localize(6,null)),(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hcDark:c.listFocusHighlightForeground,hcLight:c.listFocusHighlightForeground},t.localize(7,null)),(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(p,.5),light:(0,c.transparent)(p,.5),hcDark:(0,c.transparent)(p,.5),hcLight:(0,c.transparent)(p,.5)},t.localize(8,null));class m{constructor(I,M){this.b=I,this.a=`suggestWidget.size/${M.getEditorType()}/${M instanceof g.EmbeddedCodeEditorWidget}`}restore(){var I;const M=(I=this.b.get(this.a,0))!==null&&I!==void 0?I:"";try{const B=JSON.parse(M);if(w.Dimension.is(B))return w.Dimension.lift(B)}catch{}}store(I){this.b.store(this.a,JSON.stringify(I),0,1)}reset(){this.b.remove(this.a,0)}}let b=class gi{constructor(I,M,B,z,P){this.I=I,this.J=M,this.c=0,this.d=!1,this.g=new v.MutableDisposable,this.h=new v.MutableDisposable,this.k=!1,this.n=!1,this.o=!1,this.B=new E.TimeoutTimer,this.C=new v.DisposableStore,this.D=new y.PauseableEmitter,this.E=new y.PauseableEmitter,this.F=new y.Emitter,this.G=new y.Emitter,this.onDidSelect=this.D.event,this.onDidFocus=this.E.event,this.onDidHide=this.F.event,this.onDidShow=this.G.event,this.H=new y.Emitter,this.onDetailsKeyDown=this.H.event,this.element=new l.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this.v=new L(this,I),this.w=new m(M,I);class A{constructor($,X,ne=!1,ae=!1){this.persistedSize=$,this.currentSize=X,this.persistHeight=ne,this.persistWidth=ae}}let T;this.C.add(this.element.onDidWillResize(()=>{this.v.lockPreference(),T=new A(this.w.restore(),this.element.size)})),this.C.add(this.element.onDidResize(R=>{var $,X,ne,ae;if(this.U(R.dimension.width,R.dimension.height),T&&(T.persistHeight=T.persistHeight||!!R.north||!!R.south,T.persistWidth=T.persistWidth||!!R.east||!!R.west),!!R.done){if(T){const{itemHeight:ie,defaultSize:le}=this.getLayoutInfo(),J=Math.round(ie/2);let{width:x,height:q}=this.element.size;(!T.persistHeight||Math.abs(T.currentSize.height-q)<=J)&&(q=(X=($=T.persistedSize)===null||$===void 0?void 0:$.height)!==null&&X!==void 0?X:le.height),(!T.persistWidth||Math.abs(T.currentSize.width-x)<=J)&&(x=(ae=(ne=T.persistedSize)===null||ne===void 0?void 0:ne.width)!==null&&ae!==void 0?ae:le.width),this.w.store(new w.Dimension(x,q))}this.v.unlockPreference(),T=void 0}})),this.p=w.append(this.element.domNode,w.$(".message")),this.q=w.append(this.element.domNode,w.$(".tree"));const O=P.createInstance(h.SuggestDetailsWidget,this.I);O.onDidClose(this.toggleDetails,this,this.C),this.u=new h.SuggestDetailsOverlay(O,this.I);const F=()=>this.element.domNode.classList.toggle("no-icons",!this.I.getOption(112).showIcons);F();const W=P.createInstance(f.ItemRenderer,this.I);this.C.add(W),this.C.add(W.onDidToggleDetails(()=>this.toggleDetails())),this.r=new N.List("SuggestWidget",this.q,{getHeight:R=>this.getLayoutInfo().itemHeight,getTemplateId:R=>"suggestion"},[W],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>t.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:R=>{let $=R.textLabel;if(typeof R.completion.label!="string"){const{detail:ie,description:le}=R.completion.label;ie&&le?$=t.localize(12,null,$,ie,le):ie?$=t.localize(13,null,$,ie):le&&($=t.localize(14,null,$,le))}if(!R.isResolved||!this.W())return $;const{documentation:X,detail:ne}=R.completion,ae=d.format("{0}{1}",ne||"",X?typeof X=="string"?X:X.value:"");return t.localize(15,null,$,ae)}}}),this.r.style((0,S.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this.s=P.createInstance(i.SuggestWidgetStatus,this.element.domNode,o.suggestWidgetStatusbarMenu);const V=()=>this.element.domNode.classList.toggle("with-status-bar",this.I.getOption(112).showStatusBar);V(),this.C.add(z.onDidColorThemeChange(R=>this.P(R))),this.P(z.getColorTheme()),this.C.add(this.r.onMouseDown(R=>this.M(R))),this.C.add(this.r.onTap(R=>this.M(R))),this.C.add(this.r.onDidChangeSelection(R=>this.N(R))),this.C.add(this.r.onDidChangeFocus(R=>this.Q(R))),this.C.add(this.I.onDidChangeCursorSelection(()=>this.L())),this.C.add(this.I.onDidChangeConfiguration(R=>{R.hasChanged(112)&&(V(),F())})),this.x=o.Context.Visible.bindTo(B),this.y=o.Context.DetailsVisible.bindTo(B),this.z=o.Context.MultipleSuggestions.bindTo(B),this.A=o.Context.HasFocusedSuggestion.bindTo(B),this.C.add(w.addStandardDisposableListener(this.u.widget.domNode,"keydown",R=>{this.H.fire(R)})),this.C.add(this.I.onMouseDown(R=>this.K(R)))}dispose(){var I;this.u.widget.dispose(),this.u.dispose(),this.r.dispose(),this.s.dispose(),this.C.dispose(),(I=this.f)===null||I===void 0||I.dispose(),this.g.dispose(),this.h.dispose(),this.B.dispose(),this.v.dispose(),this.element.dispose()}K(I){this.u.widget.domNode.contains(I.target.element)?this.u.widget.domNode.focus():this.element.domNode.contains(I.target.element)&&this.I.focus()}L(){this.c!==0&&this.v.layout()}M(I){typeof I.element>"u"||typeof I.index>"u"||(I.browserEvent.preventDefault(),I.browserEvent.stopPropagation(),this.O(I.element,I.index))}N(I){I.elements.length&&this.O(I.elements[0],I.indexes[0])}O(I,M){const B=this.l;B&&(this.D.fire({item:I,index:M,model:B}),this.I.focus())}P(I){this.u.widget.borderWidth=(0,u.isHighContrast)(I.type)?2:1}Q(I){var M;if(this.k)return;if(!I.elements.length){this.i&&(this.i.cancel(),this.i=void 0,this.j=void 0),this.I.setAriaOptions({activeDescendant:void 0}),this.A.set(!1);return}if(!this.l)return;this.A.set(!0);const B=I.elements[0],z=I.indexes[0];B!==this.j&&((M=this.i)===null||M===void 0||M.cancel(),this.i=void 0,this.j=B,this.r.reveal(z),this.i=(0,E.createCancelablePromise)(P=>Le(this,void 0,void 0,function*(){const A=(0,E.disposableTimeout)(()=>{this.W()&&this.showDetails(!0)},250),T=P.onCancellationRequested(()=>A.dispose()),O=yield B.resolve(P);return A.dispose(),T.dispose(),O})),this.i.then(()=>{z>=this.r.length||B!==this.r.element(z)||(this.k=!0,this.r.splice(z,1,[B]),this.r.setFocus([z]),this.k=!1,this.W()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.I.setAriaOptions({activeDescendant:(0,f.getAriaId)(z)}))}).catch(D.onUnexpectedError)),this.E.fire({item:B,index:z,model:this.l})}R(I){if(this.c!==I)switch(this.c=I,this.element.domNode.classList.toggle("frozen",I===4),this.element.domNode.classList.remove("message"),I){case 0:w.hide(this.p,this.q,this.s.element),this.u.hide(!0),this.s.hide(),this.v.hide(),this.x.reset(),this.z.reset(),this.A.reset(),this.B.cancel(),this.element.domNode.classList.remove("visible"),this.r.splice(0,this.r.length),this.j=void 0,this.m=void 0,this.o=!1;break;case 1:this.element.domNode.classList.add("message"),this.p.textContent=gi.a,w.hide(this.q,this.s.element),w.show(this.p),this.u.hide(),this.S(),this.j=void 0;break;case 2:this.element.domNode.classList.add("message"),this.p.textContent=gi.b,w.hide(this.q,this.s.element),w.show(this.p),this.u.hide(),this.S(),this.j=void 0;break;case 3:w.hide(this.p),w.show(this.q,this.s.element),this.S();break;case 4:w.hide(this.p),w.show(this.q,this.s.element),this.S();break;case 5:w.hide(this.p),w.show(this.q,this.s.element),this.u.show(),this.S();break}}S(){this.s.show(),this.v.show(),this.T(this.w.restore()),this.x.set(!0),this.B.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this.G.fire(this)},100)}showTriggered(I,M){this.c===0&&(this.v.setPosition(this.I.getPosition()),this.d=!!I,this.d||(this.f=(0,E.disposableTimeout)(()=>this.R(1),M)))}showSuggestions(I,M,B,z,P){var A,T;if(this.v.setPosition(this.I.getPosition()),(A=this.f)===null||A===void 0||A.dispose(),(T=this.i)===null||T===void 0||T.cancel(),this.i=void 0,this.l!==I&&(this.l=I),B&&this.c!==2&&this.c!==0){this.R(4);return}const O=this.l.items.length,F=O===0;if(this.z.set(O>1),F){this.R(z?0:2),this.l=void 0;return}this.j=void 0,this.E.pause(),this.D.pause();try{this.r.splice(0,this.r.length,this.l.items),this.R(B?4:3),this.r.reveal(M,0),this.r.setFocus(P?[]:[M])}finally{this.E.resume(),this.D.resume()}this.g.value=w.runAtThisOrScheduleAtNextAnimationFrame(()=>{this.g.clear(),this.T(this.element.size),this.u.widget.domNode.classList.remove("focused")})}focusSelected(){this.r.length>0&&this.r.setFocus([0])}selectNextPage(){switch(this.c){case 0:return!1;case 5:return this.u.widget.pageDown(),!0;case 1:return!this.d;default:return this.r.focusNextPage(),!0}}selectNext(){switch(this.c){case 0:return!1;case 1:return!this.d;default:return this.r.focusNext(1,!0),!0}}selectLast(){switch(this.c){case 0:return!1;case 5:return this.u.widget.scrollBottom(),!0;case 1:return!this.d;default:return this.r.focusLast(),!0}}selectPreviousPage(){switch(this.c){case 0:return!1;case 5:return this.u.widget.pageUp(),!0;case 1:return!this.d;default:return this.r.focusPreviousPage(),!0}}selectPrevious(){switch(this.c){case 0:return!1;case 1:return!this.d;default:return this.r.focusPrevious(1,!0),!1}}selectFirst(){switch(this.c){case 0:return!1;case 5:return this.u.widget.scrollTop(),!0;case 1:return!this.d;default:return this.r.focusFirst(),!0}}getFocusedItem(){if(this.c!==0&&this.c!==2&&this.c!==1&&this.l&&this.r.getFocus().length>0)return{item:this.r.getFocusedElements()[0],index:this.r.getFocus()[0],model:this.l}}toggleDetailsFocus(){this.c===5?(this.R(3),this.u.widget.domNode.classList.remove("focused")):this.c===3&&this.W()&&(this.R(5),this.u.widget.domNode.classList.add("focused"))}toggleDetails(){this.W()?(this.h.clear(),this.y.set(!1),this.X(!1),this.u.hide(),this.element.domNode.classList.remove("shows-details")):((0,h.canExpandCompletionItem)(this.r.getFocusedElements()[0])||this.o)&&(this.c===3||this.c===5||this.c===4)&&(this.y.set(!0),this.X(!0),this.showDetails(!1))}showDetails(I){this.h.value=w.runAtThisOrScheduleAtNextAnimationFrame(()=>{this.h.clear(),this.u.show(),I?this.u.widget.renderLoading():this.u.widget.renderItem(this.r.getFocusedElements()[0],this.o),this.V(),this.I.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this.r.getFocusedElements()[0]&&(this.o=!this.o,this.W()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this.w.reset()}hideWidget(){var I;this.g.clear(),this.h.clear(),(I=this.f)===null||I===void 0||I.dispose(),this.R(0),this.F.fire(this),this.element.clearSashHoverState();const M=this.w.restore(),B=Math.ceil(this.getLayoutInfo().itemHeight*4.3);M&&M.height<B&&this.w.store(M.with(void 0,B))}isFrozen(){return this.c===4}_afterRender(I){if(I===null){this.W()&&this.u.hide();return}this.c===2||this.c===1||(this.W()&&this.u.show(),this.V())}T(I){var M,B,z;if(!this.I.hasModel()||!this.I.getDomNode())return;const P=w.getClientArea(document.body),A=this.getLayoutInfo();I||(I=A.defaultSize);let T=I.height,O=I.width;if(this.s.element.style.height=`${A.itemHeight}px`,this.c===2||this.c===1)T=A.itemHeight+A.borderHeight,O=A.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new w.Dimension(O,T),this.v.setPreference(2);else{const F=P.width-A.borderHeight-2*A.horizontalPadding;O>F&&(O=F);const W=this.l?this.l.stats.pLabelLen*A.typicalHalfwidthCharacterWidth:O,V=A.statusBarHeight+this.r.contentHeight+A.borderHeight,R=A.itemHeight+A.statusBarHeight,$=w.getDomNodePagePosition(this.I.getDomNode()),X=this.I.getScrolledVisiblePosition(this.I.getPosition()),ne=$.top+X.top+X.height,ae=Math.min(P.height-ne-A.verticalPadding,V),ie=$.top+X.top-A.verticalPadding,le=Math.min(ie,V);let J=Math.min(Math.max(le,ae)+A.borderHeight,V);T===((M=this.m)===null||M===void 0?void 0:M.capped)&&(T=this.m.wanted),T<R&&(T=R),T>J&&(T=J);const x=150;T>ae||this.n&&ie>x?(this.v.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),J=le):(this.v.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),J=ae),this.element.preferredSize=new w.Dimension(W,A.defaultSize.height),this.element.maxSize=new w.Dimension(F,J),this.element.minSize=new w.Dimension(220,R),this.m=T===V?{wanted:(z=(B=this.m)===null||B===void 0?void 0:B.wanted)!==null&&z!==void 0?z:I.height,capped:T}:void 0}this.U(O,T)}U(I,M){const{width:B,height:z}=this.element.maxSize;I=Math.min(B,I),M=Math.min(z,M);const{statusBarHeight:P}=this.getLayoutInfo();this.r.layout(M-P,I),this.q.style.height=`${M-P}px`,this.element.layout(M,I),this.v.layout(),this.V()}V(){var I;this.W()&&this.u.placeAtAnchor(this.element.domNode,((I=this.v.getPosition())===null||I===void 0?void 0:I.preference[0])===2)}getLayoutInfo(){const I=this.I.getOption(47),M=(0,C.clamp)(this.I.getOption(114)||I.lineHeight,8,1e3),B=!this.I.getOption(112).showStatusBar||this.c===2||this.c===1?0:M,z=this.u.widget.borderWidth,P=2*z;return{itemHeight:M,statusBarHeight:B,borderWidth:z,borderHeight:P,typicalHalfwidthCharacterWidth:I.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new w.Dimension(430,B+12*M+P)}}W(){return this.J.getBoolean("expandSuggestionDocs",0,!1)}X(I){this.J.store("expandSuggestionDocs",I,0,0)}forceRenderingAbove(){this.n||(this.n=!0,this.T(this.w.restore()))}stopForceRenderingAbove(){this.n=!1}};b.a=t.localize(9,null),b.b=t.localize(10,null),b=De([fe(1,r.IStorageService),fe(2,n.IContextKeyService),fe(3,s.IThemeService),fe(4,a.IInstantiationService)],b),e.SuggestWidget=b;class L{constructor(I,M){this.g=I,this.h=M,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.c=!1,this.d=!1,this.f=!1}dispose(){this.d&&(this.d=!1,this.h.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this.g.element.domNode}show(){this.f=!1,this.d||(this.d=!0,this.h.addContentWidget(this))}hide(){this.f||(this.f=!0,this.layout())}layout(){this.h.layoutContentWidget(this)}getPosition(){return this.f||!this.a||!this.b?null:{position:this.a,preference:[this.b]}}beforeRender(){const{height:I,width:M}=this.g.element.size,{borderWidth:B,horizontalPadding:z}=this.g.getLayoutInfo();return new w.Dimension(M+2*B+z,I+2*B)}afterRender(I){this.g._afterRender(I)}setPreference(I){this.c||(this.b=I)}lockPreference(){this.c=!0}unlockPreference(){this.c=!1}setPosition(I){this.a=I}}e.SuggestContentWidget=L}),define(ee[821],te([1,0,12,2,14,295,52,321,317,32,24,76,59,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends N.Disposable{constructor(c,u,s,l,o,h){super(),this.j=u,this.k=s,this.l=l,this.a=c,this.b=h.documentRangeSemanticTokensProvider,this.c=o.for(this.b,"DocumentRangeSemanticTokens",{min:100,max:500}),this.g=this.q(new w.RunOnceScheduler(()=>this.p(),100)),this.h=[];const f=()=>{this.a.hasModel()&&this.g.schedule(this.c.get(this.a.getModel()))};this.q(this.a.onDidScrollChange(()=>{f()})),this.q(this.a.onDidChangeModel(()=>{this.m(),f()})),this.q(this.a.onDidChangeModelContent(S=>{this.m(),f()})),this.q(this.b.onDidChange(()=>{this.m(),f()})),this.q(this.l.onDidChangeConfiguration(S=>{S.affectsConfiguration(v.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this.m(),f())})),this.q(this.k.onDidColorThemeChange(()=>{this.m(),f()})),f()}m(){for(const c of this.h)c.cancel();this.h=[]}n(c){for(let u=0,s=this.h.length;u<s;u++)if(this.h[u]===c){this.h.splice(u,1);return}}p(){if(!this.a.hasModel())return;const c=this.a.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,v.isSemanticColoringEnabled)(c,this.k,this.l)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this.b,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const u=this.a.getVisibleRangesPlusViewportAboveBelow();this.h=this.h.concat(u.map(s=>this.s(c,s)))}s(c,u){const s=c.getVersionId(),l=(0,w.createCancelablePromise)(h=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this.b,c,u,h))),o=new t.StopWatch(!1);return l.then(h=>{if(this.c.update(c,o.elapsed()),!h||!h.tokens||c.isDisposed()||c.getVersionId()!==s)return;const{provider:f,tokens:S}=h,p=this.j.getSemanticTokensProviderStyling(f);c.tokenization.setPartialSemanticTokens(u,(0,C.toMultilineTokens2)(S,p,c.getLanguageId()))}).then(()=>this.n(l),()=>this.n(l)),l}};a.ID="editor.contrib.viewportSemanticTokens",a=De([fe(1,y.IModelService),fe(2,g.IThemeService),fe(3,d.IConfigurationService),fe(4,i.ILanguageFeatureDebounceService),fe(5,n.ILanguageFeaturesService)],a),(0,E.registerEditorContribution)(a.ID,a,1)}),define(ee[326],te([1,0,48,38,26,654,30,24,419]),function(K,e,w,N,E,D,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const C=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",{light:C,dark:C,hcDark:C,hcLight:C},D.localize(2,null),!0);const d=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(3,null));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(4,null)),(0,y.registerColor)("editor.wordHighlightTextBorder",{light:d,dark:d,hcDark:d,hcLight:d},D.localize(5,null));const g=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),i=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),t=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:y.overviewRulerSelectionHighlightForeground,light:y.overviewRulerSelectionHighlightForeground,hcDark:y.overviewRulerSelectionHighlightForeground,hcLight:y.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),n=N.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,v.themeColorFromId)(i),position:w.OverviewRulerLane.Center},minimap:{color:(0,v.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:w.MinimapPosition.Inline}}),a=N.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,v.themeColorFromId)(t),position:w.OverviewRulerLane.Center},minimap:{color:(0,v.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:w.MinimapPosition.Inline}}),r=N.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,v.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:w.OverviewRulerLane.Center},minimap:{color:(0,v.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:w.MinimapPosition.Inline}}),c=N.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),u=N.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,v.themeColorFromId)(g),position:w.OverviewRulerLane.Center},minimap:{color:(0,v.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:w.MinimapPosition.Inline}});function s(o){return o===E.DocumentHighlightKind.Write?n:o===E.DocumentHighlightKind.Text?a:u}e.getHighlightDecorationOptions=s;function l(o){return o?c:r}e.getSelectionHighlightDecorationOptions=l,(0,v.registerThemingParticipant)((o,h)=>{const f=o.getColor(y.editorSelectionHighlight);f&&h.addRule(`.monaco-editor .selectionHighlight { background-color: ${f.transparent(.5)}; }`)})}),define(ee[822],te([1,0,50,12,57,2,14,188,3,22,23,324,630,29,15,19,326,8]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function s(R,$){const X=$.filter(ne=>!R.find(ae=>ae.equals(ne)));if(X.length>=1){const ne=X.map(ie=>`line ${ie.viewState.position.lineNumber} column ${ie.viewState.position.column}`).join(", "),ae=X.length===1?t.localize(0,null,ne):t.localize(1,null,ne);(0,w.status)(ae)}}class l extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:t.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(3,null),order:2}})}run($,X,ne){if(!X.hasModel())return;let ae=!0;ne&&ne.logicalLine===!1&&(ae=!1);const ie=X._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const le=ie.getCursorStates();ie.setCursorStates(ne.source,3,v.CursorMoveCommands.addCursorUp(ie,le,ae)),ie.revealTopMostCursor(ne.source),s(le,ie.getCursorStates())}}e.InsertCursorAbove=l;class o extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:t.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(5,null),order:3}})}run($,X,ne){if(!X.hasModel())return;let ae=!0;ne&&ne.logicalLine===!1&&(ae=!1);const ie=X._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const le=ie.getCursorStates();ie.setCursorStates(ne.source,3,v.CursorMoveCommands.addCursorDown(ie,le,ae)),ie.revealBottomMostCursor(ne.source),s(le,ie.getCursorStates())}}e.InsertCursorBelow=o;class h extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:t.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(7,null),order:4}})}d($,X,ne){if(!$.isEmpty()){for(let ae=$.startLineNumber;ae<$.endLineNumber;ae++){const ie=X.getLineMaxColumn(ae);ne.push(new d.Selection(ae,ie,ae,ie))}$.endColumn>1&&ne.push(new d.Selection($.endLineNumber,$.endColumn,$.endLineNumber,$.endColumn))}}run($,X){if(!X.hasModel())return;const ne=X.getModel(),ae=X.getSelections(),ie=X._getViewModel(),le=ie.getCursorStates(),J=[];ae.forEach(x=>this.d(x,ne,J)),J.length>0&&X.setSelections(J),s(le,ie.getCursorStates())}}class f extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:t.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run($,X){if(!X.hasModel())return;const ne=X.getSelections(),ae=X.getModel().getLineCount(),ie=[];for(let x=ne[0].startLineNumber;x<=ae;x++)ie.push(new d.Selection(x,ne[0].startColumn,x,ne[0].endColumn));const le=X._getViewModel(),J=le.getCursorStates();ie.length>0&&X.setSelections(ie),s(J,le.getCursorStates())}}class S extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:t.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run($,X){if(!X.hasModel())return;const ne=X.getSelections(),ae=[];for(let J=ne[0].startLineNumber;J>=1;J--)ae.push(new d.Selection(J,ne[0].startColumn,J,ne[0].endColumn));const ie=X._getViewModel(),le=ie.getCursorStates();ae.length>0&&X.setSelections(ae),s(le,ie.getCursorStates())}}class p{constructor($,X,ne){this.selections=$,this.revealRange=X,this.revealScrollType=ne}}e.MultiCursorSessionResult=p;class m{static create($,X){if(!$.hasModel())return null;const ne=X.getState();if(!$.hasTextFocus()&&ne.isRevealed&&ne.searchString.length>0)return new m($,X,!1,ne.searchString,ne.wholeWord,ne.matchCase,null);let ae=!1,ie,le;const J=$.getSelections();J.length===1&&J[0].isEmpty()?(ae=!0,ie=!0,le=!0):(ie=ne.wholeWord,le=ne.matchCase);const x=$.getSelection();let q,Y=null;if(x.isEmpty()){const Q=$.getConfiguredWordAtPosition(x.getStartPosition());if(!Q)return null;q=Q.word,Y=new d.Selection(x.startLineNumber,Q.startColumn,x.startLineNumber,Q.endColumn)}else q=$.getModel().getValueInRange(x).replace(/\r\n/g,`
`);return new m($,X,ae,q,ie,le,Y)}constructor($,X,ne,ae,ie,le,J){this.a=$,this.findController=X,this.isDisconnectedFromFindController=ne,this.searchText=ae,this.wholeWord=ie,this.matchCase=le,this.currentMatch=J}addSelectionToNextFindMatch(){if(!this.a.hasModel())return null;const $=this.b();if(!$)return null;const X=this.a.getSelections();return new p(X.concat($),$,0)}moveSelectionToNextFindMatch(){if(!this.a.hasModel())return null;const $=this.b();if(!$)return null;const X=this.a.getSelections();return new p(X.slice(0,X.length-1).concat($),$,0)}b(){if(!this.a.hasModel())return null;if(this.currentMatch){const ae=this.currentMatch;return this.currentMatch=null,ae}this.findController.highlightFindOptions();const $=this.a.getSelections(),X=$[$.length-1],ne=this.a.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this.a.getOption(124):null,!1);return ne?new d.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this.a.hasModel())return null;const $=this.c();if(!$)return null;const X=this.a.getSelections();return new p(X.concat($),$,0)}moveSelectionToPreviousFindMatch(){if(!this.a.hasModel())return null;const $=this.c();if(!$)return null;const X=this.a.getSelections();return new p(X.slice(0,X.length-1).concat($),$,0)}c(){if(!this.a.hasModel())return null;if(this.currentMatch){const ae=this.currentMatch;return this.currentMatch=null,ae}this.findController.highlightFindOptions();const $=this.a.getSelections(),X=$[$.length-1],ne=this.a.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this.a.getOption(124):null,!1);return ne?new d.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}selectAll($){if(!this.a.hasModel())return[];this.findController.highlightFindOptions();const X=this.a.getModel();return $?X.findMatches(this.searchText,$,!1,this.matchCase,this.wholeWord?this.a.getOption(124):null,!1,1073741824):X.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this.a.getOption(124):null,!1,1073741824)}}e.MultiCursorSession=m;class b extends D.Disposable{static get($){return $.getContribution(b.ID)}constructor($){super(),this.g=this.q(new D.DisposableStore),this.a=$,this.b=!1,this.c=null}dispose(){this.k(),super.dispose()}h($){if(!this.c){const X=m.create(this.a,$);if(!X)return;this.c=X;const ne={searchString:this.c.searchText};this.c.isDisconnectedFromFindController&&(ne.wholeWordOverride=1,ne.matchCaseOverride=1,ne.isRegexOverride=2),$.getState().change(ne,!1),this.g.add(this.a.onDidChangeCursorSelection(ae=>{this.b||this.k()})),this.g.add(this.a.onDidBlurEditorText(()=>{this.k()})),this.g.add($.getState().onFindReplaceStateChange(ae=>{(ae.matchCase||ae.wholeWord)&&this.k()}))}}k(){if(this.g.clear(),this.c&&this.c.isDisconnectedFromFindController){const $={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this.c.findController.getState().change($,!1)}this.c=null}l($){this.b=!0,this.a.setSelections($),this.b=!1}n($,X){if(!X.isEmpty())return X;const ne=this.a.getConfiguredWordAtPosition(X.getStartPosition());return ne?new d.Selection(X.startLineNumber,ne.startColumn,X.startLineNumber,ne.endColumn):X}p($){!$||(this.l($.selections),$.revealRange&&this.a.revealRangeInCenterIfOutsideViewport($.revealRange,$.revealScrollType))}getSession($){return this.c}addSelectionToNextFindMatch($){if(!!this.a.hasModel()){if(!this.c){const X=this.a.getSelections();if(X.length>1){const ae=$.getState().matchCase;if(!O(this.a.getModel(),X,ae)){const le=this.a.getModel(),J=[];for(let x=0,q=X.length;x<q;x++)J[x]=this.n(le,X[x]);this.a.setSelections(J);return}}}this.h($),this.c&&this.p(this.c.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch($){this.h($),this.c&&this.p(this.c.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch($){this.h($),this.c&&this.p(this.c.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch($){this.h($),this.c&&this.p(this.c.moveSelectionToPreviousFindMatch())}selectAll($){if(!this.a.hasModel())return;let X=null;const ne=$.getState();if(ne.isRevealed&&ne.searchString.length>0&&ne.isRegex){const ae=this.a.getModel();ne.searchScope?X=ae.findMatches(ne.searchString,ne.searchScope,ne.isRegex,ne.matchCase,ne.wholeWord?this.a.getOption(124):null,!1,1073741824):X=ae.findMatches(ne.searchString,!0,ne.isRegex,ne.matchCase,ne.wholeWord?this.a.getOption(124):null,!1,1073741824)}else{if(this.h($),!this.c)return;X=this.c.selectAll(ne.searchScope)}if(X.length>0){const ae=this.a.getSelection();for(let ie=0,le=X.length;ie<le;ie++){const J=X[ie];if(J.range.intersectRanges(ae)){X[ie]=X[0],X[0]=J;break}}this.l(X.map(ie=>new d.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn)))}}}b.ID="editor.contrib.multiCursorController",e.MultiCursorSelectionController=b;class L extends y.EditorAction{run($,X){const ne=b.get(X);if(!ne)return;const ae=X._getViewModel();if(ae){const ie=ae.getCursorStates(),le=i.CommonFindController.get(X);if(le)this.d(ne,le);else{const J=$.get(u.IInstantiationService).createInstance(i.CommonFindController,X);this.d(ne,J),J.dispose()}s(ie,ae.getCursorStates())}}}e.MultiCursorSelectionControllerAction=L;class k extends L{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:t.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(11,null),order:5}})}d($,X){$.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=k;class I extends L{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:t.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(13,null),order:6}})}d($,X){$.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=I;class M extends L{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:t.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,E.KeyChord)(2089,2082),weight:100}})}d($,X){$.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=M;class B extends L{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:t.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}d($,X){$.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=B;class z extends L{constructor(){super({id:"editor.action.selectHighlights",label:t.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"3_multi",title:t.localize(17,null),order:7}})}d($,X){$.selectAll(X)}}e.SelectHighlightsAction=z;class P extends L{constructor(){super({id:"editor.action.changeAll",label:t.localize(18,null),alias:"Change All Occurrences",precondition:a.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}d($,X){$.selectAll(X)}}e.CompatChangeAll=P;class A{constructor($,X,ne,ae,ie){this.c=$,this.d=X,this.f=ne,this.g=ae,this.a=this.c.getVersionId(),this.b=null,ie&&this.c===ie.c&&this.d===ie.d&&this.f===ie.f&&this.g===ie.g&&this.a===ie.a&&(this.b=ie.b)}findMatches(){return this.b===null&&(this.b=this.c.findMatches(this.d,!0,!1,this.f,this.g,!1).map($=>$.range),this.b.sort(C.Range.compareRangesUsingStarts)),this.b}}let T=class Zi extends D.Disposable{constructor($,X){super(),this.k=X,this.a=$,this.b=$.getOption(102),this.c=$.createDecorationsCollection(),this.g=this.q(new N.RunOnceScheduler(()=>this.l(),300)),this.h=null,this.q($.onDidChangeConfiguration(ae=>{this.b=$.getOption(102)})),this.q($.onDidChangeCursorSelection(ae=>{!this.b||(ae.selection.isEmpty()?ae.reason===3?(this.h&&this.p(null),this.g.schedule()):this.p(null):this.l())})),this.q($.onDidChangeModel(ae=>{this.p(null)})),this.q($.onDidChangeModelContent(ae=>{this.b&&this.g.schedule()}));const ne=i.CommonFindController.get($);ne&&this.q(ne.getState().onFindReplaceStateChange(ae=>{this.l()})),this.g.schedule()}l(){this.p(Zi.n(this.h,this.b,this.a))}static n($,X,ne){if(!X||!ne.hasModel())return null;const ae=ne.getSelection();if(ae.startLineNumber!==ae.endLineNumber)return null;const ie=b.get(ne);if(!ie)return null;const le=i.CommonFindController.get(ne);if(!le)return null;let J=ie.getSession(le);if(!J){const Y=ne.getSelections();if(Y.length>1){const re=le.getState().matchCase;if(!O(ne.getModel(),Y,re))return null}J=m.create(ne,le)}if(!J||J.currentMatch||/^[ \t]+$/.test(J.searchText)||J.searchText.length>200)return null;const x=le.getState(),q=x.matchCase;if(x.isRevealed){let Y=x.searchString;q||(Y=Y.toLowerCase());let Q=J.searchText;if(q||(Q=Q.toLowerCase()),Y===Q&&J.matchCase===x.matchCase&&J.wholeWord===x.wholeWord&&!x.isRegex)return null}return new A(ne.getModel(),J.searchText,J.matchCase,J.wholeWord?ne.getOption(124):null,$)}p($){if(this.h=$,!this.h){this.c.clear();return}if(!this.a.hasModel())return;const X=this.a.getModel();if(X.isTooLargeForTokenization())return;const ne=this.h.findMatches(),ae=this.a.getSelections();ae.sort(C.Range.compareRangesUsingStarts);const ie=[];for(let x=0,q=0,Y=ne.length,Q=ae.length;x<Y;){const re=ne[x];if(q>=Q)ie.push(re),x++;else{const oe=C.Range.compareRangesUsingStarts(re,ae[q]);oe<0?((ae[q].isEmpty()||!C.Range.areIntersecting(re,ae[q]))&&ie.push(re),x++):(oe>0||x++,q++)}}const le=this.k.documentHighlightProvider.has(X)&&this.a.getOption(77),J=ie.map(x=>({range:x,options:(0,c.getSelectionHighlightDecorationOptions)(le)}));this.c.set(J)}dispose(){this.p(null),super.dispose()}};T.ID="editor.contrib.selectionHighlighter",T=De([fe(1,r.ILanguageFeaturesService)],T),e.SelectionHighlighter=T;function O(R,$,X){const ne=F(R,$[0],!X);for(let ae=1,ie=$.length;ae<ie;ae++){const le=$[ae];if(le.isEmpty())return!1;const J=F(R,le,!X);if(ne!==J)return!1}return!0}function F(R,$,X){const ne=R.getValueInRange($);return X?ne.toLowerCase():ne}class W extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:t.localize(19,null),description:{description:t.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run($,X,ne){if(!X.hasModel())return;const ae=X._getViewModel();if(ae.cursorConfig.readOnly)return;ae.model.pushStackElement();const ie=Array.from(ae.getCursorStates()),le=ie.shift();!le||(ie.push(le),ae.setCursorStates(ne.source,3,ie),ae.revealPrimaryCursor(ne.source,!0),s(ie,ae.getCursorStates()))}}e.FocusNextCursor=W;class V extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:t.localize(21,null),description:{description:t.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run($,X,ne){if(!X.hasModel())return;const ae=X._getViewModel();if(ae.cursorConfig.readOnly)return;ae.model.pushStackElement();const ie=Array.from(ae.getCursorStates()),le=ie.pop();!le||(ie.unshift(le),ae.setCursorStates(ne.source,3,ie),ae.revealPrimaryCursor(ne.source,!0),s(ie,ae.getCursorStates()))}}e.FocusPreviousCursor=V,(0,y.registerEditorContribution)(b.ID,b,4),(0,y.registerEditorContribution)(T.ID,T,1),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(k),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(B),(0,y.registerEditorAction)(z),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(S),(0,y.registerEditorAction)(W),(0,y.registerEditorAction)(V)}),define(ee[823],te([1,0,50,17,12,20,13,2,14,3,23,26,655,15,19,326]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const c=new n.RawContextKey("hasWordHighlights",!1);function u(k,I,M,B){const z=k.ordered(I);return(0,E.first)(z.map(P=>()=>Promise.resolve(P.provideDocumentHighlights(I,M,B)).then(void 0,y.onUnexpectedExternalError)),N.isNonEmptyArray)}e.getOccurrencesAtPosition=u;class s{constructor(I,M,B){this.c=I,this.d=M,this.f=B,this.a=this.h(I,M),this.b=null}get result(){return this.b||(this.b=(0,E.createCancelablePromise)(I=>this.g(this.c,this.d,this.f,I))),this.b}h(I,M){const B=I.getWordAtPosition(M.getPosition());return B?new d.Range(M.startLineNumber,B.startColumn,M.startLineNumber,B.endColumn):null}isValid(I,M,B){const z=M.startLineNumber,P=M.startColumn,A=M.endColumn,T=this.h(I,M);let O=Boolean(this.a&&this.a.equalsRange(T));for(let F=0,W=B.length;!O&&F<W;F++){const V=B.getRange(F);V&&V.startLineNumber===z&&V.startColumn<=P&&V.endColumn>=A&&(O=!0)}return O}cancel(){this.result.cancel()}}class l extends s{constructor(I,M,B,z){super(I,M,B),this.j=z}g(I,M,B,z){return u(this.j,I,M.getPosition(),z).then(P=>P||[])}}class o extends s{constructor(I,M,B){super(I,M,B),this.j=M.isEmpty()}g(I,M,B,z){return(0,E.timeout)(250,z).then(()=>{if(!M.isEmpty())return[];const P=I.getWordAtPosition(M.getPosition());return!P||P.word.length>1e3?[]:I.findMatches(P.word,!0,!1,!0,B,!1).map(T=>({range:T.range,kind:i.DocumentHighlightKind.Text}))})}isValid(I,M,B){const z=M.isEmpty();return this.j!==z?!1:super.isValid(I,M,B)}}function h(k,I,M,B){return k.has(I)?new l(I,M,B,k):new o(I,M,B)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(k,I,M)=>{const B=k.get(a.ILanguageFeaturesService);return u(B.documentHighlightProvider,I,M,D.CancellationToken.None)});class f{constructor(I,M,B){this.g=new v.DisposableStore,this.h=0,this.k=!1,this.l=[],this.n=0,this.o=-1,this.a=I,this.b=M,this.p=c.bindTo(B),this.q=!1,this.c=this.a.getOption(77),this.d=this.a.getModel(),this.g.add(I.onDidChangeCursorPosition(z=>{this.q||!this.c||this.u(z)})),this.g.add(I.onDidChangeModelContent(z=>{this.t()})),this.g.add(I.onDidChangeConfiguration(z=>{const P=this.a.getOption(77);this.c!==P&&(this.c=P,this.t())})),this.f=this.a.createDecorationsCollection(),this.h=0,this.j=null,this.k=!1,this.n=0,this.o=-1}hasDecorations(){return this.f.length>0}restore(){!this.c||this.w()}r(){return this.f.getRanges().sort(d.Range.compareRangesUsingStarts)}moveNext(){const I=this.r(),B=(I.findIndex(P=>P.containsPosition(this.a.getPosition()))+1)%I.length,z=I[B];try{this.q=!0,this.a.setPosition(z.getStartPosition()),this.a.revealRangeInCenterIfOutsideViewport(z);const P=this.v();if(P){const A=this.a.getModel().getLineContent(z.startLineNumber);(0,w.alert)(`${A}, ${B+1} of ${I.length} for '${P.word}'`)}}finally{this.q=!1}}moveBack(){const I=this.r(),B=(I.findIndex(P=>P.containsPosition(this.a.getPosition()))-1+I.length)%I.length,z=I[B];try{this.q=!0,this.a.setPosition(z.getStartPosition()),this.a.revealRangeInCenterIfOutsideViewport(z);const P=this.v();if(P){const A=this.a.getModel().getLineContent(z.startLineNumber);(0,w.alert)(`${A}, ${B+1} of ${I.length} for '${P.word}'`)}}finally{this.q=!1}}s(){this.f.length>0&&(this.f.clear(),this.p.set(!1))}t(){this.s(),this.o!==-1&&(clearTimeout(this.o),this.o=-1),this.j!==null&&(this.j.cancel(),this.j=null),this.k||(this.h++,this.k=!0)}u(I){if(!this.c){this.t();return}if(I.reason!==3){this.t();return}this.w()}v(){const I=this.a.getSelection(),M=I.startLineNumber,B=I.startColumn;return this.d.getWordAtPosition({lineNumber:M,column:B})}w(){const I=this.a.getSelection();if(I.startLineNumber!==I.endLineNumber){this.t();return}const M=I.startColumn,B=I.endColumn,z=this.v();if(!z||z.startColumn>M||z.endColumn<B){this.t();return}const P=this.j&&this.j.isValid(this.d,I,this.f);if(this.n=new Date().getTime(),P)this.k&&this.o!==-1&&(clearTimeout(this.o),this.o=-1,this.x());else{this.t();const A=++this.h;this.k=!1,this.j=h(this.b,this.d,this.a.getSelection(),this.a.getOption(124)),this.j.result.then(T=>{A===this.h&&(this.k=!0,this.l=T||[],this.x())},y.onUnexpectedError)}}x(){const I=new Date().getTime(),M=this.n+250;I>=M?(this.o=-1,this.y()):this.o=setTimeout(()=>{this.y()},M-I)}y(){this.o=-1;const I=[];for(const M of this.l)M.range&&I.push({range:M.range,options:(0,r.getHighlightDecorationOptions)(M.kind)});this.f.set(I),this.p.set(this.hasDecorations())}dispose(){this.t(),this.g.dispose()}}let S=class Ji extends v.Disposable{static get(I){return I.getContribution(Ji.ID)}constructor(I,M,B){super(),this.a=null;const z=()=>{I.hasModel()&&(this.a=new f(I,B.documentHighlightProvider,M))};this.q(I.onDidChangeModel(P=>{this.a&&(this.a.dispose(),this.a=null),z()})),z()}saveViewState(){return!!(this.a&&this.a.hasDecorations())}moveNext(){var I;(I=this.a)===null||I===void 0||I.moveNext()}moveBack(){var I;(I=this.a)===null||I===void 0||I.moveBack()}restoreViewState(I){this.a&&I&&this.a.restore()}dispose(){this.a&&(this.a.dispose(),this.a=null),super.dispose()}};S.ID="editor.contrib.wordHighlighter",S=De([fe(1,n.IContextKeyService),fe(2,a.ILanguageFeaturesService)],S);class p extends C.EditorAction{constructor(I,M){super(M),this.d=I}run(I,M){const B=S.get(M);!B||(this.d?B.moveNext():B.moveBack())}}class m extends p{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:t.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:c,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class b extends p{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:t.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:c,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class L extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:t.localize(2,null),alias:"Trigger Symbol Highlight",precondition:c.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(I,M,B){const z=S.get(M);!z||z.restoreViewState(!0)}}(0,C.registerEditorContribution)(S.ID,S,0),(0,C.registerEditorAction)(m),(0,C.registerEditorAction)(b),(0,C.registerEditorAction)(L)}),define(ee[824],te([1,0,7,138,36,150,2,46,3,38,420]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new E.Color(new E.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},t="vs.editor.contrib.zoneWidget";class n{constructor(s,l,o,h,f,S){this.id="",this.domNode=s,this.afterLineNumber=l,this.afterColumn=o,this.heightInLines=h,this.a=f,this.b=S}onDomNodeTop(s){this.a(s)}onComputedHeight(s){this.b(s)}}e.ViewZoneDelegate=n;class a{constructor(s,l){this.a=s,this.b=l}getId(){return this.a}getDomNode(){return this.b}getPosition(){return null}}e.OverlayWidgetDelegate=a;class r{constructor(s){this.g=s,this.b=r.a.nextId(),this.c=this.g.createDecorationsCollection(),this.d=null,this.f=-1}dispose(){this.hide(),w.removeCSSRulesContainingSelector(this.b)}set color(s){this.d!==s&&(this.d=s,this.h())}set height(s){this.f!==s&&(this.f=s,this.h())}h(){w.removeCSSRulesContainingSelector(this.b),w.createCSSRule(`.monaco-editor ${this.b}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this.d}; border-width: ${this.f}px; bottom: -${this.f}px; margin-left: -${this.f}px; `)}show(s){s.column===1&&(s={lineNumber:s.lineNumber,column:2}),this.c.set([{range:C.Range.fromPositions(s),options:{description:"zone-widget-arrow",className:this.b,stickiness:1}}])}hide(){this.c.clear()}}r.a=new D.IdGenerator(".arrow-decoration-");class c{constructor(s,l={}){this.a=null,this.b=null,this.c=null,this.f=null,this.g=new y.DisposableStore,this.container=null,this.n=!1,this.editor=s,this.d=this.editor.createDecorationsCollection(),this.options=v.deepClone(l),v.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this.g.add(this.editor.onDidLayoutChange(o=>{const h=this.j(o);this.domNode.style.width=h+"px",this.domNode.style.left=this.k(o)+"px",this.t(h)}))}dispose(){this.b&&(this.editor.removeOverlayWidget(this.b),this.b=null),this.f&&this.editor.changeViewZones(s=>{this.f&&s.removeZone(this.f.id),this.f=null}),this.d.clear(),this.g.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this.a=new r(this.editor),this.g.add(this.a)),this.s(this.container),this.w(),this.h()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this.h()}h(){if(this.container&&this.options.frameColor){const s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this.a&&this.options.arrowColor){const s=this.options.arrowColor.toString();this.a.color=s}}j(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}k(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}l(s){this.domNode.style.top=s+"px"}m(s){var l;if(this.domNode.style.height=`${s}px`,this.container){const o=s-this.o();this.container.style.height=`${o}px`;const h=this.editor.getLayoutInfo();this.u(o,this.j(h))}(l=this.c)===null||l===void 0||l.layout()}get position(){const s=this.d.getRange(0);if(!!s)return s.getStartPosition()}show(s,l){const o=C.Range.isIRange(s)?C.Range.lift(s):C.Range.fromPositions(s);this.n=!0,this.p(o,l),this.n=!1,this.d.set([{range:o,options:d.ModelDecorationOptions.EMPTY}])}hide(){var s;this.f&&(this.editor.changeViewZones(l=>{this.f&&l.removeZone(this.f.id)}),this.f=null),this.b&&(this.editor.removeOverlayWidget(this.b),this.b=null),(s=this.a)===null||s===void 0||s.hide()}o(){const s=this.editor.getOption(63);let l=0;if(this.options.showArrow){const o=Math.round(s/3);l+=2*o}if(this.options.showFrame){const o=Math.round(s/9);l+=2*o}return l}p(s,l){const o=s.getStartPosition(),h=this.editor.getLayoutInfo(),f=this.j(h);this.domNode.style.width=`${f}px`,this.domNode.style.left=this.k(h)+"px";const S=document.createElement("div");S.style.overflow="hidden";const p=this.editor.getOption(63),m=Math.max(12,this.editor.getLayoutInfo().height/p*.8);l=Math.min(l,m);let b=0,L=0;if(this.a&&this.options.showArrow&&(b=Math.round(p/3),this.a.height=b,this.a.show(o)),this.options.showFrame&&(L=Math.round(p/9)),this.editor.changeViewZones(M=>{this.f&&M.removeZone(this.f.id),this.b&&(this.editor.removeOverlayWidget(this.b),this.b=null),this.domNode.style.top="-1000px",this.f=new n(S,o.lineNumber,o.column,l,B=>this.l(B),B=>this.m(B)),this.f.id=M.addZone(this.f),this.b=new a(t+this.f.id,this.domNode),this.editor.addOverlayWidget(this.b)}),this.container&&this.options.showFrame){const M=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=M+"px",this.container.style.borderBottomWidth=M+"px"}const k=l*p-this.o();this.container&&(this.container.style.top=b+"px",this.container.style.height=k+"px",this.container.style.overflow="hidden"),this.u(k,f),this.options.keepEditorSelection||this.editor.setSelection(s);const I=this.editor.getModel();if(I){const M=I.validateRange(new C.Range(s.startLineNumber,1,s.endLineNumber+1,1));this.q(M,M.endLineNumber===I.getLineCount())}}q(s,l){l?this.editor.revealLineNearTop(s.endLineNumber,0):this.editor.revealRange(s,0)}r(s,l){!this.container||(l&&this.container.classList.remove(l),this.container.classList.add(s))}t(s){}u(s,l){}v(s){this.f&&this.f.heightInLines!==s&&this.editor.changeViewZones(l=>{this.f&&(this.f.heightInLines=s,l.layoutZone(this.f.id))})}w(){if(this.c)return;this.c=this.g.add(new N.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this.c.state=0);let s;this.g.add(this.c.onDidStart(l=>{this.f&&(s={startY:l.startY,heightInLines:this.f.heightInLines})})),this.g.add(this.c.onDidEnd(()=>{s=void 0})),this.g.add(this.c.onDidChange(l=>{if(s){const o=(l.currentY-s.startY)/this.editor.getOption(63),h=o<0?Math.ceil(o):Math.floor(o),f=s.heightInLines+h;f>5&&f<35&&this.v(f)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this.o()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=c}),define(ee[124],te([1,0,7,68,41,27,31,36,6,46,14,28,149,824,633,148,15,51,8,30,411]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,s.createDecorator)("IPeekViewService"),(0,u.registerSingleton)(e.IPeekViewService,class{constructor(){this.a=new Map}addExclusiveWidget(m,b){const L=this.a.get(m);L&&(L.listener.dispose(),L.widget.dispose());const k=()=>{const I=this.a.get(m);I&&I.widget===b&&(I.listener.dispose(),this.a.delete(m))};this.a.set(m,{widget:b,listener:b.onDidClose(k)})}},1);var o;(function(m){m.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0,a.localize(0,null)),m.notInPeekEditor=m.inPeekEditor.toNegated()})(o=e.PeekContext||(e.PeekContext={}));let h=class{constructor(b,L){b instanceof t.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(L)}dispose(){}};h.ID="editor.contrib.referenceController",h=De([fe(1,c.IContextKeyService)],h),(0,g.registerEditorContribution)(h.ID,h,0);function f(m){const b=m.get(i.ICodeEditorService).getFocusedCodeEditor();return b instanceof t.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=f;const S={headerBackgroundColor:v.Color.white,primaryHeadingColor:v.Color.fromHex("#333333"),secondaryHeadingColor:v.Color.fromHex("#6c6c6cb3")};let p=class extends n.ZoneWidget{constructor(b,L,k){super(b,L),this.F=k,this.x=new C.Emitter,this.onDidClose=this.x.event,d.mixin(this.options,S,!1)}dispose(){this.y||(this.y=!0,super.dispose(),this.x.fire(this))}style(b){const L=this.options;b.headerBackgroundColor&&(L.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(L.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(L.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}h(){super.h();const b=this.options;this.z&&b.headerBackgroundColor&&(this.z.style.backgroundColor=b.headerBackgroundColor.toString()),this.A&&b.primaryHeadingColor&&(this.A.style.color=b.primaryHeadingColor.toString()),this.B&&b.secondaryHeadingColor&&(this.B.style.color=b.secondaryHeadingColor.toString()),this.E&&b.frameColor&&(this.E.style.borderColor=b.frameColor.toString())}s(b){this.r("peekview-widget"),this.z=w.$(".head"),this.E=w.$(".body"),this.I(this.z),this.M(this.E),b.appendChild(this.z),b.appendChild(this.E)}I(b,L){const k=w.$(".peekview-title");this.options.supportOnTitleClick&&(k.classList.add("clickable"),w.addStandardDisposableListener(k,"click",B=>this.L(B))),w.append(this.z,k),this.J(k),this.A=w.$("span.filename"),this.B=w.$("span.dirname"),this.C=w.$("span.meta"),w.append(k,this.A,this.B,this.C);const I=w.$(".peekview-actions");w.append(this.z,I);const M=this.K();this.D=new N.ActionBar(I,M),this.g.add(this.D),L||this.D.push(new E.Action("peekview.close",a.localize(1,null),y.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}J(b){}K(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.F),orientation:0}}L(b){}setTitle(b,L){this.A&&this.B&&(this.A.innerText=b,this.A.setAttribute("title",b),L?this.B.innerText=L:w.clearNode(this.B))}setMetaTitle(b){this.C&&(b?(this.C.innerText=b,w.show(this.C)):w.hide(this.C))}u(b,L){if(!this.n&&b<0){this.dispose();return}const k=Math.ceil(this.editor.getOption(63)*1.2),I=Math.round(b-(k+2));this.O(k,L),this.P(I,L)}O(b,L){this.z&&(this.z.style.height=`${b}px`,this.z.style.lineHeight=this.z.style.height)}P(b,L){this.E&&(this.E.style.height=`${b}px`)}};p=De([fe(2,s.IInstantiationService)],p),e.PeekViewWidget=p,e.peekViewTitleBackground=(0,l.registerColor)("peekViewTitle.background",{dark:(0,l.transparent)(l.editorInfoForeground,.1),light:(0,l.transparent)(l.editorInfoForeground,.1),hcDark:null,hcLight:null},a.localize(2,null)),e.peekViewTitleForeground=(0,l.registerColor)("peekViewTitleLabel.foreground",{dark:v.Color.white,light:v.Color.black,hcDark:v.Color.white,hcLight:l.editorForeground},a.localize(3,null)),e.peekViewTitleInfoForeground=(0,l.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},a.localize(4,null)),e.peekViewBorder=(0,l.registerColor)("peekView.border",{dark:l.editorInfoForeground,light:l.editorInfoForeground,hcDark:l.contrastBorder,hcLight:l.contrastBorder},a.localize(5,null)),e.peekViewResultsBackground=(0,l.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:v.Color.black,hcLight:v.Color.white},a.localize(6,null)),e.peekViewResultsMatchForeground=(0,l.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:v.Color.white,hcLight:l.editorForeground},a.localize(7,null)),e.peekViewResultsFileForeground=(0,l.registerColor)("peekViewResult.fileForeground",{dark:v.Color.white,light:"#1E1E1E",hcDark:v.Color.white,hcLight:l.editorForeground},a.localize(8,null)),e.peekViewResultsSelectionBackground=(0,l.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},a.localize(9,null)),e.peekViewResultsSelectionForeground=(0,l.registerColor)("peekViewResult.selectionForeground",{dark:v.Color.white,light:"#6C6C6C",hcDark:v.Color.white,hcLight:l.editorForeground},a.localize(10,null)),e.peekViewEditorBackground=(0,l.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:v.Color.black,hcLight:v.Color.white},a.localize(11,null)),e.peekViewEditorGutterBackground=(0,l.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},a.localize(12,null)),e.peekViewEditorStickScrollBackground=(0,l.registerColor)("peekViewEditorStickScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},a.localize(13,null)),e.peekViewResultsMatchHighlight=(0,l.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},a.localize(14,null)),e.peekViewEditorMatchHighlight=(0,l.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},a.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,l.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:l.activeContrastBorder,hcLight:l.activeContrastBorder},a.localize(16,null))}),define(ee[825],te([1,0,7,74,17,36,6,2,43,9,3,124,608,148,29,15,8,145,89,53,723,30,24,400]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class S{constructor(O,F,W,V,R){this.k=V,this.l=R,this.a=0,this.b=0,this.h=new WeakMap,this.i=new v.DisposableStore,this.c=F;const $=document.createElement("div");$.className="descriptioncontainer",this.d=document.createElement("div"),this.d.classList.add("message"),this.d.setAttribute("aria-live","assertive"),this.d.setAttribute("role","alert"),$.appendChild(this.d),this.f=document.createElement("div"),$.appendChild(this.f),this.i.add(w.addStandardDisposableListener(this.f,"click",X=>{X.preventDefault();const ne=this.h.get(X.target);ne&&W(ne)})),this.g=new N.ScrollableElement($,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this.g.getDomNode()),this.i.add(this.g.onScroll(X=>{$.style.left=`-${X.scrollLeft}px`,$.style.top=`-${X.scrollTop}px`})),this.i.add(this.g)}dispose(){(0,v.dispose)(this.i)}update(O){const{source:F,message:W,relatedInformation:V,code:R}=O;let $=(F?.length||0)+2;R&&(typeof R=="string"?$+=R.length:$+=R.value.length);const X=(0,d.splitLines)(W);this.a=X.length,this.b=0;for(const J of X)this.b=Math.max(J.length+$,this.b);w.clearNode(this.d),this.d.setAttribute("aria-label",this.m(O)),this.c.applyFontInfo(this.d);let ne=this.d;for(const J of X)ne=document.createElement("div"),ne.innerText=J,J===""&&(ne.style.height=this.d.style.lineHeight),this.d.appendChild(ne);if(F||R){const J=document.createElement("span");if(J.classList.add("details"),ne.appendChild(J),F){const x=document.createElement("span");x.innerText=F,x.classList.add("source"),J.appendChild(x)}if(R)if(typeof R=="string"){const x=document.createElement("span");x.innerText=`(${R})`,x.classList.add("code"),J.appendChild(x)}else{this.j=w.$("a.code-link"),this.j.setAttribute("href",`${R.target.toString()}`),this.j.onclick=q=>{this.k.open(R.target,{allowCommands:!0}),q.preventDefault(),q.stopPropagation()};const x=w.append(this.j,w.$("span"));x.innerText=R.value,J.appendChild(this.j)}}if(w.clearNode(this.f),this.c.applyFontInfo(this.f),(0,E.isNonEmptyArray)(V)){const J=this.f.appendChild(document.createElement("div"));J.style.paddingTop=`${Math.floor(this.c.getOption(63)*.66)}px`,this.a+=1;for(const x of V){const q=document.createElement("div"),Y=document.createElement("a");Y.classList.add("filename"),Y.innerText=`${this.l.getUriBasenameLabel(x.resource)}(${x.startLineNumber}, ${x.startColumn}): `,Y.title=this.l.getUriLabel(x.resource),this.h.set(Y,x);const Q=document.createElement("span");Q.innerText=x.message,q.appendChild(Y),q.appendChild(Q),this.a+=1,J.appendChild(q)}}const ae=this.c.getOption(47),ie=Math.ceil(ae.typicalFullwidthCharacterWidth*this.b*.75),le=ae.lineHeight*this.a;this.g.setScrollDimensions({scrollWidth:ie,scrollHeight:le})}layout(O,F){this.g.getDomNode().style.height=`${O}px`,this.g.getDomNode().style.width=`${F}px`,this.g.setScrollDimensions({width:F,height:O})}getHeightInLines(){return Math.min(17,this.a)}m(O){let F="";switch(O.severity){case s.MarkerSeverity.Error:F=t.localize(0,null);break;case s.MarkerSeverity.Warning:F=t.localize(1,null);break;case s.MarkerSeverity.Info:F=t.localize(2,null);break;case s.MarkerSeverity.Hint:F=t.localize(3,null);break}let W=t.localize(4,null,F,O.startLineNumber+":"+O.startColumn);const V=this.c.getModel();return V&&O.startLineNumber<=V.getLineCount()&&O.startLineNumber>=1&&(W=`${V.getLineContent(O.startLineNumber)}, ${W}`),W}}let p=class _i extends i.PeekViewWidget{constructor(O,F,W,V,R,$,X){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R),this.Y=F,this.Z=W,this.ab=V,this.bb=$,this.cb=X,this.T=new v.DisposableStore,this.W=new y.Emitter,this.onDidSelectRelatedInformation=this.W.event,this.U=s.MarkerSeverity.Warning,this.V=D.Color.white,this.db(F.getColorTheme()),this.T.add(F.onDidColorThemeChange(this.db.bind(this))),this.create()}db(O){this.V=O.getColor(A);let F=k,W=I;this.U===s.MarkerSeverity.Warning?(F=M,W=B):this.U===s.MarkerSeverity.Info&&(F=z,W=P);const V=O.getColor(F),R=O.getColor(W);this.style({arrowColor:V,frameColor:V,headerBackgroundColor:R,primaryHeadingColor:O.getColor(i.peekViewTitleForeground),secondaryHeadingColor:O.getColor(i.peekViewTitleInfoForeground)})}h(){this.i&&(this.i.style.backgroundColor=this.V?this.V.toString():""),super.h()}dispose(){this.T.dispose(),super.dispose()}I(O){super.I(O),this.g.add(this.D.actionRunner.onWillRun(V=>this.editor.focus()));const F=[],W=this.ab.createMenu(_i.TitleMenu,this.bb);(0,n.createAndFillInActionBarActions)(W,void 0,F),this.D.push(F,{label:!1,icon:!0,index:0}),W.dispose()}J(O){this.R=w.append(O,w.$(""))}M(O){this.i=O,O.classList.add("marker-widget"),this.i.tabIndex=0,this.i.setAttribute("role","tooltip"),this.Q=document.createElement("div"),O.appendChild(this.Q),this.S=new S(this.Q,this.editor,F=>this.W.fire(F),this.Z,this.cb),this.g.add(this.S)}show(){throw new Error("call showAtMarker")}showAtMarker(O,F,W){this.Q.classList.remove("stale"),this.S.update(O),this.U=O.severity,this.db(this.Y.getColorTheme());const V=g.Range.lift(O),R=this.editor.getPosition(),$=R&&V.containsPosition(R)?R:V.getStartPosition();super.show($,this.lb());const X=this.editor.getModel();if(X){const ne=W>1?t.localize(5,null,F,W):t.localize(6,null,F,W);this.setTitle((0,C.basename)(X.uri),ne)}this.R.className=`codicon ${o.SeverityIcon.className(s.MarkerSeverity.toSeverity(this.U))}`,this.editor.revealPositionNearTop($,0),this.editor.focus()}updateMarker(O){this.Q.classList.remove("stale"),this.S.update(O)}showStale(){this.Q.classList.add("stale"),this.v()}P(O,F){super.P(O,F),this.X=O,this.S.layout(O,F),this.Q.style.height=`${O}px`}t(O){this.S.layout(this.X,O)}v(){super.v(this.lb())}lb(){return 3+this.S.getHeightInLines()}};p.TitleMenu=new a.MenuId("gotoErrorTitleMenu"),p=De([fe(1,f.IThemeService),fe(2,l.IOpenerService),fe(3,a.IMenuService),fe(4,c.IInstantiationService),fe(5,r.IContextKeyService),fe(6,u.ILabelService)],p),e.MarkerNavigationWidget=p;const m=(0,h.oneOf)(h.editorErrorForeground,h.editorErrorBorder),b=(0,h.oneOf)(h.editorWarningForeground,h.editorWarningBorder),L=(0,h.oneOf)(h.editorInfoForeground,h.editorInfoBorder),k=(0,h.registerColor)("editorMarkerNavigationError.background",{dark:m,light:m,hcDark:h.contrastBorder,hcLight:h.contrastBorder},t.localize(7,null)),I=(0,h.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,h.transparent)(k,.1),light:(0,h.transparent)(k,.1),hcDark:null,hcLight:null},t.localize(8,null)),M=(0,h.registerColor)("editorMarkerNavigationWarning.background",{dark:b,light:b,hcDark:h.contrastBorder,hcLight:h.contrastBorder},t.localize(9,null)),B=(0,h.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,h.transparent)(M,.1),light:(0,h.transparent)(M,.1),hcDark:"#0C141F",hcLight:(0,h.transparent)(M,.2)},t.localize(10,null)),z=(0,h.registerColor)("editorMarkerNavigationInfo.background",{dark:L,light:L,hcDark:h.contrastBorder,hcLight:h.contrastBorder},t.localize(11,null)),P=(0,h.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,h.transparent)(z,.1),light:(0,h.transparent)(z,.1),hcDark:null,hcLight:null},t.localize(12,null)),A=(0,h.registerColor)("editorMarkerNavigation.background",{dark:h.editorBackground,light:h.editorBackground,hcDark:h.editorBackground,hcLight:h.editorBackground},t.localize(13,null))}),define(ee[327],te([1,0,27,2,14,28,11,3,23,703,607,29,15,8,78,825]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let c=class Xt{static get(m){return m.getContribution(Xt.ID)}constructor(m,b,L,k,I){this.g=b,this.h=L,this.i=k,this.j=I,this.c=new N.DisposableStore,this.a=m,this.b=f.bindTo(this.h)}dispose(){this.k(),this.c.dispose()}k(){this.b.reset(),this.c.clear(),this.f=void 0,this.d=void 0}l(m){if(this.d&&this.d.matches(m))return this.d;let b=!1;return this.d&&(b=!0,this.k()),this.d=this.g.getMarkerList(m),b&&this.d.move(!0,this.a.getModel(),this.a.getPosition()),this.f=this.j.createInstance(r.MarkerNavigationWidget,this.a),this.f.onDidClose(()=>this.close(),this,this.c),this.b.set(!0),this.c.add(this.d),this.c.add(this.f),this.c.add(this.a.onDidChangeCursorPosition(L=>{var k,I,M;(!(!((k=this.d)===null||k===void 0)&&k.selected)||!v.Range.containsPosition((I=this.d)===null||I===void 0?void 0:I.selected.marker,L.position))&&((M=this.d)===null||M===void 0||M.resetIndex())})),this.c.add(this.d.onDidChange(()=>{if(!this.f||!this.f.position||!this.d)return;const L=this.d.find(this.a.getModel().uri,this.f.position);L?this.f.updateMarker(L.marker):this.f.showStale()})),this.c.add(this.f.onDidSelectRelatedInformation(L=>{this.i.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:v.Range.lift(L).collapseToStart()}},this.a),this.close(!1)})),this.c.add(this.a.onDidChangeModel(()=>this.k())),this.d}close(m=!0){this.k(),m&&this.a.focus()}showAtMarker(m){if(this.a.hasModel()){const b=this.l(this.a.getModel().uri);b.resetIndex(),b.move(!0,this.a.getModel(),new y.Position(m.startLineNumber,m.startColumn)),b.selected&&this.f.showAtMarker(b.selected.marker,b.selected.index,b.selected.total)}}nagivate(m,b){var L,k;return Le(this,void 0,void 0,function*(){if(this.a.hasModel()){const I=this.l(b?void 0:this.a.getModel().uri);if(I.move(m,this.a.getModel(),this.a.getPosition()),!I.selected)return;if(I.selected.marker.resource.toString()!==this.a.getModel().uri.toString()){this.k();const M=yield this.i.openCodeEditor({resource:I.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:I.selected.marker}},this.a);M&&((L=Xt.get(M))===null||L===void 0||L.close(),(k=Xt.get(M))===null||k===void 0||k.nagivate(m,b))}else this.f.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}})}};c.ID="editor.contrib.markerController",c=De([fe(1,d.IMarkerNavigationService),fe(2,t.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,n.IInstantiationService)],c),e.MarkerController=c;class u extends E.EditorAction{constructor(m,b,L){super(L),this.d=m,this.h=b}run(m,b){var L;return Le(this,void 0,void 0,function*(){b.hasModel()&&((L=c.get(b))===null||L===void 0||L.nagivate(this.d,this.h))})}}class s extends u{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,a.registerIcon)("marker-navigation-next",w.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}s.ID="editor.action.marker.next",s.LABEL=g.localize(0,null),e.NextMarkerAction=s;class l extends u{constructor(){super(!1,!1,{id:l.ID,label:l.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:l.LABEL,icon:(0,a.registerIcon)("marker-navigation-previous",w.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}l.ID="editor.action.marker.prev",l.LABEL=g.localize(2,null);class o extends u{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends u{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,E.registerEditorContribution)(c.ID,c,4),(0,E.registerEditorAction)(s),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(o),(0,E.registerEditorAction)(h);const f=new t.RawContextKey("markersNavigationVisible",!1),S=E.EditorCommand.bindToContribution(c.get);(0,E.registerEditorCommand)(new S({id:"closeMarkersNavigation",precondition:f,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ee[826],te([1,0,7,275,36,6,2,47,43,149,3,38,34,70,40,61,764,124,613,8,37,145,177,24,178,142,402]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class b{constructor(B,z){this.g=B,this.h=z,this.b=new Map,this.c=new Set,this.d=new y.DisposableStore,this.f=new y.DisposableStore,this.d.add(this.g.onDidChangeModel(()=>this.j())),this.j()}dispose(){this.f.dispose(),this.d.dispose(),this.removeDecorations()}j(){this.f.clear();const B=this.g.getModel();if(!!B){for(const z of this.h.references)if(z.uri.toString()===B.uri.toString()){this.k(z.parent);return}}}k(B){if(!this.g.hasModel())return;this.f.add(this.g.getModel().onDidChangeDecorations(()=>this.l()));const z=[],P=[];for(let A=0,T=B.children.length;A<T;A++){const O=B.children[A];this.c.has(O.id)||O.uri.toString()===this.g.getModel().uri.toString()&&(z.push({range:O.range,options:b.a}),P.push(A))}this.g.changeDecorations(A=>{const T=A.deltaDecorations([],z);for(let O=0;O<T.length;O++)this.b.set(T[O],B.children[P[O]])})}l(){const B=[],z=this.g.getModel();if(!!z){for(const[P,A]of this.b){const T=z.getDecorationRange(P);if(!T)continue;let O=!1;if(!g.Range.equalsRange(T,A.range)){if(g.Range.spansMultipleLines(T))O=!0;else{const F=A.range.endColumn-A.range.startColumn,W=T.endColumn-T.startColumn;F!==W&&(O=!0)}O?(this.c.add(A.id),B.push(P)):A.range=T}}for(let P=0,A=B.length;P<A;P++)this.b.delete(B[P]);this.g.removeDecorations(B)}}removeDecorations(){this.g.removeDecorations([...this.b.keys()]),this.b.clear()}}b.a=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class L{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(B){let z,P;try{const A=JSON.parse(B);z=A.ratio,P=A.heightInLines}catch{}return{ratio:z||.7,heightInLines:P||18}}}e.LayoutData=L;class k extends f.WorkbenchAsyncDataTree{}let I=class extends u.PeekViewWidget{constructor(B,z,P,A,T,O,F,W,V,R,$,X){super(B,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O),this.eb=z,this.layoutData=P,this.fb=T,this.gb=O,this.hb=F,this.ib=W,this.jb=V,this.kb=R,this.lb=$,this.mb=X,this.S=new y.DisposableStore,this.T=new y.DisposableStore,this.U=new D.Emitter,this.onDidSelectReference=this.U.event,this.db=new w.Dimension(0,0),this.nb(A.getColorTheme()),this.T.add(A.onDidColorThemeChange(this.nb.bind(this))),this.hb.addExclusiveWidget(B,this),this.create()}dispose(){this.setModel(void 0),this.T.dispose(),this.S.dispose(),(0,y.dispose)(this.Y),(0,y.dispose)(this.ab),(0,y.dispose)(this.V),(0,y.dispose)(this.Z),this.X.dispose(),super.dispose()}nb(B){const z=B.getColor(u.peekViewBorder)||E.Color.transparent;this.style({arrowColor:z,frameColor:z,headerBackgroundColor:B.getColor(u.peekViewTitleBackground)||E.Color.transparent,primaryHeadingColor:B.getColor(u.peekViewTitleForeground),secondaryHeadingColor:B.getColor(u.peekViewTitleInfoForeground)})}show(B){super.show(B,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this.V.domFocus()}focusOnPreviewEditor(){this.Y.focus()}isPreviewEditorFocused(){return this.Y.hasTextFocus()}L(B){this.Y&&this.Y.getModel()&&this.U.fire({element:this.tb(),kind:B.ctrlKey||B.metaKey||B.altKey?"side":"open",source:"title"})}M(B){this.r("reference-zone-widget"),this.cb=w.append(B,w.$("div.messages")),w.hide(this.cb),this.X=new N.SplitView(B,{orientation:1}),this.bb=w.append(B,w.$("div.preview.inline"));const z={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this.Y=this.gb.createInstance(d.EmbeddedCodeEditorWidget,this.bb,z,this.editor),w.hide(this.bb),this.ab=new i.TextModel(s.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,i.TextModel.DEFAULT_CREATION_OPTIONS,null,this.jb,this.lb,this.mb),this.W=w.append(B,w.$("div.ref-tree.inline"));const P={keyboardSupport:this.eb,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this.gb.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:u.peekViewResultsBackground}};this.eb&&this.T.add(w.addStandardDisposableListener(this.W,"keydown",T=>{T.equals(9)&&(this.kb.dispatchEvent(T,T.target),T.stopPropagation())},!0)),this.V=this.gb.createInstance(k,"ReferencesWidget",this.W,new c.Delegate,[this.gb.createInstance(c.FileReferencesRenderer),this.gb.createInstance(c.OneReferenceRenderer)],this.gb.createInstance(c.DataSource),P),this.X.addView({onDidChange:D.Event.None,element:this.bb,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:T=>{this.Y.layout({height:this.db.height,width:T})}},N.Sizing.Distribute),this.X.addView({onDidChange:D.Event.None,element:this.W,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:T=>{this.W.style.height=`${this.db.height}px`,this.W.style.width=`${T}px`,this.V.layout(this.db.height,T)}},N.Sizing.Distribute),this.g.add(this.X.onDidSashChange(()=>{this.db.width&&(this.layoutData.ratio=this.X.getViewSize(0)/this.db.width)},void 0));const A=(T,O)=>{T instanceof m.OneReference&&(O==="show"&&this.vb(T,!1),this.U.fire({element:T,kind:O,source:"tree"}))};this.V.onDidOpen(T=>{T.sideBySide?A(T.element,"side"):T.editorOptions.pinned?A(T.element,"goto"):A(T.element,"show")}),w.hide(this.W)}t(B){this.db&&this.P(this.db.height,B)}P(B,z){super.P(B,z),this.db=new w.Dimension(z,B),this.layoutData.heightInLines=this.f?this.f.heightInLines:this.layoutData.heightInLines,this.X.layout(z),this.X.resizeView(0,z*this.layoutData.ratio)}setSelection(B){return this.vb(B,!0).then(()=>{!this.Q||(this.V.setSelection([B]),this.V.setFocus([B]))})}setModel(B){return this.S.clear(),this.Q=B,this.Q?this.sb():Promise.resolve()}sb(){return this.Q?this.Q.isEmpty?(this.setTitle(""),this.cb.innerText=s.localize(1,null),w.show(this.cb),Promise.resolve(void 0)):(w.hide(this.cb),this.R=new b(this.Y,this.Q),this.S.add(this.R),this.S.add(this.Q.onDidChangeReferenceRange(B=>this.V.rerender(B))),this.S.add(this.Y.onMouseDown(B=>{const{event:z,target:P}=B;if(z.detail!==2)return;const A=this.tb();!A||this.U.fire({element:{uri:A.uri,range:P.range},kind:z.ctrlKey||z.metaKey||z.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),w.show(this.W),w.show(this.bb),this.X.layout(this.db.width),this.focusOnReferenceTree(),this.V.setInput(this.Q.groups.length===1?this.Q.groups[0]:this.Q)):Promise.resolve(void 0)}tb(){const[B]=this.V.getFocus();if(B instanceof m.OneReference)return B;if(B instanceof m.FileReferences&&B.children.length>0)return B.children[0]}revealReference(B){return Le(this,void 0,void 0,function*(){yield this.vb(B,!1),this.U.fire({element:B,kind:"goto",source:"tree"})})}vb(B,z){return Le(this,void 0,void 0,function*(){if(this.ub===B)return;this.ub=B,B.uri.scheme!==v.Schemas.inMemory?this.setTitle((0,C.basenameOrAuthority)(B.uri),this.ib.getUriLabel((0,C.dirname)(B.uri))):this.setTitle(s.localize(2,null));const P=this.fb.createModelReference(B.uri);this.V.getInput()===B.parent?this.V.reveal(B):(z&&this.V.reveal(B.parent),yield this.V.expand(B.parent),this.V.reveal(B));const A=yield P;if(!this.Q){A.dispose();return}(0,y.dispose)(this.Z);const T=A.object;if(T){const O=this.Y.getModel()===T.textEditorModel?0:1,F=g.Range.lift(B.range).collapseToStart();this.Z=A,this.Y.setModel(T.textEditorModel),this.Y.setSelection(F),this.Y.revealRangeInCenter(F,O)}else this.Y.setModel(this.ab),A.dispose()})}};I=De([fe(3,S.IThemeService),fe(4,r.ITextModelService),fe(5,l.IInstantiationService),fe(6,u.IPeekViewService),fe(7,h.ILabelService),fe(8,p.IUndoRedoService),fe(9,o.IKeybindingService),fe(10,a.ILanguageService),fe(11,t.ILanguageConfigurationService)],I),e.ReferenceWidget=I}),define(ee[328],te([1,0,12,13,57,2,28,11,3,124,611,25,32,15,8,108,177,42,84,142,826]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let h=class mi{static get(p){return p.getContribution(mi.ID)}constructor(p,m,b,L,k,I,M,B){this.h=p,this.i=m,this.j=L,this.k=k,this.l=I,this.m=M,this.n=B,this.a=new D.DisposableStore,this.e=0,this.f=!1,this.g=e.ctxReferenceSearchVisible.bindTo(b)}dispose(){var p,m;this.g.reset(),this.a.dispose(),(p=this.b)===null||p===void 0||p.dispose(),(m=this.c)===null||m===void 0||m.dispose(),this.b=void 0,this.c=void 0}toggleWidget(p,m,b){let L;if(this.b&&(L=this.b.position),this.closeWidget(),!!L&&p.containsPosition(L))return;this.d=b,this.g.set(!0),this.a.add(this.i.onDidChangeModelLanguage(()=>{this.closeWidget()})),this.a.add(this.i.onDidChangeModel(()=>{this.f||this.closeWidget()}));const k="peekViewLayout",I=o.LayoutData.fromJSON(this.m.get(k,0,"{}"));this.b=this.l.createInstance(o.ReferenceWidget,this.i,this.h,I),this.b.setTitle(g.localize(1,null)),this.b.show(p),this.a.add(this.b.onDidClose(()=>{m.cancel(),this.b&&(this.m.store(k,JSON.stringify(this.b.layoutData),0,1),this.b=void 0),this.closeWidget()})),this.a.add(this.b.onDidSelectReference(B=>{const{element:z,kind:P}=B;if(!!z)switch(P){case"open":(B.source!=="editor"||!this.n.getValue("editor.stablePeek"))&&this.openReference(z,!1,!1);break;case"side":this.openReference(z,!0,!1);break;case"goto":b?this.o(z,!0):this.openReference(z,!1,!0);break}}));const M=++this.e;m.then(B=>{var z;if(M!==this.e||!this.b){B.dispose();return}return(z=this.c)===null||z===void 0||z.dispose(),this.c=B,this.b.setModel(this.c).then(()=>{if(this.b&&this.c&&this.i.hasModel()){this.c.isEmpty?this.b.setMetaTitle(""):this.b.setMetaTitle(g.localize(2,null,this.c.title,this.c.references.length));const P=this.i.getModel().uri,A=new v.Position(p.startLineNumber,p.startColumn),T=this.c.nearestReference(P,A);if(T)return this.b.setSelection(T).then(()=>{this.b&&this.i.getOption(82)==="editor"&&this.b.focusOnPreviewEditor()})}})},B=>{this.k.error(B)})}changeFocusBetweenPreviewAndReferences(){!this.b||(this.b.isPreviewEditorFocused()?this.b.focusOnReferenceTree():this.b.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return Le(this,void 0,void 0,function*(){if(!this.i.hasModel()||!this.c||!this.b)return;const m=this.b.position;if(!m)return;const b=this.c.nearestReference(this.i.getModel().uri,m);if(!b)return;const L=this.c.nextOrPreviousReference(b,p),k=this.i.hasTextFocus(),I=this.b.isPreviewEditorFocused();yield this.b.setSelection(L),yield this.o(L,!1),k?this.i.focus():this.b&&I&&this.b.focusOnPreviewEditor()})}revealReference(p){return Le(this,void 0,void 0,function*(){!this.i.hasModel()||!this.c||!this.b||(yield this.b.revealReference(p))})}closeWidget(p=!0){var m,b;(m=this.b)===null||m===void 0||m.dispose(),(b=this.c)===null||b===void 0||b.dispose(),this.g.reset(),this.a.clear(),this.b=void 0,this.c=void 0,p&&this.i.focus(),this.e+=1}o(p,m){var b;(b=this.b)===null||b===void 0||b.hide(),this.f=!0;const L=C.Range.lift(p.range).collapseToStart();return this.j.openCodeEditor({resource:p.uri,options:{selection:L,selectionSource:"code.jump",pinned:m}},this.i).then(k=>{var I;if(this.f=!1,!k||!this.b){this.closeWidget();return}if(this.i===k)this.b.show(L),this.b.focusOnReferenceTree();else{const M=mi.get(k),B=this.c.clone();this.closeWidget(),k.focus(),M?.toggleWidget(L,(0,w.createCancelablePromise)(z=>Promise.resolve(B)),(I=this.d)!==null&&I!==void 0?I:!1)}},k=>{this.f=!1,(0,N.onUnexpectedError)(k)})}openReference(p,m,b){m||this.closeWidget();const{uri:L,range:k}=p;this.j.openCodeEditor({resource:L,options:{selection:k,selectionSource:"code.jump",pinned:b}},this.i,m)}};h.ID="editor.contrib.referencesController",h=De([fe(2,n.IContextKeyService),fe(3,y.ICodeEditorService),fe(4,u.INotificationService),fe(5,a.IInstantiationService),fe(6,s.IStorageService),fe(7,t.IConfigurationService)],h),e.ReferencesController=h;function f(S,p){const m=(0,d.getOuterEditor)(S);if(!m)return;const b=h.get(m);b&&p(b)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,E.KeyChord)(2089,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,d.PeekContext.inPeekEditor),handler(S){f(S,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,d.PeekContext.inPeekEditor),handler(S){f(S,p=>{p.goToNextOrPreviousReference(!0)})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,d.PeekContext.inPeekEditor),handler(S){f(S,p=>{p.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",S=>f(S,p=>p.closeWidget())),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(d.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const b=(p=S.get(c.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(b)&&b[0]instanceof l.OneReference&&f(S,L=>L.revealReference(b[0]))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(S){var p;const b=(p=S.get(c.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(b)&&b[0]instanceof l.OneReference&&f(S,L=>L.openReference(b[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",S=>{var p;const b=(p=S.get(c.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(b)&&b[0]instanceof l.OneReference&&f(S,L=>L.openReference(b[0],!1,!0))})}),define(ee[231],te([1,0,44,50,12,57,16,18,21,98,161,14,28,149,11,3,23,26,328,142,742,146,124,609,29,25,15,8,42,69,227,19,54]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z){"use strict";var P,A,T,O,F,W,V,R;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:S.localize(0,null),group:"navigation",order:100});class ${static is(Q){return!Q||typeof Q!="object"?!1:!!(Q instanceof $||a.Position.isIPosition(Q.position)&&Q.model)}constructor(Q,re){this.model=Q,this.position=re}}e.SymbolNavigationAnchor=$;class X extends i.EditorAction2{static all(){return X.d.values()}static f(Q){const re=Object.assign(Object.assign({},Q),{f1:!0});if(re.menu)for(const oe of z.Iterable.wrap(re.menu))(oe.id===p.MenuId.EditorContext||oe.id===p.MenuId.EditorContextPeek)&&(oe.when=b.ContextKeyExpr.and(Q.precondition,oe.when));return re}constructor(Q,re){super(X.f(re)),this.configuration=Q,X.d.set(re.id,this)}runEditorCommand(Q,re,oe,G){if(!re.hasModel())return Promise.resolve(void 0);const Z=Q.get(k.INotificationService),U=Q.get(t.ICodeEditorService),j=Q.get(I.IEditorProgressService),H=Q.get(o.ISymbolNavigationService),_=Q.get(B.ILanguageFeaturesService),ce=Q.get(L.IInstantiationService),ue=re.getModel(),se=re.getPosition(),he=$.is(oe)?oe:new $(ue,se),me=new d.EditorStateCancellationTokenSource(re,5),Se=(0,E.raceCancellation)(this.g(_,he.model,he.position,me.token),me.token).then(ye=>Le(this,void 0,void 0,function*(){var ke;if(!ye||me.token.isCancellationRequested)return;(0,N.alert)(ye.ariaMessage);let Te;if(ye.referenceAt(ue.uri,se)){const Ie=this.j(re);!X.e.has(Ie)&&X.d.has(Ie)&&(Te=X.d.get(Ie))}const Pe=ye.references.length;if(Pe===0){if(!this.configuration.muteMessage){const Ie=ue.getWordAtPosition(se);(ke=h.MessageController.get(re))===null||ke===void 0||ke.showMessage(this.h(Ie),se)}}else if(Pe===1&&Te)X.e.add(this.desc.id),ce.invokeFunction(Ie=>Te.runEditorCommand(Ie,re,oe,G).finally(()=>{X.e.delete(this.desc.id)}));else return this.l(U,H,re,ye,G)}),ye=>{Z.error(ye)}).finally(()=>{me.dispose()});return j.showWhile(Se,250),Se}l(Q,re,oe,G,Z){return Le(this,void 0,void 0,function*(){const U=this.k(oe);if(!(oe instanceof n.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||U==="peek"&&G.references.length>1))this.n(oe,G,Z);else{const j=G.firstReference(),H=G.references.length>1&&U==="gotoAndPeek",_=yield this.m(oe,Q,j,this.configuration.openToSide,!H);H&&_?this.n(_,G,Z):G.dispose(),U==="goto"&&re.put(j)}})}m(Q,re,oe,G,Z){return Le(this,void 0,void 0,function*(){let U;if((0,u.isLocationLink)(oe)&&(U=oe.targetSelectionRange),U||(U=oe.range),!U)return;const j=yield re.openCodeEditor({resource:oe.uri,options:{selection:r.Range.collapseToStart(U),selectionRevealType:3,selectionSource:"code.jump"}},Q,G);if(!!j){if(Z){const H=j.getModel(),_=j.createDecorationsCollection([{range:U,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{j.getModel()===H&&_.clear()},350)}return j}})}n(Q,re,oe){const G=s.ReferencesController.get(Q);G&&Q.hasModel()?G.toggleWidget(oe??Q.getSelection(),(0,E.createCancelablePromise)(Z=>Promise.resolve(re)),this.configuration.openInPeek):re.dispose()}}X.d=new Map,X.e=new Set,e.SymbolNavigationAction=X;class ne extends X{g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getDefinitionsAtPosition)(Q.definitionProvider,re,oe,G),S.localize(1,null))})}h(Q){return Q&&Q.word?S.localize(2,null,Q.word):S.localize(3,null)}j(Q){return Q.getOption(55).alternativeDefinitionCommand}k(Q){return Q.getOption(55).multipleDefinitions}}e.DefinitionAction=ne;const ae=y.isWeb&&!(0,w.isStandalone)()?2118:70;(0,p.registerAction2)((P=class pi extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:pi.id,title:{value:S.localize(4,null),original:"Go to Definition",mnemonicTitle:S.localize(5,null)},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:ae,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.1},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",pi.id)}},P.id="editor.action.revealDefinition",P)),(0,p.registerAction2)((A=class bi extends ne{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:bi.id,title:{value:S.localize(6,null),original:"Open Definition to the Side"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,ae),weight:100}}),m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",bi.id)}},A.id="editor.action.revealDefinitionAside",A)),(0,p.registerAction2)((T=class vi extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:vi.id,title:{value:S.localize(7,null),original:"Peek Definition"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:2}}),m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",vi.id)}},T.id="editor.action.peekDefinition",T));class ie extends X{g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getDeclarationsAtPosition)(Q.declarationProvider,re,oe,G),S.localize(8,null))})}h(Q){return Q&&Q.word?S.localize(9,null,Q.word):S.localize(10,null)}j(Q){return Q.getOption(55).alternativeDeclarationCommand}k(Q){return Q.getOption(55).multipleDeclarations}}(0,p.registerAction2)((O=class en extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:en.id,title:{value:S.localize(11,null),original:"Go to Declaration",mnemonicTitle:S.localize(12,null)},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.3},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}h(Q){return Q&&Q.word?S.localize(13,null,Q.word):S.localize(14,null)}},O.id="editor.action.revealDeclaration",O)),(0,p.registerAction2)(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:S.localize(15,null),original:"Peek Declaration"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class le extends X{g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getTypeDefinitionsAtPosition)(Q.typeDefinitionProvider,re,oe,G),S.localize(16,null))})}h(Q){return Q&&Q.word?S.localize(17,null,Q.word):S.localize(18,null)}j(Q){return Q.getOption(55).alternativeTypeDefinitionCommand}k(Q){return Q.getOption(55).multipleTypeDefinitions}}(0,p.registerAction2)((F=class tn extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:tn.ID,title:{value:S.localize(19,null),original:"Go to Type Definition",mnemonicTitle:S.localize(20,null)},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.4},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,p.registerAction2)((W=class nn extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:nn.ID,title:{value:S.localize(21,null),original:"Peek Type Definition"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},W.ID="editor.action.peekTypeDefinition",W));class J extends X{g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getImplementationsAtPosition)(Q.implementationProvider,re,oe,G),S.localize(22,null))})}h(Q){return Q&&Q.word?S.localize(23,null,Q.word):S.localize(24,null)}j(Q){return Q.getOption(55).alternativeImplementationCommand}k(Q){return Q.getOption(55).multipleImplementations}}(0,p.registerAction2)((V=class sn extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:sn.ID,title:{value:S.localize(25,null),original:"Go to Implementations",mnemonicTitle:S.localize(26,null)},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.45},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},V.ID="editor.action.goToImplementation",V)),(0,p.registerAction2)((R=class rn extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:rn.ID,title:{value:S.localize(27,null),original:"Peek Implementations"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},R.ID="editor.action.peekImplementation",R));class x extends X{h(Q){return Q?S.localize(28,null,Q.word):S.localize(29,null)}j(Q){return Q.getOption(55).alternativeReferenceCommand}k(Q){return Q.getOption(55).multipleReferences}}(0,p.registerAction2)(class extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:S.localize(30,null),original:"Go to References",mnemonicTitle:S.localize(31,null)},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:c.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:p.MenuId.EditorContext,group:"navigation",order:1.45},{id:p.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getReferencesAtPosition)(Q.referenceProvider,re,oe,!0,G),S.localize(32,null))})}}),(0,p.registerAction2)(class extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:S.localize(33,null),original:"Peek References"},precondition:b.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:p.MenuId.EditorContextPeek,group:"peek",order:6}})}g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(yield(0,M.getReferencesAtPosition)(Q.referenceProvider,re,oe,!1,G),S.localize(34,null))})}});class q extends X{constructor(Q,re,oe){super(Q,{id:"editor.action.goToLocation",title:{value:S.localize(35,null),original:"Go to Any Symbol"},precondition:b.ContextKeyExpr.and(f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this.o=re,this.p=oe}g(Q,re,oe,G){return Le(this,void 0,void 0,function*(){return new l.ReferencesModel(this.o,S.localize(36,null))})}h(Q){return Q&&S.localize(37,null,Q.word)||""}k(Q){var re;return(re=this.p)!==null&&re!==void 0?re:Q.getOption(55).multipleReferences}j(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:a.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Y,Q,re,oe,G,Z,U)=>Le(void 0,void 0,void 0,function*(){(0,v.assertType)(C.URI.isUri(Q)),(0,v.assertType)(a.Position.isIPosition(re)),(0,v.assertType)(Array.isArray(oe)),(0,v.assertType)(typeof G>"u"||typeof G=="string"),(0,v.assertType)(typeof U>"u"||typeof U=="boolean");const j=Y.get(t.ICodeEditorService),H=yield j.openCodeEditor({resource:Q},j.getFocusedCodeEditor());if((0,g.isCodeEditor)(H))return H.setPosition(re),H.revealPositionInCenterIfOutsideViewport(re,0),H.invokeWithinContext(_=>{const ce=new class extends q{h(ue){return Z||super.h(ue)}}({muteMessage:!Boolean(Z),openInPeek:Boolean(U),openToSide:!1},oe,G);_.get(L.IInstantiationService).invokeFunction(ce.run.bind(ce),H)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:a.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Y,Q,re,oe,G)=>Le(void 0,void 0,void 0,function*(){Y.get(m.ICommandService).executeCommand("editor.action.goToLocations",Q,re,oe,G,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Y,Q,re)=>{(0,v.assertType)(C.URI.isUri(Q)),(0,v.assertType)(a.Position.isIPosition(re));const oe=Y.get(B.ILanguageFeaturesService),G=Y.get(t.ICodeEditorService);return G.openCodeEditor({resource:Q},G.getFocusedCodeEditor()).then(Z=>{if(!(0,g.isCodeEditor)(Z)||!Z.hasModel())return;const U=s.ReferencesController.get(Z);if(!U)return;const j=(0,E.createCancelablePromise)(_=>(0,M.getReferencesAtPosition)(oe.referenceProvider,Z.getModel(),a.Position.lift(re),!1,_).then(ce=>new l.ReferencesModel(ce,S.localize(38,null)))),H=new r.Range(re.lineNumber,re.column,re.lineNumber,re.column);return Promise.resolve(U.toggleWidget(H,j,!1))})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ee[329],te([1,0,12,13,71,2,18,98,14,3,40,61,170,124,610,15,231,227,19,38,401]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let o=class Zt{constructor(f,S,p,m){this.h=S,this.i=p,this.j=m,this.b=new D.DisposableStore,this.c=new D.DisposableStore,this.f=null,this.g=null,this.a=f,this.d=this.a.createDecorationsCollection();const b=new t.ClickLinkGesture(f);this.b.add(b),this.b.add(b.onMouseMoveOrRelevantKeyDown(([L,k])=>{this.k(L,(0,y.withNullAsUndefined)(k))})),this.b.add(b.onExecute(L=>{this.r(L)&&this.t(L.target.position,L.hasSideBySideModifier).catch(k=>{(0,N.onUnexpectedError)(k)}).finally(()=>{this.q()})})),this.b.add(b.onCancel(()=>{this.q(),this.f=null}))}static get(f){return f.getContribution(Zt.ID)}startFindDefinitionFromCursor(f){return Le(this,void 0,void 0,function*(){yield this.l(f),this.c.add(this.a.onDidChangeCursorPosition(()=>{this.f=null,this.q(),this.c.clear()})),this.c.add(this.a.onKeyDown(S=>{S&&(this.f=null,this.q(),this.c.clear())}))})}k(f,S){if(f.target.type===9&&this.d.length>0)return;if(!this.a.hasModel()||!this.r(f,S)){this.f=null,this.q();return}const p=f.target.position;this.l(p)}l(f){var S;return Le(this,void 0,void 0,function*(){this.c.clear();const p=f?(S=this.a.getModel())===null||S===void 0?void 0:S.getWordAtPosition(f):null;if(!p){this.f=null,this.q();return}if(this.f&&this.f.startColumn===p.startColumn&&this.f.endColumn===p.endColumn&&this.f.word===p.word)return;this.f=p;const m=new v.EditorState(this.a,15);this.g&&(this.g.cancel(),this.g=null),this.g=(0,w.createCancelablePromise)(k=>this.s(f,k));let b;try{b=yield this.g}catch(k){(0,N.onUnexpectedError)(k);return}if(!b||!b.length||!m.validate(this.a)){this.q();return}const L=b[0].originSelectionRange?d.Range.lift(b[0].originSelectionRange):new d.Range(f.lineNumber,p.startColumn,f.lineNumber,p.endColumn);if(b.length>1){let k=L;for(const{originSelectionRange:I}of b)I&&(k=d.Range.plusRange(k,I));this.p(k,new E.MarkdownString().appendText(a.localize(0,null,b.length)))}else{const k=b[0];if(!k.uri)return;this.h.createModelReference(k.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:M}}=I,{startLineNumber:B}=k.range;if(B<1||B>M.getLineCount()){I.dispose();return}const z=this.m(M,B,k),P=this.i.guessLanguageIdByFilepathOrFirstLine(M.uri);this.p(L,z?new E.MarkdownString().appendCodeblock(P||"",z):void 0),I.dispose()})}})}m(f,S,p){let m=p.range;return m.endLineNumber-m.startLineNumber>=Zt.MAX_SOURCE_PREVIEW_LINES&&(m=this.o(f,S)),this.n(f,S,m)}n(f,S,p){let b=f.getLineFirstNonWhitespaceColumn(S);for(let k=S+1;k<p.endLineNumber;k++){const I=f.getLineFirstNonWhitespaceColumn(k);b=Math.min(b,I)}return f.getValueInRange(p).replace(new RegExp(`^\\s{${b-1}}`,"gm"),"").trim()}o(f,S){const p=f.getLineFirstNonWhitespaceColumn(S),m=Math.min(f.getLineCount(),S+Zt.MAX_SOURCE_PREVIEW_LINES);let b=S+1;for(;b<m;b++){const L=f.getLineFirstNonWhitespaceColumn(b);if(p===L)break}return new d.Range(S,1,b+1,1)}p(f,S){const p={range:f,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:S}};this.d.set([p])}q(){this.d.clear()}r(f,S){var p;return this.a.hasModel()&&f.isLeftClick&&f.isNoneOrSingleMouseDown&&f.target.type===6&&!(((p=f.target.detail.injectedText)===null||p===void 0?void 0:p.options)instanceof l.ModelDecorationInjectedTextOptions)&&(f.hasTriggerModifier||(S?S.keyCodeIsTriggerKey:!1))&&this.j.definitionProvider.has(this.a.getModel())}s(f,S){const p=this.a.getModel();return p?(0,u.getDefinitionsAtPosition)(this.j.definitionProvider,p,f,S):Promise.resolve(null)}t(f,S){return this.a.setPosition(f),this.a.invokeWithinContext(p=>{const m=!S&&this.a.getOption(83)&&!this.u(p);return new c.DefinitionAction({openToSide:S,openInPeek:m,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(p)})}u(f){const S=f.get(r.IContextKeyService);return n.PeekContext.inPeekEditor.getValue(S)}dispose(){this.b.dispose(),this.c.dispose()}};o.ID="editor.contrib.gotodefinitionatposition",o.MAX_SOURCE_PREVIEW_LINES=8,o=De([fe(1,i.ITextModelService),fe(2,g.ILanguageService),fe(3,s.ILanguageFeaturesService)],o),e.GotoDefinitionAtPositionEditorContribution=o,(0,C.registerEditorContribution)(o.ID,o,2)}),define(ee[827],te([1,0,7,17,12,13,2,43,3,218,176,313,118,327,618,89,53,69,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=w.$;class o{constructor(p,m,b){this.owner=p,this.range=m,this.marker=b}isValidForHoverAnchor(p){return p.type===1&&this.range.startColumn<=p.range.startColumn&&this.range.endColumn>=p.range.endColumn}}e.MarkerHover=o;const h={type:1,filter:{include:t.CodeActionKind.QuickFix},triggerAction:t.CodeActionTriggerSource.QuickFixHover};let f=class{constructor(p,m,b,L){this.f=p,this.g=m,this.h=b,this.i=L,this.hoverOrdinal=5,this.c=void 0}computeSync(p,m){if(!this.f.hasModel()||p.type!==1&&!p.supportsMarkerHover)return[];const b=this.f.getModel(),L=p.range.startLineNumber,k=b.getLineMaxColumn(L),I=[];for(const M of m){const B=M.range.startLineNumber===L?M.range.startColumn:1,z=M.range.endLineNumber===L?M.range.endColumn:k,P=this.g.getMarker(b.uri,M);if(!P)continue;const A=new C.Range(p.range.startLineNumber,B,p.range.startLineNumber,z);I.push(new o(this,A,P))}return I}renderHoverParts(p,m){if(!m.length)return y.Disposable.None;const b=new y.DisposableStore;m.forEach(k=>p.fragment.appendChild(this.j(k,b)));const L=m.length===1?m[0]:m.sort((k,I)=>r.MarkerSeverity.compare(k.marker.severity,I.marker.severity))[0];return this.k(p,L,b),b}j(p,m){const b=l("div.hover-row"),L=w.append(b,l("div.marker.hover-contents")),{source:k,message:I,code:M,relatedInformation:B}=p.marker;this.f.applyFontInfo(L);const z=w.append(L,l("span"));if(z.style.whiteSpace="pre-wrap",z.innerText=I,k||M)if(M&&typeof M!="string"){const P=l("span");if(k){const F=w.append(P,l("span"));F.innerText=k}const A=w.append(P,l("a.code-link"));A.setAttribute("href",M.target.toString()),m.add(w.addDisposableListener(A,"click",F=>{this.h.open(M.target,{allowCommands:!0}),F.preventDefault(),F.stopPropagation()}));const T=w.append(A,l("span"));T.innerText=M.value;const O=w.append(L,P);O.style.opacity="0.6",O.style.paddingLeft="6px"}else{const P=w.append(L,l("span"));P.style.opacity="0.6",P.style.paddingLeft="6px",P.innerText=k&&M?`${k}(${M})`:k||`(${M})`}if((0,N.isNonEmptyArray)(B))for(const{message:P,resource:A,startLineNumber:T,startColumn:O}of B){const F=w.append(L,l("div"));F.style.marginTop="8px";const W=w.append(F,l("a"));W.innerText=`${(0,v.basename)(A)}(${T}, ${O}): `,W.style.cursor="pointer",m.add(w.addDisposableListener(W,"click",R=>{R.stopPropagation(),R.preventDefault(),this.h&&this.h.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:T,startColumn:O}}}).catch(D.onUnexpectedError)}));const V=w.append(F,l("span"));V.innerText=P,this.f.applyFontInfo(V)}return b}k(p,m,b){if((m.marker.severity===r.MarkerSeverity.Error||m.marker.severity===r.MarkerSeverity.Warning||m.marker.severity===r.MarkerSeverity.Info)&&p.statusBar.addAction({label:a.localize(0,null),commandId:n.NextMarkerAction.ID,run:()=>{var L;p.hide(),(L=n.MarkerController.get(this.f))===null||L===void 0||L.showAtMarker(m.marker),this.f.focus()}}),!this.f.getOption(86)){const L=p.statusBar.append(l("div"));this.c&&(r.IMarkerData.makeKey(this.c.marker)===r.IMarkerData.makeKey(m.marker)?this.c.hasCodeActions||(L.textContent=a.localize(1,null)):this.c=void 0);const k=this.c&&!this.c.hasCodeActions?y.Disposable.None:b.add((0,E.disposableTimeout)(()=>L.textContent=a.localize(2,null),200));L.textContent||(L.textContent=String.fromCharCode(160));const I=this.l(m.marker);b.add((0,y.toDisposable)(()=>I.cancel())),I.then(M=>{if(k.dispose(),this.c={marker:m.marker,hasCodeActions:M.validActions.length>0},!this.c.hasCodeActions){M.dispose(),L.textContent=a.localize(3,null);return}L.style.display="none";let B=!1;b.add((0,y.toDisposable)(()=>{B||M.dispose()})),p.statusBar.addAction({label:a.localize(4,null),commandId:i.QuickFixAction.Id,run:z=>{B=!0;const P=i.CodeActionController.get(this.f),A=w.getDomNodePagePosition(z);p.hide(),P?.showCodeActions(h,M,{x:A.left+6,y:A.top+A.height+6,width:A.width,height:A.height})}})},D.onUnexpectedError)}}l(p){return(0,E.createCancelablePromise)(m=>(0,g.getCodeActions)(this.i.codeActionProvider,this.f.getModel(),new C.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn),h,u.Progress.None,m))}};f=De([fe(1,d.IMarkerDecorationsService),fe(2,c.IOpenerService),fe(3,s.ILanguageFeaturesService)],f),e.MarkerHoverParticipant=f}),define(ee[330],te([1,0,57,2,14,3,23,40,329,815,717,616,15,8,53,30,24,94,228,827,230,403]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let h=class on{static get(m){return m.getContribution(on.ID)}constructor(m,b,L,k,I){this.j=m,this.k=b,this.l=L,this.m=k,this.a=new N.DisposableStore,this.f=!1,this.g=!1,this.c=null,this.d=null,this.n(),this.b=this.j.onDidChangeConfiguration(M=>{M.hasChanged(57)&&(this.o(),this.n())})}n(){const m=()=>this.v(),b=this.j.getOption(57);this.h=b.enabled,this.i=b.sticky,this.h?(this.a.add(this.j.onMouseDown(L=>this.q(L))),this.a.add(this.j.onMouseUp(L=>this.r(L))),this.a.add(this.j.onMouseMove(L=>this.t(L))),this.a.add(this.j.onKeyDown(L=>this.u(L)))):(this.a.add(this.j.onMouseMove(L=>this.t(L))),this.a.add(this.j.onKeyDown(L=>this.u(L)))),this.a.add(this.j.onMouseLeave(L=>this.s(L))),this.a.add(this.j.onDidChangeModel(m)),this.a.add(this.j.onDidScrollChange(L=>this.p(L)))}o(){this.a.clear()}p(m){(m.scrollTopChanged||m.scrollLeftChanged)&&this.v()}q(m){this.f=!0;const b=m.target;if(b.type===9&&b.detail===d.ContentHoverWidget.ID){this.g=!0;return}b.type===12&&b.detail===g.MarginHoverWidget.ID||(b.type!==12&&(this.g=!1),this.v())}r(m){this.f=!1}s(m){var b;const L=m.event.browserEvent.relatedTarget;!((b=this.c)===null||b===void 0)&&b.containsNode(L)||this.v()}t(m){var b,L,k,I,M,B;const z=m.target;if(this.f&&this.g||this.i&&z.type===9&&z.detail===d.ContentHoverWidget.ID||this.i&&!(!((L=(b=m.event.browserEvent.view)===null||b===void 0?void 0:b.getSelection())===null||L===void 0)&&L.isCollapsed)||!this.i&&z.type===9&&z.detail===d.ContentHoverWidget.ID&&((k=this.c)===null||k===void 0?void 0:k.isColorPickerVisible())||this.i&&z.type===12&&z.detail===g.MarginHoverWidget.ID||this.i&&((I=this.c)===null||I===void 0?void 0:I.isVisibleFromKeyboard()))return;if(!this.h){this.v();return}if(this.w().maybeShowAt(m)){(M=this.d)===null||M===void 0||M.hide();return}if(z.type===2&&z.position){(B=this.c)===null||B===void 0||B.hide(),this.d||(this.d=new g.MarginHoverWidget(this.j,this.m,this.l)),this.d.startShowingAt(z.position.lineNumber);return}this.v()}u(m){m.keyCode!==5&&m.keyCode!==6&&m.keyCode!==57&&m.keyCode!==4&&this.v()}v(){var m,b,L;this.f&&this.g&&((m=this.c)===null||m===void 0?void 0:m.isColorPickerVisible())||o.InlineSuggestionHintsContentWidget.dropDownVisible||(this.g=!1,(b=this.d)===null||b===void 0||b.hide(),(L=this.c)===null||L===void 0||L.hide())}w(){return this.c||(this.c=this.k.createInstance(d.ContentHoverController,this.j)),this.c}isColorPickerVisible(){var m;return((m=this.c)===null||m===void 0?void 0:m.isColorPickerVisible())||!1}showContentHover(m,b,L,k){this.w().startShowingAtRange(m,b,L,k)}dispose(){var m,b;this.o(),this.a.dispose(),this.b.dispose(),(m=this.d)===null||m===void 0||m.dispose(),(b=this.c)===null||b===void 0||b.dispose()}};h.ID="editor.contrib.hover",h=De([fe(1,n.IInstantiationService),fe(2,a.IOpenerService),fe(3,v.ILanguageService),fe(4,t.IContextKeyService)],h),e.ModesHoverController=h;class f extends E.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2089,2087),weight:100}})}run(m,b){if(!b.hasModel())return;const L=h.get(b);if(!L)return;const k=b.getPosition(),I=new D.Range(k.lineNumber,k.column,k.lineNumber,k.column),M=b.getOption(2)===2;L.showContentHover(I,1,1,M)}}class S extends E.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(m,b){const L=h.get(b);if(!L)return;const k=b.getPosition();if(!k)return;const I=new D.Range(k.lineNumber,k.column,k.lineNumber,k.column),M=C.GotoDefinitionAtPositionEditorContribution.get(b);if(!M)return;M.startFindDefinitionFromCursor(k).then(()=>{L.showContentHover(I,1,1,!0)})}}(0,E.registerEditorContribution)(h.ID,h,2),(0,E.registerEditorAction)(f),(0,E.registerEditorAction)(S),u.HoverParticipantRegistry.register(s.MarkdownHoverParticipant),u.HoverParticipantRegistry.register(l.MarkerHoverParticipant),(0,c.registerThemingParticipant)((p,m)=>{const b=p.getColor(r.editorHoverBorder);b&&(m.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${b.transparent(.5)}; }`),m.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${b.transparent(.5)}; }`),m.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${b.transparent(.5)}; }`))})}),define(ee[828],te([1,0,2,14,3,323,808,330,94]),function(K,e,w,N,E,D,y,v,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class d extends w.Disposable{constructor(i){super(),this.a=i,this.q(i.onMouseDown(t=>this.b(t)))}dispose(){super.dispose()}b(i){const t=i.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!t.range)return;const n=this.a.getContribution(v.ModesHoverController.ID);if(!!n&&!n.isColorPickerVisible()){const a=new E.Range(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);n.showContentHover(a,1,0,!1)}}}d.ID="editor.contrib.colorContribution",e.ColorContribution=d,(0,N.registerEditorContribution)(d.ID,d,2),C.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(ee[331],te([1,0,7,41,20,3,61,231,124,29,25,15,56,8,42]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function r(u,s,l,o){var h;return Le(this,void 0,void 0,function*(){const f=u.get(y.ITextModelService),S=u.get(t.IContextMenuService),p=u.get(g.ICommandService),m=u.get(n.IInstantiationService),b=u.get(a.INotificationService);if(yield o.item.resolve(E.CancellationToken.None),!o.part.location)return;const L=o.part.location,k=[],I=new Set(d.MenuRegistry.getMenuItems(d.MenuId.EditorContext).map(B=>(0,d.isIMenuItem)(B)?B.command.id:""));for(const B of v.SymbolNavigationAction.all())I.has(B.desc.id)&&k.push(new N.Action(B.desc.id,d.MenuItemAction.label(B.desc,{renderShortTitle:!0}),void 0,!0,()=>Le(this,void 0,void 0,function*(){const z=yield f.createModelReference(L.uri);try{yield m.invokeFunction(B.run.bind(B),s,new v.SymbolNavigationAnchor(z.object.textEditorModel,D.Range.getStartPosition(L.range)))}finally{z.dispose()}})));if(o.part.command){const{command:B}=o.part;k.push(new N.Separator),k.push(new N.Action(B.id,B.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var z;try{yield p.executeCommand(B.id,...(z=B.arguments)!==null&&z!==void 0?z:[])}catch(P){b.notify({severity:a.Severity.Error,source:o.item.provider.displayName,message:P})}})))}const M=s.getOption(121);S.showContextMenu({domForShadowRoot:M&&(h=s.getDomNode())!==null&&h!==void 0?h:void 0,getAnchor:()=>{const B=w.getDomNodePagePosition(l);return{x:B.left,y:B.top+B.height+8}},getActions:()=>k,onHide:()=>{s.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=r;function c(u,s,l,o){return Le(this,void 0,void 0,function*(){const f=yield u.get(y.ITextModelService).createModelReference(o.uri);yield l.invokeWithinContext(S=>Le(this,void 0,void 0,function*(){const p=s.hasSideBySideModifier,m=S.get(i.IContextKeyService),b=C.PeekContext.inPeekEditor.getValue(m),L=!p&&l.getOption(83)&&!b;return new v.DefinitionAction({openToSide:p,openInPeek:L,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(S,new v.SymbolNavigationAnchor(f.object.textEditorModel,D.Range.getStartPosition(o.range)),D.Range.lift(o.range))})),f.dispose()})}e.goToDefinitionWithLocation=c}),define(ee[332],te([1,0,7,17,12,20,13,2,55,18,21,147,112,39,64,3,26,48,38,76,19,61,170,290,331,25,51,8,42,30,24]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class B{constructor(){this.a=new C.LRUCache(50)}get(W){const V=B.b(W);return this.a.get(V)}set(W,V){const R=B.b(W);this.a.set(R,V)}static b(W){return`${W.uri.toString()}/${W.getVersionId()}`}}const z=(0,L.createDecorator)("IInlayHintsCache");(0,b.registerSingleton)(z,B,1);class P{constructor(W,V){this.item=W,this.index=V}get part(){const W=this.item.hint.label;return typeof W=="string"?{label:W}:W[this.index]}}e.RenderedInlayHintLabelPart=P;class A{constructor(W,V){this.part=W,this.hasTriggerModifier=V}}let T=class Ci{static get(W){var V;return(V=W.getContribution(Ci.ID))!==null&&V!==void 0?V:void 0}constructor(W,V,R,$,X,ne,ae){this.l=W,this.m=V,this.n=$,this.o=X,this.p=ne,this.q=ae,this.b=new v.DisposableStore,this.c=new v.DisposableStore,this.g=new Map,this.h=new i.DynamicCssRules(this.l),this.j=0,this.f=R.for(V.inlayHintsProvider,"InlayHint",{min:25}),this.b.add(V.inlayHintsProvider.onDidChange(()=>this.r())),this.b.add(W.onDidChangeModel(()=>this.r())),this.b.add(W.onDidChangeModelLanguage(()=>this.r())),this.b.add(W.onDidChangeConfiguration(ie=>{ie.hasChanged(134)&&this.r()})),this.r()}dispose(){this.c.dispose(),this.E(),this.b.dispose()}r(){this.c.clear(),this.E();const W=this.l.getOption(134);if(W.enabled==="off")return;const V=this.l.getModel();if(!V||!this.m.inlayHintsProvider.has(V))return;const R=this.n.get(V);R&&this.B([V.getFullModelRange()],R),this.c.add((0,v.toDisposable)(()=>{V.isDisposed()||this.y(V)}));let $;const X=new Set,ne=new E.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const ae=Date.now();$?.dispose(!0),$=new D.CancellationTokenSource;const ie=V.onWillDispose(()=>$?.cancel());try{const le=$.token,J=yield S.InlayHintsFragments.create(this.m.inlayHintsProvider,V,this.A(),le);if(ne.delay=this.f.update(V,Date.now()-ae),le.isCancellationRequested){J.dispose();return}for(const x of J.provider)typeof x.onDidChangeInlayHints=="function"&&!X.has(x)&&(X.add(x),this.c.add(x.onDidChangeInlayHints(()=>{ne.isScheduled()||ne.schedule()})));this.c.add(J),this.B(J.ranges,J.items),this.y(V)}catch(le){(0,y.onUnexpectedError)(le)}finally{$.dispose(),ie.dispose()}}),this.f.get(V));if(this.c.add(ne),this.c.add((0,v.toDisposable)(()=>$?.dispose(!0))),ne.schedule(0),this.c.add(this.l.onDidScrollChange(ae=>{(ae.scrollTopChanged||!ne.isScheduled())&&ne.schedule()})),this.c.add(this.l.onDidChangeModelContent(ae=>{const ie=Math.max(ne.delay,1250);ne.schedule(ie)})),W.enabled==="on")this.j=0;else{let ae,ie;W.enabled==="onUnlessPressed"?(ae=0,ie=1):(ae=1,ie=0),this.j=ae,this.c.add(w.ModifierKeyEmitter.getInstance().event(le=>{if(!this.l.hasModel())return;const J=le.altKey&&le.ctrlKey&&!(le.shiftKey||le.metaKey)?ie:ae;if(J!==this.j){this.j=J;const x=this.l.getModel(),q=this.z(x);this.B([x.getFullModelRange()],q),ne.schedule(0)}}))}this.c.add(this.u(()=>ne.schedule(0))),this.c.add(this.s()),this.c.add(this.v())}s(){const W=new v.DisposableStore,V=W.add(new f.ClickLinkGesture(this.l)),R=new v.DisposableStore;return W.add(R),W.add(V.onMouseMoveOrRelevantKeyDown($=>{const[X]=$,ne=this.w(X),ae=this.l.getModel();if(!ne||!ae){R.clear();return}const ie=new D.CancellationTokenSource;R.add((0,v.toDisposable)(()=>ie.dispose(!0))),ne.item.resolve(ie.token),this.k=ne.part.command||ne.part.location?new A(ne,X.hasTriggerModifier):void 0;const le=ae.validatePosition(ne.item.hint.position).lineNumber,J=new r.Range(le,1,le,ae.getLineMaxColumn(le)),x=this.t(J);this.B([J],x),R.add((0,v.toDisposable)(()=>{this.k=void 0,this.B([J],x)}))})),W.add(V.onCancel(()=>R.clear())),W.add(V.onExecute($=>Le(this,void 0,void 0,function*(){const X=this.w($);if(X){const ne=X.part;ne.location?this.q.invokeFunction(p.goToDefinitionWithLocation,$,this.l,ne.location):c.Command.is(ne.command)&&(yield this.x(ne.command,X.item))}}))),W}t(W){const V=new Set;for(const R of this.g.values())W.containsRange(R.item.anchor.range)&&V.add(R.item);return Array.from(V)}u(W){return this.l.onMouseUp(V=>Le(this,void 0,void 0,function*(){if(V.event.detail!==2)return;const R=this.w(V);if(!!R&&(V.event.preventDefault(),yield R.item.resolve(D.CancellationToken.None),(0,N.isNonEmptyArray)(R.item.hint.textEdits))){const $=R.item.hint.textEdits.map(X=>a.EditOperation.replace(r.Range.lift(X.range),X.text));this.l.executeEdits("inlayHint.default",$),W()}}))}v(){return this.l.onContextMenu(W=>Le(this,void 0,void 0,function*(){if(!(W.event.target instanceof HTMLElement))return;const V=this.w(W);V&&(yield this.q.invokeFunction(p.showGoToContextMenu,this.l,W.event.target,V))}))}w(W){var V;if(W.target.type!==6)return;const R=(V=W.target.detail.injectedText)===null||V===void 0?void 0:V.options;if(R instanceof s.ModelDecorationInjectedTextOptions&&R?.attachedData instanceof P)return R.attachedData}x(W,V){var R;return Le(this,void 0,void 0,function*(){try{yield this.o.executeCommand(W.id,...(R=W.arguments)!==null&&R!==void 0?R:[])}catch($){this.p.notify({severity:k.Severity.Error,source:V.provider.displayName,message:$})}})}y(W){const V=this.z(W);this.n.set(W,V)}z(W){const V=new Map;for(const[R,$]of this.g){if(V.has($.item))continue;const X=W.getDecorationRange(R);if(X){const ne=new S.InlayHintAnchor(X,$.item.anchor.direction),ae=$.item.with({anchor:ne});V.set($.item,ae)}}return Array.from(V.values())}A(){const V=this.l.getModel(),R=this.l.getVisibleRangesPlusViewportAboveBelow(),$=[];for(const X of R.sort(r.Range.compareRangesUsingStarts)){const ne=V.validateRange(new r.Range(X.startLineNumber-30,X.startColumn,X.endLineNumber+30,X.endColumn));$.length===0||!r.Range.areIntersectingOrTouching($[$.length-1],ne)?$.push(ne):$[$.length-1]=r.Range.plusRange($[$.length-1],ne)}return $}B(W,V){var R,$;const X=[],ne=(re,oe,G,Z,U)=>{const j={content:G,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:oe.className,cursorStops:Z,attachedData:U};X.push({item:re,classNameRef:oe,decoration:{range:re.anchor.range,options:{description:"InlayHint",showIfCollapsed:re.anchor.range.isEmpty(),collapseOnReplaceEdit:!re.anchor.range.isEmpty(),stickiness:0,[re.anchor.direction]:this.j===0?j:void 0}}})},ae=(re,oe)=>{const G=this.h.createClassNameRef({width:`${ie/3|0}px`,display:"inline-block"});ne(re,G,"\u200A",oe?u.InjectedTextCursorStops.Right:u.InjectedTextCursorStops.None)},{fontSize:ie,fontFamily:le,padding:J,isUniform:x}=this.D(),q="--code-editorInlayHintsFontFamily";this.l.getContainerDomNode().style.setProperty(q,le);for(const re of V){re.hint.paddingLeft&&ae(re,!1);const oe=typeof re.hint.label=="string"?[{label:re.hint.label}]:re.hint.label;for(let G=0;G<oe.length;G++){const Z=oe[G],U=G===0,j=G===oe.length-1,H={fontSize:`${ie}px`,fontFamily:`var(${q}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:x?"baseline":"middle"};(0,N.isNonEmptyArray)(re.hint.textEdits)&&(H.cursor="default"),this.C(H,re.hint),(Z.command||Z.location)&&((R=this.k)===null||R===void 0?void 0:R.part.item)===re&&this.k.part.index===G&&(H.textDecoration="underline",this.k.hasTriggerModifier&&(H.color=(0,M.themeColorFromId)(I.editorActiveLinkForeground),H.cursor="pointer")),J&&(U&&j?(H.padding=`1px ${Math.max(1,ie/4)|0}px`,H.borderRadius=`${ie/4|0}px`):U?(H.padding=`1px 0 1px ${Math.max(1,ie/4)|0}px`,H.borderRadius=`${ie/4|0}px 0 0 ${ie/4|0}px`):j?(H.padding=`1px ${Math.max(1,ie/4)|0}px 1px 0`,H.borderRadius=`0 ${ie/4|0}px ${ie/4|0}px 0`):H.padding="1px 0 1px 0"),ne(re,this.h.createClassNameRef(H),O(Z.label),j&&!re.hint.paddingRight?u.InjectedTextCursorStops.Right:u.InjectedTextCursorStops.None,new P(re,G))}if(re.hint.paddingRight&&ae(re,!0),X.length>Ci.a)break}const Y=[];for(const re of W)for(const{id:oe}of($=this.l.getDecorationsInRange(re))!==null&&$!==void 0?$:[]){const G=this.g.get(oe);G&&(Y.push(oe),G.classNameRef.dispose(),this.g.delete(oe))}const Q=t.StableEditorScrollState.capture(this.l);this.l.changeDecorations(re=>{const oe=re.deltaDecorations(Y,X.map(G=>G.decoration));for(let G=0;G<oe.length;G++){const Z=X[G];this.g.set(oe[G],Z)}}),Q.restore(this.l)}C(W,V){V.kind===c.InlayHintKind.Parameter?(W.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintParameterBackground),W.color=(0,M.themeColorFromId)(I.editorInlayHintParameterForeground)):V.kind===c.InlayHintKind.Type?(W.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintTypeBackground),W.color=(0,M.themeColorFromId)(I.editorInlayHintTypeForeground)):(W.backgroundColor=(0,M.themeColorFromId)(I.editorInlayHintBackground),W.color=(0,M.themeColorFromId)(I.editorInlayHintForeground))}D(){const W=this.l.getOption(134),V=W.padding,R=this.l.getOption(49),$=this.l.getOption(46);let X=W.fontSize;(!X||X<5||X>R)&&(X=R);const ne=W.fontFamily||$;return{fontSize:X,fontFamily:ne,padding:V,isUniform:!V&&ne===$&&X===R}}E(){this.l.removeDecorations(Array.from(this.g.keys()));for(const W of this.g.values())W.classNameRef.dispose();this.g.clear()}};T.ID="editor.contrib.InlayHints",T.a=1500,T=De([fe(1,o.ILanguageFeaturesService),fe(2,l.ILanguageFeatureDebounceService),fe(3,z),fe(4,m.ICommandService),fe(5,k.INotificationService),fe(6,L.IInstantiationService)],T),e.InlayHintsController=T;function O(F){const W="\xA0";return F.replace(/[ \t]/g,W)}m.CommandsRegistry.registerCommand("_executeInlayHintProvider",(F,...W)=>Le(void 0,void 0,void 0,function*(){const[V,R]=W;(0,d.assertType)(g.URI.isUri(V)),(0,d.assertType)(r.Range.isIRange(R));const{inlayHintsProvider:$}=F.get(o.ILanguageFeaturesService),X=yield F.get(h.ITextModelService).createModelReference(V);try{const ne=yield S.InlayHintsFragments.create($,X.object.textEditorModel,[r.Range.lift(R)],D.CancellationToken.None),ae=ne.items.map(ie=>ie.hint);return setTimeout(()=>ne.dispose(),0),ae}finally{X.dispose()}}))});var yt=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],w;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),w={},N("next"),N("throw"),N("return"),w[Symbol.asyncIterator]=function(){return this},w);function N(D){w[D]=K[D]&&function(y){return new Promise(function(v,C){y=K[D](y),E(v,C,y.done,y.value)})}}function E(D,y,v,C){Promise.resolve(C).then(function(d){D({value:d,done:v})},y)}};define(ee[829],te([1,0,12,71,11,38,94,40,61,310,228,332,32,53,19,621,16,290,17]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class l extends y.HoverForeignElementAnchor{constructor(f,S,p,m){super(10,S,f.item.anchor.range,p,m,!0),this.part=f}}let o=class extends g.MarkdownHoverParticipant{constructor(f,S,p,m,b,L){super(f,S,p,m,L),this.i=b,this.hoverOrdinal=6}suggestHoverAnchor(f){var S;if(!i.InlayHintsController.get(this.c)||f.target.type!==6)return null;const m=(S=f.target.detail.injectedText)===null||S===void 0?void 0:S.options;return m instanceof D.ModelDecorationInjectedTextOptions&&m.attachedData instanceof i.RenderedInlayHintLabelPart?new l(m.attachedData,this,f.event.posx,f.event.posy):null}computeSync(){return[]}computeAsync(f,S,p){return f instanceof l?new w.AsyncIterableObject(m=>Le(this,void 0,void 0,function*(){var b,L,k,I;const{part:M}=f;if(yield M.item.resolve(p),p.isCancellationRequested)return;let B;typeof M.item.hint.tooltip=="string"?B=new N.MarkdownString().appendText(M.item.hint.tooltip):M.item.hint.tooltip&&(B=M.item.hint.tooltip),B&&m.emitOne(new g.MarkdownHover(this,f.range,[B],!1,0)),(0,s.isNonEmptyArray)(M.item.hint.textEdits)&&m.emitOne(new g.MarkdownHover(this,f.range,[new N.MarkdownString().appendText((0,r.localize)(0,null))],!1,10001));let z;if(typeof M.part.tooltip=="string"?z=new N.MarkdownString().appendText(M.part.tooltip):M.part.tooltip&&(z=M.part.tooltip),z&&m.emitOne(new g.MarkdownHover(this,f.range,[z],!1,1)),M.part.location||M.part.command){let F;const V=this.c.getOption(74)==="altKey"?c.isMacintosh?(0,r.localize)(1,null):(0,r.localize)(2,null):c.isMacintosh?(0,r.localize)(3,null):(0,r.localize)(4,null);M.part.location&&M.part.command?F=new N.MarkdownString().appendText((0,r.localize)(5,null,V)):M.part.location?F=new N.MarkdownString().appendText((0,r.localize)(6,null,V)):M.part.command&&(F=new N.MarkdownString(`[${(0,r.localize)(7,null)}](${(0,u.asCommandLink)(M.part.command)} "${M.part.command.title}") (${V})`,{isTrusted:!0})),F&&m.emitOne(new g.MarkdownHover(this,f.range,[F],!1,1e4))}const P=yield this.j(M,p);try{for(var A=!0,T=yt(P),O;O=yield T.next(),b=O.done,!b;){I=O.value,A=!1;try{const F=I;m.emitOne(F)}finally{A=!0}}}catch(F){L={error:F}}finally{try{!A&&!b&&(k=T.return)&&(yield k.call(T))}finally{if(L)throw L.error}}})):w.AsyncIterableObject.EMPTY}j(f,S){return Le(this,void 0,void 0,function*(){if(!f.part.location)return w.AsyncIterableObject.EMPTY;const{uri:p,range:m}=f.part.location,b=yield this.i.createModelReference(p);try{const L=b.object.textEditorModel;return this.h.hoverProvider.has(L)?(0,d.getHover)(this.h.hoverProvider,L,new E.Position(m.startLineNumber,m.startColumn),S).filter(k=>!(0,N.isEmptyMarkdownString)(k.hover.contents)).map(k=>new g.MarkdownHover(this,f.item.anchor.range,k.hover.contents,!1,2+k.ordinal)):w.AsyncIterableObject.EMPTY}finally{b.dispose()}})}};o=De([fe(1,v.ILanguageService),fe(2,n.IOpenerService),fe(3,t.IConfigurationService),fe(4,C.ITextModelService),fe(5,a.ILanguageFeaturesService)],o),e.InlayHintsHover=o}),define(ee[830],te([1,0,14,94,332,829]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(E.InlayHintsController.ID,E.InlayHintsController,1),N.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ee[831],te([1,0,2,7,96,106,135,11,170,227,19,331,8,20,3,66,149,414]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class s{constructor(f,S){this.lineNumbers=f,this.lastLineRelativePosition=S}}e.StickyScrollWidgetState=s;const l=(u=window.trustedTypes)===null||u===void 0?void 0:u.createPolicy("stickyScrollViewLayer",{createHTML:h=>h});let o=class extends w.Disposable{constructor(f,S,p){super(),this.m=f,this.n=S,this.p=p,this.b=document.createElement("div"),this.c=this.q(new w.DisposableStore),this.g=[],this.h=0,this.i=-1,this.j=-1,this.l=-1,this.a=this.m.getLayoutInfo(),this.b=document.createElement("div"),this.b.className="sticky-widget",this.b.classList.toggle("peek",f instanceof c.EmbeddedCodeEditorWidget),this.b.style.width=`${this.a.width-this.a.minimap.minimapCanvasOuterWidth-this.a.verticalScrollbarWidth}px`,this.q(this.r())}r(){const f=new w.DisposableStore,S=new w.DisposableStore;f.add(S);const p=new C.ClickLinkGesture(this.m,!0);return f.add(p),f.add(p.onMouseMoveOrRelevantKeyDown(([m,b])=>{if(!this.m.hasModel()||!m.hasTriggerModifier){S.clear();return}const L=m.target;if(L.detail===this.getId()&&L.element.innerText===L.element.innerHTML){const k=L.element.innerText;if(this.j===-1)return;const I=this.i,M=this.j,B=new a.Range(I,M,I,M+k.length);if(!B.equalsRange(this.k))this.k=B,S.clear();else if(L.element.style.textDecoration==="underline")return;const z=new n.CancellationTokenSource;S.add((0,w.toDisposable)(()=>z.dispose(!0)));let P;(0,d.getDefinitionsAtPosition)(this.n.definitionProvider,this.m.getModel(),new v.Position(I,M+1),z.token).then(A=>{if(!z.token.isCancellationRequested)if(A.length!==0){this.l=A.length;const T=L.element;P!==T?(S.clear(),P=T,P.style.textDecoration="underline",S.add((0,w.toDisposable)(()=>{P.style.textDecoration="none"}))):P||(P=T,P.style.textDecoration="underline",S.add((0,w.toDisposable)(()=>{P.style.textDecoration="none"})))}else S.clear()})}else S.clear()})),f.add(p.onCancel(()=>{S.clear()})),f.add(p.onExecute(m=>Le(this,void 0,void 0,function*(){if(m.target.detail===this.getId()){if(m.hasTriggerModifier)this.l>1&&this.m.revealPosition({lineNumber:this.i,column:1}),this.p.invokeFunction(i.goToDefinitionWithLocation,m,this.m,{uri:this.m.getModel().uri,range:this.k});else if(!m.isRightClick){const b={lineNumber:this.i,column:this.j};this.m.revealPosition(b),this.m.setSelection(a.Range.fromPositions(b)),this.m.focus()}}}))),f}getCurrentLines(){return this.g}setState(f){this.c.clear(),this.g.length=0,N.clearNode(this.b),this.h=f.lastLineRelativePosition,this.g=f.lineNumbers,this.t()}s(f,S){const p=document.createElement("div"),m=this.m._getViewModel(),b=m.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(S,1)).lineNumber,L=m.getViewLineRenderingData(b),k=this.m.getLayoutInfo(),I=k.width-k.minimap.minimapCanvasOuterWidth-k.verticalScrollbarWidth,M=this.m.getOption(69).side,B=this.m.getOption(63),z=this.m.getOption(64);let P;try{P=y.LineDecoration.filter(L.inlineDecorations,b,L.minColumn,L.maxColumn)}catch{P=[]}const A=new D.RenderLineInput(!0,!0,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,0,L.tokens,P,L.tabSize,L.startVisibleColumn,1,1,1,500,"none",!0,!0,null),T=new E.StringBuilder(2e3);(0,D.renderViewLine)(A,T);let O;l?O=l.createHTML(T.build()):O=T.build();const F=document.createElement("span");F.className="sticky-line",F.classList.add(`stickyLine${S}`),F.style.lineHeight=`${B}px`,F.innerHTML=O;const W=document.createElement("span");W.className="sticky-line",W.style.lineHeight=`${B}px`,M==="left"?W.style.width=`${k.contentLeft-k.minimap.minimapCanvasOuterWidth}px`:M==="right"&&(W.style.width=`${k.contentLeft}px`);const V=document.createElement("span");return z.renderType===1||z.renderType===3&&S%10===0?V.innerText=S.toString():z.renderType===2&&(V.innerText=Math.abs(S-this.m.getPosition().lineNumber).toString()),V.className="sticky-line-number",V.style.lineHeight=`${B}px`,V.style.width=`${k.lineNumbersWidth}px`,M==="left"?V.style.paddingLeft=`${k.lineNumbersLeft-k.minimap.minimapCanvasOuterWidth}px`:M==="right"&&(V.style.paddingLeft=`${k.lineNumbersLeft}px`),W.appendChild(V),this.m.applyFontInfo(F),this.m.applyFontInfo(V),p.appendChild(W),p.appendChild(F),p.className="sticky-line-root",p.style.lineHeight=`${B}px`,p.style.width=`${I}px`,p.style.height=`${B}px`,p.style.zIndex="0",f===this.g.length-1&&(p.style.position="relative",p.style.zIndex="-1",p.style.top=this.h+"px"),this.c.add(N.addDisposableListener(p,"mouseover",R=>{if(this.m.hasModel()){const X=new r.StandardMouseEvent(R).target.innerText;this.i=S,this.j=this.m.getModel().getLineContent(S).indexOf(X)+1||-1}})),p}t(){if(!this.m._getViewModel())return;for(const[m,b]of this.g.entries())this.b.appendChild(this.s(m,b));const f=this.m.getOption(63),S=this.g.length*f+this.h;this.b.style.height=S.toString()+"px",this.m.getOption(69).side==="left"&&(this.b.style.marginLeft=this.m.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.b}getPosition(){return{preference:null}}};o=De([fe(1,g.ILanguageFeaturesService),fe(2,t.IInstantiationService)],o),e.StickyScrollWidget=o}),define(ee[832],te([1,0,2,19,831,819,8,7,56,29]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let g=class extends w.Disposable{constructor(t,n,a,r){super(),this.i=t,this.j=n,this.c=new w.DisposableStore,this.h=Number.MAX_SAFE_INTEGER,this.a=new E.StickyScrollWidget(this.i,a,r),this.b=new D.StickyLineCandidateProvider(this.i,a),this.g=new E.StickyScrollWidgetState([],0),this.q(this.a),this.q(this.b),this.q(this.i.onDidChangeConfiguration(c=>{c.hasChanged(109)&&this.l()})),this.l(),this.q(v.addDisposableListener(this.a.getDomNode(),v.EventType.CONTEXT_MENU,c=>Le(this,void 0,void 0,function*(){this.k(c)})))}k(t){this.j.showContextMenu({menuId:d.MenuId.StickyScrollContext,getAnchor:()=>t})}l(){if(this.i.getOption(109).enabled===!1){this.i.removeOverlayWidget(this.a),this.c.clear();return}else this.i.addOverlayWidget(this.a),this.c.add(this.i.onDidScrollChange(()=>this.r())),this.c.add(this.i.onDidLayoutChange(()=>this.p())),this.c.add(this.i.onDidChangeModelTokens(a=>this.n(a))),this.c.add(this.b.onDidChangeStickyScroll(()=>this.r())),this.i.getOption(64).renderType===2&&this.c.add(this.i.onDidChangeCursorPosition(()=>this.r()))}m(t){const n=this.a.getCurrentLines();for(const a of n)for(const r of t.ranges)if(a>=r.fromLineNumber&&a<=r.toLineNumber)return!0;return!1}n(t){this.m(t)&&this.r()}p(){const t=this.i.getLayoutInfo(),n=t.width-t.minimap.minimapCanvasOuterWidth-t.verticalScrollbarWidth;this.a.getDomNode().style.width=`${n}px`;const a=t.height/this.i.getOption(63);this.h=Math.round(a*.25)}r(){if(!this.i.hasModel())return;const t=this.i.getModel(),n=this.b.getVersionId();(n===void 0||n===t.getVersionId())&&(this.g=this.getScrollWidgetState(),this.a.setState(this.g))}getScrollWidgetState(){const t=this.i.getOption(63),n=Math.min(this.h,this.i.getOption(109).maxLineCount),a=this.i.getScrollTop();let r=0;const c=[],u=this.i.getVisibleRanges();if(u.length!==0){const s=new D.StickyRange(u[0].startLineNumber,u[u.length-1].endLineNumber),l=this.b.getCandidateStickyLinesIntersecting(s);for(const o of l){const h=o.startLineNumber,f=o.endLineNumber,S=o.nestingDepth;if(f-h>0){const p=(S-1)*t,m=S*t,b=this.i.getBottomForLineNumber(h)-a,L=this.i.getTopForLineNumber(f)-a,k=this.i.getBottomForLineNumber(f)-a;if(p>L&&p<=k){c.push(h),r=k-m;break}else m>b&&m<=k&&c.push(h);if(c.length===n)break}}}return new E.StickyScrollWidgetState(c,r)}dispose(){super.dispose(),this.c.dispose()}};g.ID="store.contrib.stickyScrollController",g=De([fe(1,C.IContextMenuService),fe(2,N.ILanguageFeaturesService),fe(3,y.IInstantiationService)],g),e.StickyScrollController=g}),define(ee[833],te([1,0,14,719,832,29]),function(K,e,w,N,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(E.StickyScrollController.ID,E.StickyScrollController,1),(0,D.registerAction2)(N.ToggleStickyScroll)}),define(ee[834],te([1,0,14,28,328,32,15,8,42,84]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends E.ReferencesController{constructor(t,n,a,r,c,u,s){super(!0,t,n,a,r,c,u,s)}};g=De([fe(1,y.IContextKeyService),fe(2,N.ICodeEditorService),fe(3,C.INotificationService),fe(4,v.IInstantiationService),fe(5,d.IStorageService),fe(6,D.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,w.registerEditorContribution)(E.ReferencesController.ID,g,4)}),define(ee[835],te([1,0,13,2,47,93,675,144,51,42,178]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function t(S){return S.scheme===E.Schemas.file?S.fsPath:S.path}let n=0;class a{constructor(p,m,b,L,k,I,M){this.id=++n,this.type=0,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabel=m,this.strResource=b,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=k,this.sourceId=I,this.sourceOrder=M,this.isValid=!0}setValid(p){this.isValid=p}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(p,m){this.resourceLabel=p,this.reason=m}}class c{constructor(){this.a=new Map}createMessage(){const p=[],m=[];for(const[,L]of this.a)(L.reason===0?p:m).push(L.resourceLabel);const b=[];return p.length>0&&b.push(y.localize(0,null,p.join(", "))),m.length>0&&b.push(y.localize(1,null,m.join(", "))),b.join(`
`)}get size(){return this.a.size}has(p){return this.a.has(p)}set(p,m){this.a.set(p,m)}delete(p){return this.a.delete(p)}}class u{constructor(p,m,b,L,k,I,M){this.id=++n,this.type=1,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabels=m,this.strResources=b,this.groupId=L,this.groupOrder=k,this.sourceId=I,this.sourceOrder=M,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(p,m,b){this.removedResources||(this.removedResources=new c),this.removedResources.has(m)||this.removedResources.set(m,new r(p,b))}setValid(p,m,b){b?this.invalidatedResources&&(this.invalidatedResources.delete(m),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(m)||this.invalidatedResources.set(m,new r(p,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(p,m){this.resourceLabel=p,this.a=m,this.b=[],this.c=[],this.locked=!1,this.versionId=1}dispose(){for(const p of this.b)p.type===1&&p.removeResource(this.resourceLabel,this.a,0);for(const p of this.c)p.type===1&&p.removeResource(this.resourceLabel,this.a,0);this.versionId++}toString(){const p=[];p.push(`* ${this.a}:`);for(let m=0;m<this.b.length;m++)p.push(`   * [UNDO] ${this.b[m]}`);for(let m=this.c.length-1;m>=0;m--)p.push(`   * [REDO] ${this.c[m]}`);return p.join(`
`)}flushAllElements(){this.b=[],this.c=[],this.versionId++}d(p,m){p.type===1?p.setValid(this.resourceLabel,this.a,m):p.setValid(m)}setElementsValidFlag(p,m){for(const b of this.b)m(b.actual)&&this.d(b,p);for(const b of this.c)m(b.actual)&&this.d(b,p)}pushElement(p){for(const m of this.c)m.type===1&&m.removeResource(this.resourceLabel,this.a,1);this.c=[],this.b.push(p),this.versionId++}createSnapshot(p){const m=[];for(let b=0,L=this.b.length;b<L;b++)m.push(this.b[b].id);for(let b=this.c.length-1;b>=0;b--)m.push(this.c[b].id);return new g.ResourceEditStackSnapshot(p,m)}restoreSnapshot(p){const m=p.elements.length;let b=!0,L=0,k=-1;for(let M=0,B=this.b.length;M<B;M++,L++){const z=this.b[M];b&&(L>=m||z.id!==p.elements[L])&&(b=!1,k=0),!b&&z.type===1&&z.removeResource(this.resourceLabel,this.a,0)}let I=-1;for(let M=this.c.length-1;M>=0;M--,L++){const B=this.c[M];b&&(L>=m||B.id!==p.elements[L])&&(b=!1,I=M),!b&&B.type===1&&B.removeResource(this.resourceLabel,this.a,0)}k!==-1&&(this.b=this.b.slice(0,k)),I!==-1&&(this.c=this.c.slice(I+1)),this.versionId++}getElements(){const p=[],m=[];for(const b of this.b)p.push(b.actual);for(const b of this.c)m.push(b.actual);return{past:p,future:m}}getClosestPastElement(){return this.b.length===0?null:this.b[this.b.length-1]}getSecondClosestPastElement(){return this.b.length<2?null:this.b[this.b.length-2]}getClosestFutureElement(){return this.c.length===0?null:this.c[this.c.length-1]}hasPastElements(){return this.b.length>0}hasFutureElements(){return this.c.length>0}splitPastWorkspaceElement(p,m){for(let b=this.b.length-1;b>=0;b--)if(this.b[b]===p){m.has(this.a)?this.b[b]=m.get(this.a):this.b.splice(b,1);break}this.versionId++}splitFutureWorkspaceElement(p,m){for(let b=this.c.length-1;b>=0;b--)if(this.c[b]===p){m.has(this.a)?this.c[b]=m.get(this.a):this.c.splice(b,1);break}this.versionId++}moveBackward(p){this.b.pop(),this.c.push(p),this.versionId++}moveForward(p){this.c.pop(),this.b.push(p),this.versionId++}}class l{constructor(p){this.editStacks=p,this.a=[];for(let m=0,b=this.editStacks.length;m<b;m++)this.a[m]=this.editStacks[m].versionId}isValid(){for(let p=0,m=this.editStacks.length;p<m;p++)if(this.a[p]!==this.editStacks[p].versionId)return!1;return!0}}const o=new s("","");o.locked=!0;let h=class{constructor(p,m){this.c=p,this.d=m,this.a=new Map,this.b=[]}getUriComparisonKey(p){for(const m of this.b)if(m[0]===p.scheme)return m[1].getComparisonKey(p);return p.toString()}e(p){console.log("------------------------------------"),console.log(`AFTER ${p}: `);const m=[];for(const b of this.a)m.push(b[1].toString());console.log(m.join(`
`))}pushElement(p,m=g.UndoRedoGroup.None,b=g.UndoRedoSource.None){if(p.type===0){const L=t(p.resource),k=this.getUriComparisonKey(p.resource);this.f(new a(p,L,k,m.id,m.nextOrder(),b.id,b.nextOrder()))}else{const L=new Set,k=[],I=[];for(const M of p.resources){const B=t(M),z=this.getUriComparisonKey(M);L.has(z)||(L.add(z),k.push(B),I.push(z))}k.length===1?this.f(new a(p,k[0],I[0],m.id,m.nextOrder(),b.id,b.nextOrder())):this.f(new u(p,k,I,m.id,m.nextOrder(),b.id,b.nextOrder()))}i&&this.e("pushElement")}f(p){for(let m=0,b=p.strResources.length;m<b;m++){const L=p.resourceLabels[m],k=p.strResources[m];let I;this.a.has(k)?I=this.a.get(k):(I=new s(L,k),this.a.set(k,I)),I.pushElement(p)}}getLastElement(p){const m=this.getUriComparisonKey(p);if(this.a.has(m)){const b=this.a.get(m);if(b.hasFutureElements())return null;const L=b.getClosestPastElement();return L?L.actual:null}return null}g(p,m){const b=p.actual.split(),L=new Map;for(const k of b){const I=t(k.resource),M=this.getUriComparisonKey(k.resource),B=new a(k,I,M,0,0,0,0);L.set(B.strResource,B)}for(const k of p.strResources){if(m&&m.has(k))continue;this.a.get(k).splitPastWorkspaceElement(p,L)}}h(p,m){const b=p.actual.split(),L=new Map;for(const k of b){const I=t(k.resource),M=this.getUriComparisonKey(k.resource),B=new a(k,I,M,0,0,0,0);L.set(B.strResource,B)}for(const k of p.strResources){if(m&&m.has(k))continue;this.a.get(k).splitFutureWorkspaceElement(p,L)}}removeElements(p){const m=typeof p=="string"?p:this.getUriComparisonKey(p);this.a.has(m)&&(this.a.get(m).dispose(),this.a.delete(m)),i&&this.e("removeElements")}setElementsValidFlag(p,m,b){const L=this.getUriComparisonKey(p);this.a.has(L)&&this.a.get(L).setElementsValidFlag(m,b),i&&this.e("setElementsValidFlag")}createSnapshot(p){const m=this.getUriComparisonKey(p);return this.a.has(m)?this.a.get(m).createSnapshot(p):new g.ResourceEditStackSnapshot(p,[])}restoreSnapshot(p){const m=this.getUriComparisonKey(p.resource);if(this.a.has(m)){const b=this.a.get(m);b.restoreSnapshot(p),!b.hasPastElements()&&!b.hasFutureElements()&&(b.dispose(),this.a.delete(m))}i&&this.e("restoreSnapshot")}getElements(p){const m=this.getUriComparisonKey(p);return this.a.has(m)?this.a.get(m).getElements():{past:[],future:[]}}k(p){if(!p)return[null,null];let m=null,b=null;for(const[L,k]of this.a){const I=k.getClosestPastElement();!I||I.sourceId===p&&(!m||I.sourceOrder>m.sourceOrder)&&(m=I,b=L)}return[m,b]}canUndo(p){if(p instanceof g.UndoRedoSource){const[,b]=this.k(p.id);return!!b}const m=this.getUriComparisonKey(p);return this.a.has(m)?this.a.get(m).hasPastElements():!1}l(p,m){(0,w.onUnexpectedError)(p);for(const b of m.strResources)this.removeElements(b);this.d.error(p)}m(p){for(const m of p.editStacks)if(m.locked)throw new Error("Cannot acquire edit stack lock");for(const m of p.editStacks)m.locked=!0;return()=>{for(const m of p.editStacks)m.locked=!1}}n(p,m,b,L,k){const I=this.m(b);let M;try{M=m()}catch(B){return I(),L.dispose(),this.l(B,p)}return M?M.then(()=>(I(),L.dispose(),k()),B=>(I(),L.dispose(),this.l(B,p))):(I(),L.dispose(),k())}o(p){return Le(this,void 0,void 0,function*(){if(typeof p.actual.prepareUndoRedo>"u")return N.Disposable.None;const m=p.actual.prepareUndoRedo();return typeof m>"u"?N.Disposable.None:m})}p(p,m){if(p.actual.type!==1||typeof p.actual.prepareUndoRedo>"u")return m(N.Disposable.None);const b=p.actual.prepareUndoRedo();return b?(0,N.isDisposable)(b)?m(b):b.then(L=>m(L)):m(N.Disposable.None)}q(p){const m=[];for(const b of p.strResources)m.push(this.a.get(b)||o);return new l(m)}s(p,m,b,L){if(m.canSplit())return this.g(m,b),this.d.warn(L),new f(this.A(p,0,!0));for(const k of m.strResources)this.removeElements(k);return this.d.warn(L),new f}t(p,m,b,L){if(m.removedResources)return this.s(p,m,m.removedResources,y.localize(2,null,m.label,m.removedResources.createMessage()));if(L&&m.invalidatedResources)return this.s(p,m,m.invalidatedResources,y.localize(3,null,m.label,m.invalidatedResources.createMessage()));const k=[];for(const M of b.editStacks)M.getClosestPastElement()!==m&&k.push(M.resourceLabel);if(k.length>0)return this.s(p,m,null,y.localize(4,null,m.label,k.join(", ")));const I=[];for(const M of b.editStacks)M.locked&&I.push(M.resourceLabel);return I.length>0?this.s(p,m,null,y.localize(5,null,m.label,I.join(", "))):b.isValid()?null:this.s(p,m,null,y.localize(6,null,m.label))}u(p,m,b){const L=this.q(m),k=this.t(p,m,L,!1);return k?k.returnValue:this.w(p,m,L,b)}v(p){if(!p.groupId)return!1;for(const[,m]of this.a){const b=m.getClosestPastElement();if(!!b){if(b===p){const L=m.getSecondClosestPastElement();if(L&&L.groupId===p.groupId)return!0}if(b.groupId===p.groupId)return!0}}return!1}w(p,m,b,L){return Le(this,void 0,void 0,function*(){if(m.canSplit()&&!this.v(m)){const M=yield this.c.show(D.default.Info,y.localize(7,null,m.label),[y.localize(8,null,b.editStacks.length),y.localize(9,null),y.localize(10,null)],{cancelId:2});if(M.choice===2)return;if(M.choice===1)return this.g(m,null),this.A(p,0,!0);const B=this.t(p,m,b,!1);if(B)return B.returnValue;L=!0}let k;try{k=yield this.o(m)}catch(M){return this.l(M,m)}const I=this.t(p,m,b,!0);if(I)return k.dispose(),I.returnValue;for(const M of b.editStacks)M.moveBackward(m);return this.n(m,()=>m.actual.undo(),b,k,()=>this.z(m.groupId,L))})}x(p,m,b){if(!m.isValid){p.flushAllElements();return}if(p.locked){const L=y.localize(11,null,m.label);this.d.warn(L);return}return this.p(m,L=>(p.moveBackward(m),this.n(m,()=>m.actual.undo(),new l([p]),L,()=>this.z(m.groupId,b))))}y(p){if(!p)return[null,null];let m=null,b=null;for(const[L,k]of this.a){const I=k.getClosestPastElement();!I||I.groupId===p&&(!m||I.groupOrder>m.groupOrder)&&(m=I,b=L)}return[m,b]}z(p,m){if(!p)return;const[,b]=this.y(p);if(b)return this.A(b,0,m)}undo(p){if(p instanceof g.UndoRedoSource){const[,m]=this.k(p.id);return m?this.A(m,p.id,!1):void 0}return typeof p=="string"?this.A(p,0,!1):this.A(this.getUriComparisonKey(p),0,!1)}A(p,m=0,b){if(!this.a.has(p))return;const L=this.a.get(p),k=L.getClosestPastElement();if(!k)return;if(k.groupId){const[M,B]=this.y(k.groupId);if(k!==M&&B)return this.A(B,m,b)}if((k.sourceId!==m||k.confirmBeforeUndo)&&!b)return this.B(p,m,k);try{return k.type===1?this.u(p,k,b):this.x(L,k,b)}finally{i&&this.e("undo")}}B(p,m,b){return Le(this,void 0,void 0,function*(){if((yield this.c.show(D.default.Info,y.localize(12,null,b.label),[y.localize(13,null),y.localize(14,null)],{cancelId:1})).choice!==1)return this.A(p,m,!0)})}C(p){if(!p)return[null,null];let m=null,b=null;for(const[L,k]of this.a){const I=k.getClosestFutureElement();!I||I.sourceId===p&&(!m||I.sourceOrder<m.sourceOrder)&&(m=I,b=L)}return[m,b]}canRedo(p){if(p instanceof g.UndoRedoSource){const[,b]=this.C(p.id);return!!b}const m=this.getUriComparisonKey(p);return this.a.has(m)?this.a.get(m).hasFutureElements():!1}D(p,m,b,L){if(m.canSplit())return this.h(m,b),this.d.warn(L),new f(this.K(p));for(const k of m.strResources)this.removeElements(k);return this.d.warn(L),new f}E(p,m,b,L){if(m.removedResources)return this.D(p,m,m.removedResources,y.localize(15,null,m.label,m.removedResources.createMessage()));if(L&&m.invalidatedResources)return this.D(p,m,m.invalidatedResources,y.localize(16,null,m.label,m.invalidatedResources.createMessage()));const k=[];for(const M of b.editStacks)M.getClosestFutureElement()!==m&&k.push(M.resourceLabel);if(k.length>0)return this.D(p,m,null,y.localize(17,null,m.label,k.join(", ")));const I=[];for(const M of b.editStacks)M.locked&&I.push(M.resourceLabel);return I.length>0?this.D(p,m,null,y.localize(18,null,m.label,I.join(", "))):b.isValid()?null:this.D(p,m,null,y.localize(19,null,m.label))}F(p,m){const b=this.q(m),L=this.E(p,m,b,!1);return L?L.returnValue:this.G(p,m,b)}G(p,m,b){return Le(this,void 0,void 0,function*(){let L;try{L=yield this.o(m)}catch(I){return this.l(I,m)}const k=this.E(p,m,b,!0);if(k)return L.dispose(),k.returnValue;for(const I of b.editStacks)I.moveForward(m);return this.n(m,()=>m.actual.redo(),b,L,()=>this.J(m.groupId))})}H(p,m){if(!m.isValid){p.flushAllElements();return}if(p.locked){const b=y.localize(20,null,m.label);this.d.warn(b);return}return this.p(m,b=>(p.moveForward(m),this.n(m,()=>m.actual.redo(),new l([p]),b,()=>this.J(m.groupId))))}I(p){if(!p)return[null,null];let m=null,b=null;for(const[L,k]of this.a){const I=k.getClosestFutureElement();!I||I.groupId===p&&(!m||I.groupOrder<m.groupOrder)&&(m=I,b=L)}return[m,b]}J(p){if(!p)return;const[,m]=this.I(p);if(m)return this.K(m)}redo(p){if(p instanceof g.UndoRedoSource){const[,m]=this.C(p.id);return m?this.K(m):void 0}return typeof p=="string"?this.K(p):this.K(this.getUriComparisonKey(p))}K(p){if(!this.a.has(p))return;const m=this.a.get(p),b=m.getClosestFutureElement();if(!!b){if(b.groupId){const[L,k]=this.I(b.groupId);if(b!==L&&k)return this.K(k)}try{return b.type===1?this.F(p,b):this.H(m,b)}finally{i&&this.e("redo")}}}};h=De([fe(0,v.IDialogService),fe(1,d.INotificationService)],h),e.UndoRedoService=h;class f{constructor(p){this.returnValue=p}}(0,C.registerSingleton)(g.IUndoRedoService,h,1)}),define(ee[181],te([1,0,676,88,182,21,8]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function v(n){const a=n;return typeof a?.id=="string"&&D.URI.isUri(a.uri)}e.isSingleFolderWorkspaceIdentifier=v;function C(n){const a=n;return typeof a?.id=="string"&&!v(n)&&!g(n)}e.isEmptyWorkspaceIdentifier=C,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function d(n,a){if(typeof n=="string"||typeof n>"u")return typeof n=="string"?{id:(0,N.basename)(n)}:a?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const r=n;return r.configuration?{id:r.id,configPath:r.configuration}:r.folders.length===1?{id:r.id,uri:r.folders[0].uri}:{id:r.id}}e.toWorkspaceIdentifier=d;function g(n){const a=n;return typeof a?.id=="string"&&D.URI.isUri(a.configPath)}e.isWorkspaceIdentifier=g;class i{constructor(a,r,c,u,s){this.c=a,this.d=c,this.e=u,this.f=s,this.a=E.TernarySearchTree.forUris(this.f,()=>!0),this.folders=r}get folders(){return this.b}set folders(a){this.b=a,this.g()}get id(){return this.c}get transient(){return this.d}get configuration(){return this.e}set configuration(a){this.e=a}getFolder(a){return a&&this.a.findSubstr(a)||null}g(){this.a=E.TernarySearchTree.forUris(this.f,()=>!0);for(const a of this.folders)this.a.set(a.uri,a)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=i;class t{constructor(a,r){this.raw=r,this.uri=a.uri,this.index=a.index,this.name=a.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=t,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,w.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(ee[836],te([1,0,12,184,2,101,43,21,303,14,143,3,19,98,95,598,69,181]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=void 0;let s=class extends E.Disposable{constructor(h,f,S,p,m){super(),this.a=f,this.b=S,this.c=p,this.q(h.onDropIntoEditor(b=>this.g(h,b.position,b.event))),this.b.documentOnDropEditProvider.register("*",new l(m))}g(h,f,S){var p,m;return Le(this,void 0,void 0,function*(){if(!S.dataTransfer||!h.hasModel())return;const b=h.getModel(),L=b.getVersionId(),k=yield this.extractDataTransferData(S);if(k.size===0||h.getModel().getVersionId()!==L)return;const I=new n.EditorStateCancellationTokenSource(h,1);try{const M=this.b.documentOnDropEditProvider.ordered(b),B=yield this.c.withProgress({location:15,delay:750,title:(0,r.localize)(0,null),cancellable:!0},()=>(0,w.raceCancellation)((()=>Le(this,void 0,void 0,function*(){for(const z of M){const P=yield z.provideDocumentOnDropEdits(b,f,k,I.token);if(I.token.isCancellationRequested)return;if(P)return P}}))(),I.token),()=>{I.cancel()});if(I.token.isCancellationRequested||h.getModel().getVersionId()!==L)return;if(B){const z=typeof B.insertText=="string"?a.SnippetParser.escape(B.insertText):B.insertText.snippet,P={edits:[new g.ResourceTextEdit(b.uri,{range:new i.Range(f.lineNumber,f.column,f.lineNumber,f.column),text:z,insertAsSnippet:!0}),...(m=(p=B.additionalEdit)===null||p===void 0?void 0:p.edits)!==null&&m!==void 0?m:[]]};yield this.a.apply(P,{editor:h});return}}finally{I.dispose()}})}extractDataTransferData(h){return Le(this,void 0,void 0,function*(){if(!h.dataTransfer)return new N.VSDataTransfer;const f=(0,C.toVSDataTransfer)(h.dataTransfer);return(0,C.addExternalEditorsDropData)(f,h),f})}};s.ID="editor.contrib.dropIntoEditorController",s=De([fe(1,g.IBulkEditService),fe(2,t.ILanguageFeaturesService),fe(3,c.IProgressService),fe(4,u.IWorkspaceContextService)],s),e.DropIntoEditorController=s;let l=class{constructor(h){this.a=h}provideDocumentOnDropEdits(h,f,S,p){var m;return Le(this,void 0,void 0,function*(){const b=S.get(D.Mimes.uriList);if(b){const k=yield b.asString(),I=this.b(k);if(I)return{insertText:I}}const L=(m=S.get("text"))!==null&&m!==void 0?m:S.get(D.Mimes.text);if(L)return{insertText:yield L.asString()}})}b(h){const f=[];for(const S of N.UriList.parse(h))try{f.push(v.URI.parse(S))}catch{}if(!!f.length)return f.map(S=>{const p=this.a.getWorkspaceFolder(S);if(p){const m=(0,y.relativePath)(p.uri,S);if(m)return m}return S.fsPath}).join(" ")}};l=De([fe(0,u.IWorkspaceContextService)],l),(0,d.registerEditorContribution)(s.ID,s,2)}),define(ee[837],te([1,0,517,88,43,9,183,34,95,641,181]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(o){this.a=o}resolve(o){for(const h of this.a){const f=h.resolve(o);if(f!==void 0)return f}}}e.CompositeSnippetVariableResolver=i;class t{constructor(o,h,f,S){this.a=o,this.b=h,this.c=f,this.d=S}resolve(o){const{name:h}=o;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let f=this.a.getValueInRange(this.b)||void 0,S=this.b.startLineNumber!==this.b.endLineNumber;if(!f&&this.d){const p=this.d.getLastOvertypedInfo(this.c);p&&(f=p.value,S=p.multiline)}if(f&&S&&o.snippet){const p=this.a.getLineContent(this.b.startLineNumber),m=(0,D.getLeadingWhitespace)(p,0,this.b.startColumn-1);let b=m;o.snippet.walk(k=>k===o?!1:(k instanceof C.Text&&(b=(0,D.getLeadingWhitespace)((0,D.splitLines)(k.value).pop())),!0));const L=(0,D.commonPrefixLength)(b,m);f=f.replace(/(\r\n|\r|\n)(.*)/g,(k,I,M)=>`${I}${b.substr(L)}${M}`)}return f}else{if(h==="TM_CURRENT_LINE")return this.a.getLineContent(this.b.positionLineNumber);if(h==="TM_CURRENT_WORD"){const f=this.a.getWordAtPosition({lineNumber:this.b.positionLineNumber,column:this.b.positionColumn});return f&&f.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this.b.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this.b.positionLineNumber);if(h==="CURSOR_INDEX")return String(this.c);if(h==="CURSOR_NUMBER")return String(this.c+1)}}}}e.SelectionBasedVariableResolver=t;class n{constructor(o,h){this.a=o,this.b=h}resolve(o){const{name:h}=o;if(h==="TM_FILENAME")return N.basename(this.b.uri.fsPath);if(h==="TM_FILENAME_BASE"){const f=N.basename(this.b.uri.fsPath),S=f.lastIndexOf(".");return S<=0?f:f.slice(0,S)}else{if(h==="TM_DIRECTORY")return N.dirname(this.b.uri.fsPath)==="."?"":this.a.getUriLabel((0,E.dirname)(this.b.uri));if(h==="TM_FILEPATH")return this.a.getUriLabel(this.b.uri);if(h==="RELATIVE_FILEPATH")return this.a.getUriLabel(this.b.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class a{constructor(o,h,f,S){this.a=o,this.b=h,this.c=f,this.d=S}resolve(o){if(o.name!=="CLIPBOARD")return;const h=this.a();if(!!h){if(this.d){const f=h.split(/\r\n|\n|\r/).filter(S=>!(0,D.isFalsyOrWhitespace)(S));if(f.length===this.c)return f[this.b]}return h}}}e.ClipboardBasedVariableResolver=a;let r=class{constructor(o,h,f){this.a=o,this.b=h,this.c=f}resolve(o){const{name:h}=o,f=this.a.getLanguageIdAtPosition(this.b.selectionStartLineNumber,this.b.selectionStartColumn),S=this.c.getLanguageConfiguration(f).comments;if(!!S){if(h==="LINE_COMMENT")return S.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return S.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return S.blockCommentEndToken||void 0}}};r=De([fe(2,v.ILanguageConfigurationService)],r),e.CommentBasedVariableResolver=r;class c{constructor(){this.e=new Date}resolve(o){const{name:h}=o;if(h==="CURRENT_YEAR")return String(this.e.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this.e.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this.e.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this.e.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this.e.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this.e.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this.e.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return c.a[this.e.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return c.b[this.e.getDay()];if(h==="CURRENT_MONTH_NAME")return c.c[this.e.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return c.d[this.e.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this.e.getTime()/1e3))}}c.a=[d.localize(0,null),d.localize(1,null),d.localize(2,null),d.localize(3,null),d.localize(4,null),d.localize(5,null),d.localize(6,null)],c.b=[d.localize(7,null),d.localize(8,null),d.localize(9,null),d.localize(10,null),d.localize(11,null),d.localize(12,null),d.localize(13,null)],c.c=[d.localize(14,null),d.localize(15,null),d.localize(16,null),d.localize(17,null),d.localize(18,null),d.localize(19,null),d.localize(20,null),d.localize(21,null),d.localize(22,null),d.localize(23,null),d.localize(24,null),d.localize(25,null)],c.d=[d.localize(26,null),d.localize(27,null),d.localize(28,null),d.localize(29,null),d.localize(30,null),d.localize(31,null),d.localize(32,null),d.localize(33,null),d.localize(34,null),d.localize(35,null),d.localize(36,null),d.localize(37,null)],e.TimeBasedVariableResolver=c;class u{constructor(o){this.a=o}resolve(o){if(!this.a)return;const h=(0,g.toWorkspaceIdentifier)(this.a.getWorkspace());if(!(0,g.isEmptyWorkspaceIdentifier)(h)){if(o.name==="WORKSPACE_NAME")return this.b(h);if(o.name==="WORKSPACE_FOLDER")return this.c(h)}}b(o){if((0,g.isSingleFolderWorkspaceIdentifier)(o))return N.basename(o.uri.path);let h=N.basename(o.configPath.path);return h.endsWith(g.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-g.WORKSPACE_EXTENSION.length-1)),h}c(o){if((0,g.isSingleFolderWorkspaceIdentifier)(o))return(0,w.normalizeDriveLetter)(o.uri.fsPath);const h=N.basename(o.configPath.path);let f=o.configPath.fsPath;return f.endsWith(h)&&(f=f.substr(0,f.length-h.length-1)),f?(0,w.normalizeDriveLetter)(f):"/"}}e.WorkspaceBasedVariableResolver=u;class s{resolve(o){const{name:h}=o;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(ee[333],te([1,0,17,2,9,64,3,22,34,38,145,181,95,837,413]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class a{constructor(s,l,o){this.g=s,this.h=l,this.j=o,this.e=-1,this._nestingLevel=1,this.d=(0,w.groupBy)(l.placeholders,t.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(s){this.e=s.newPosition}dispose(){this.c&&this.g.removeDecorations([...this.c.values()]),this.d.length=0}k(){if(this.e===-1)throw new Error("Snippet not initialized!");if(this.c)return;this.c=new Map;const s=this.g.getModel();this.g.changeDecorations(l=>{for(const o of this.h.placeholders){const h=this.h.offset(o),f=this.h.fullLen(o),S=y.Range.fromPositions(s.getPositionAt(this.e+h),s.getPositionAt(this.e+h+f)),p=o.isFinalTabstop?a.f.inactiveFinal:a.f.inactive,m=l.addDecoration(S,p);this.c.set(o,m)}})}move(s){if(!this.g.hasModel())return[];if(this.k(),this._placeholderGroupsIdx>=0){const h=[];for(const f of this.d[this._placeholderGroupsIdx])if(f.transform){const S=this.c.get(f),p=this.g.getModel().getDecorationRange(S),m=this.g.getModel().getValueInRange(p),b=f.transform.resolve(m).split(/\r\n|\r|\n/);for(let L=1;L<b.length;L++)b[L]=this.g.getModel().normalizeIndentation(this.j+b[L]);h.push(D.EditOperation.replace(p,b.join(this.g.getModel().getEOL())))}h.length>0&&this.g.executeEdits("snippet.placeholderTransform",h)}let l=!1;s===!0&&this._placeholderGroupsIdx<this.d.length-1?(this._placeholderGroupsIdx+=1,l=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,l=!0);const o=this.g.getModel().changeDecorations(h=>{const f=new Set,S=[];for(const p of this.d[this._placeholderGroupsIdx]){const m=this.c.get(p),b=this.g.getModel().getDecorationRange(m);S.push(new v.Selection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn)),l=l&&this.l(p),h.changeDecorationOptions(m,p.isFinalTabstop?a.f.activeFinal:a.f.active),f.add(p);for(const L of this.h.enclosingPlaceholders(p)){const k=this.c.get(L);h.changeDecorationOptions(k,L.isFinalTabstop?a.f.activeFinal:a.f.active),f.add(L)}}for(const[p,m]of this.c)f.has(p)||h.changeDecorationOptions(m,p.isFinalTabstop?a.f.inactiveFinal:a.f.inactive);return S});return l?this.move(s):o??[]}l(s){let l=s;for(;l;){if(l instanceof t.Placeholder){const o=this.c.get(l);if(this.g.getModel().getDecorationRange(o).isEmpty()&&l.toString().length>0)return!0}l=l.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this.d.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this.d.length-1}get hasPlaceholder(){return this.h.placeholders.length>0}get isTrivialSnippet(){if(this.h.placeholders.length===0)return!0;if(this.h.placeholders.length===1){const[s]=this.h.placeholders;if(s.isFinalTabstop&&this.h.rightMostDescendant===s)return!0}return!1}computePossibleSelections(){const s=new Map;for(const l of this.d){let o;for(const h of l){if(h.isFinalTabstop)break;o||(o=[],s.set(h.index,o));const f=this.c.get(h),S=this.g.getModel().getDecorationRange(f);if(!S){s.delete(h.index);break}o.push(S)}}return s}get activeChoice(){if(!this.c)return;const s=this.d[this._placeholderGroupsIdx][0];if(!s?.choice)return;const l=this.c.get(s);if(!l)return;const o=this.g.getModel().getDecorationRange(l);if(!!o)return{range:o,choice:s.choice}}get hasChoice(){let s=!1;return this.h.walk(l=>(s=l instanceof t.Choice,!s)),s}merge(s){const l=this.g.getModel();this._nestingLevel*=10,this.g.changeDecorations(o=>{for(const h of this.d[this._placeholderGroupsIdx]){const f=s.shift();console.assert(f.e!==-1),console.assert(!f.c);const S=f.h.placeholderInfo.last.index;for(const m of f.h.placeholderInfo.all)m.isFinalTabstop?m.index=h.index+(S+1)/this._nestingLevel:m.index=h.index+m.index/this._nestingLevel;this.h.replace(h,f.h.children);const p=this.c.get(h);o.removeDecoration(p),this.c.delete(h);for(const m of f.h.placeholders){const b=f.h.offset(m),L=f.h.fullLen(m),k=y.Range.fromPositions(l.getPositionAt(f.e+b),l.getPositionAt(f.e+b+L)),I=o.addDecoration(k,a.f.inactive);this.c.set(m,I)}}this.d=(0,w.groupBy)(this.h.placeholders,t.Placeholder.compareByIndex)})}}a.f={active:d.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:d.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:d.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:d.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})},e.OneSnippet=a;const r={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=class wt{static adjustWhitespace(s,l,o,h,f){const S=s.getLineContent(l.lineNumber),p=(0,E.getLeadingWhitespace)(S,0,l.column-1);let m;return h.walk(b=>{if(!(b instanceof t.Text)||b.parent instanceof t.Choice||f&&!f.has(b))return!0;const L=b.value.split(/\r\n|\r|\n/);if(o){const I=h.offset(b);if(I===0)L[0]=s.normalizeIndentation(L[0]);else{m=m??h.toString();const M=m.charCodeAt(I-1);(M===10||M===13)&&(L[0]=s.normalizeIndentation(p+L[0]))}for(let M=1;M<L.length;M++)L[M]=s.normalizeIndentation(p+L[M])}const k=L.join(s.getEOL());return k!==b.value&&(b.parent.replace(b,[new t.Text(k)]),m=void 0),!0}),p}static adjustSelection(s,l,o,h){if(o!==0||h!==0){const{positionLineNumber:f,positionColumn:S}=l,p=S-o,m=S+h,b=s.validateRange({startLineNumber:f,startColumn:p,endLineNumber:f,endColumn:m});l=v.Selection.createWithDirection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn,l.getDirection())}return l}static createEditsAndSnippetsFromSelections(s,l,o,h,f,S,p,m,b){const L=[],k=[];if(!s.hasModel())return{edits:L,snippets:k};const I=s.getModel(),M=s.invokeWithinContext(F=>F.get(i.IWorkspaceContextService)),B=s.invokeWithinContext(F=>new n.ModelBasedVariableResolver(F.get(g.ILabelService),I)),z=()=>p,P=I.getValueInRange(wt.adjustSelection(I,s.getSelection(),o,0)),A=I.getValueInRange(wt.adjustSelection(I,s.getSelection(),0,h)),T=I.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber),O=s.getSelections().map((F,W)=>({selection:F,idx:W})).sort((F,W)=>y.Range.compareRangesUsingStarts(F.selection,W.selection));for(const{selection:F,idx:W}of O){let V=wt.adjustSelection(I,F,o,0),R=wt.adjustSelection(I,F,0,h);P!==I.getValueInRange(V)&&(V=F),A!==I.getValueInRange(R)&&(R=F);const $=F.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(R.endLineNumber,R.endColumn),X=new t.SnippetParser().parse(l,!0,f),ne=$.getStartPosition(),ae=wt.adjustWhitespace(I,ne,S||W>0&&T!==I.getLineFirstNonWhitespaceColumn(F.positionLineNumber),X);X.resolveVariables(new n.CompositeSnippetVariableResolver([B,new n.ClipboardBasedVariableResolver(z,W,O.length,s.getOption(75)==="spread"),new n.SelectionBasedVariableResolver(I,F,W,m),new n.CommentBasedVariableResolver(I,F,b),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(M),new n.RandomBasedVariableResolver])),L[W]=D.EditOperation.replace($,X.toString()),L[W].identifier={major:W,minor:0},L[W]._isTracked=!0,k[W]=new a(s,X,ae)}return{edits:L,snippets:k}}static createEditsAndSnippetsFromEdits(s,l,o,h,f,S,p){if(!s.hasModel()||l.length===0)return{edits:[],snippets:[]};const m=[],b=s.getModel(),L=new t.SnippetParser,k=new t.TextmateSnippet,I=new n.CompositeSnippetVariableResolver([s.invokeWithinContext(B=>new n.ModelBasedVariableResolver(B.get(g.ILabelService),b)),new n.ClipboardBasedVariableResolver(()=>f,0,s.getSelections().length,s.getOption(75)==="spread"),new n.SelectionBasedVariableResolver(b,s.getSelection(),0,S),new n.CommentBasedVariableResolver(b,s.getSelection(),p),new n.TimeBasedVariableResolver,new n.WorkspaceBasedVariableResolver(s.invokeWithinContext(B=>B.get(i.IWorkspaceContextService))),new n.RandomBasedVariableResolver]);l=l.sort((B,z)=>y.Range.compareRangesUsingStarts(B.range,z.range));let M=0;for(let B=0;B<l.length;B++){const{range:z,template:P}=l[B];if(B>0){const W=l[B-1].range,V=y.Range.fromPositions(W.getEndPosition(),z.getStartPosition()),R=new t.Text(b.getValueInRange(V));k.appendChild(R),M+=R.value.length}const A=L.parseFragment(P,k);wt.adjustWhitespace(b,z.getStartPosition(),!0,k,new Set(A)),k.resolveVariables(I);const T=k.toString(),O=T.slice(M);M=T.length;const F=D.EditOperation.replace(z,O);F.identifier={major:B,minor:0},F._isTracked=!0,m.push(F)}return L.ensureFinalTabstop(k,o,!0),{edits:m,snippets:[new a(s,k,"")]}}constructor(s,l,o=r,h){this.e=s,this.f=l,this.g=o,this.h=h,this.c=[],this.d=[]}dispose(){(0,N.dispose)(this.d)}_logInfo(){return`template="${this.f}", merged_templates="${this.c.join(" -> ")}"`}insert(){if(!this.e.hasModel())return;const{edits:s,snippets:l}=typeof this.f=="string"?wt.createEditsAndSnippetsFromSelections(this.e,this.f,this.g.overwriteBefore,this.g.overwriteAfter,!1,this.g.adjustWhitespace,this.g.clipboardText,this.g.overtypingCapturer,this.h):wt.createEditsAndSnippetsFromEdits(this.e,this.f,!1,this.g.adjustWhitespace,this.g.clipboardText,this.g.overtypingCapturer,this.h);this.d=l,this.e.executeEdits("snippet",s,o=>{const h=o.filter(f=>!!f.identifier);for(let f=0;f<l.length;f++)l[f].initialize(h[f].textChange);return this.d[0].hasPlaceholder?this.j(!0):h.map(f=>v.Selection.fromPositions(f.range.getEndPosition()))}),this.e.revealRange(this.e.getSelections()[0])}merge(s,l=r){if(!this.e.hasModel())return;this.c.push([this.d[0]._nestingLevel,this.d[0]._placeholderGroupsIdx,s]);const{edits:o,snippets:h}=wt.createEditsAndSnippetsFromSelections(this.e,s,l.overwriteBefore,l.overwriteAfter,!0,l.adjustWhitespace,l.clipboardText,l.overtypingCapturer,this.h);this.e.executeEdits("snippet",o,f=>{const S=f.filter(m=>!!m.identifier);for(let m=0;m<h.length;m++)h[m].initialize(S[m].textChange);const p=h[0].isTrivialSnippet;if(!p){for(const m of this.d)m.merge(h);console.assert(h.length===0)}return this.d[0].hasPlaceholder&&!p?this.j(void 0):S.map(m=>v.Selection.fromPositions(m.range.getEndPosition()))})}next(){const s=this.j(!0);this.e.setSelections(s),this.e.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this.j(!1);this.e.setSelections(s),this.e.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}j(s){const l=[];for(const o of this.d){const h=o.move(s);l.push(...h)}return l}get isAtFirstPlaceholder(){return this.d[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this.d[0].isAtLastPlaceholder}get hasPlaceholder(){return this.d[0].hasPlaceholder}get hasChoice(){return this.d[0].hasChoice}get activeChoice(){return this.d[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this.e.getSelections();if(s.length<this.d.length)return!1;const l=new Map;for(const o of this.d){const h=o.computePossibleSelections();if(l.size===0)for(const[f,S]of h){S.sort(y.Range.compareRangesUsingStarts);for(const p of s)if(S[0].containsRange(p)){l.set(f,[]);break}}if(l.size===0)return!1;l.forEach((f,S)=>{f.push(...h.get(S))})}s.sort(y.Range.compareRangesUsingStarts);for(const[o,h]of l){if(h.length!==s.length){l.delete(o);continue}h.sort(y.Range.compareRangesUsingStarts);for(let f=0;f<h.length;f++)if(!h[f].containsRange(s[f])){l.delete(o);continue}}return l.size>0}};c=De([fe(3,C.ILanguageConfigurationService)],c),e.SnippetSession=c}),define(ee[232],te([1,0,2,18,14,11,23,34,19,122,640,15,62,333]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class xt{static get(s){return s.getContribution(xt.ID)}constructor(s,l,o,h,f){this.k=s,this.l=l,this.m=o,this.n=f,this.f=new w.DisposableStore,this.g=-1,this.a=xt.InSnippetMode.bindTo(h),this.b=xt.HasNextTabstop.bindTo(h),this.c=xt.HasPrevTabstop.bindTo(h)}dispose(){var s;this.a.reset(),this.c.reset(),this.b.reset(),(s=this.d)===null||s===void 0||s.dispose(),this.f.dispose()}insert(s,l){try{this.p(s,typeof l>"u"?a:Object.assign(Object.assign({},a),l))}catch(o){this.cancel(),this.l.error(o),this.l.error("snippet_error"),this.l.error("insert_template=",s),this.l.error("existing_template=",this.d?this.d._logInfo():"<no_session>")}}p(s,l){var o;if(!!this.k.hasModel()){if(this.f.clear(),l.undoStopBefore&&this.k.getModel().pushStackElement(),this.d&&typeof s!="string"&&this.cancel(),this.d?((0,N.assertType)(typeof s=="string"),this.d.merge(s,l)):(this.g=this.k.getModel().getAlternativeVersionId(),this.d=new n.SnippetSession(this.k,s,l,this.n),this.d.insert()),l.undoStopAfter&&this.k.getModel().pushStackElement(),!((o=this.d)===null||o===void 0)&&o.hasChoice){this.j={provideCompletionItems:(f,S)=>{if(!this.d||f!==this.k.getModel()||!D.Position.equals(this.k.getPosition(),S))return;const{activeChoice:p}=this.d;if(!p||p.choice.options.length===0)return;const m=f.getValueInRange(p.range),b=Boolean(p.choice.options.find(k=>k.value===m)),L=[];for(let k=0;k<p.choice.options.length;k++){const I=p.choice.options[k];L.push({kind:13,label:I.value,insertText:I.value,sortText:"a".repeat(k+1),range:p.range,filterText:b?`${m}_${I.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,g.localize)(3,null)}})}return{suggestions:L}}};const h=this.m.completionProvider.register({language:this.k.getModel().getLanguageId(),pattern:this.k.getModel().uri.fsPath,scheme:this.k.getModel().uri.scheme,exclusive:!0},this.j);this.f.add(h)}this.q(),this.f.add(this.k.onDidChangeModelContent(h=>h.isFlush&&this.cancel())),this.f.add(this.k.onDidChangeModel(()=>this.cancel())),this.f.add(this.k.onDidChangeCursorSelection(()=>this.q()))}}q(){if(!(!this.d||!this.k.hasModel())){if(this.g===this.k.getModel().getAlternativeVersionId())return this.cancel();if(!this.d.hasPlaceholder)return this.cancel();if(this.d.isAtLastPlaceholder||!this.d.isSelectionWithinPlaceholders())return this.k.getModel().pushStackElement(),this.cancel();this.a.set(!0),this.c.set(!this.d.isAtFirstPlaceholder),this.b.set(!this.d.isAtLastPlaceholder),this.r()}}r(){if(!this.d||!this.k.hasModel()){this.h=void 0;return}const{activeChoice:s}=this.d;if(!s||!this.j){this.h=void 0;return}this.h!==s.choice&&(this.h=s.choice,queueMicrotask(()=>{(0,d.showSimpleSuggestions)(this.k,this.j)}))}finish(){for(;this.a.get();)this.next()}cancel(s=!1){var l;this.a.reset(),this.c.reset(),this.b.reset(),this.f.clear(),this.h=void 0,(l=this.d)===null||l===void 0||l.dispose(),this.d=void 0,this.g=-1,s&&this.k.setSelections([this.k.getSelection()])}prev(){var s;(s=this.d)===null||s===void 0||s.prev(),this.q()}next(){var s;(s=this.d)===null||s===void 0||s.next(),this.q()}isInSnippet(){return Boolean(this.a.get())}};r.ID="snippetController2",r.InSnippetMode=new i.RawContextKey("inSnippetMode",!1,(0,g.localize)(0,null)),r.HasNextTabstop=new i.RawContextKey("hasNextTabstop",!1,(0,g.localize)(1,null)),r.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",!1,(0,g.localize)(2,null)),r=De([fe(1,t.ILogService),fe(2,C.ILanguageFeaturesService),fe(3,i.IContextKeyService),fe(4,v.ILanguageConfigurationService)],r),e.SnippetController2=r,(0,E.registerEditorContribution)(r.ID,r,4);const c=E.EditorCommand.bindToContribution(r.get);(0,E.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(r.InSnippetMode,r.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:y.EditorContextKeys.editorTextFocus,primary:2}})),(0,E.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(r.InSnippetMode,r.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:y.EditorContextKeys.editorTextFocus,primary:1026}})),(0,E.registerEditorCommand)(new c({id:"leaveSnippet",precondition:r.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:y.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new c({id:"acceptSnippet",precondition:r.InSnippetMode,handler:u=>u.finish()}))}),define(ee[334],te([1,0,85,12,20,13,6,63,2,175,64,11,3,26,34,459,76,19,195,171,215,230,196,232,95,25,32]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let L=class extends C.Disposable{constructor(O,F,W,V,R,$,X){super(),this.j=O,this.k=F,this.n=W,this.p=V,this.s=R,this.t=$,this.a=new y.Emitter,this.onDidChange=this.a.event,this.completionSession=this.q(new C.MutableDisposable),this.b=!1,this.g=!1,this.h=this.t.for(this.s.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.q(W.onDidExecuteCommand(ne=>{new Set([d.CoreEditingCommands.Tab.id,d.CoreEditingCommands.DeleteLeft.id,d.CoreEditingCommands.DeleteRight.id,s.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(ne.commandId)&&O.hasTextFocus()&&this.u()})),this.q(this.j.onDidType(ne=>{this.u()})),this.q(this.j.onDidChangeCursorPosition(ne=>{(ne.reason===3||this.w&&!this.w.isValid)&&this.hide()})),this.q((0,C.toDisposable)(()=>{this.g=!0})),this.q(this.j.onDidBlurEditorWidget(()=>{X.getValue("editor.inlineSuggest.hideOnBlur")||h.InlineSuggestionHintsContentWidget.dropDownVisible||this.hide()}))}u(){this.w&&!this.w.isValid&&this.hide(),setTimeout(()=>{this.g||this.y()},0)}get w(){return this.completionSession.value}get ghostText(){var O;return(O=this.w)===null||O===void 0?void 0:O.ghostText}get minReservedLineCount(){return this.w?this.w.minReservedLineCount:0}setExpanded(O){var F;(F=this.w)===null||F===void 0||F.setExpanded(O)}setActive(O){var F;this.b=O,O&&((F=this.w)===null||F===void 0||F.scheduleAutomaticUpdate())}y(){!this.j.getOption(59).enabled||this.w&&this.w.isValid||this.trigger(n.InlineCompletionTriggerKind.Automatic)}trigger(O){if(this.completionSession.value){O===n.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new k(this.j,this.j.getPosition(),()=>this.b,this.n,this.k,O,this.p,this.s.inlineCompletionsProvider,this.h),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.a.fire()}))}hide(){this.completionSession.clear(),this.a.fire()}commitCurrentSuggestion(){var O;(O=this.w)===null||O===void 0||O.commitCurrentCompletion()}commitCurrentSuggestionPartially(){var O;(O=this.w)===null||O===void 0||O.commitCurrentCompletionNextWord()}showNext(){var O;(O=this.w)===null||O===void 0||O.showNextInlineCompletion()}showPrevious(){var O;(O=this.w)===null||O===void 0||O.showPreviousInlineCompletion()}};L=De([fe(2,m.ICommandService),fe(3,a.ILanguageConfigurationService),fe(4,u.ILanguageFeaturesService),fe(5,c.ILanguageFeatureDebounceService),fe(6,b.IConfigurationService)],L),e.InlineCompletionsModel=L;class k extends l.BaseGhostTextWidgetModel{constructor(O,F,W,V,R,$,X,ne,ae){super(O),this.k=F,this.n=W,this.s=V,this.t=R,this.u=$,this.w=X,this.y=ne,this.z=ae,this.minReservedLineCount=0,this.a=this.q(new C.MutableDisposable),this.b=this.q(new N.RunOnceScheduler(()=>{const le=this.u;return this.u=n.InlineCompletionTriggerKind.Automatic,this.H(le)},50)),this.B=[],this.D=void 0;let ie;this.q(this.onDidChange(()=>{var le;const J=this.currentCompletion;if(J&&J.sourceInlineCompletion!==ie){ie=J.sourceInlineCompletion;const x=J.sourceProvider;(le=x.handleItemDidShow)===null||le===void 0||le.call(x,J.sourceInlineCompletions,ie)}})),this.q((0,C.toDisposable)(()=>{this.t.clear()})),this.q(this.j.onDidChangeCursorPosition(le=>{var J;le.reason!==3&&((J=this.t.value)===null||J===void 0||J.updateRanges(),this.t.value&&(this.C(),this.h.fire()))})),this.q(this.j.onDidChangeModelContent(le=>{var J;(J=this.t.value)===null||J===void 0||J.updateRanges(),this.C(),this.scheduleAutomaticUpdate()})),this.q(this.y.onDidChange(()=>{this.b.schedule(this.z.get(this.j.getModel()))})),this.scheduleAutomaticUpdate()}C(){if(!this.t.value){this.B=[];return}const O=this.j.getModel(),F=O.validatePosition(this.j.getPosition());this.B=this.t.value.completions.filter(W=>{const V=O.getValueInRange(W.synchronizedRange).toLowerCase(),R=W.inlineCompletion.filterText.toLowerCase(),$=O.getLineIndentColumn(W.synchronizedRange.startLineNumber),X=Math.max(0,F.column-W.synchronizedRange.startColumn);let ne=R.substring(0,X),ae=R.substring(X),ie=V.substring(0,X),le=V.substring(X);return W.synchronizedRange.startColumn<=$&&(ie=ie.trimStart(),ie.length===0&&(le=le.trimStart()),ne=ne.trimStart(),ne.length===0&&(ae=ae.trimStart())),ne.startsWith(ie)&&(0,v.matchesSubString)(le,ae)})}get currentlySelectedIndex(){return this.F()}F(){if(!this.D||!this.t.value||this.t.value.completions.length===0)return 0;const O=this.B.findIndex(F=>F.semanticId===this.D);return O===-1?(this.D=void 0,0):O}get G(){if(!!this.t.value)return this.B[this.F()]}showNextInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const O=this.B||[];if(O.length>0){const F=(this.F()+1)%O.length;this.D=O[F].semanticId}else this.D=void 0;this.h.fire()})}showPreviousInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const O=this.B||[];if(O.length>0){const F=(this.F()+O.length-1)%O.length;this.D=O[F].semanticId}else this.D=void 0;this.h.fire()})}get hasBeenTriggeredExplicitly(){var O;return((O=this.t.value)===null||O===void 0?void 0:O.triggerKind)===n.InlineCompletionTriggerKind.Explicit}ensureUpdateWithExplicitContext(){var O;return Le(this,void 0,void 0,function*(){this.a.value?this.a.value.triggerKind===n.InlineCompletionTriggerKind.Explicit?yield this.a.value.promise:yield this.H(n.InlineCompletionTriggerKind.Explicit):((O=this.t.value)===null||O===void 0?void 0:O.triggerKind)!==n.InlineCompletionTriggerKind.Explicit&&(yield this.H(n.InlineCompletionTriggerKind.Explicit))})}getInlineCompletionsCountSync(){return this.B.length||0}get ghostText(){const O=this.currentCompletion;if(!O)return;const F=this.j.getPosition();if(O.range.getEndPosition().isBefore(F))return;const W=this.j.getOptions().get(59).mode,V=(0,o.inlineCompletionToGhostText)(O,this.j.getModel(),W,F);return V?V.isEmpty()?void 0:V:new l.GhostTextReplacement(O.range.startLineNumber,O.range.startColumn,O.range.endColumn-O.range.startColumn,O.insertText.split(`
`),0)}get currentCompletion(){const O=this.G;if(!!O)return O.toLiveInlineCompletion()}get isValid(){return this.j.getPosition().lineNumber===this.k.lineNumber}scheduleAutomaticUpdate(){this.a.clear(),this.b.schedule(this.z.get(this.j.getModel()))}H(O){return Le(this,void 0,void 0,function*(){if(!this.n())return;const F=this.j.getPosition(),W=new Date,V=(0,N.createCancelablePromise)($=>Le(this,void 0,void 0,function*(){let X;try{X=yield z(this.y,F,this.j.getModel(),{triggerKind:O,selectedSuggestionInfo:void 0},$,this.w);const ne=new Date;this.z.update(this.j.getModel(),ne.getTime()-W.getTime())}catch(ne){(0,D.onUnexpectedError)(ne);return}$.isCancellationRequested||(this.t.setValue(this.j,X,O),this.C(),this.h.fire())})),R=new I(V,O);this.a.value=R,yield V,this.a.value===R&&this.a.clear()})}takeOwnership(O){this.q(O)}commitCurrentCompletionNextWord(){const O=this.ghostText;if(!O)return;const F=this.currentCompletion;if(!F)return;if(F.snippetInfo||F.filterText!==F.insertText){this.commit(F);return}if(O.parts.length===0)return;const W=O.parts[0],V=new i.Position(O.lineNumber,W.column),R=W.lines[0],$=this.j.getModel().getLanguageIdAtPosition(O.lineNumber,1),X=this.w.getLanguageConfiguration($),ne=new RegExp(X.wordDefinition,X.wordDefinition.flags.replace("g","")),ae=R.match(ne);let ie=0;ae&&ae.index!==void 0?ae.index===0?ie=ae[0].length:ie=ae.index:ie=R.length;const le=R.substring(0,ie);if(this.j.pushUndoStop(),this.j.executeEdits("inlineSuggestion.accept",[g.EditOperation.replace(t.Range.fromPositions(V),le)]),this.j.setPosition(V.delta(0,le.length)),F.sourceProvider.handlePartialAccept){const J=t.Range.fromPositions(F.range.getStartPosition(),V.delta(0,ie)),x=this.j.getModel().getValueInRange(J);F.sourceProvider.handlePartialAccept(F.sourceInlineCompletions,F.sourceInlineCompletion,x.length)}}commitCurrentCompletion(){if(!this.ghostText)return;const F=this.currentCompletion;F&&this.commit(F)}commit(O){var F;const W=this.t.clearAndLeak();this.j.pushUndoStop(),O.snippetInfo?(this.j.executeEdits("inlineSuggestion.accept",[g.EditOperation.replaceMove(O.range,""),...O.additionalTextEdits]),this.j.setPosition(O.snippetInfo.range.getStartPosition()),(F=S.SnippetController2.get(this.j))===null||F===void 0||F.insert(O.snippetInfo.snippet,{undoStopBefore:!1})):this.j.executeEdits("inlineSuggestion.accept",[g.EditOperation.replaceMove(O.range,O.insertText),...O.additionalTextEdits]),O.command?this.s.executeCommand(O.command.id,...O.command.arguments||[]).finally(()=>{W?.dispose()}).then(void 0,D.onUnexpectedExternalError):W?.dispose(),this.h.fire()}get commands(){var O;return[...new Set(((O=this.t.value)===null||O===void 0?void 0:O.completions.map(W=>W.inlineCompletion.sourceInlineCompletions))||[])].flatMap(W=>W.commands||[])}}e.InlineCompletionsSession=k;class I{constructor(O,F){this.promise=O,this.triggerKind=F}dispose(){this.promise.cancel()}}e.UpdateOperation=I;class M extends C.Disposable{constructor(O,F,W,V){super(),this.b=F,this.g=W,this.triggerKind=V,this.a=!1;const R=F.changeDecorations($=>$.deltaDecorations([],O.items.map(X=>({range:X.range,options:{description:"inline-completion-tracking-range"}}))));this.q((0,C.toDisposable)(()=>{this.a=!0,F.removeDecorations(R)})),this.completions=O.items.map(($,X)=>new B($,R[X])),this.q(F.onDidChangeModelContent(()=>{this.updateRanges()})),this.q(O)}updateRanges(){if(this.a)return;let O=!1;const F=this.b.getModel();for(const W of this.completions){const V=F.getDecorationRange(W.decorationId);if(!V){(0,D.onUnexpectedError)(new Error("Decoration has no range"));continue}W.synchronizedRange.equalsRange(V)||(O=!0,W.synchronizedRange=V)}O&&this.g()}}e.SynchronizedInlineCompletionsCache=M;class B{constructor(O,F){this.inlineCompletion=O,this.decorationId=F,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=O.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function z(T,O,F,W,V=E.CancellationToken.None,R){return Le(this,void 0,void 0,function*(){const $=P(O,F),X=T.all(F),ne=yield Promise.all(X.map(ie=>Le(this,void 0,void 0,function*(){const le=yield Promise.resolve(ie.provideInlineCompletions(F,O,W,V)).catch(D.onUnexpectedExternalError);return{completions:le,provider:ie,dispose:()=>{le&&ie.freeInlineCompletions(le)}}}))),ae=new Map;for(const ie of ne){const le=ie.completions;if(!!le)for(const J of le.items){let x=J.range?t.Range.lift(J.range):$;if(x.startLineNumber!==x.endLineNumber)continue;let q,Y;if(typeof J.insertText=="string"){if(q=J.insertText,R&&J.completeBracketPairs){q=A(q,x.getStartPosition(),F,R);const re=q.length-J.insertText.length;re!==0&&(x=new t.Range(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn+re))}Y=void 0}else if("snippet"in J.insertText){const re=J.insertText.snippet.length;if(R&&J.completeBracketPairs){J.insertText.snippet=A(J.insertText.snippet,x.getStartPosition(),F,R);const G=J.insertText.snippet.length-re;G!==0&&(x=new t.Range(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn+G))}const oe=new p.SnippetParser().parse(J.insertText.snippet);oe.children.length===1&&oe.children[0]instanceof p.Text?(q=oe.children[0].value,Y=void 0):(q=oe.toString(),Y={snippet:J.insertText.snippet,range:x})}else(0,w.assertNever)(J.insertText);const Q={insertText:q,snippetInfo:Y,range:x,command:J.command,sourceProvider:ie.provider,sourceInlineCompletions:le,sourceInlineCompletion:J,filterText:J.filterText||q,additionalTextEdits:J.additionalTextEdits||(0,f.getReadonlyEmptyArray)()};ae.set(JSON.stringify({insertText:q,range:J.range}),Q)}}return{items:[...ae.values()],dispose:()=>{for(const ie of ne)ie.dispose()}}})}e.provideInlineCompletions=z;function P(T,O){const F=O.getWordAtPosition(T),W=O.getLineMaxColumn(T.lineNumber);return F?new t.Range(T.lineNumber,F.startColumn,T.lineNumber,W):t.Range.fromPositions(T,T.with(void 0,W))}function A(T,O,F,W){const R=F.getLineContent(O.lineNumber).substring(0,O.column-1)+T,$=F.tokenization.tokenizeLineWithEdit(O,R.length-(O.column-1),T),X=$?.sliceAndInflate(O.column-1,R.length,0);return X?(0,r.fixBracketsInLine)(X,W):T}}),define(ee[335],te([1,0,50,17,12,20,13,6,110,2,16,59,18,112,14,64,11,3,23,232,95,308,690,644,25,15,8,62,122,689,497,750,498,820,77,43,129]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const F=!1;class W{constructor(ie,le){if(this.b=ie,this.d=le,ie.getLineMaxColumn(le.lineNumber)!==le.column){const x=ie.getOffsetAt(le),q=ie.getPositionAt(x+1);this.a=ie.deltaDecorations([],[{range:u.Range.fromPositions(le,q),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this.a&&!this.b.isDisposed()&&this.b.deltaDecorations(this.a,[])}delta(ie){if(this.b.isDisposed()||this.d.lineNumber!==ie.lineNumber)return 0;if(this.a){const le=this.b.getDecorationRange(this.a[0]);return this.b.getOffsetAt(le.getStartPosition())-this.b.getOffsetAt(ie)}else return this.b.getLineMaxColumn(ie.lineNumber)-ie.column}}let V=class an{static get(ie){return ie.getContribution(an.ID)}constructor(ie,le,J,x,q,Y,Q){this.h=le,this.i=J,this.j=x,this.k=q,this.l=Y,this.m=Q,this.b=new d.MutableDisposable,this.d=new d.DisposableStore,this.g=new R(Z=>Z.priority),this.o=0,this.editor=ie,this.model=q.createInstance(B.SuggestModel,this.editor),this.g.register({priority:0,select:(Z,U,j)=>this.h.select(Z,U,j)});const re=k.Context.InsertMode.bindTo(x);re.set(ie.getOption(112).insertMode),this.model.onDidTrigger(()=>re.set(ie.getOption(112).insertMode)),this.widget=this.d.add(new E.IdleValue(()=>{const Z=this.k.createInstance(P.SuggestWidget,this.editor);this.d.add(Z),this.d.add(Z.onDidSelect(ce=>this.n(ce,0),this));const U=new M.CommitCharacterController(this.editor,Z,this.model,ce=>this.n(ce,2));this.d.add(U);const j=k.Context.MakesTextEdit.bindTo(this.j),H=k.Context.HasInsertAndReplaceRange.bindTo(this.j),_=k.Context.CanResolve.bindTo(this.j);return this.d.add((0,d.toDisposable)(()=>{j.reset(),H.reset(),_.reset()})),this.d.add(Z.onDidFocus(({item:ce})=>{const ue=this.editor.getPosition(),se=ce.editStart.column,he=ue.column;let me=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ce.completion.additionalTextEdits&&!(ce.completion.insertTextRules&4)&&he-se===ce.completion.insertText.length&&(me=this.editor.getModel().getValueInRange({startLineNumber:ue.lineNumber,startColumn:se,endLineNumber:ue.lineNumber,endColumn:he})!==ce.completion.insertText),j.set(me),H.set(!c.Position.equals(ce.editInsertEnd,ce.editReplaceEnd)),_.set(Boolean(ce.provider.resolveCompletionItem)||Boolean(ce.completion.documentation)||ce.completion.detail!==ce.completion.label)})),this.d.add(Z.onDetailsKeyDown(ce=>{if(ce.toKeyCodeChord().equals(new C.KeyCodeChord(!0,!1,!1,!1,33))||g.isMacintosh&&ce.toKeyCodeChord().equals(new C.KeyCodeChord(!1,!1,!1,!0,33))){ce.stopPropagation();return}ce.toKeyCodeChord().isModifierKey()||this.editor.focus()})),Z})),this.f=this.d.add(new E.IdleValue(()=>this.d.add(new z.OvertypingCapturer(this.editor,this.model)))),this.a=this.d.add(new E.IdleValue(()=>this.d.add(new I.SuggestAlternatives(this.editor,this.j)))),this.d.add(q.createInstance(f.WordContextKey,ie)),this.d.add(this.model.onDidTrigger(Z=>{this.widget.value.showTriggered(Z.auto,Z.shy?250:50),this.b.value=new W(this.editor.getModel(),Z.position)})),this.d.add(this.model.onDidSuggest(Z=>{var U;if(Z.triggerOptions.shy)return;let j=-1;for(const _ of this.g.itemsOrderedByPriorityDesc)if(j=_.select(this.editor.getModel(),this.editor.getPosition(),Z.completionModel.items),j!==-1)break;j===-1&&(j=0);let H=!1;if(Z.triggerOptions.auto){const _=this.editor.getOption(112);_.snippetsPreventQuickSuggestions&&((U=l.SnippetController2.get(this.editor))===null||U===void 0?void 0:U.isInSnippet())?H=!0:_.selectionMode==="never"||_.selectionMode==="always"?H=_.selectionMode==="never":_.selectionMode==="whenTriggerCharacter"?H=Z.triggerOptions.triggerKind!==1:_.selectionMode==="whenQuickSuggestion"&&(H=Z.triggerOptions.triggerKind===1&&!Z.triggerOptions.refilter)}this.widget.value.showSuggestions(Z.completionModel,j,Z.isFrozen,Z.triggerOptions.auto,H)})),this.d.add(this.model.onDidCancel(Z=>{Z.retrigger||this.widget.value.hideWidget()})),this.d.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));const oe=k.Context.AcceptSuggestionsOnEnter.bindTo(x),G=()=>{const Z=this.editor.getOption(1);oe.set(Z==="on"||Z==="smart")};this.d.add(this.editor.onDidChangeConfiguration(()=>G())),G()}dispose(){this.a.dispose(),this.d.dispose(),this.widget.dispose(),this.model.dispose(),this.b.dispose()}n(ie,le){if(!ie||!ie.item){this.a.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const J=l.SnippetController2.get(this.editor);if(!J)return;const x=this.editor.getModel(),q=x.getAlternativeVersionId(),{item:Y}=ie,Q=[],re=new D.CancellationTokenSource;le&1||this.editor.pushUndoStop();const oe=this.getOverwriteInfo(Y,Boolean(le&8));if(this.h.memorize(x,this.editor.getPosition(),Y),Array.isArray(Y.completion.additionalTextEdits)){const Z=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Y.completion.additionalTextEdits.map(U=>r.EditOperation.replaceMove(u.Range.lift(U.range),U.text))),Z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Y.isResolved){const Z=new i.StopWatch(!0);let U;const j=x.onDidChangeContent(ue=>{if(ue.isFlush){re.cancel(),j.dispose();return}for(const se of ue.changes){const he=u.Range.getEndPosition(se.range);(!U||c.Position.isBefore(he,U))&&(U=he)}}),H=le;le|=2;let _=!1;const ce=this.editor.onWillType(()=>{ce.dispose(),_=!0,H&2||this.editor.pushUndoStop()});Q.push(Y.resolve(re.token).then(()=>{if(!Y.completion.additionalTextEdits||re.token.isCancellationRequested||U&&Y.completion.additionalTextEdits.some(se=>c.Position.isBefore(U,u.Range.getStartPosition(se.range))))return!1;_&&this.editor.pushUndoStop();const ue=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Y.completion.additionalTextEdits.map(se=>r.EditOperation.replaceMove(u.Range.lift(se.range),se.text))),ue.restoreRelativeVerticalPositionOfCursor(this.editor),(_||!(H&2))&&this.editor.pushUndoStop(),!0}).then(ue=>{this.l.trace("[suggest] async resolving of edits DONE (ms, applied?)",Z.elapsed(),ue),j.dispose(),ce.dispose()}))}let{insertText:G}=Y.completion;Y.completion.insertTextRules&4||(G=o.SnippetParser.escape(G)),this.model.cancel(),J.insert(G,{overwriteBefore:oe.overwriteBefore,overwriteAfter:oe.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Y.completion.insertTextRules&1),clipboardText:ie.model.clipboardText,overtypingCapturer:this.f.value}),le&2||this.editor.pushUndoStop(),Y.completion.command&&(Y.completion.command.id===$.id?this.model.trigger({auto:!0,retrigger:!0}):Q.push(this.i.executeCommand(Y.completion.command.id,...Y.completion.command.arguments?[...Y.completion.command.arguments]:[]).catch(y.onUnexpectedError))),le&4&&this.a.value.set(ie,Z=>{for(re.cancel();x.canUndo();){q!==x.getAlternativeVersionId()&&x.undo(),this.n(Z,3|(le&8?8:0));break}}),this.q(Y),Promise.all(Q).finally(()=>{this.p(Y,x,ie),this.model.clear(),re.dispose()})}p(ie,le,J){var x;if(this.o++%100!==0)return;const q=ie.extensionId?ie.extensionId.value:((x=J.item.provider._debugDisplayName)!==null&&x!==void 0?x:"unknown").split("(",1)[0].toLowerCase();this.m.publicLog2("suggest.acceptedSuggestion",{providerId:q,kind:ie.completion.kind,basenameHash:(0,O.hash)((0,T.basename)(le.uri)).toString(16),languageId:le.getLanguageId(),fileExtension:(0,T.extname)(le.uri)})}getOverwriteInfo(ie,le){(0,t.assertType)(this.editor.hasModel());let J=this.editor.getOption(112).insertMode==="replace";le&&(J=!J);const x=ie.position.column-ie.editStart.column,q=(J?ie.editReplaceEnd.column:ie.editInsertEnd.column)-ie.position.column,Y=this.editor.getPosition().column-ie.position.column,Q=this.b.value?this.b.value.delta(this.editor.getPosition()):0;return{overwriteBefore:x+Y,overwriteAfter:q+Q}}q(ie){if((0,N.isNonEmptyArray)(ie.completion.additionalTextEdits)){const le=S.localize(0,null,ie.textLabel,ie.completion.additionalTextEdits.length);(0,w.alert)(le)}}triggerSuggest(ie,le,J){this.editor.hasModel()&&(this.model.trigger({auto:le??!1,completionOptions:{providerFilter:ie,kindFilter:J?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ie){if(!this.editor.hasModel())return;const le=this.editor.getPosition(),J=()=>{le.equals(this.editor.getPosition())&&this.i.executeCommand(ie.fallback)},x=q=>{if(q.completion.insertTextRules&4||q.completion.additionalTextEdits)return!0;const Y=this.editor.getPosition(),Q=q.editStart.column,re=Y.column;return re-Q!==q.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:Y.lineNumber,startColumn:Q,endLineNumber:Y.lineNumber,endColumn:re})!==q.completion.insertText};v.Event.once(this.model.onDidTrigger)(q=>{const Y=[];v.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,d.dispose)(Y),J()},void 0,Y),this.model.onDidSuggest(({completionModel:Q})=>{if((0,d.dispose)(Y),Q.items.length===0){J();return}const re=this.h.select(this.editor.getModel(),this.editor.getPosition(),Q.items),oe=Q.items[re];if(!x(oe)){J();return}this.editor.pushUndoStop(),this.n({index:re,item:oe,model:Q},7)},void 0,Y)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(le,0),this.editor.focus()}acceptSelectedSuggestion(ie,le){const J=this.widget.value.getFocusedItem();let x=0;ie&&(x|=4),le&&(x|=8),this.n(J,x)}acceptNextSuggestion(){this.a.value.next()}acceptPrevSuggestion(){this.a.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(ie){return this.g.register(ie)}};V.ID="editor.contrib.suggestController",V=De([fe(1,h.ISuggestMemoryService),fe(2,p.ICommandService),fe(3,m.IContextKeyService),fe(4,b.IInstantiationService),fe(5,L.ILogService),fe(6,A.ITelemetryService)],V),e.SuggestController=V;class R{constructor(ie){this.b=ie,this.a=new Array}register(ie){if(this.a.indexOf(ie)!==-1)throw new Error("Value is already registered");return this.a.push(ie),this.a.sort((le,J)=>this.b(J)-this.b(le)),{dispose:()=>{const le=this.a.indexOf(ie);le>=0&&this.a.splice(le,1)}}}get itemsOrderedByPriorityDesc(){return this.a}}class $ extends a.EditorAction{constructor(){super({id:$.id,label:S.localize(1,null),alias:"Trigger Suggest",precondition:m.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider,k.Context.Visible.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(ie,le,J){const x=V.get(le);if(!x)return;let q;J&&typeof J=="object"&&J.auto===!0&&(q=!0),x.triggerSuggest(void 0,q,void 0)}}$.id="editor.action.triggerSuggest",e.TriggerSuggestAction=$,(0,a.registerEditorContribution)(V.ID,V,2),(0,a.registerEditorAction)($);const X=100+90,ne=a.EditorCommand.bindToContribution(V.get);(0,a.registerEditorCommand)(new ne({id:"acceptSelectedSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.HasFocusedSuggestion),handler(ae){ae.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:m.ContextKeyExpr.and(k.Context.Visible,s.EditorContextKeys.textInputFocus),weight:X},{primary:3,kbExpr:m.ContextKeyExpr.and(k.Context.Visible,s.EditorContextKeys.textInputFocus,k.Context.AcceptSuggestionsOnEnter,k.Context.MakesTextEdit),weight:X}],menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,title:S.localize(2,null),group:"left",order:1,when:k.Context.HasInsertAndReplaceRange.toNegated()},{menuId:k.suggestWidgetStatusbarMenu,title:S.localize(3,null),group:"left",order:1,when:m.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert"))},{menuId:k.suggestWidgetStatusbarMenu,title:S.localize(4,null),group:"left",order:1,when:m.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace"))}]})),(0,a.registerEditorCommand)(new ne({id:"acceptAlternativeSelectedSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,s.EditorContextKeys.textInputFocus,k.Context.HasFocusedSuggestion),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(ae){ae.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:m.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert")),title:S.localize(5,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:m.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace")),title:S.localize(6,null)}]})),p.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,a.registerEditorCommand)(new ne({id:"hideSuggestWidget",precondition:k.Context.Visible,handler:ae=>ae.cancelSuggestWidget(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,a.registerEditorCommand)(new ne({id:"selectNextSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectNextSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,a.registerEditorCommand)(new ne({id:"selectNextPageSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectNextPageSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,a.registerEditorCommand)(new ne({id:"selectLastSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectLastSuggestion()})),(0,a.registerEditorCommand)(new ne({id:"selectPrevSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectPrevSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,a.registerEditorCommand)(new ne({id:"selectPrevPageSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectPrevPageSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,a.registerEditorCommand)(new ne({id:"selectFirstSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:ae=>ae.selectFirstSuggestion()})),(0,a.registerEditorCommand)(new ne({id:"focusSuggestion",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.HasFocusedSuggestion.negate(),m.ContextKeyExpr.equals("config.editor.suggest.selectQuickSuggestions",!1)),handler:ae=>ae.focusSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,a.registerEditorCommand)(new ne({id:"toggleSuggestionDetails",precondition:m.ContextKeyExpr.and(k.Context.Visible,k.Context.HasFocusedSuggestion),handler:ae=>ae.toggleSuggestionDetails(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:m.ContextKeyExpr.and(k.Context.DetailsVisible,k.Context.CanResolve),title:S.localize(7,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:m.ContextKeyExpr.and(k.Context.DetailsVisible.toNegated(),k.Context.CanResolve),title:S.localize(8,null)}]})),(0,a.registerEditorCommand)(new ne({id:"toggleExplainMode",precondition:k.Context.Visible,handler:ae=>ae.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,a.registerEditorCommand)(new ne({id:"toggleSuggestionFocus",precondition:k.Context.Visible,handler:ae=>ae.toggleSuggestionFocus(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,a.registerEditorCommand)(new ne({id:"insertBestCompletion",precondition:m.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),f.WordContextKey.AtEnd,k.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:(ae,ie)=>{ae.triggerSuggestAndAcceptBest((0,t.isObject)(ie)?Object.assign({fallback:"tab"},ie):{fallback:"tab"})},kbOpts:{weight:X,primary:2}})),(0,a.registerEditorCommand)(new ne({id:"insertNextSuggestion",precondition:m.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:ae=>ae.acceptNextSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,a.registerEditorCommand)(new ne({id:"insertPrevSuggestion",precondition:m.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,m.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),l.SnippetController2.InSnippetMode.toNegated()),handler:ae=>ae.acceptPrevSuggestion(),kbOpts:{weight:X,kbExpr:s.EditorContextKeys.textInputFocus,primary:1026}})),(0,a.registerEditorAction)(class extends a.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:S.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ae,ie){var le;(le=V.get(ie))===null||le===void 0||le.resetWidgetSize()}})}),define(ee[838],te([1,0,17,6,2,11,3,95,333,335,215]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class i extends E.Disposable{get state(){if(!!this.h)return{selectedItem:this.i}}constructor(c,u){super(),this.k=c,this.l=u,this.c=!1,this.g=!1,this.h=!1,this.i=void 0,this.j=new N.Emitter,this.onDidChange=this.j.event,this.q(c.onKeyDown(l=>{l.shiftKey&&!this.g&&(this.g=!0,this.m(this.h))})),this.q(c.onKeyUp(l=>{l.shiftKey&&this.g&&(this.g=!1,this.m(this.h))}));const s=d.SuggestController.get(this.k);if(s){this.q(s.registerSelector({priority:100,select:(h,f,S)=>{const p=this.k.getModel(),m=(0,g.minimizeInlineCompletion)(p,this.l());if(!m)return-1;const b=D.Position.lift(f),L=S.map((I,M)=>{const B=a(s,b,I,this.g),z=(0,g.minimizeInlineCompletion)(p,B?.normalizedInlineCompletion);if(!z)return;const P=t(m.range,z.range)&&m.insertText.startsWith(z.insertText);return{index:M,valid:P,prefixLength:z.insertText.length,suggestItem:I}}).filter(I=>I&&I.valid),k=(0,w.findMaxBy)(L,(0,w.compareBy)(I=>I.prefixLength,w.numberComparator));return k?k.index:-1}}));let l=!1;const o=()=>{l||(l=!0,this.q(s.widget.value.onDidShow(()=>{this.c=!0,this.m(!0)})),this.q(s.widget.value.onDidHide(()=>{this.c=!1,this.m(!1)})),this.q(s.widget.value.onDidFocus(()=>{this.c=!0,this.m(!0)})))};this.q(N.Event.once(s.model.onDidTrigger)(h=>{o()}))}this.m(this.h)}m(c){const u=this.n();let s=!1;n(this.i,u)||(this.i=u,s=!0),this.h!==c&&(this.h=c,s=!0),s&&this.j.fire()}n(){const c=d.SuggestController.get(this.k);if(!c||!this.c)return;const u=c.widget.value.getFocusedItem();if(!!u)return a(c,this.k.getPosition(),u.item,this.g)}stopForceRenderingAbove(){const c=d.SuggestController.get(this.k);c?.stopForceRenderingAbove()}forceRenderingAbove(){const c=d.SuggestController.get(this.k);c?.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=i;function t(r,c){return c.startLineNumber===r.startLineNumber&&c.startColumn===r.startColumn&&(c.endLineNumber<r.endLineNumber||c.endLineNumber===r.endLineNumber&&c.endColumn<=r.endColumn)}e.rangeStartsWith=t;function n(r,c){return r===c?!0:!r||!c?!1:r.completionItemKind===c.completionItemKind&&r.isSnippetText===c.isSnippetText&&(0,g.normalizedInlineCompletionsEquals)(r.normalizedInlineCompletion,c.normalizedInlineCompletion)}function a(r,c,u,s){if(Array.isArray(u.completion.additionalTextEdits)&&u.completion.additionalTextEdits.length>0)return{completionItemKind:u.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:y.Range.fromPositions(c,c),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:l}=u.completion,o=!1;if(u.completion.insertTextRules&4){const f=new v.SnippetParser().parse(l),S=r.editor.getModel();if(f.children.length>100)return;C.SnippetSession.adjustWhitespace(S,c,!0,f),l=f.toString(),o=!0}const h=r.getOverwriteInfo(u,s);return{isSnippetText:o,completionItemKind:u.completion.kind,normalizedInlineCompletion:{insertText:l,filterText:l,range:y.Range.fromPositions(c.delta(0,-h.overwriteBefore),c.delta(0,Math.max(h.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(ee[839],te([1,0,12,13,2,26,19,171,334,215,838]),function(K,e,w,N,E,D,y,v,C,d,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let i=class extends v.BaseGhostTextWidgetModel{get isActive(){return this.c.state!==void 0}constructor(r,c,u){super(r),this.l=c,this.m=u,this.c=this.q(new g.SuggestWidgetInlineCompletionProvider(this.j,()=>{var s,l,o;return(s=this.l.value)===null||s===void 0||s.updateRanges(),(o=(l=this.l.value)===null||l===void 0?void 0:l.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.i=this.q(new E.MutableDisposable),this.k=this.q(new w.RunOnceScheduler(()=>this.r(),50)),this.minReservedLineCount=0,this.q(this.c.onDidChange(()=>{if(!this.j.hasModel())return;this.k.schedule(),this.c.state||(this.minReservedLineCount=0);const l=this.ghostText;l&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,t(l.parts.map(o=>o.lines.length-1)))),this.minReservedLineCount>=1?this.c.forceRenderingAbove():this.c.stopForceRenderingAbove(),this.h.fire()})),this.q(this.l.onDidChange(()=>{this.h.fire()})),this.q(this.j.onDidChangeCursorPosition(s=>{this.minReservedLineCount=0,this.k.schedule(),this.h.fire()})),this.q((0,E.toDisposable)(()=>this.c.stopForceRenderingAbove()))}n(){return this.j.getOption(112).preview}r(){return Le(this,void 0,void 0,function*(){const r=this.c.state;if(!r||!r.selectedItem)return;const c={text:r.selectedItem.normalizedInlineCompletion.insertText,range:r.selectedItem.normalizedInlineCompletion.range,isSnippetText:r.selectedItem.isSnippetText,completionKind:r.selectedItem.completionItemKind},u=this.j.getPosition();if(r.selectedItem.isSnippetText||r.selectedItem.completionItemKind===27||r.selectedItem.completionItemKind===20||r.selectedItem.completionItemKind===23){this.l.clear();return}const s=(0,w.createCancelablePromise)(o=>Le(this,void 0,void 0,function*(){let h;try{h=yield(0,C.provideInlineCompletions)(this.m.inlineCompletionsProvider,u,this.j.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:c},o)}catch(f){(0,N.onUnexpectedError)(f);return}if(o.isCancellationRequested){h.dispose();return}this.l.setValue(this.j,h,D.InlineCompletionTriggerKind.Automatic),this.h.fire()})),l=new C.UpdateOperation(s,D.InlineCompletionTriggerKind.Automatic);this.i.value=l,yield s,this.i.value===l&&this.i.clear()})}get ghostText(){var r,c,u;const s=this.n(),l=this.j.getModel(),o=(0,d.minimizeInlineCompletion)(l,(c=(r=this.l.value)===null||r===void 0?void 0:r.completions[0])===null||c===void 0?void 0:c.toLiveInlineCompletion()),h=this.c.state,f=(0,d.minimizeInlineCompletion)(l,(u=h?.selectedItem)===null||u===void 0?void 0:u.normalizedInlineCompletion),S=o&&f&&o.insertText.startsWith(f.insertText)&&n(o.range,f.range);if(!s&&!S)return;const p=S?o:f||o,m=S?p.insertText.length-f.insertText.length:0;return this.s(p,m)}s(r,c){const u=this.j.getOptions().get(112).previewMode;return r?(0,d.inlineCompletionToGhostText)(r,this.j.getModel(),u,this.j.getPosition(),c)||new v.GhostText(r.range.endLineNumber,[],this.minReservedLineCount):void 0}};i=De([fe(2,y.ILanguageFeaturesService)],i),e.SuggestWidgetPreviewModel=i;function t(a){return a.reduce((r,c)=>r+c,0)}function n(a,r){return a.startLineNumber===r.startLineNumber&&a.startColumn===r.startColumn&&(a.endLineNumber===r.endLineNumber&&a.endColumn>=r.endColumn||a.endLineNumber>r.endLineNumber)}}),define(ee[840],te([1,0,6,2,11,26,334,839,196,8]),function(K,e,w,N,E,D,y,v,C,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends N.Disposable{constructor(){super(...arguments),this.a=new w.Emitter,this.onDidChange=this.a.event,this.b=!1,this.g=this.q(new N.MutableDisposable)}get h(){var a;return(a=this.g.value)===null||a===void 0?void 0:a.object}i(a){var r;((r=this.g.value)===null||r===void 0?void 0:r.object)!==a&&(this.g.clear(),this.g.value=a?(0,C.createDisposableRef)(a,a.onDidChange(()=>{this.b=!1,this.a.fire()})):void 0,this.b=!1,this.a.fire())}get ghostText(){var a,r;return this.b||(this.c=(r=(a=this.g.value)===null||a===void 0?void 0:a.object)===null||r===void 0?void 0:r.ghostText,this.b=!0),this.c}setExpanded(a){var r;(r=this.h)===null||r===void 0||r.setExpanded(a)}get minReservedLineCount(){return this.h?this.h.minReservedLineCount:0}}e.DelegatingModel=g;let i=class extends g{get activeInlineCompletionsModel(){if(this.h===this.inlineCompletionsModel)return this.inlineCompletionsModel}constructor(a,r){super(),this.j=a,this.k=r,this.sharedCache=this.q(new t),this.suggestWidgetAdapterModel=this.q(this.k.createInstance(v.SuggestWidgetPreviewModel,this.j,this.sharedCache)),this.inlineCompletionsModel=this.q(this.k.createInstance(y.InlineCompletionsModel,this.j,this.sharedCache)),this.q(this.suggestWidgetAdapterModel.onDidChange(()=>{this.l()})),this.l()}l(){this.i(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.h===this.inlineCompletionsModel)}shouldShowHoverAt(a){var r;const c=(r=this.activeInlineCompletionsModel)===null||r===void 0?void 0:r.ghostText;return c?c.parts.some(u=>a.containsPosition(new E.Position(c.lineNumber,u.column))):!1}triggerInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestion()}commitInlineCompletionPartially(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestionPartially()}hideInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.hide()}showNextInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showNext()}showPreviousInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showPrevious()}};i=De([fe(1,d.IInstantiationService)],i),e.GhostTextModel=i;class t extends N.Disposable{constructor(){super(...arguments),this.a=new w.Emitter,this.onDidChange=this.a.event,this.b=this.q(new N.MutableDisposable)}get value(){return this.b.value}setValue(a,r,c){this.b.value=new y.SynchronizedInlineCompletionsCache(r,a,()=>this.a.fire(),c)}clearAndLeak(){return this.b.clearAndLeak()}clear(){this.b.clear()}}e.SharedInlineCompletionCache=t}),define(ee[336],te([1,0,6,2,9,14,73,23,195,840,685,622,29,32,15,8]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoAcceptPart=e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let c=class wi extends N.Disposable{static get(k){return k.getContribution(wi.ID)}get activeModel(){var k;return(k=this.b.value)===null||k===void 0?void 0:k.model}constructor(k,I,M){super(),this.editor=k,this.h=I,this.i=M,this.a=!1,this.b=this.q(new N.MutableDisposable),this.c=this.q(new w.Emitter),this.g=void 0,this.alwaysShowInlineSuggestionToolbar=wi.alwaysShowInlineSuggestionToolbar.bindTo(this.i),this.q(this.editor.onDidChangeModelContent(B=>{var z;(!B.isUndoing||this.g&&this.editor.getModel().getAlternativeVersionId()<this.g)&&((z=this.b.value)===null||z===void 0||z.contextKeys.canUndoInlineSuggestion.reset(),this.g=void 0)})),this.q(this.editor.onDidChangeCursorPosition(B=>{var z;B.reason===3&&((z=this.b.value)===null||z===void 0||z.contextKeys.canUndoInlineSuggestion.reset(),this.g=void 0)})),this.q(this.editor.onDidChangeModel(()=>{this.j()})),this.q(this.editor.onDidChangeConfiguration(B=>{(B.hasChanged(112)||B.hasChanged(59))&&this.j()})),this.j()}j(){const k=this.editor.getOption(112),I=this.editor.getOption(59);this.alwaysShowInlineSuggestionToolbar.set(I.showToolbar==="always");const M=this.editor.hasModel()&&(k.preview||I.enabled||this.a);M!==!!this.b.value&&(this.b.value=void 0,this.b.value=M?this.h.createInstance(s,this.editor):void 0,this.c.fire())}shouldShowHoverAt(k){var I;return((I=this.activeModel)===null||I===void 0?void 0:I.shouldShowHoverAt(k))||!1}shouldShowHoverAtViewZone(k){var I,M;return((M=(I=this.b.value)===null||I===void 0?void 0:I.widget)===null||M===void 0?void 0:M.shouldShowHoverAtViewZone(k))||!1}trigger(){var k;this.a=!0,this.b.value||this.j(),(k=this.activeModel)===null||k===void 0||k.triggerInlineCompletion()}commitPartially(){var k,I,M;const B=this.g;(k=this.activeModel)===null||k===void 0||k.commitInlineCompletionPartially(),(M=(I=this.b)===null||I===void 0?void 0:I.value)===null||M===void 0||M.contextKeys.canUndoInlineSuggestion.set(!0),this.g=B??this.editor.getModel().getAlternativeVersionId()}commit(){var k;(k=this.activeModel)===null||k===void 0||k.commitInlineCompletion()}hide(){var k;(k=this.activeModel)===null||k===void 0||k.hideInlineCompletion()}showNextInlineCompletion(){var k;(k=this.activeModel)===null||k===void 0||k.showNextInlineCompletion()}showPreviousInlineCompletion(){var k;(k=this.activeModel)===null||k===void 0||k.showPreviousInlineCompletion()}};c.inlineSuggestionVisible=new a.RawContextKey("inlineSuggestionVisible",!1,i.localize(0,null)),c.inlineSuggestionHasIndentation=new a.RawContextKey("inlineSuggestionHasIndentation",!1,i.localize(1,null)),c.inlineSuggestionHasIndentationLessThanTabSize=new a.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,i.localize(2,null)),c.canUndoInlineSuggestion=new a.RawContextKey("canUndoInlineSuggestion",!1,i.localize(3,null)),c.alwaysShowInlineSuggestionToolbar=new a.RawContextKey("alwaysShowInlineSuggestionToolbar",!1,i.localize(4,null)),c.ID="editor.contrib.ghostTextController",c=De([fe(1,r.IInstantiationService),fe(2,a.IContextKeyService)],c),e.GhostTextController=c;class u{constructor(k){this.a=k,this.inlineCompletionVisible=c.inlineSuggestionVisible.bindTo(this.a),this.inlineCompletionSuggestsIndentation=c.inlineSuggestionHasIndentation.bindTo(this.a),this.inlineCompletionSuggestsIndentationLessThanTabSize=c.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.a),this.canUndoInlineSuggestion=c.canUndoInlineSuggestion.bindTo(this.a)}}let s=class extends N.Disposable{constructor(k,I,M){super(),this.a=k,this.b=I,this.c=M,this.contextKeys=new u(this.c),this.model=this.q(this.b.createInstance(d.GhostTextModel,this.a)),this.widget=this.q(this.b.createInstance(g.GhostTextWidget,this.a,this.model)),this.q((0,N.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this.q(this.model.onDidChange(()=>{this.g()})),this.g()}g(){var k;this.contextKeys.inlineCompletionVisible.set(((k=this.model.activeInlineCompletionsModel)===null||k===void 0?void 0:k.ghostText)!==void 0);let I=!1,M=!0;const B=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&B&&B.parts.length>0){const{column:z,lines:P}=B.parts[0],A=P[0],T=this.a.getModel().getLineIndentColumn(B.lineNumber);if(z<=T){let F=(0,E.firstNonWhitespaceIndex)(A);F===-1&&(F=A.length-1),I=F>0;const W=this.a.getModel().getOptions().tabSize;M=y.CursorColumns.visibleColumnFromColumn(A,F+1,W)<W}}this.contextKeys.inlineCompletionSuggestsIndentation.set(I),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(M)}};s=De([fe(1,r.IInstantiationService),fe(2,a.IContextKeyService)],s),e.ActiveGhostTextController=s;class l extends D.EditorAction{constructor(){super({id:l.ID,label:i.localize(5,null),alias:"Show Next Inline Suggestion",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,c.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M&&(M.showNextInlineCompletion(),I.focus())})}}l.ID=C.showNextInlineSuggestionActionId,e.ShowNextInlineSuggestionAction=l;class o extends D.EditorAction{constructor(){super({id:o.ID,label:i.localize(6,null),alias:"Show Previous Inline Suggestion",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,c.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M&&(M.showPreviousInlineCompletion(),I.focus())})}}o.ID=C.showPreviousInlineSuggestionActionId,e.ShowPreviousInlineSuggestionAction=o;class h extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:i.localize(7,null),alias:"Trigger Inline Suggestion",precondition:v.EditorContextKeys.writable})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M?.trigger()})}}e.TriggerInlineSuggestionAction=h;class f extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:i.localize(8,null),alias:"Accept Next Word Of Inline Suggestion",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,c.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065},menuOpts:[{menuId:t.MenuId.InlineSuggestionToolbar,title:i.localize(9,null),group:"primary",order:2}]})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M&&M.commitPartially()})}}e.AcceptNextWordOfInlineCompletion=f;class S extends D.EditorAction{constructor(){super({id:C.inlineSuggestCommitId,label:i.localize(10,null),alias:"Accept Inline Suggestion",precondition:c.inlineSuggestionVisible,menuOpts:[{menuId:t.MenuId.InlineSuggestionToolbar,title:i.localize(11,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:a.ContextKeyExpr.and(c.inlineSuggestionVisible,v.EditorContextKeys.tabMovesFocus.toNegated(),c.inlineSuggestionHasIndentationLessThanTabSize)}})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M&&(M.commit(),M.editor.focus())})}}e.AcceptInlineCompletion=S;class p extends D.EditorAction{constructor(){super({id:p.ID,label:i.localize(12,null),alias:"Accept Next Word Of Inline Suggestion",precondition:c.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(k,I){return Le(this,void 0,void 0,function*(){const M=c.get(I);M&&M.hide()})}}p.ID="editor.action.inlineSuggest.hide",e.HideInlineCompletion=p;class m extends t.Action2{constructor(){super({id:m.ID,title:i.localize(13,null),f1:!1,precondition:void 0,menu:[{id:t.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:c.alwaysShowInlineSuggestionToolbar})}run(k,I){return Le(this,void 0,void 0,function*(){const M=k.get(n.IConfigurationService),z=M.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";M.updateValue("editor.inlineSuggest.showToolbar",z)})}}m.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar",e.ToggleAlwaysShowInlineSuggestionToolbar=m;class b extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.undo",label:i.localize(14,null),alias:"Undo Accept Word",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,c.canUndoInlineSuggestion),kbOpts:{weight:100+1,primary:2063,kbExpr:a.ContextKeyExpr.and(v.EditorContextKeys.writable,c.canUndoInlineSuggestion)},menuOpts:[{menuId:t.MenuId.InlineSuggestionToolbar,title:i.localize(15,null),group:"secondary",order:3}]})}run(k,I){var M;return Le(this,void 0,void 0,function*(){(M=I.getModel())===null||M===void 0||M.undo()})}}e.UndoAcceptPart=b}),define(ee[841],te([1,0,7,71,2,3,40,94,336,230,121,623,75,8,53,77]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class c{constructor(l,o,h){this.owner=l,this.range=o,this.controller=h}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}requestExplicitContext(){var l,o,h;(h=(o=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||o===void 0?void 0:o.completionSession.value)===null||h===void 0||h.ensureUpdateWithExplicitContext()}getInlineCompletionsCount(){var l,o;const h=(o=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||o===void 0?void 0:o.completionSession.value;if(!!h?.hasBeenTriggeredExplicitly)return h?.getInlineCompletionsCountSync()}getInlineCompletionIndex(){var l,o,h;return(h=(o=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||o===void 0?void 0:o.completionSession.value)===null||h===void 0?void 0:h.currentlySelectedIndex}onDidChange(l){var o,h;return((h=(o=this.controller.activeModel)===null||o===void 0?void 0:o.activeInlineCompletionsModel)===null||h===void 0?void 0:h.onDidChange(l))||E.Disposable.None}get commands(){var l,o,h;return((h=(o=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||o===void 0?void 0:o.completionSession.value)===null||h===void 0?void 0:h.commands)||[]}}e.InlineCompletionsHover=c;let u=class{constructor(l,o,h,f,S,p){this.a=l,this.b=o,this.c=h,this.e=f,this.f=S,this.g=p,this.hoverOrdinal=3}suggestHoverAnchor(l){const o=C.GhostTextController.get(this.a);if(!o)return null;const h=l.target;if(h.type===8){const f=h.detail;if(o.shouldShowHoverAtViewZone(f.viewZoneId))return new v.HoverForeignElementAnchor(1e3,this,D.Range.fromPositions(this.a.getModel().validatePosition(f.positionBefore||f.position)),l.event.posx,l.event.posy,!1)}return h.type===7&&o.shouldShowHoverAt(h.range)?new v.HoverForeignElementAnchor(1e3,this,h.range,l.event.posx,l.event.posy,!1):h.type===6&&h.detail.mightBeForeignElement&&o.shouldShowHoverAt(h.range)?new v.HoverForeignElementAnchor(1e3,this,h.range,l.event.posx,l.event.posy,!1):null}computeSync(l,o){if(this.a.getOption(59).showToolbar==="always")return[];const h=C.GhostTextController.get(this.a);return h&&h.shouldShowHoverAt(l.range)?[new c(this,l.range,h)]:[]}renderHoverParts(l,o){const h=new E.DisposableStore,f=o[0];this.g.publicLog2("inlineCompletionHover.shown"),this.e.isScreenReaderOptimized()&&this.h(l,f,h);const S=this.f.createInstance(d.InlineSuggestionHintsContentWidget,this.a,!1);return l.fragment.appendChild(S.getDomNode()),S.update(null,f.getInlineCompletionIndex()||0,f.getInlineCompletionsCount(),f.commands),f.requestExplicitContext(),h.add(f.onDidChange(()=>{S.update(null,f.getInlineCompletionIndex()||0,f.getInlineCompletionsCount(),f.commands)})),h}h(l,o,h){var f,S;const p=w.$,m=p("div.hover-row.markdown-hover"),b=w.append(m,p("div.hover-contents")),L=h.add(new g.MarkdownRenderer({editor:this.a},this.b,this.c)),k=M=>{h.add(L.onDidRenderAsync(()=>{b.className="hover-contents code-hover-contents",l.onContentsChanged()}));const B=i.localize(0,null),z=h.add(L.render(new N.MarkdownString().appendText(B).appendCodeblock("text",M)));b.replaceChildren(z.element)},I=(S=(f=o.controller.activeModel)===null||f===void 0?void 0:f.inlineCompletionsModel)===null||S===void 0?void 0:S.ghostText;if(I){const M=this.a.getModel().getLineContent(I.lineNumber);k(I.renderForScreenReader(M))}l.fragment.appendChild(m)}};u=De([fe(1,y.ILanguageService),fe(2,a.IOpenerService),fe(3,t.IAccessibilityService),fe(4,n.IInstantiationService),fe(5,r.ITelemetryService)],u),e.InlineCompletionsHoverParticipant=u}),define(ee[842],te([1,0,14,94,336,841,29]),function(K,e,w,N,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(E.GhostTextController.ID,E.GhostTextController,3),(0,w.registerEditorAction)(E.TriggerInlineSuggestionAction),(0,w.registerEditorAction)(E.ShowNextInlineSuggestionAction),(0,w.registerEditorAction)(E.ShowPreviousInlineSuggestionAction),(0,w.registerEditorAction)(E.AcceptNextWordOfInlineCompletion),(0,w.registerEditorAction)(E.AcceptInlineCompletion),(0,w.registerEditorAction)(E.HideInlineCompletion),(0,w.registerEditorAction)(E.UndoAcceptPart),(0,y.registerAction2)(E.ToggleAlwaysShowInlineSuggestionToolbar),N.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(ee[337],te([1,0,8]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,w.createDecorator)("workspaceTrustManagementService")}),define(ee[843],te([1,0,12,27,71,2,16,9,14,39,38,256,107,40,292,94,228,773,652,32,8,53,83,78,337,418]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,S.registerIcon)("extensions-warning-message",N.Codicon.warning,s.localize(0,null));let m=class extends D.Disposable{constructor(ie,le,J,x){super(),this.i=ie,this.j=le,this.k=J,this.a=null,this.h=!1,this.l=q=>{if(q&&q.hasMore){if(this.h)return;const Y=Math.max(q.ambiguousCharacterCount,q.nonBasicAsciiCharacterCount,q.invisibleCharacterCount);let Q;if(q.nonBasicAsciiCharacterCount>=Y)Q={message:s.localize(1,null),command:new V};else if(q.ambiguousCharacterCount>=Y)Q={message:s.localize(2,null),command:new F};else if(q.invisibleCharacterCount>=Y)Q={message:s.localize(3,null),command:new W};else throw new Error("Unreachable");this.g.show({id:"unicodeHighlightBanner",message:Q.message,icon:e.warningIcon,actions:[{label:Q.command.shortLabel,href:`command:${Q.command.id}`}],onClose:()=>{this.h=!0}})}else this.g.hide()},this.g=this.q(x.createInstance(u.BannerController,ie)),this.q(this.i.onDidChangeModel(()=>{this.h=!1,this.m()})),this.b=ie.getOption(119),this.q(J.onDidChangeTrust(q=>{this.m()})),this.q(ie.onDidChangeConfiguration(q=>{q.hasChanged(119)&&(this.b=ie.getOption(119),this.m())})),this.m()}dispose(){this.a&&(this.a.dispose(),this.a=null),super.dispose()}m(){if(this.l(null),this.a&&(this.a.dispose(),this.a=null),!this.i.hasModel())return;const ie=b(this.k.isWorkspaceTrusted(),this.b);if([ie.nonBasicASCII,ie.ambiguousCharacters,ie.invisibleCharacters].every(J=>J===!1))return;const le={nonBasicASCII:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments,includeStrings:ie.includeStrings,allowedCodePoints:Object.keys(ie.allowedCharacters).map(J=>J.codePointAt(0)),allowedLocales:Object.keys(ie.allowedLocales).map(J=>J==="_os"?new Intl.NumberFormat().resolvedOptions().locale:J==="_vscode"?y.language:J)};this.j.canComputeUnicodeHighlights(this.i.getModel().uri)?this.a=new L(this.i,le,this.l,this.j):this.a=new k(this.i,le,this.l)}getDecorationInfo(ie){return this.a?this.a.getDecorationInfo(ie):null}};m.ID="editor.contrib.unicodeHighlighter",m=De([fe(1,t.IEditorWorkerService),fe(2,p.IWorkspaceTrustManagementService),fe(3,o.IInstantiationService)],m),e.UnicodeHighlighter=m;function b(ae,ie){return{nonBasicASCII:ie.nonBasicASCII===d.inUntrustedWorkspace?!ae:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments===d.inUntrustedWorkspace?!ae:ie.includeComments,includeStrings:ie.includeStrings===d.inUntrustedWorkspace?!ae:ie.includeStrings,allowedCharacters:ie.allowedCharacters,allowedLocales:ie.allowedLocales}}let L=class extends D.Disposable{constructor(ie,le,J,x){super(),this.h=ie,this.i=le,this.j=J,this.k=x,this.a=this.h.getModel(),this.g=this.h.createDecorationsCollection(),this.b=this.q(new w.RunOnceScheduler(()=>this.l(),250)),this.q(this.h.onDidChangeModelContent(()=>{this.b.schedule()})),this.b.schedule()}dispose(){this.g.clear(),super.dispose()}l(){if(this.a.isDisposed())return;if(!this.a.mightContainNonBasicASCII()){this.g.clear();return}const ie=this.a.getVersionId();this.k.computedUnicodeHighlights(this.a.uri,this.i).then(le=>{if(this.a.isDisposed()||this.a.getVersionId()!==ie)return;this.j(le);const J=[];if(!le.hasMore)for(const x of le.ranges)J.push({range:x,options:A.instance.getDecorationFromOptions(this.i)});this.g.set(J)})}getDecorationInfo(ie){if(!this.g.has(ie))return null;const le=this.h.getModel();if(!(0,a.isModelDecorationVisible)(le,ie))return null;const J=le.getValueInRange(ie.range);return{reason:P(J,this.i),inComment:(0,a.isModelDecorationInComment)(le,ie),inString:(0,a.isModelDecorationInString)(le,ie)}}};L=De([fe(3,t.IEditorWorkerService)],L);class k extends D.Disposable{constructor(ie,le,J){super(),this.h=ie,this.i=le,this.j=J,this.a=this.h.getModel(),this.g=this.h.createDecorationsCollection(),this.b=this.q(new w.RunOnceScheduler(()=>this.k(),250)),this.q(this.h.onDidLayoutChange(()=>{this.b.schedule()})),this.q(this.h.onDidScrollChange(()=>{this.b.schedule()})),this.q(this.h.onDidChangeHiddenAreas(()=>{this.b.schedule()})),this.q(this.h.onDidChangeModelContent(()=>{this.b.schedule()})),this.b.schedule()}dispose(){this.g.clear(),super.dispose()}k(){if(this.a.isDisposed())return;if(!this.a.mightContainNonBasicASCII()){this.g.clear();return}const ie=this.h.getVisibleRanges(),le=[],J={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const x of ie){const q=i.UnicodeTextModelHighlighter.computeUnicodeHighlights(this.a,this.i,x);for(const Y of q.ranges)J.ranges.push(Y);J.ambiguousCharacterCount+=J.ambiguousCharacterCount,J.invisibleCharacterCount+=J.invisibleCharacterCount,J.nonBasicAsciiCharacterCount+=J.nonBasicAsciiCharacterCount,J.hasMore=J.hasMore||q.hasMore}if(!J.hasMore)for(const x of J.ranges)le.push({range:x,options:A.instance.getDecorationFromOptions(this.i)});this.j(J),this.g.set(le)}getDecorationInfo(ie){if(!this.g.has(ie))return null;const le=this.h.getModel(),J=le.getValueInRange(ie.range);return(0,a.isModelDecorationVisible)(le,ie)?{reason:P(J,this.i),inComment:(0,a.isModelDecorationInComment)(le,ie),inString:(0,a.isModelDecorationInString)(le,ie)}:null}}let I=class{constructor(ie,le,J){this.a=ie,this.b=le,this.f=J,this.hoverOrdinal=4}computeSync(ie,le){if(!this.a.hasModel()||ie.type!==1)return[];const J=this.a.getModel(),x=this.a.getContribution(m.ID);if(!x)return[];const q=[];let Y=300;for(const Q of le){const re=x.getDecorationInfo(Q);if(!re)continue;const G=J.getValueInRange(Q.range).codePointAt(0),Z=B(G);let U;switch(re.reason.kind){case 0:U=s.localize(4,null,Z,B(re.reason.confusableWith.codePointAt(0)));break;case 1:U=s.localize(5,null,Z);break;case 2:U=s.localize(6,null,Z);break}const j={codePoint:G,reason:re.reason,inComment:re.inComment,inString:re.inString},H=s.localize(7,null),_=`command:${R.ID}?${encodeURIComponent(JSON.stringify(j))}`,ce=new E.MarkdownString("",!0).appendMarkdown(U).appendText(" ").appendLink(_,H);q.push(new c.MarkdownHover(this,Q.range,[ce],!1,Y++))}return q}renderHoverParts(ie,le){return(0,c.renderMarkdownHovers)(ie,le,this.a,this.b,this.f)}};I=De([fe(1,n.ILanguageService),fe(2,h.IOpenerService)],I),e.UnicodeHighlighterHoverParticipant=I;function M(ae){return`U+${ae.toString(16).padStart(4,"0")}`}function B(ae){let ie=`\`${M(ae)}\``;return v.InvisibleCharacters.isInvisibleCharacter(ae)||(ie+=` "${`${z(ae)}`}"`),ie}function z(ae){return ae===96?"`` ` ``":"`"+String.fromCodePoint(ae)+"`"}function P(ae,ie){return i.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(ae,ie)}class A{constructor(){this.a=new Map}getDecorationFromOptions(ie){return this.b(!ie.includeComments,!ie.includeStrings)}b(ie,le){const J=`${ie}${le}`;let x=this.a.get(J);return x||(x=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ie,hideInStringTokens:le}),this.a.set(J,x)),x}}A.instance=new A;class T extends C.EditorAction{constructor(){super({id:F.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=s.localize(8,null)}run(ie,le,J){return Le(this,void 0,void 0,function*(){const x=ie?.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(d.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=T;class O extends C.EditorAction{constructor(){super({id:F.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=s.localize(10,null)}run(ie,le,J){return Le(this,void 0,void 0,function*(){const x=ie?.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(d.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=O;class F extends C.EditorAction{constructor(){super({id:F.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=s.localize(12,null)}run(ie,le,J){return Le(this,void 0,void 0,function*(){const x=ie?.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(d.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}F.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",e.DisableHighlightingOfAmbiguousCharactersAction=F;class W extends C.EditorAction{constructor(){super({id:W.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=s.localize(14,null)}run(ie,le,J){return Le(this,void 0,void 0,function*(){const x=ie?.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(d.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",e.DisableHighlightingOfInvisibleCharactersAction=W;class V extends C.EditorAction{constructor(){super({id:V.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=s.localize(16,null)}run(ie,le,J){return Le(this,void 0,void 0,function*(){const x=ie?.get(l.IConfigurationService);x&&this.runAction(x)})}runAction(ie){return Le(this,void 0,void 0,function*(){yield ie.updateValue(d.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",e.DisableHighlightingOfNonBasicAsciiCharactersAction=V;class R extends C.EditorAction{constructor(){super({id:R.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(ie,le,J){return Le(this,void 0,void 0,function*(){const{codePoint:x,reason:q,inString:Y,inComment:Q}=J,re=String.fromCodePoint(x),oe=ie.get(f.IQuickInputService),G=ie.get(l.IConfigurationService);function Z(H){return v.InvisibleCharacters.isInvisibleCharacter(H)?s.localize(19,null,M(H)):s.localize(20,null,`${M(H)} "${re}"`)}const U=[];if(q.kind===0)for(const H of q.notAmbiguousInLocales)U.push({label:s.localize(21,null,H),run:()=>Le(this,void 0,void 0,function*(){X(G,[H])})});if(U.push({label:Z(x),run:()=>$(G,[x])}),Q){const H=new T;U.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(G)})})}else if(Y){const H=new O;U.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(G)})})}if(q.kind===0){const H=new F;U.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(G)})})}else if(q.kind===1){const H=new W;U.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(G)})})}else if(q.kind===2){const H=new V;U.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(G)})})}else ne(q);const j=yield oe.pick(U,{title:s.localize(22,null)});j&&(yield j.run())})}}R.ID="editor.action.unicodeHighlight.showExcludeOptions",e.ShowExcludeOptions=R;function $(ae,ie){return Le(this,void 0,void 0,function*(){const le=ae.getValue(d.unicodeHighlightConfigKeys.allowedCharacters);let J;typeof le=="object"&&le?J=le:J={};for(const x of ie)J[String.fromCodePoint(x)]=!0;yield ae.updateValue(d.unicodeHighlightConfigKeys.allowedCharacters,J,2)})}function X(ae,ie){var le;return Le(this,void 0,void 0,function*(){const J=(le=ae.inspect(d.unicodeHighlightConfigKeys.allowedLocales).user)===null||le===void 0?void 0:le.value;let x;typeof J=="object"&&J?x=Object.assign({},J):x={};for(const q of ie)x[q]=!0;yield ae.updateValue(d.unicodeHighlightConfigKeys.allowedLocales,x,2)})}function ne(ae){throw new Error(`Unexpected value: ${ae}`)}(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(V),(0,C.registerEditorAction)(R),(0,C.registerEditorContribution)(m.ID,m,1),r.HoverParticipantRegistry.register(I)}),define(ee[844],te([1,0,175,179,322,299,728,805,729,730,731,768,807,828,739,732,733,734,809,836,324,325,740,741,706,842,231,329,327,330,743,830,816,744,745,817,818,746,822,772,793,833,748,232,335,749,751,311,843,752,821,823,312,753,747,82,154]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ee[233],te([1,0,9,7,45,6,110,2,16,93,21,143,222,64,11,3,52,61,172,25,32,306,15,144,8,694,37,697,108,301,698,145,42,69,77,181,120,82,43,28,62,337,56,700,715,800,51,705,107,304,40,789,218,321,802,320,119,699,75,29,725,701,97,692,217,693,173,177,89,704,53,83,84,718,219,702,34,319,302,835,76,684]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I,M,B,z,P,A,T,O,F,W,V,R,$,X,ne,ae,ie,le,J,x,q,Y,Q,re,oe,G,Z,U,j,H,_,ce,ue,se,he,me,Se,ye,ke,Te,Pe,Ie,ve,ge,we,de,pe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class be{constructor(Oe){this.c=!1,this.a=Oe,this.b=new D.Emitter}get textEditorModel(){return this.a}dispose(){this.c=!0,this.b.fire()}}let Ce=class{constructor(Oe){this.a=Oe}createModelReference(Oe){const We=this.a.getModel(Oe);return We?Promise.resolve(new v.ImmortalReference(new be(We))):Promise.reject(new Error("Model not found"))}};Ce=De([fe(0,c.IModelService)],Ce);class Ee{show(){return Ee.a}showWhile(Oe,We){return Le(this,void 0,void 0,function*(){yield Oe})}}Ee.a={done:()=>{},total:()=>{},worked:()=>{}};class Ae{withProgress(Oe,We,qe){return We({report:()=>{}})}}class Me{confirm(Oe){return this.a(Oe).then(We=>({confirmed:We,checkboxChecked:!1}))}a(Oe){let We=Oe.message;return Oe.detail&&(We=We+`

`+Oe.detail),Promise.resolve(window.confirm(We))}show(Oe,We,qe,Ke){return Promise.resolve({choice:0})}}class Re{info(Oe){return this.notify({severity:d.default.Info,message:Oe})}warn(Oe){return this.notify({severity:d.default.Warning,message:Oe})}error(Oe){return this.notify({severity:d.default.Error,message:Oe})}notify(Oe){switch(Oe.severity){case d.default.Error:console.error(Oe.message);break;case d.default.Warning:console.warn(Oe.message);break;default:console.log(Oe.message);break}return Re.a}prompt(Oe,We,qe,Ke){return Re.a}status(Oe,We){return v.Disposable.None}}Re.a=new z.NoOpNotification,e.StandaloneNotificationService=Re;let ze=class{constructor(Oe){this.b=new D.Emitter,this.c=new D.Emitter,this.onDidExecuteCommand=this.c.event,this.a=Oe}executeCommand(Oe,...We){const qe=l.CommandsRegistry.getCommand(Oe);if(!qe)return Promise.reject(new Error(`command '${Oe}' not found`));try{this.b.fire({commandId:Oe,args:We});const Ke=this.a.invokeFunction.apply(this.a,[qe.handler,...We]);return this.c.fire({commandId:Oe,args:We}),Promise.resolve(Ke)}catch(Ke){return Promise.reject(Ke)}}};ze=De([fe(0,p.IInstantiationService)],ze),e.StandaloneCommandService=ze;let Fe=class extends m.AbstractKeybindingService{constructor(Oe,We,qe,Ke,tt,Xe){super(Oe,We,qe,Ke,tt),this.G=null,this.H=[],this.I=[];const Ze=lt=>{const dt=new v.DisposableStore;dt.add(N.addDisposableListener(lt,N.EventType.KEY_DOWN,Et=>{const Ct=new E.StandardKeyboardEvent(Et);this.B(Ct,Ct.target)&&(Ct.preventDefault(),Ct.stopPropagation())})),dt.add(N.addDisposableListener(lt,N.EventType.KEY_UP,Et=>{const Ct=new E.StandardKeyboardEvent(Et);this.D(Ct,Ct.target)&&Ct.preventDefault()})),this.I.push(new Ve(lt,dt))},at=lt=>{for(let dt=0;dt<this.I.length;dt++){const Et=this.I[dt];Et.domNode===lt&&(this.I.splice(dt,1),Et.dispose())}},ut=lt=>{lt.getOption(58)||Ze(lt.getContainerDomNode())},pt=lt=>{lt.getOption(58)||at(lt.getContainerDomNode())};this.q(Xe.onCodeEditorAdd(ut)),this.q(Xe.onCodeEditorRemove(pt)),Xe.listCodeEditors().forEach(ut);const bt=lt=>{Ze(lt.getContainerDomNode())},gt=lt=>{at(lt.getContainerDomNode())};this.q(Xe.onDiffEditorAdd(bt)),this.q(Xe.onDiffEditorRemove(gt)),Xe.listDiffEditors().forEach(bt)}addDynamicKeybinding(Oe,We,qe,Ke){return(0,v.combinedDisposable)(l.CommandsRegistry.registerCommand(Oe,qe),this.addDynamicKeybindings([{keybinding:We,command:Oe,when:Ke}]))}addDynamicKeybindings(Oe){const We=Oe.map(qe=>{var Ke;return{keybinding:(0,y.decodeKeybinding)(qe.keybinding,C.OS),command:(Ke=qe.command)!==null&&Ke!==void 0?Ke:null,commandArgs:qe.commandArgs,when:qe.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this.H=this.H.concat(We),this.J(),(0,v.toDisposable)(()=>{for(let qe=0;qe<this.H.length;qe++)if(this.H[qe]===We[0]){this.H.splice(qe,We.length),this.J();return}})}J(){this.G=null,this.a.fire()}u(){if(!this.G){const Oe=this.N(k.KeybindingsRegistry.getDefaultKeybindings(),!0),We=this.N(this.H,!1);this.G=new L.KeybindingResolver(Oe,We,qe=>this.w(qe))}return this.G}v(){return document.hasFocus()}N(Oe,We){const qe=[];let Ke=0;for(const tt of Oe){const Xe=tt.when||void 0,Ze=tt.keybinding;if(!Ze)qe[Ke++]=new I.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,Xe,We,null,!1);else{const at=M.USLayoutResolvedKeybinding.resolveKeybinding(Ze,C.OS);for(const ut of at)qe[Ke++]=new I.ResolvedKeybindingItem(ut,tt.command,tt.commandArgs,Xe,We,null,!1)}}return qe}resolveKeyboardEvent(Oe){const We=new y.KeyCodeChord(Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey,Oe.keyCode);return new M.USLayoutResolvedKeybinding([We],C.OS)}};Fe=De([fe(0,f.IContextKeyService),fe(1,l.ICommandService),fe(2,A.ITelemetryService),fe(3,z.INotificationService),fe(4,R.ILogService),fe(5,V.ICodeEditorService)],Fe),e.StandaloneKeybindingService=Fe;class Ve extends v.Disposable{constructor(Oe,We){super(),this.domNode=Oe,this.q(We)}}function Ue(Ye){return Ye&&typeof Ye=="object"&&(!Ye.overrideIdentifier||typeof Ye.overrideIdentifier=="string")&&(!Ye.resource||Ye.resource instanceof g.URI)}class Je{constructor(){this.a=new D.Emitter,this.onDidChangeConfiguration=this.a.event;const Oe=new we.DefaultConfiguration;this.b=new h.Configuration(Oe.reload(),new h.ConfigurationModel,new h.ConfigurationModel,new h.ConfigurationModel),Oe.dispose()}getValue(Oe,We){const qe=typeof Oe=="string"?Oe:void 0,Ke=Ue(Oe)?Oe:Ue(We)?We:{};return this.b.getValue(qe,Ke,void 0)}updateValues(Oe){const We={data:this.b.toData()},qe=[];for(const Ke of Oe){const[tt,Xe]=Ke;this.getValue(tt)!==Xe&&(this.b.updateValue(tt,Xe),qe.push(tt))}if(qe.length>0){const Ke=new h.ConfigurationChangeEvent({keys:qe,overrides:[]},We,this.b);Ke.source=8,Ke.sourceConfig=null,this.a.fire(Ke)}return Promise.resolve()}updateValue(Oe,We,qe,Ke){return this.updateValues([[Oe,We]])}inspect(Oe,We={}){return this.b.inspect(Oe,We,void 0)}}e.StandaloneConfigurationService=Je;let it=class{constructor(Oe,We,qe){this.b=Oe,this.c=We,this.d=qe,this.a=new D.Emitter,this.b.onDidChangeConfiguration(Ke=>{this.a.fire({affectedKeys:Ke.affectedKeys,affectsConfiguration:(tt,Xe)=>Ke.affectsConfiguration(Xe)})})}getValue(Oe,We,qe){const Ke=a.Position.isIPosition(We)?We:null,tt=Ke?typeof qe=="string"?qe:void 0:typeof We=="string"?We:void 0,Xe=Oe?this.f(Oe,Ke):void 0;return typeof tt>"u"?this.b.getValue({resource:Oe,overrideIdentifier:Xe}):this.b.getValue(tt,{resource:Oe,overrideIdentifier:Xe})}f(Oe,We){const qe=this.c.getModel(Oe);return qe?We?qe.getLanguageIdAtPosition(We.lineNumber,We.column):qe.getLanguageId():this.d.guessLanguageIdByFilepathOrFirstLine(Oe)}};it=De([fe(0,o.IConfigurationService),fe(1,c.IModelService),fe(2,Y.ILanguageService)],it);let rt=class{constructor(Oe){this.a=Oe}getEOL(Oe,We){const qe=this.a.getValue("files.eol",{overrideIdentifier:We,resource:Oe});return qe&&typeof qe=="string"&&qe!=="auto"?qe:C.isLinux||C.isMacintosh?`
`:`\r
`}};rt=De([fe(0,o.IConfigurationService)],rt);class He{publicLog(Oe,We){return Promise.resolve(void 0)}publicLog2(Oe,We){return this.publicLog(Oe,We)}}class Ne{constructor(){const Oe=g.URI.from({scheme:Ne.a,authority:"model",path:"/"});this.b={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new T.WorkspaceFolder({uri:Oe,name:"",index:0})]}}getWorkspace(){return this.b}getWorkspaceFolder(Oe){return Oe&&Oe.scheme===Ne.a?this.b.folders[0]:null}}Ne.a="inmemory";function Be(Ye,Oe,We){if(!Oe||!(Ye instanceof Je))return;const qe=[];Object.keys(Oe).forEach(Ke=>{(0,t.isEditorConfigurationKey)(Ke)&&qe.push([`editor.${Ke}`,Oe[Ke]]),We&&(0,t.isDiffEditorConfigurationKey)(Ke)&&qe.push([`diffEditor.${Ke}`,Oe[Ke]])}),qe.length>0&&Ye.updateValues(qe)}e.updateConfigurationService=Be;let xe=class{constructor(Oe){this.a=Oe}hasPreviewHandler(){return!1}apply(Oe,We){return Le(this,void 0,void 0,function*(){const qe=Array.isArray(Oe)?Oe:i.ResourceEdit.convert(Oe),Ke=new Map;for(const Ze of qe){if(!(Ze instanceof i.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const at=this.a.getModel(Ze.resource);if(!at)throw new Error("bad edit - model not found");if(typeof Ze.versionId=="number"&&at.getVersionId()!==Ze.versionId)throw new Error("bad state - model changed in the meantime");let ut=Ke.get(at);ut||(ut=[],Ke.set(at,ut)),ut.push(n.EditOperation.replaceMove(r.Range.lift(Ze.textEdit.range),Ze.textEdit.text))}let tt=0,Xe=0;for(const[Ze,at]of Ke)Ze.pushStackElement(),Ze.pushEditOperations([],at,()=>[]),Ze.pushStackElement(),Xe+=1,tt+=at.length;return{ariaSummary:w.format(F.StandaloneServicesNLS.bulkEditServiceSummary,tt,Xe),isApplied:tt>0}})}};xe=De([fe(0,c.IModelService)],xe);class Ge{getUriLabel(Oe,We){return Oe.scheme==="file"?Oe.fsPath:Oe.path}getUriBasenameLabel(Oe){return(0,W.basename)(Oe)}}let je=class extends ne.ContextViewService{constructor(Oe,We){super(Oe),this.k=We}showContextView(Oe,We,qe){if(!We){const Ke=this.k.getFocusedCodeEditor()||this.k.getActiveCodeEditor();Ke&&(We=Ke.getContainerDomNode())}return super.showContextView(Oe,We,qe)}};je=De([fe(0,O.ILayoutService),fe(1,V.ICodeEditorService)],je);class et{constructor(){this.a=new D.Emitter,this.onDidChangeTrust=this.a.event}isWorkspaceTrusted(){return!0}}class Qe extends ae.LanguageService{constructor(){super()}}class nt extends pe.LogService{constructor(){super(new R.ConsoleLogger)}}let st=class extends ie.ContextMenuService{constructor(Oe,We,qe,Ke,tt,Xe){super(Oe,We,qe,Ke,tt,Xe),this.configure({blockMouse:!1})}};st=De([fe(0,A.ITelemetryService),fe(1,z.INotificationService),fe(2,X.IContextViewService),fe(3,b.IKeybindingService),fe(4,_.IMenuService),fe(5,f.IContextKeyService)],st);class $e{playAudioCue(Oe,We){return Le(this,void 0,void 0,function*(){})}}(0,le.registerSingleton)(o.IConfigurationService,Je,0),(0,le.registerSingleton)(s.ITextResourceConfigurationService,it,0),(0,le.registerSingleton)(s.ITextResourcePropertiesService,rt,0),(0,le.registerSingleton)(T.IWorkspaceContextService,Ne,0),(0,le.registerSingleton)(B.ILabelService,Ge,0),(0,le.registerSingleton)(A.ITelemetryService,He,0),(0,le.registerSingleton)(S.IDialogService,Me,0),(0,le.registerSingleton)(z.INotificationService,Re,0),(0,le.registerSingleton)(Te.IMarkerService,Pe.MarkerService,0),(0,le.registerSingleton)(Y.ILanguageService,Qe,0),(0,le.registerSingleton)(U.IStandaloneThemeService,Z.StandaloneThemeService,0),(0,le.registerSingleton)(R.ILogService,nt,0),(0,le.registerSingleton)(c.IModelService,oe.ModelService,0),(0,le.registerSingleton)(re.IMarkerDecorationsService,Q.MarkerDecorationsService,0),(0,le.registerSingleton)(f.IContextKeyService,he.ContextKeyService,0),(0,le.registerSingleton)(P.IProgressService,Ae,0),(0,le.registerSingleton)(P.IEditorProgressService,Ee,0),(0,le.registerSingleton)(ge.IStorageService,ge.InMemoryStorageService,0),(0,le.registerSingleton)(x.IEditorWorkerService,q.EditorWorkerService,0),(0,le.registerSingleton)(i.IBulkEditService,xe,0),(0,le.registerSingleton)($.IWorkspaceTrustManagementService,et,0),(0,le.registerSingleton)(u.ITextModelService,Ce,0),(0,le.registerSingleton)(H.IAccessibilityService,j.AccessibilityService,0),(0,le.registerSingleton)(ke.IListService,ke.ListService,0),(0,le.registerSingleton)(l.ICommandService,ze,0),(0,le.registerSingleton)(b.IKeybindingService,Fe,0),(0,le.registerSingleton)(ve.IQuickInputService,G.StandaloneQuickInputService,0),(0,le.registerSingleton)(X.IContextViewService,je,0),(0,le.registerSingleton)(Ie.IOpenerService,J.OpenerService,0),(0,le.registerSingleton)(se.IClipboardService,ue.BrowserClipboardService,0),(0,le.registerSingleton)(X.IContextMenuService,st,0),(0,le.registerSingleton)(_.IMenuService,ce.MenuService,0),(0,le.registerSingleton)(de.IAudioCueService,$e,0);var ot;(function(Ye){const Oe=new ye.ServiceCollection;for(const[Xe,Ze]of(0,le.getSingletonServiceDescriptors)())Oe.set(Xe,Ze);const We=new Se.InstantiationService(Oe,!0);Oe.set(p.IInstantiationService,We);function qe(Xe){const Ze=Oe.get(Xe);if(!Ze)throw new Error("Missing service "+Xe);return Ze instanceof me.SyncDescriptor?We.invokeFunction(at=>at.get(Xe)):Ze}Ye.get=qe;let Ke=!1;function tt(Xe){if(Ke)return We;Ke=!0;for(const[Ze,at]of(0,le.getSingletonServiceDescriptors)())Oe.get(Ze)||Oe.set(Ze,at);for(const Ze in Xe)if(Xe.hasOwnProperty(Ze)){const at=(0,p.createDecorator)(Ze);Oe.get(at)instanceof me.SyncDescriptor&&Oe.set(at,Xe[Ze])}return We}Ye.initialize=tt})(ot=e.StandaloneServices||(e.StandaloneServices={}))}),define(ee[845],te([1,0,50,2,28,179,322,249,233,119,29,25,32,15,56,8,37,42,24,75,82,97,69,52,40,319,70,34,19]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let I=0,M=!1;function B(F){if(!F){if(M)return;M=!0}w.setARIAContainer(F||document.body)}let z=class extends D.CodeEditorWidget{constructor(W,V,R,$,X,ne,ae,ie,le,J,x,q){const Y=Object.assign({},V);Y.ariaLabel=Y.ariaLabel||o.StandaloneCodeEditorNLS.editorViewAccessibleLabel,Y.ariaLabel=Y.ariaLabel+";"+o.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(W,Y,{},R,$,X,ne,ie,le,J,x,q),ae instanceof C.StandaloneKeybindingService?this.Wb=ae:this.Wb=null,B(Y.ariaContainerElement)}addCommand(W,V,R){if(!this.Wb)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const $="DYNAMIC_"+ ++I,X=n.ContextKeyExpr.deserialize(R);return this.Wb.addDynamicKeybinding($,W,V,X),$}createContextKey(W,V){return this.lb.createKey(W,V)}addAction(W){if(typeof W.id!="string"||typeof W.label!="string"||typeof W.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this.Wb)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),N.Disposable.None;const V=W.id,R=W.label,$=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(W.precondition)),X=W.keybindings,ne=n.ContextKeyExpr.and($,n.ContextKeyExpr.deserialize(W.keybindingContext)),ae=W.contextMenuGroupId||null,ie=W.contextMenuOrder||0,le=(Y,...Q)=>Promise.resolve(W.run(this,...Q)),J=new N.DisposableStore,x=this.getId()+":"+V;if(J.add(i.CommandsRegistry.registerCommand(x,le)),ae){const Y={command:{id:x,title:R},when:$,group:ae,order:ie};J.add(g.MenuRegistry.appendMenuItem(g.MenuId.EditorContext,Y))}if(Array.isArray(X))for(const Y of X)J.add(this.Wb.addDynamicKeybinding(x,Y,le,ne));const q=new v.InternalEditorAction(x,R,R,$,le,this.lb);return this.hb.set(V,q),J.add((0,N.toDisposable)(()=>{this.hb.delete(V)})),J}Ib(W,V){if(this.nb instanceof m.StandaloneCodeEditorService)try{this.nb.setActiveCodeEditor(this),super.Ib(W,V)}finally{this.nb.setActiveCodeEditor(null)}else super.Ib(W,V)}};z=De([fe(2,r.IInstantiationService),fe(3,E.ICodeEditorService),fe(4,i.ICommandService),fe(5,n.IContextKeyService),fe(6,c.IKeybindingService),fe(7,s.IThemeService),fe(8,u.INotificationService),fe(9,l.IAccessibilityService),fe(10,L.ILanguageConfigurationService),fe(11,k.ILanguageFeaturesService)],z),e.StandaloneCodeEditor=z;let P=class extends z{constructor(W,V,R,$,X,ne,ae,ie,le,J,x,q,Y,Q,re){const oe=Object.assign({},V);(0,C.updateConfigurationService)(J,oe,!1);const G=ie.registerEditorContainer(W);typeof oe.theme=="string"&&ie.setTheme(oe.theme),typeof oe.autoDetectHighContrast<"u"&&ie.setAutoDetectHighContrast(Boolean(oe.autoDetectHighContrast));const Z=oe.model;delete oe.model,super(W,oe,R,$,X,ne,ae,ie,le,x,Q,re),this.Yb=J,this.Zb=ie,this.q(G);let U;if(typeof Z>"u"){const j=Y.getLanguageIdByMimeType(oe.language)||oe.language||b.PLAINTEXT_LANGUAGE_ID;U=T(q,Y,oe.value||"",j,void 0),this.ac=!0}else U=Z,this.ac=!1;if(this.Qb(U),U){const j={oldModelUrl:null,newModelUrl:U.uri};this.u.fire(j)}}dispose(){super.dispose()}updateOptions(W){(0,C.updateConfigurationService)(this.Yb,W,!1),typeof W.theme=="string"&&this.Zb.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this.Zb.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}_postDetachModelCleanup(W){super._postDetachModelCleanup(W),W&&this.ac&&(W.dispose(),this.ac=!1)}};P=De([fe(2,r.IInstantiationService),fe(3,E.ICodeEditorService),fe(4,i.ICommandService),fe(5,n.IContextKeyService),fe(6,c.IKeybindingService),fe(7,d.IStandaloneThemeService),fe(8,u.INotificationService),fe(9,t.IConfigurationService),fe(10,l.IAccessibilityService),fe(11,S.IModelService),fe(12,p.ILanguageService),fe(13,L.ILanguageConfigurationService),fe(14,k.ILanguageFeaturesService)],P),e.StandaloneEditor=P;let A=class extends y.DiffEditorWidget{constructor(W,V,R,$,X,ne,ae,ie,le,J,x){const q=Object.assign({},V);(0,C.updateConfigurationService)(ie,q,!0);const Y=ne.registerEditorContainer(W);typeof q.theme=="string"&&ne.setTheme(q.theme),typeof q.autoDetectHighContrast<"u"&&ne.setAutoDetectHighContrast(Boolean(q.autoDetectHighContrast)),super(W,q,{},x,$,R,X,ne,ae,le,J),this.Ob=ie,this.Pb=ne,this.q(Y)}dispose(){super.dispose()}updateOptions(W){(0,C.updateConfigurationService)(this.Ob,W,!0),typeof W.theme=="string"&&this.Pb.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&this.Pb.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast)),super.updateOptions(W)}qb(W,V,R){return W.createInstance(z,V,R)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(W,V,R){return this.getModifiedEditor().addCommand(W,V,R)}createContextKey(W,V){return this.getModifiedEditor().createContextKey(W,V)}addAction(W){return this.getModifiedEditor().addAction(W)}};A=De([fe(2,r.IInstantiationService),fe(3,n.IContextKeyService),fe(4,E.ICodeEditorService),fe(5,d.IStandaloneThemeService),fe(6,u.INotificationService),fe(7,t.IConfigurationService),fe(8,a.IContextMenuService),fe(9,f.IEditorProgressService),fe(10,h.IClipboardService)],A),e.StandaloneDiffEditor=A;function T(F,W,V,R,$){if(V=V||"",!R){const X=V.indexOf(`
`);let ne=V;return X!==-1&&(ne=V.substring(0,X)),O(F,V,W.createByFilepathOrFirstLine($||null,ne),$)}return O(F,V,W.createById(R),$)}e.createTextModel=T;function O(F,W,V,R){return F.createModel(W,V,R)}}),define(ee[846],te([1,0,2,9,291,28,299,39,216,160,48,26,34,141,40,52,710,165,687,845,233,119,25,89,37,14,29,15,70,159,425]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r,c,u,s,l,o,h,f,S,p,m,b,L,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function M(he,me,Se){return o.StandaloneServices.initialize(Se||{}).createInstance(l.StandaloneEditor,he,me)}e.create=M;function B(he){return o.StandaloneServices.get(D.ICodeEditorService).onCodeEditorAdd(Se=>{he(Se)})}e.onDidCreateEditor=B;function z(he){return o.StandaloneServices.get(D.ICodeEditorService).onDiffEditorAdd(Se=>{he(Se)})}e.onDidCreateDiffEditor=z;function P(){return o.StandaloneServices.get(D.ICodeEditorService).listCodeEditors()}e.getEditors=P;function A(){return o.StandaloneServices.get(D.ICodeEditorService).listDiffEditors()}e.getDiffEditors=A;function T(he,me,Se){return o.StandaloneServices.initialize(Se||{}).createInstance(l.StandaloneDiffEditor,he,me)}e.createDiffEditor=T;function O(he,me){return o.StandaloneServices.initialize({}).createInstance(y.DiffNavigator,he,me)}e.createDiffNavigator=O;function F(he){if(typeof he.id!="string"||typeof he.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return f.CommandsRegistry.registerCommand(he.id,he.run)}e.addCommand=F;function W(he){if(typeof he.id!="string"||typeof he.label!="string"||typeof he.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const me=L.ContextKeyExpr.deserialize(he.precondition),Se=(ke,...Te)=>m.EditorCommand.runEditorCommand(ke,Te,me,(Pe,Ie,ve)=>Promise.resolve(he.run(Ie,...ve))),ye=new w.DisposableStore;if(ye.add(f.CommandsRegistry.registerCommand(he.id,Se)),he.contextMenuGroupId){const ke={command:{id:he.id,title:he.label},when:me,group:he.contextMenuGroupId,order:he.contextMenuOrder||0};ye.add(b.MenuRegistry.appendMenuItem(b.MenuId.EditorContext,ke))}if(Array.isArray(he.keybindings)){const ke=o.StandaloneServices.get(p.IKeybindingService);if(!(ke instanceof o.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Te=L.ContextKeyExpr.and(me,L.ContextKeyExpr.deserialize(he.keybindingContext));ye.add(ke.addDynamicKeybindings(he.keybindings.map(Pe=>({keybinding:Pe,command:he.id,when:Te}))))}}return ye}e.addEditorAction=W;function V(he){return R([he])}e.addKeybindingRule=V;function R(he){const me=o.StandaloneServices.get(p.IKeybindingService);return me instanceof o.StandaloneKeybindingService?me.addDynamicKeybindings(he.map(Se=>({keybinding:Se.keybinding,command:Se.command,commandArgs:Se.commandArgs,when:L.ContextKeyExpr.deserialize(Se.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),w.Disposable.None)}e.addKeybindingRules=R;function $(he,me,Se){const ye=o.StandaloneServices.get(a.ILanguageService),ke=ye.getLanguageIdByMimeType(me)||me;return(0,l.createTextModel)(o.StandaloneServices.get(r.IModelService),ye,he,ke,Se)}e.createModel=$;function X(he,me){const Se=o.StandaloneServices.get(a.ILanguageService),ye=o.StandaloneServices.get(r.IModelService),ke=Se.getLanguageIdByMimeType(me)||me||k.PLAINTEXT_LANGUAGE_ID;ye.setMode(he,Se.createById(ke))}e.setModelLanguage=X;function ne(he,me,Se){he&&o.StandaloneServices.get(S.IMarkerService).changeOne(me,he.uri,Se)}e.setModelMarkers=ne;function ae(he){o.StandaloneServices.get(S.IMarkerService).changeAll(he,[])}e.removeAllMarkers=ae;function ie(he){return o.StandaloneServices.get(S.IMarkerService).read(he)}e.getModelMarkers=ie;function le(he){return o.StandaloneServices.get(S.IMarkerService).onMarkerChanged(he)}e.onDidChangeMarkers=le;function J(he){return o.StandaloneServices.get(r.IModelService).getModel(he)}e.getModel=J;function x(){return o.StandaloneServices.get(r.IModelService).getModels()}e.getModels=x;function q(he){return o.StandaloneServices.get(r.IModelService).onModelAdded(he)}e.onDidCreateModel=q;function Y(he){return o.StandaloneServices.get(r.IModelService).onModelRemoved(he)}e.onWillDisposeModel=Y;function Q(he){return o.StandaloneServices.get(r.IModelService).onModelLanguageChanged(Se=>{he({model:Se.model,oldLanguage:Se.oldLanguageId})})}e.onDidChangeModelLanguage=Q;function re(he){return(0,c.createWebWorker)(o.StandaloneServices.get(r.IModelService),o.StandaloneServices.get(t.ILanguageConfigurationService),he)}e.createWebWorker=re;function oe(he,me){const Se=o.StandaloneServices.get(a.ILanguageService),ye=o.StandaloneServices.get(h.IStandaloneThemeService);return ye.registerEditorContainer(he),s.Colorizer.colorizeElement(ye,Se,he,me)}e.colorizeElement=oe;function G(he,me,Se){const ye=o.StandaloneServices.get(a.ILanguageService);return o.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorize(ye,he,me,Se)}e.colorize=G;function Z(he,me,Se=4){return o.StandaloneServices.get(h.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(he,me,Se)}e.colorizeModelLine=Z;function U(he){const me=i.TokenizationRegistry.get(he);return me||{getInitialState:()=>n.NullState,tokenize:(Se,ye,ke)=>(0,n.nullTokenize)(he,ke)}}function j(he,me){i.TokenizationRegistry.getOrCreate(me);const Se=U(me),ye=(0,N.splitLines)(he),ke=[];let Te=Se.getInitialState();for(let Pe=0,Ie=ye.length;Pe<Ie;Pe++){const ve=ye[Pe],ge=Se.tokenize(ve,!0,Te);ke[Pe]=ge.tokens,Te=ge.endState}return ke}e.tokenize=j;function H(he,me){o.StandaloneServices.get(h.IStandaloneThemeService).defineTheme(he,me)}e.defineTheme=H;function _(he){o.StandaloneServices.get(h.IStandaloneThemeService).setTheme(he)}e.setTheme=_;function ce(){E.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=ce;function ue(he,me){return f.CommandsRegistry.registerCommand({id:he,handler:me})}e.registerCommand=ue;function se(){return{create:M,getEditors:P,getDiffEditors:A,onDidCreateEditor:B,onDidCreateDiffEditor:z,createDiffEditor:T,createDiffNavigator:O,addCommand:F,addEditorAction:W,addKeybindingRule:V,addKeybindingRules:R,createModel:$,setModelLanguage:X,setModelMarkers:ne,getModelMarkers:ie,removeAllMarkers:ae,onDidChangeMarkers:le,getModels:x,getModel:J,onDidCreateModel:q,onWillDisposeModel:Y,onDidChangeModelLanguage:Q,createWebWorker:re,colorizeElement:oe,colorize:G,colorizeModelLine:Z,tokenize:j,defineTheme:H,setTheme:_,remeasureFonts:ce,registerCommand:ue,AccessibilitySupport:u.AccessibilitySupport,ContentWidgetPositionPreference:u.ContentWidgetPositionPreference,CursorChangeReason:u.CursorChangeReason,DefaultEndOfLine:u.DefaultEndOfLine,EditorAutoIndentStrategy:u.EditorAutoIndentStrategy,EditorOption:u.EditorOption,EndOfLinePreference:u.EndOfLinePreference,EndOfLineSequence:u.EndOfLineSequence,MinimapPosition:u.MinimapPosition,MouseTargetType:u.MouseTargetType,OverlayWidgetPositionPreference:u.OverlayWidgetPositionPreference,OverviewRulerLane:u.OverviewRulerLane,RenderLineNumbersType:u.RenderLineNumbersType,RenderMinimap:u.RenderMinimap,ScrollbarVisibility:u.ScrollbarVisibility,ScrollType:u.ScrollType,TextEditorCursorBlinkingStyle:u.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:u.TextEditorCursorStyle,TrackedRangeStickiness:u.TrackedRangeStickiness,WrappingIndent:u.WrappingIndent,InjectedTextCursorStops:u.InjectedTextCursorStops,PositionAffinity:u.PositionAffinity,ConfigurationChangedEvent:v.ConfigurationChangedEvent,BareFontInfo:C.BareFontInfo,FontInfo:C.FontInfo,TextModelResolvedOptions:g.TextModelResolvedOptions,FindMatch:g.FindMatch,ApplyUpdateResult:v.ApplyUpdateResult,LineRange:I.LineRange,LineRangeMapping:I.LineRangeMapping,RangeMapping:I.RangeMapping,EditorType:d.EditorType,EditorOptions:v.EditorOptions}}e.createMonacoEditorAPI=se}),define(ee[847],te([1,0,36,3,26,34,70,40,165,233,499,298,119,89,19,32]),function(K,e,w,N,E,D,y,v,C,d,g,i,t,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function c(j){y.ModesRegistry.registerLanguage(j)}e.register=c;function u(){let j=[];return j=j.concat(y.ModesRegistry.getLanguages()),j}e.getLanguages=u;function s(j){return d.StandaloneServices.get(v.ILanguageService).languageIdCodec.encodeLanguageId(j)}e.getEncodedLanguageId=s;function l(j,H){const ce=d.StandaloneServices.get(v.ILanguageService).onDidEncounterLanguage(ue=>{ue===j&&(ce.dispose(),H())});return ce}e.onLanguage=l;function o(j,H){if(!d.StandaloneServices.get(v.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set configuration for unknown language ${j}`);return d.StandaloneServices.get(D.ILanguageConfigurationService).register(j,H,100)}e.setLanguageConfiguration=o;class h{constructor(H,_){this.a=H,this.b=_}getInitialState(){return this.b.getInitialState()}tokenize(H,_,ce){if(typeof this.b.tokenize=="function")return f.adaptTokenize(this.a,this.b,H,ce);throw new Error("Not supported!")}tokenizeEncoded(H,_,ce){const ue=this.b.tokenizeEncoded(H,ce);return new E.EncodedTokenizationResult(ue.tokens,ue.endState)}}e.EncodedTokenizationSupportAdapter=h;class f{constructor(H,_,ce,ue){this.a=H,this.b=_,this.c=ce,this.d=ue}getInitialState(){return this.b.getInitialState()}static e(H,_){const ce=[];let ue=0;for(let se=0,he=H.length;se<he;se++){const me=H[se];let Se=me.startIndex;se===0?Se=0:Se<ue&&(Se=ue),ce[se]=new E.Token(Se,me.scopes,_),ue=Se}return ce}static adaptTokenize(H,_,ce,ue){const se=_.tokenize(ce,ue),he=f.e(se.tokens,H);let me;return se.endState.equals(ue)?me=ue:me=se.endState,new E.TokenizationResult(he,me)}tokenize(H,_,ce){return f.adaptTokenize(this.a,this.b,H,ce)}f(H,_){const ce=H.encodeLanguageId(this.a),ue=this.d.getColorTheme().tokenTheme,se=[];let he=0,me=0;for(let ye=0,ke=_.length;ye<ke;ye++){const Te=_[ye],Pe=ue.match(ce,Te.scopes);if(he>0&&se[he-1]===Pe)continue;let Ie=Te.startIndex;ye===0?Ie=0:Ie<me&&(Ie=me),se[he++]=Ie,se[he++]=Pe,me=Ie}const Se=new Uint32Array(he);for(let ye=0;ye<he;ye++)Se[ye]=se[ye];return Se}tokenizeEncoded(H,_,ce){const ue=this.b.tokenize(H,ce),se=this.f(this.c.languageIdCodec,ue.tokens);let he;return ue.endState.equals(ce)?he=ce:he=ue.endState,new E.EncodedTokenizationResult(se,he)}}e.TokenizationSupportAdapter=f;function S(j){return typeof j.getInitialState=="function"}function p(j){return"tokenizeEncoded"in j}function m(j){return j&&typeof j.then=="function"}function b(j){const H=d.StandaloneServices.get(t.IStandaloneThemeService);if(j){const _=[null];for(let ce=1,ue=j.length;ce<ue;ce++)_[ce]=w.Color.fromHex(j[ce]);H.setColorMapOverride(_)}else H.setColorMapOverride(null)}e.setColorMap=b;function L(j,H){return p(H)?new h(j,H):new f(j,H,d.StandaloneServices.get(v.ILanguageService),d.StandaloneServices.get(t.IStandaloneThemeService))}function k(j,H){const _={createTokenizationSupport:()=>Le(this,void 0,void 0,function*(){const ce=yield Promise.resolve(H.create());return ce?S(ce)?L(j,ce):new i.MonarchTokenizer(d.StandaloneServices.get(v.ILanguageService),d.StandaloneServices.get(t.IStandaloneThemeService),j,(0,g.compile)(j,ce),d.StandaloneServices.get(r.IConfigurationService)):null})};return E.TokenizationRegistry.registerFactory(j,_)}e.registerTokensProviderFactory=k;function I(j,H){if(!d.StandaloneServices.get(v.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set tokens provider for unknown language ${j}`);return m(H)?k(j,{create:()=>H}):E.TokenizationRegistry.register(j,L(j,H))}e.setTokensProvider=I;function M(j,H){const _=ce=>new i.MonarchTokenizer(d.StandaloneServices.get(v.ILanguageService),d.StandaloneServices.get(t.IStandaloneThemeService),j,(0,g.compile)(j,ce),d.StandaloneServices.get(r.IConfigurationService));return m(H)?k(j,{create:()=>H}):E.TokenizationRegistry.register(j,_(H))}e.setMonarchTokensProvider=M;function B(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).referenceProvider.register(j,H)}e.registerReferenceProvider=B;function z(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).renameProvider.register(j,H)}e.registerRenameProvider=z;function P(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).signatureHelpProvider.register(j,H)}e.registerSignatureHelpProvider=P;function A(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).hoverProvider.register(j,{provideHover:(ce,ue,se)=>{const he=ce.getWordAtPosition(ue);return Promise.resolve(H.provideHover(ce,ue,se)).then(me=>{if(!!me)return!me.range&&he&&(me.range=new N.Range(ue.lineNumber,he.startColumn,ue.lineNumber,he.endColumn)),me.range||(me.range=new N.Range(ue.lineNumber,ue.column,ue.lineNumber,ue.column)),me})}})}e.registerHoverProvider=A;function T(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentSymbolProvider.register(j,H)}e.registerDocumentSymbolProvider=T;function O(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentHighlightProvider.register(j,H)}e.registerDocumentHighlightProvider=O;function F(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).linkedEditingRangeProvider.register(j,H)}e.registerLinkedEditingRangeProvider=F;function W(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).definitionProvider.register(j,H)}e.registerDefinitionProvider=W;function V(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).implementationProvider.register(j,H)}e.registerImplementationProvider=V;function R(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).typeDefinitionProvider.register(j,H)}e.registerTypeDefinitionProvider=R;function $(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).codeLensProvider.register(j,H)}e.registerCodeLensProvider=$;function X(j,H,_){return d.StandaloneServices.get(a.ILanguageFeaturesService).codeActionProvider.register(j,{providedCodeActionKinds:_?.providedCodeActionKinds,documentation:_?.documentation,provideCodeActions:(ue,se,he,me)=>{const ye=d.StandaloneServices.get(n.IMarkerService).read({resource:ue.uri}).filter(ke=>N.Range.areIntersectingOrTouching(ke,se));return H.provideCodeActions(ue,se,{markers:ye,only:he.only,trigger:he.trigger},me)},resolveCodeAction:H.resolveCodeAction})}e.registerCodeActionProvider=X;function ne(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentFormattingEditProvider.register(j,H)}e.registerDocumentFormattingEditProvider=ne;function ae(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(j,H)}e.registerDocumentRangeFormattingEditProvider=ae;function ie(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).onTypeFormattingEditProvider.register(j,H)}e.registerOnTypeFormattingEditProvider=ie;function le(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).linkProvider.register(j,H)}e.registerLinkProvider=le;function J(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).completionProvider.register(j,H)}e.registerCompletionItemProvider=J;function x(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).colorProvider.register(j,H)}e.registerColorProvider=x;function q(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).foldingRangeProvider.register(j,H)}e.registerFoldingRangeProvider=q;function Y(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).declarationProvider.register(j,H)}e.registerDeclarationProvider=Y;function Q(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).selectionRangeProvider.register(j,H)}e.registerSelectionRangeProvider=Q;function re(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentSemanticTokensProvider.register(j,H)}e.registerDocumentSemanticTokensProvider=re;function oe(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(j,H)}e.registerDocumentRangeSemanticTokensProvider=oe;function G(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).inlineCompletionsProvider.register(j,H)}e.registerInlineCompletionsProvider=G;function Z(j,H){return d.StandaloneServices.get(a.ILanguageFeaturesService).inlayHintsProvider.register(j,H)}e.registerInlayHintsProvider=Z;function U(){return{register:c,getLanguages:u,onLanguage:l,getEncodedLanguageId:s,setLanguageConfiguration:o,setColorMap:b,registerTokensProviderFactory:k,setTokensProvider:I,setMonarchTokensProvider:M,registerReferenceProvider:B,registerRenameProvider:z,registerCompletionItemProvider:J,registerSignatureHelpProvider:P,registerHoverProvider:A,registerDocumentSymbolProvider:T,registerDocumentHighlightProvider:O,registerLinkedEditingRangeProvider:F,registerDefinitionProvider:W,registerImplementationProvider:V,registerTypeDefinitionProvider:R,registerCodeLensProvider:$,registerCodeActionProvider:X,registerDocumentFormattingEditProvider:ne,registerDocumentRangeFormattingEditProvider:ae,registerOnTypeFormattingEditProvider:ie,registerLinkProvider:le,registerColorProvider:x,registerFoldingRangeProvider:q,registerDeclarationProvider:Y,registerSelectionRangeProvider:Q,registerDocumentSemanticTokensProvider:re,registerDocumentRangeSemanticTokensProvider:oe,registerInlineCompletionsProvider:G,registerInlayHintsProvider:Z,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlayHintKind:C.InlayHintKind,InlineCompletionTriggerKind:C.InlineCompletionTriggerKind,CodeActionTriggerType:C.CodeActionTriggerType,FoldingRangeKind:E.FoldingRangeKind}}e.createMonacoLanguagesAPI=U}),define(ee[848],te([1,0,39,287,846,847,16,309]),function(K,e,w,N,E,D,y,v){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,w.EditorOptions.wrappingIndent.defaultValue=0,w.EditorOptions.glyphMargin.defaultValue=!1,w.EditorOptions.autoIndent.defaultValue=3,w.EditorOptions.overviewRulerLanes.defaultValue=2,v.FormattingConflicts.setFormatterSelector((g,i,t)=>Promise.resolve(g[0]));const d=(0,N.createMonacoBaseAPI)();d.editor=(0,E.createMonacoEditorAPI)(),d.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=d.CancellationTokenSource,e.Emitter=d.Emitter,e.KeyCode=d.KeyCode,e.KeyMod=d.KeyMod,e.Position=d.Position,e.Range=d.Range,e.Selection=d.Selection,e.SelectionDirection=d.SelectionDirection,e.MarkerSeverity=d.MarkerSeverity,e.MarkerTag=d.MarkerTag,e.Uri=d.Uri,e.Token=d.Token,e.editor=d.editor,e.languages=d.languages,(((C=y.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=d),typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var si=this&&this.__createBinding||(Object.create?function(K,e,w,N){N===void 0&&(N=w);var E=Object.getOwnPropertyDescriptor(e,w);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty(K,N,E)}:function(K,e,w,N){N===void 0&&(N=w),K[N]=e[w]}),ri=this&&this.__exportStar||function(K,e){for(var w in K)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&si(e,K,w)};define(ee[850],te([1,0,848,844,754,755,756,721,795,796,760,834,798]),function(K,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ri(w,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var f=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(f()));var v={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,v[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;v[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguage(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.35.0(71ac097e6155a405f6be52b0b368a04508c31e31)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var m=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of H(e))!F.call(n,r)&&r!==t&&m(n,r,{get:()=>e[r],enumerable:!(i=M(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?m(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(m({},"__esModule",{value:!0}),n);var I=w((q,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var j={};A(j,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var L="4.5.5";var l={};D(l,C(I()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),d=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},_=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new d({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new d({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(j);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map