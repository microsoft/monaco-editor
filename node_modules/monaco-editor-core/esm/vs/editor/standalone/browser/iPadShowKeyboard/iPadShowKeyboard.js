import"./iPadShowKeyboard.css";import*as dom from"../../../../base/browser/dom.js";import{Disposable}from"../../../../base/common/lifecycle.js";import{registerEditorContribution}from"../../../browser/editorExtensions.js";import{isIOS}from"../../../../base/common/platform.js";class IPadShowKeyboard extends Disposable{constructor(e){super(),this.editor=e,this.widget=null,isIOS&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(86);!this.widget&&e?this.widget=new ShowKeyboardWidget(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}IPadShowKeyboard.ID="editor.contrib.iPadShowKeyboard";export{IPadShowKeyboard};class ShowKeyboardWidget extends Disposable{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(dom.addDisposableListener(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(dom.addDisposableListener(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return ShowKeyboardWidget.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}ShowKeyboardWidget.ID="editor.contrib.ShowKeyboardWidget",registerEditorContribution(IPadShowKeyboard.ID,IPadShowKeyboard,3);